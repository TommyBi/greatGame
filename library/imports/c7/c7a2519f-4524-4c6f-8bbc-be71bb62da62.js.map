{"version":3,"sources":["assets/src/framework/loader/GroupLoader.ts"],"names":[],"mappings":";;;;;;AAAA,yCAAuD;AACvD,0DAAqD;AAGrD;IAAA;QACY,aAAQ,GAAoB,EAAE,CAAC,CAAA,MAAM;IA6BjD,CAAC;IA3BG,8BAAQ,GAAR,UAAS,GAAwB,EAAC,OAAe;QAC7C,IAAI,CAAC,CAAC,GAAG,EAAE;YACP,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YAChC,IAAI,QAAQ,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC1C,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;YACrB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;gBAC7C,IAAM,OAAO,GAAiB,GAAG,CAAC,KAAK,CAAC,CAAC;gBACzC,uBAAa,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAC,OAAO,CAAC,IAAI,EAAC,QAAQ,EAAC,OAAO,CAAC,UAAU,CAAC,CAAC;aACpF;SACJ;aAAM;YACH,EAAE,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;SACpC;IACL,CAAC;IAED,mCAAa,GAAb;QACI,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YACvD,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACrC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;gBACnB,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACxB,OAAO,OAAO,CAAC;aAClB;SACJ;QACD,IAAI,IAAI,GAAG,IAAI,mBAAS,EAAE,CAAC;QAC3B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,kBAAC;AAAD,CA9BA,AA8BC,IAAA","file":"","sourceRoot":"/","sourcesContent":["import GroupData, { GroupFileData } from \"./GroupData\";\r\nimport LoaderManager from \"../manager/LoaderManager\";\r\nimport Handler from \"../base/Handler\";\r\n\r\nexport default class GroupLoader  {\r\n    private groupArr:Array<GroupData> = [];//组的队列\r\n    \r\n    addGroup(arr:Array<GroupFileData>,handler:Handler){\r\n        if (!!arr) {\r\n            let data = this._getGroupData();\r\n            let ghandler = data.getCompletetHandler();\r\n            data.resources = arr;\r\n            data.handler = handler;\r\n            for (let index = 0; index < arr.length; index++) {\r\n                const element:GroupFileData = arr[index];\r\n                LoaderManager.loadRes(element.fileName,element.type,ghandler,element.moduleName);\r\n            }\r\n        } else {\r\n            cc.error('add group data error');\r\n        }\r\n    }\r\n\r\n    _getGroupData(){\r\n        for (let index = 0; index < this.groupArr.length; index++) {\r\n            const element = this.groupArr[index];\r\n            if (!element.isActive) {\r\n                element.isActive = true;\r\n                return element;\r\n            }\r\n        }\r\n        let data = new GroupData();\r\n        this.groupArr.push(data);\r\n        return data;\r\n    }\r\n}\r\n\r\n"]}