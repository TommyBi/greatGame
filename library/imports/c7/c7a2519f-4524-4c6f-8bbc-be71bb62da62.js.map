{"version":3,"sources":["assets/src/framework/loader/GroupLoader.ts"],"names":[],"mappings":";;;;;;AAAA,yCAAuD;AACvD,0DAAqD;AAGrD;IAAA;QACY,aAAQ,GAAoB,EAAE,CAAC,CAAA,MAAM;IA6BjD,CAAC;IA3BG,8BAAQ,GAAR,UAAS,GAAwB,EAAC,OAAe;QAC7C,IAAI,CAAC,CAAC,GAAG,EAAE;YACP,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YAChC,IAAI,QAAQ,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC1C,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;YACrB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;gBAC7C,IAAM,OAAO,GAAiB,GAAG,CAAC,KAAK,CAAC,CAAC;gBACzC,uBAAa,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAC,OAAO,CAAC,IAAI,EAAC,QAAQ,EAAC,OAAO,CAAC,UAAU,CAAC,CAAC;aACpF;SACJ;aAAM;YACH,EAAE,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;SACpC;IACL,CAAC;IAED,mCAAa,GAAb;QACI,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YACvD,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACrC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;gBACnB,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACxB,OAAO,OAAO,CAAC;aAClB;SACJ;QACD,IAAI,IAAI,GAAG,IAAI,mBAAS,EAAE,CAAC;QAC3B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,kBAAC;AAAD,CA9BA,AA8BC,IAAA","file":"","sourceRoot":"/","sourcesContent":["import GroupData, { GroupFileData } from \"./GroupData\";\nimport LoaderManager from \"../manager/LoaderManager\";\nimport Handler from \"../base/Handler\";\n\nexport default class GroupLoader  {\n    private groupArr:Array<GroupData> = [];//组的队列\n    \n    addGroup(arr:Array<GroupFileData>,handler:Handler){\n        if (!!arr) {\n            let data = this._getGroupData();\n            let ghandler = data.getCompletetHandler();\n            data.resources = arr;\n            data.handler = handler;\n            for (let index = 0; index < arr.length; index++) {\n                const element:GroupFileData = arr[index];\n                LoaderManager.loadRes(element.fileName,element.type,ghandler,element.moduleName);\n            }\n        } else {\n            cc.error('add group data error');\n        }\n    }\n\n    _getGroupData(){\n        for (let index = 0; index < this.groupArr.length; index++) {\n            const element = this.groupArr[index];\n            if (!element.isActive) {\n                element.isActive = true;\n                return element;\n            }\n        }\n        let data = new GroupData();\n        this.groupArr.push(data);\n        return data;\n    }\n}\n\n"]}