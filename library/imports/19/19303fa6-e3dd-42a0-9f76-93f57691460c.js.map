{"version":3,"sources":["assets/src/game/view/task/AItemRenerer.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAC5C;;;MAGM;AAEN;IAA8C,iCAAY;IAA1D;QAAA,qEA2DC;QAzDG,aAAO,GAAY,KAAK,CAAC;;IAyD7B,CAAC;IAnDG,sBAAW,gCAAK;aAAhB;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aACD,UAAiB,CAAM;YACnB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QACpB,CAAC;;;OAHA;IAKD,sBAAW,+BAAI;aAAf;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;aACD,UAAgB,CAAM;YAClB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;YACf,IAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC;;;OAJA;IAMD,gBAAgB;IACN,mCAAW,GAArB,cAAgC,CAAC;IAEjC,UAAU;IACH,mCAAW,GAAlB;QACI,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,QAAQ;IACD,iCAAS,GAAhB;QACI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACtB,CAAC;IAED;;;;OAIG;IACI,wCAAgB,GAAvB,UAAwB,EAAa,EAAE,GAAS;QAC5C,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAClB,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;gBACzD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;aAC1E;YACD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;SACzE;IACL,CAAC;IAED;;;OAGG;IACO,uCAAe,GAAzB,UAA0B,CAAW;QACjC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IAChE,CAAC;IAxDD;QADC,QAAQ,CAAC,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC;kDACb;IAFR,aAAa;QADjC,OAAO;OACa,aAAa,CA2DjC;IAAD,oBAAC;CA3DD,AA2DC,CA3D6C,EAAE,CAAC,SAAS,GA2DzD;kBA3DoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\r\n/**\r\n * 单项渲染基类 T数据结构\r\n * @author slf\r\n *  */\r\n@ccclass\r\nexport default class AItemRenderer<T> extends cc.Component {\r\n    @property({ displayName: \"是否添加点击事件\" })\r\n    isClick: boolean = false;\r\n\r\n    protected callback: Function;       //回调函数\r\n    protected cbThis: any;              //回调作用域\r\n\r\n    private _index: any;//数据结构\r\n    public get index(): any {\r\n        return this._index;\r\n    }\r\n    public set index(v: any) {\r\n        this._index = v;\r\n    }\r\n    private _data: any;//数据结构\r\n    public get data(): any {\r\n        return this._data;\r\n    }\r\n    public set data(v: any) {\r\n        this._data = v;\r\n        this.dataChanged();\r\n    }\r\n\r\n    /**数据发生变化 子类重写*/\r\n    protected dataChanged(): void { }\r\n\r\n    /**刷新数据 */\r\n    public refreshData(): void {\r\n        this.dataChanged();\r\n    }\r\n\r\n    /**销毁 */\r\n    public onDestroy(): void {\r\n        this._data = null;\r\n    }\r\n\r\n    /**\r\n     * 设置点击回调\r\n     * @param cb 回调函数\r\n     * @param cbT 回调作用域\r\n     */\r\n    public setTouchCallback(cb?: Function, cbT?: any): void {\r\n        this.callback = cb;\r\n        this.cbThis = cbT;\r\n        if (this.node) {\r\n            if (this.node.hasEventListener(cc.Node.EventType.TOUCH_END)) {\r\n                this.node.off(cc.Node.EventType.TOUCH_END, this.onClickCallback, this);\r\n            }\r\n            this.node.on(cc.Node.EventType.TOUCH_END, this.onClickCallback, this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 预制体点击回调 会携带data\r\n     * @param e \r\n     */\r\n    protected onClickCallback(e: cc.Event): void {\r\n        this.callback && this.callback.call(this.cbThis, this.data);\r\n    }\r\n}\r\n"]}