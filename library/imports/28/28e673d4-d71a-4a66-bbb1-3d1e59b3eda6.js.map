{"version":3,"sources":["assets/src/game/view/popView/PopView1.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport SDKManager from \"../../../framework/manager/SDKManager\";\r\nimport EventDispath from \"../../../framework/message/EventDispath\";\r\nimport { EventType } from \"../../../framework/message/EventType\";\r\nimport BasePanel from \"../../../framework/ui/BasePanel\";\r\nimport Global from \"../../consts/Global\";\r\nimport PlayerModel from \"../../datas/PlayerModel\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\nexport enum PopType {\r\n    FIELD,\r\n    SHELVE,\r\n    GOLD1,\r\n    UNLOCK_ORDER,\r\n    REFRESH_ORDER,\r\n    GOLD2,\r\n}\r\n\r\n@ccclass\r\nexport default class PopView1 extends BasePanel {\r\n    @property(cc.Node)\r\n    gp0: cc.Node = null;\r\n    @property(cc.Label)\r\n    numLb: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    titleLb: cc.Label = null;\r\n    @property(cc.Label)\r\n    btnLb: cc.Label = null;\r\n    @property(cc.Label)\r\n    descLb: cc.Label = null;\r\n    @property(cc.Node)\r\n    btnClose: cc.Node = null;\r\n    @property(cc.Node)\r\n    btnOk: cc.Node = null;\r\n    @property(cc.Sprite)\r\n    icon: cc.Sprite = null;\r\n    @property([cc.SpriteFrame])\r\n    iconList: cc.SpriteFrame[] = [];\r\n\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    mType = 0;//面板类型，0解锁地块\r\n\r\n    onLoad() {\r\n\r\n    }\r\n\r\n    protected onEnable(): void {\r\n        // 关闭面板\r\n        EventDispath.on(this.btnClose, this.onCloseHandle, this);\r\n        EventDispath.on(this.btnOk, this.onClickHandle, this);\r\n    }\r\n\r\n    startShow(): void {\r\n\r\n        this.gp0.active = false;\r\n        this.descLb.node.active = true;\r\n\r\n        this.mType = this.inData[0];\r\n        if (this.mType == PopType.FIELD) {\r\n            this.btnLb.string = \"立即扩建\";\r\n            this.descLb.string = \"扩建土地后，种植效率更高哦\";\r\n            this.icon.spriteFrame = this.iconList[PopType.FIELD];\r\n            this.titleLb.string = \"扩建土地\"\r\n        } else if (this.mType == PopType.SHELVE) {\r\n            this.btnLb.string = \"立即扩建\";\r\n            this.descLb.string = \"扩建货架后，往来顾客更多哦\";\r\n            this.titleLb.string = \"扩建货架\"\r\n            this.icon.spriteFrame = this.iconList[PopType.SHELVE];\r\n        } else if (this.mType == PopType.GOLD1 || this.mType == PopType.GOLD2) {\r\n            this.gp0.active = true;\r\n            this.descLb.node.active = false;\r\n            if (this.mType == PopType.GOLD1) this.titleLb.string = \"领取钞票\"\r\n            else this.titleLb.string = \"钞票不足\"\r\n            this.btnLb.string = \"立即领取\";\r\n            this.numLb.string = this.inData[1];\r\n            this.icon.spriteFrame = this.iconList[PopType.GOLD1];\r\n            EventDispath.addEventListener(EventType.VIDEO_BACK, this.onVideoBack, this);\r\n        } else if (this.mType == PopType.UNLOCK_ORDER) {\r\n            this.btnLb.string = \"立即解锁\";\r\n            this.descLb.string = \"看精彩视频 \\n 免费解锁新订单\";\r\n            this.titleLb.string = \"解锁订单\"\r\n            this.icon.spriteFrame = this.iconList[PopType.UNLOCK_ORDER];\r\n        } else if (this.mType == PopType.REFRESH_ORDER) {\r\n            this.btnLb.string = \"立即刷新\";\r\n            this.descLb.string = \"立即刷新订单中心的所有订单 \\n可能刷出更优质的订单哦\";\r\n            this.titleLb.string = \"刷新订单\"\r\n            this.icon.spriteFrame = this.iconList[PopType.UNLOCK_ORDER];\r\n        }\r\n    }\r\n    onClickHandle() {\r\n        switch (this.mType) {\r\n            case PopType.FIELD:\r\n                SDKManager.showAd(Global.VIDEO_CONFIG.video8);\r\n                this.onVideoClose();\r\n                break;\r\n            case PopType.SHELVE:\r\n                SDKManager.showAd(Global.VIDEO_CONFIG.video9);\r\n                this.onVideoClose();\r\n                break;\r\n            case PopType.GOLD1:\r\n            case PopType.GOLD2:\r\n                SDKManager.showAd(Global.VIDEO_CONFIG.video2);\r\n                break;\r\n            case PopType.UNLOCK_ORDER:\r\n                SDKManager.showAd(Global.VIDEO_CONFIG.video3);\r\n                this.onVideoClose();\r\n                break;\r\n            case PopType.REFRESH_ORDER:\r\n                SDKManager.showAd(Global.VIDEO_CONFIG.video4);\r\n                this.onVideoClose();\r\n                break;\r\n        }\r\n    }\r\n    onVideoBack() {\r\n        PlayerModel.setGold(this.inData[1]);\r\n        this.onCloseHandle();\r\n    }\r\n    onVideoClose() {\r\n        super.close1();\r\n    }\r\n\r\n    onCloseHandle() {\r\n        super.close();\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}