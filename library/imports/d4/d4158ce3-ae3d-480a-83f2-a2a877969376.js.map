{"version":3,"sources":["assets/src/game/view/hbPop/HardView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport SDKManager from \"../../../framework/manager/SDKManager\";\r\nimport { UIEffectType } from \"../../../framework/manager/UIEffectManager\";\r\nimport UIMananger from \"../../../framework/manager/UIMananger\";\r\nimport EventDispath from \"../../../framework/message/EventDispath\";\r\nimport { EventType } from \"../../../framework/message/EventType\";\r\nimport BasePanel from \"../../../framework/ui/BasePanel\";\r\nimport UIType from \"../../consts/UIType\";\r\nimport PlayerModel from \"../../datas/PlayerModel\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n/**\r\n * 辛苦红包，回馈红包\r\n * TODO:\r\n */\r\n@ccclass\r\nexport default class HardView extends BasePanel {\r\n    @property(cc.Node)\r\n    xkTitle: cc.Node = null;\r\n    @property(cc.Node)\r\n    hkTitle: cc.Node = null;\r\n    @property(cc.Node)\r\n    btn_open: cc.Node = null;\r\n    @property(cc.Node)\r\n    btn_noOpen: cc.Node = null;\r\n    @property(cc.Node)\r\n    btn_giveUp: cc.Node = null;\r\n    @property(cc.Node)\r\n    descLb1: cc.Node = null;\r\n    @property(cc.Node)\r\n    descLb2: cc.Node = null;\r\n\r\n    mData;\r\n    mType = 0;\r\n    getType = 0;\r\n    onEnable(): void {\r\n\r\n        EventDispath.on(this.btn_giveUp, this.onGiveUp, this);\r\n        EventDispath.on(this.btn_open, this.onOpen, this);\r\n        EventDispath.on(this.btn_noOpen, this.onNoOpen, this);\r\n\r\n        EventDispath.addEventListener(EventType.SDK_REWARD_CONFIG, this.onRewardCfg, this);\r\n\r\n        EventDispath.addEventListener(EventType.SDK_REWARD_GOT, this.onRewardGot, this);\r\n        EventDispath.addEventListener(EventType.SDK_REWARD_LOST, this.onRewardLost, this);\r\n        if (this.mType == 0) {\r\n            SDKManager.getHardConfig();\r\n        } else {\r\n            SDKManager.getFeedbackConfig();\r\n        }\r\n        this.initUI();\r\n    }\r\n\r\n    startShow() {\r\n        this.mType = this.inData[0];\r\n\r\n    }\r\n\r\n    initUI() {\r\n        if (this.mType == 0) {\r\n            this.xkTitle.active = true;\r\n            this.btn_giveUp.active = true;\r\n            this.descLb1.active = true;\r\n        } else {\r\n            this.hkTitle.active = true;\r\n            this.btn_noOpen.active = true;\r\n            this.descLb2.active = true;\r\n        }\r\n    }\r\n    onRewardCfg(data) {\r\n        this.mData = data;\r\n    }\r\n    onRewardLost() {\r\n        this.onBtnCloseHandle();\r\n    }\r\n    onRewardGot(data) {\r\n        if( this.getType){\r\n            PlayerModel.setMoney(data.userRedBean, data.redBean);\r\n        }else{\r\n            UIMananger.showPanel(UIType.hardOpenView, null, null, UIEffectType.SCALE, data)\r\n        }\r\n        this.onBtnCloseHandle();\r\n    }\r\n    onGiveUp() {\r\n        this.onBtnCloseHandle();\r\n    }\r\n    //不开了，只领一点\r\n    onNoOpen() {\r\n        this.getType = 1;\r\n        PlayerModel.zdGkNum = 0;\r\n        SDKManager.getRedPackReward(this.mData.configId, false);\r\n        EventDispath.send(EventType.HKHB_UPDATE);\r\n    }\r\n    onOpen() {\r\n        if (this.mType == 0) {\r\n\r\n            SDKManager.getRedPackReward(this.mData.configId);\r\n        } else {\r\n            PlayerModel.zdGkNum = 0;\r\n            EventDispath.send(EventType.HKHB_UPDATE);\r\n            SDKManager.getRedPackReward(this.mData.configId, true);\r\n        }\r\n        // if (this.isFirst) {\r\n        //     // EventDispath.send(EventType.JX_SC, { type: 2, point: this.targetPoint });\r\n        //     PlayerModel.isFirstClearPest = false;\r\n        //     this.onVideoBack();\r\n        //     // this.onBtnCloseHandle();\r\n        // } else {\r\n        //     EventDispath.addEventListener(EventType.VIDEO_BACK, this.onVideoBack, this);\r\n        //     SDKManager.showAd(Global.VIDEO_CONFIG.video13);\r\n        // }\r\n    }\r\n\r\n    onBtnCloseHandle() {\r\n        super.close();\r\n    }\r\n}\r\n"]}