{"version":3,"sources":["assets/src/game/view/main/TopOrderItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { UIEffectType } from \"../../../framework/manager/UIEffectManager\";\r\nimport UIMananger from \"../../../framework/manager/UIMananger\";\r\nimport MKUtils from \"../../../framework/tools/MkUtils\";\r\nimport { order_config } from \"../../consts/CConst\";\r\nimport UIType from \"../../consts/UIType\";\r\nimport { orderCache } from \"../../datas/PlayerData\";\r\nimport PlayerModel from \"../../datas/PlayerModel\";\r\nimport ConfigManager from \"../../manager/ConfigManager\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class TopOrderItem extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    nameLb: cc.Label = null;\r\n    @property(cc.Label)\r\n    numLb: cc.Label = null;\r\n    @property(cc.Sprite)\r\n    icon: cc.Sprite = null;\r\n    @property(cc.Node)\r\n    wc: cc.Node = null;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n    mData;\r\n    start() {\r\n\r\n    }\r\n    setData(data) {\r\n        this.mData = data;\r\n\r\n        this.changeData();\r\n    }\r\n\r\n    changeData() {\r\n        if (this.mData.cropId == 100) {\r\n            this.nameLb.string = \"招待顾客\";\r\n        } else {\r\n            let base = ConfigManager.getCropById(this.mData.cropId);\r\n            this.nameLb.string = base.name;\r\n        }\r\n        if (this.mData.num >= this.mData.target) {\r\n            this.wc.active = true;\r\n            this.numLb.node.active = false;\r\n        } else {\r\n            this.wc.active = false;\r\n            this.numLb.node.active = true;\r\n            this.numLb.string = this.mData.num + \"/\" + this.mData.target;\r\n        }\r\n        MKUtils.loadSpriteFrame(\"texture/crop/icon/\" + `${this.mData.cropId}`, (res) => {\r\n            this.icon.spriteFrame = res;\r\n        });\r\n\r\n    }\r\n    onClick() {\r\n        if (PlayerModel.guideStep >= 0) return;\r\n        if (this.mData.cropId == 100) {\r\n            UIMananger.showPanel(UIType.zhaoDaiView, null, null, UIEffectType.SCALE, this.mData);\r\n\r\n        } else {\r\n            if (PlayerModel.checkCropUnlock(this.mData.cropId)) {\r\n\r\n                UIMananger.showPanel(UIType.getCropView, null, null, UIEffectType.SCALE, this.mData);\r\n            } else {\r\n                UIMananger.showPanel(UIType.VegetablesUnlockView, null, null, UIEffectType.SCALE, this.mData.cropId)\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}