{"version":3,"sources":["assets/src/game/view/order/OrderCurrentItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport SDKManager from \"../../../framework/manager/SDKManager\";\r\nimport { UIEffectType } from \"../../../framework/manager/UIEffectManager\";\r\nimport UIMananger from \"../../../framework/manager/UIMananger\";\r\nimport EventDispath from \"../../../framework/message/EventDispath\";\r\nimport { EventType } from \"../../../framework/message/EventType\";\r\nimport ComponentHelper from \"../../../framework/tools/ComponentHelper\";\r\nimport MKUtils from \"../../../framework/tools/MkUtils\";\r\nimport Global from \"../../consts/Global\";\r\nimport UIType from \"../../consts/UIType\";\r\nimport PlayerModel from \"../../datas/PlayerModel\";\r\nimport ConfigManager from \"../../manager/ConfigManager\";\r\nimport AItemRenderer from \"../task/AItemRenerer\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n@ccclass\r\nexport default class OrderCurrentItem extends AItemRenderer<string> {\r\n\r\n\r\n    @property(cc.Label)\r\n    nameLb: cc.Label = null;\r\n    @property(cc.Label)\r\n    proLb: cc.Label = null;\r\n    @property(cc.Sprite)\r\n    icon: cc.Sprite = null;\r\n    @property(cc.Node)\r\n    ywcTips: cc.Node = null;\r\n    @property(cc.Node)\r\n    btn_go: cc.Node = null;\r\n    @property(cc.ProgressBar)\r\n    pro: cc.ProgressBar = null;\r\n\r\n    // onLoad () {}\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    protected dataChanged(): void {\r\n        // console.log(this.data);\r\n        this.initUI();\r\n    }\r\n    initUI() {\r\n        if (this.data.cropId == 100) {\r\n            this.nameLb.string = \"招待顾客\";\r\n        } else {\r\n            let base = ConfigManager.getCropById(this.data.cropId);\r\n            this.nameLb.string = base.name;\r\n        }\r\n        MKUtils.loadSpriteFrame(\"texture/crop/icon/\" + `${this.data.cropId}`, (res) => {\r\n            this.icon.spriteFrame = res;\r\n        });\r\n        this.pro.progress = this.data.num / this.data.target;\r\n        if (this.data.num >= this.data.target) {\r\n            this.ywcTips.active = true;\r\n            this.proLb.string = this.data.target + \"/\" + this.data.target;\r\n        } else {\r\n            this.proLb.string = this.data.num + \"/\" + this.data.target;\r\n            this.btn_go.active = true;\r\n        }\r\n    }\r\n    onGo() {\r\n        EventDispath.send(EventType.ORDER_CLOSE)\r\n        EventDispath.send(EventType.ORDER_CURRENT_CLOSE)\r\n        if (this.data.cropId == 100) {\r\n            UIMananger.showPanel(UIType.zhaoDaiView, null, null, UIEffectType.SCALE, this.data);\r\n        } else {\r\n            if (PlayerModel.checkCropUnlock(this.data.cropId)) {\r\n\r\n                UIMananger.showPanel(UIType.getCropView, null, null, UIEffectType.SCALE, this.data);\r\n            } else {\r\n                UIMananger.showPanel(UIType.VegetablesUnlockView, null, null, UIEffectType.SCALE, this.data.cropId)\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n"]}