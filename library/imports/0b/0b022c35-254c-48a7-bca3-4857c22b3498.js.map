{"version":3,"sources":["assets/src/game/view/popView/PopGcView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport SDKManager from \"../../../framework/manager/SDKManager\";\r\nimport EventDispath from \"../../../framework/message/EventDispath\";\r\nimport { EventType } from \"../../../framework/message/EventType\";\r\nimport MKUtils from \"../../../framework/tools/MkUtils\";\r\nimport BasePanel from \"../../../framework/ui/BasePanel\";\r\nimport Global from \"../../consts/Global\";\r\nimport ConfigManager from \"../../manager/ConfigManager\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class PopGcView extends BasePanel {\r\n    @property(cc.Sprite)\r\n    gcIcon: cc.Sprite = null;\r\n    @property(cc.Label)\r\n    descLb: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    titleLb: cc.Label = null;\r\n    @property(cc.Node)\r\n    btnClose: cc.Node = null;\r\n    @property(cc.Node)\r\n    btnVideo: cc.Node = null;\r\n    @property(cc.Node)\r\n    btnOk: cc.Node = null;\r\n\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    mId = 0;\r\n\r\n    onLoad() {\r\n\r\n    }\r\n\r\n    protected onEnable(): void {\r\n        // 关闭面板\r\n        EventDispath.on(this.btnClose, this.onCloseHandle, this);\r\n        EventDispath.on(this.btnOk, this.onClickHandle, this);\r\n        EventDispath.on(this.btnVideo, this.onVideo, this);\r\n    }\r\n\r\n    startShow(): void {\r\n        this.mId = this.inData[0];\r\n        let cropCfg = ConfigManager.getCropById(this.mId);\r\n        this.titleLb.string = cropCfg.name + \"高产\";\r\n        this.descLb.string = \"人品大爆发，\" + cropCfg.name + \"产量飙升，可收获\";\r\n        MKUtils.loadSpriteFrame(\"texture/crop/icon/\" + `${this.mId}`, (res) => {\r\n            this.gcIcon.spriteFrame = res;\r\n        });\r\n    }\r\n    onClickHandle() {\r\n        EventDispath.send(EventType.CROP_GC, 1);\r\n        this.onCloseHandle();\r\n    }\r\n    onVideo() {\r\n        EventDispath.addEventListener(EventType.VIDEO_BACK, this.onVideoBack, this);\r\n        SDKManager.showAd(Global.VIDEO_CONFIG.video12);\r\n    }\r\n    onVideoBack() {\r\n        EventDispath.removeByEvent(EventType.VIDEO_BACK, this.onVideoBack, this);\r\n        EventDispath.send(EventType.CROP_GC, 5);\r\n        this.onVideoClose();\r\n    }\r\n    onVideoClose() {\r\n        super.close1();\r\n    }\r\n\r\n    onCloseHandle() {\r\n        super.close();\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}