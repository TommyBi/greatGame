{"version":3,"sources":["assets/src/framework/tools/MkUtils.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["export default class MKUtils {\r\n\r\n    public static isNative() {\r\n        return (cc.sys.isNative) && (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID);\r\n    }\r\n\r\n    public static isIOS() {\r\n        return (cc.sys.isNative) && (cc.sys.os == cc.sys.OS_IOS);\r\n    }\r\n\r\n    public static isWechatGame() {\r\n        return (cc.sys.platform == cc.sys.WECHAT_GAME);\r\n    }\r\n\r\n    public static isAndroid() {\r\n        return (cc.sys.isNative) && (cc.sys.os == cc.sys.OS_ANDROID);\r\n    }\r\n\r\n    public static findNodeByName(root, name) {\r\n        if (root) {\r\n            let widget = root.getChildByName(name);\r\n            if (widget) {\r\n                return widget\r\n            } else {\r\n                let children = root.children\r\n                for (let c of children) {\r\n                    widget = MKUtils.findNodeByName(c, name)\r\n                    if (widget) {\r\n                        return widget\r\n                    }\r\n                }\r\n                return null\r\n            }\r\n        }\r\n        return null\r\n    }\r\n\r\n    //获取屏幕显示区域尺寸\r\n    public static getShowSize() {\r\n        let canvasSize = cc.view.getCanvasSize()\r\n        let winSize = cc.winSize\r\n        let showSize = cc.size(winSize.width, winSize.height)\r\n        let canvasPro = canvasSize.width / canvasSize.height\r\n        let winPro = winSize.width / winSize.height\r\n        if (canvasPro > winPro) {\r\n            showSize.width = winSize.height * canvasPro\r\n        } else {\r\n            showSize.height = winSize.width / canvasPro\r\n        }\r\n        return showSize\r\n    }\r\n\r\n    //获取显示区域和设计尺寸的宽高比例\r\n    public static getShowScale() {\r\n        let showSize = MKUtils.getShowSize()\r\n        let winSize = cc.winSize;\r\n        return cc.v2(showSize.width / winSize.width, showSize.height / winSize.height)\r\n    }\r\n\r\n    public static playScaleAni(parent: cc.Node) {\r\n        //界面layout 尺寸从80%到110%再回到100%\r\n        if (!parent) { return }\r\n        let preScale = parent.scale;\r\n        parent.scale = preScale * 0.3;\r\n        parent.runAction(cc.scaleTo(0.2, preScale * 1).easing(cc.easeBackOut()))\r\n    }\r\n    public static playScaleAni2(parent: cc.Node) {\r\n        //界面layout 尺寸从80%到110%再回到100%\r\n        if (!parent) { return }\r\n        let preScale = parent.scale;\r\n        parent.scale = preScale * 0.3;\r\n        parent.runAction(cc.sequence(\r\n            cc.scaleTo(0.3, preScale * 1.3),\r\n            cc.scaleTo(0.3, preScale * 1).easing(cc.easeBackInOut()),\r\n        ))\r\n    }\r\n\r\n    public static playScaleAniBig(parent: cc.Node) { // 大幅度的缩放\r\n        //界面layout 尺寸从80%到110%再回到100%\r\n        if (!parent) { return }\r\n        let preScale = parent.scale;\r\n        parent.scale = preScale * 0.3;\r\n        let scale1 = cc.scaleTo(0.3, preScale * 1.3)\r\n        let scale2 = cc.scaleTo(0.1, preScale * 1)\r\n        parent.runAction(cc.sequence(scale1, scale2))\r\n    }\r\n\r\n    public static playScaleAniSmallToNormal(parent: cc.Node) { // 大幅度的缩放\r\n        //界面layout 尺寸从80%到110%再回到100%\r\n        if (!parent) { return }\r\n        let preScale = parent.scale;\r\n        parent.scale = 0.1;\r\n        let scale1 = cc.scaleTo(0.3, preScale * 1.1)\r\n        let scale2 = cc.scaleTo(0.2, preScale * 1)\r\n        parent.runAction(cc.sequence(scale1, scale2))\r\n    }\r\n\r\n    public static playBlackBgAct(blackBg: cc.Node, time?: any) {\r\n        if (!blackBg) { return }\r\n        if (time == undefined) {\r\n            time = 0.2\r\n        }\r\n        let preOpacity = blackBg.opacity\r\n        blackBg.opacity = 0\r\n        blackBg.runAction(cc.fadeTo(time, preOpacity))\r\n    }\r\n\r\n    public static playDialogActBig(blackBg: cc.Node, baseNode: cc.Node) {\r\n        MKUtils.playBlackBgAct(blackBg, 0.3)\r\n        MKUtils.playScaleAniBig(baseNode)\r\n    }\r\n\r\n    public static playDialogAct(blackBg: cc.Node, baseNode: cc.Node) {\r\n        MKUtils.playBlackBgAct(blackBg)\r\n        MKUtils.playScaleAni(baseNode)\r\n    }\r\n    public static playDialogAct2(blackBg: cc.Node, baseNode: cc.Node) {\r\n        MKUtils.playBlackBgAct(blackBg)\r\n        MKUtils.playScaleAni2(baseNode)\r\n    }\r\n\r\n    public static btnScaleAct(btn: cc.Node, scale?: any) {\r\n        if (!btn) { return }\r\n        btn.stopAllActions()\r\n        let preScale = scale || btn.scale\r\n        btn.runAction(cc.repeatForever(cc.sequence(\r\n            cc.scaleTo(0.2, 1.13 * preScale),\r\n            cc.scaleTo(0.2, 1 * preScale),\r\n            cc.delayTime(0.6)\r\n        )))\r\n    }\r\n\r\n    public static btnScaleAct1(btn: cc.Node, scale?: any) {\r\n        if (!btn) { return }\r\n        let preScale = scale || btn.scale\r\n        btn.runAction(cc.repeatForever(cc.sequence(\r\n            cc.delayTime(0.5),\r\n            cc.scaleTo(0.18, 1.15 * preScale),\r\n            cc.scaleTo(0.18, preScale),\r\n            cc.scaleTo(0.18, 1.15 * preScale),\r\n            cc.scaleTo(0.18, preScale),\r\n            cc.delayTime(0.5)\r\n        )))\r\n    }\r\n\r\n    //按钮点击缩放，btn为触摸的node，icon为缩放效果node\r\n    public static addTouch(btn: cc.Node, icon?: any, scaleX?: number, scaleY?: number) {\r\n        if (!icon) {\r\n            icon = btn\r\n        }\r\n\r\n        let preScaleX = btn.scaleX\r\n        let preScaleY = btn.scaleY\r\n\r\n        if (scaleX) {\r\n            preScaleX = scaleX;\r\n        }\r\n\r\n        if (scaleY) {\r\n            preScaleY = scaleY;\r\n        }\r\n\r\n        btn.on(cc.Node.EventType.TOUCH_START, function (e) {\r\n            icon.runAction(cc.scaleTo(0.1, preScaleX * 1.1, preScaleY * 1.1))\r\n            // icon.setScale(preScaleX*1.1, preScaleY*1.1)\r\n        }.bind(btn), btn)\r\n\r\n        btn.on(cc.Node.EventType.TOUCH_END, function (e) {\r\n            icon.runAction(cc.scaleTo(0.2, preScaleX, preScaleY))\r\n            // icon.setScale(preScaleX, preScaleY)\r\n        }.bind(btn), btn)\r\n\r\n        btn.on(cc.Node.EventType.TOUCH_CANCEL, function (e) {\r\n            icon.runAction(cc.scaleTo(0.2, preScaleX, preScaleY))\r\n            // icon.setScale(preScaleX, preScaleY)\r\n        }.bind(btn), btn)\r\n    }\r\n\r\n    // 名字最大长度截取\r\n    public static nameMaxCut(input: string, maxLen: number) {\r\n        var output = \"\";\r\n        var strlen = 0;\r\n        for (var i = 0; i < input.length; i++) {\r\n            var ch = input[i];\r\n            if (ch.charCodeAt(0) > 255) //如果是汉字，则字符串长度加2\r\n            {\r\n                strlen += 2;\r\n            }\r\n            else {\r\n                strlen++;\r\n            }\r\n\r\n            if (strlen <= maxLen) {\r\n                output += ch;\r\n            }\r\n        }\r\n\r\n        if (strlen > maxLen) {\r\n            return output += \"...\";\r\n        }\r\n\r\n        return output;\r\n    }\r\n    private static currentTipsList = [];\r\n    public static alertTips(str: string, showTime?: number, closeAct?: boolean, tipType?: number) {\r\n\r\n        let isShow = MKUtils.currentTipsList.filter((value, index) => {\r\n            return value === str;\r\n        })\r\n        if (isShow.length > 0) return;\r\n\r\n        if (!showTime) { showTime = 1.2 }\r\n        let prefabUrl = \"prefab/common/AlertTips\"\r\n        cc.loader.loadRes(prefabUrl, function (errorMessage, loadedResource) {\r\n            MKUtils.currentTipsList.push(str);\r\n            if (errorMessage) { cc.log('载入预制资源失败, 原因:' + errorMessage); return; }\r\n            if (!(loadedResource instanceof cc.Prefab)) { cc.log('你载入的不是预制资源!'); return; }\r\n            var prefab = cc.instantiate(loadedResource)\r\n            prefab.getComponent(\"AlertTips\").setTips(str, tipType)\r\n            cc.director.getScene().addChild(prefab, 9999)\r\n            prefab.setPosition(cc.v2(cc.winSize.width / 2, cc.winSize.height / 2 - 100))\r\n            if (!closeAct) {\r\n                MKUtils.playScaleAni(prefab)\r\n            }\r\n            prefab.runAction(cc.sequence(cc.delayTime(showTime), cc.spawn(cc.moveBy(1, 0, 400), cc.fadeOut(1)), cc.callFunc(function () {\r\n                let str = prefab.getComponent(\"AlertTips\").getTips();\r\n                let idx = -1;\r\n                MKUtils.currentTipsList.filter((value, index) => {\r\n                    if (value === str) idx = index;\r\n                })\r\n                if (idx >= 0) MKUtils.currentTipsList.splice(idx, 1);\r\n\r\n                prefab.removeFromParent()\r\n            })))\r\n        })\r\n    }\r\n\r\n    //获取当前系统时间戳(秒)\r\n    public static getCurOsTime() {\r\n        let curTime = new Date()\r\n        return Math.floor(curTime.getTime() / 1000)\r\n    }\r\n\r\n    public static getCurOsMillisecond() {\r\n        let curTime = new Date()\r\n        return curTime.getTime()\r\n    }\r\n\r\n    //生成n-m随机数  包括n和m\r\n    public static randomNM(n: number, m: number) {\r\n        return n + Math.floor(Math.random() * (m - n + 1))\r\n    }\r\n\r\n    //生成n-m随机数  包括n和m：浮点数\r\n    public static randomNMF(n: number, m: number) {\r\n        return n + Math.random() * (m - n)\r\n    }\r\n\r\n    //适配不同版本\r\n    public static compareVersion(v1, v2) {\r\n        v1 = v1.split('.')\r\n        v2 = v2.split('.')\r\n        const len = Math.max(v1.length, v2.length)\r\n\r\n        while (v1.length < len) {\r\n            v1.push('0')\r\n        }\r\n        while (v2.length < len) {\r\n            v2.push('0')\r\n        }\r\n\r\n        for (let i = 0; i < len; i++) {\r\n            const num1 = parseInt(v1[i])\r\n            const num2 = parseInt(v2[i])\r\n            if (num1 > num2) {\r\n                return 1\r\n            } else if (num1 < num2) {\r\n                return -1\r\n            }\r\n        }\r\n        return 0\r\n    }\r\n\r\n    //显示跑马灯\r\n    public static showBroad(pos?: cc.Vec2, id?: any) {\r\n        let w = MKUtils.getShowSize().width;\r\n        let h = MKUtils.getShowSize().height;\r\n\r\n        let prefabUrl = \"public/prefabs/CommonBroad\";\r\n        cc.loader.loadRes(prefabUrl, function (errorMessage, loadedResource) {\r\n            //检查资源加载\r\n            if (errorMessage) { cc.log('载入预制资源失败, 原因:' + errorMessage); return; }\r\n            if (!(loadedResource instanceof cc.Prefab)) { cc.log('你载入的不是预制资源!'); return; }\r\n            //开始实例化预制资源\r\n            var prefab = cc.instantiate(loadedResource);\r\n            if (pos) {\r\n                prefab.setPosition(pos);\r\n            } else {\r\n                prefab.setPosition(cc.v2(w, h - 40));\r\n            }\r\n            let broadCom = prefab.getComponent(\"CommonBroad\");\r\n            if (broadCom) {\r\n                if (id == 1) {\r\n                    broadCom.showBroad(id);\r\n                } else {\r\n                    broadCom.showBroad();\r\n                }\r\n            }\r\n            cc.director.getScene().addChild(prefab, 999);\r\n        });\r\n    }\r\n\r\n    public static twoPointDistance(pos1, pos2) {       // 从form的表单中分别提取两个点的横、纵坐标\r\n        let x1 = pos1.x;   // 第一个点的横坐标\r\n        let y1 = pos1.y;   // 第一个点的纵坐标\r\n        let x2 = pos2.x;   // 第二个点的横坐标\r\n        let y2 = pos2.y;   // 第二个点的纵坐标\r\n        let xdiff = x2 - x1;            // 计算两个点的横坐标之差\r\n        let ydiff = y2 - y1;            // 计算两个点的纵坐标之差\r\n        return Math.pow((xdiff * xdiff + ydiff * ydiff), 0.5);   // 计算两点之间的距离，并将结果返回表单元素\r\n    }\r\n\r\n    public static loadPrefab(prefabUrl, successCallback?: any, failCallback?: any) {\r\n        let prefab = cc.loader.getRes(prefabUrl, cc.Prefab)\r\n        if (prefab && prefab != null) {\r\n            if (successCallback) {\r\n                successCallback(prefab)\r\n            }\r\n        } else {\r\n            cc.loader.loadRes(prefabUrl, function (errorMessage, downPrefab) {\r\n                if (errorMessage) {\r\n                    cc.log(\"load \" + prefabUrl + \" error : \" + errorMessage);\r\n                    if (failCallback) {\r\n                        failCallback()\r\n                    }\r\n                    return;\r\n                }\r\n                if (successCallback) {\r\n                    successCallback(downPrefab)\r\n                }\r\n            }.bind(this));\r\n        }\r\n    }\r\n    public static loadDir(frameUrl, successCallback?: any, failCallback?: any, type = cc.SpriteFrame) {\r\n        cc.resources.loadDir(frameUrl, type, function (err, assets) {\r\n            // ...\r\n            cc.log(\"===========\", assets);\r\n            // if()\r\n        });\r\n    }\r\n\r\n    public static loadSpriteFrame(frameUrl, successCallback?: any, failCallback?: any) {\r\n        let spriteFrame = cc.loader.getRes(frameUrl, cc.SpriteFrame)\r\n        if (spriteFrame && spriteFrame != null) {\r\n            if (successCallback) {\r\n                successCallback(spriteFrame)\r\n            }\r\n        } else {\r\n            cc.loader.loadRes(frameUrl, cc.SpriteFrame, function (err, downSpriteFrame) {\r\n                if (err) {\r\n                    cc.log(\"load \" + frameUrl + \" error : \" + err);\r\n                    if (failCallback) {\r\n                        failCallback()\r\n                    }\r\n                    return;\r\n                }\r\n                if (successCallback) {\r\n                    successCallback(downSpriteFrame)\r\n                }\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    public static loadSoundEffect(url) {\r\n        let gameloadSound = cc.sys.localStorage.getItem(\"gameloadSound\")\r\n        // if (gameloadSound && gameloadSound == \"1\") {\r\n        //     DataManager.getInstance().setIsPlaySound(false);\r\n        // } else {\r\n        //     DataManager.getInstance().setIsPlaySound(true);\r\n        // }\r\n\r\n        // if (!DataManager.getInstance().getIsPlaySound()) {\r\n        //     return\r\n        // }\r\n\r\n        let audioClip = cc.loader.getRes(url, cc.AudioClip)\r\n        if (audioClip) {\r\n            if (!MKUtils.effectIsOpen()) { return }\r\n            cc.audioEngine.play(audioClip, false, 1)\r\n        } else {\r\n            cc.loader.loadRes(url, function (errorMessage, loadedResource) {\r\n                if (errorMessage) {\r\n                    cc.log('载入预制资源失败, 原因:' + errorMessage);\r\n                    return;\r\n                }\r\n                if (!(loadedResource instanceof cc.AudioClip)) { cc.log('你载入的不是声音资源!'); return; }\r\n                if (!MKUtils.effectIsOpen()) { return }\r\n                cc.audioEngine.play(loadedResource, false, 1)\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    public static loadSoundMusic(url) {\r\n        let gameloadMusic = cc.sys.localStorage.getItem(\"gameloadMusic\")\r\n        // if (gameloadMusic && gameloadMusic == \"1\") {\r\n        //     DataManager.getInstance().setIsPlayMusic(false);\r\n        // } else {\r\n        //     DataManager.getInstance().setIsPlayMusic(true);\r\n        // }\r\n        // if (!DataManager.getInstance().getIsPlayMusic()) {\r\n        //     return\r\n        // }\r\n\r\n        cc.sys.localStorage.setItem(\"MusicPlayUrl\", url)\r\n        let audioClip = cc.loader.getRes(url, cc.AudioClip)\r\n        if (audioClip) {\r\n            if (!MKUtils.musicIsOpen()) { return }\r\n            cc.audioEngine.playMusic(audioClip, true)\r\n        } else {\r\n            cc.loader.loadRes(url, function (errorMessage, loadedResource) {\r\n                if (errorMessage) {\r\n                    cc.log('载入预制资源失败, 原因:' + errorMessage);\r\n                    return;\r\n                }\r\n                if (!(loadedResource instanceof cc.AudioClip)) { cc.log('你载入的不是声音资源!'); return; }\r\n                if (!MKUtils.musicIsOpen()) { return }\r\n                cc.audioEngine.playMusic(loadedResource, true)\r\n                // DataManager.getInstance().isNeverPlayMusic = true\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    public static stopMusic() {\r\n        cc.sys.localStorage.setItem(\"MusicPlayUrl\", \"\")\r\n        cc.audioEngine.stopMusic()\r\n    }\r\n\r\n    public static setEffect(open: boolean) {\r\n        cc.sys.localStorage.setItem(\"EffectSwitch\", (open ? \"1\" : \"0\"))\r\n        if (!open) {\r\n            cc.audioEngine.stopAllEffects()\r\n        }\r\n    }\r\n\r\n    public static effectIsOpen() {\r\n        return cc.sys.localStorage.getItem(\"EffectSwitch\") != \"0\"\r\n    }\r\n\r\n    public static setMusic(open: boolean) {\r\n        if (open == MKUtils.musicIsOpen()) {\r\n            return\r\n        }\r\n        cc.sys.localStorage.setItem(\"MusicSwitch\", (open ? \"1\" : \"0\"))\r\n        if (!open) {\r\n            cc.audioEngine.stopMusic()\r\n        } else {\r\n            let MusicPlayUrl = cc.sys.localStorage.getItem(\"MusicPlayUrl\")\r\n            if (MusicPlayUrl && MusicPlayUrl != \"\") {\r\n                MKUtils.loadSoundMusic(MusicPlayUrl)\r\n            }\r\n        }\r\n    }\r\n\r\n    public static musicIsOpen() {\r\n        return cc.sys.localStorage.getItem(\"MusicSwitch\") != \"0\"\r\n    }\r\n\r\n    public static setSound(open: boolean) {\r\n        MKUtils.setEffect(open)\r\n        MKUtils.setMusic(open)\r\n    }\r\n\r\n    public static preLoadSoundEffect(prefabUrl, successCallback: any, failCallback?: any) {\r\n        cc.loader.loadRes(prefabUrl, function (errorMessage, loadedResource) {\r\n            if (errorMessage) {\r\n                cc.log('载入预制资源失败, 原因:' + errorMessage);\r\n                failCallback();\r\n                return;\r\n            }\r\n            if (!(loadedResource instanceof cc.AudioClip)) { cc.log('你载入的不是声音资源!'); return; }\r\n            successCallback();\r\n        }.bind(this));\r\n    }\r\n\r\n    public static loadSkeletonData(url, successCallback?: any, failCallback?: any) {\r\n        console.log(\"2222222222\", url);\r\n        // let res = null;\r\n        let res = cc.loader.getRes(url, sp.SkeletonData)\r\n        console.log(res, \"xxxxxxx\", url);\r\n        if (res && res != null) {\r\n            if (successCallback) {\r\n                console.log(res, \"aaaaaaaaaaaaaaa\", url);\r\n                successCallback(res)\r\n            }\r\n        } else {\r\n            console.log(\"33333333333333=\", url);\r\n            cc.loader.loadRes(url, sp.SkeletonData, function (errorMessage, res) {\r\n                console.log(\"44444444444444\", res);\r\n                if (errorMessage) {\r\n                    cc.log(\"load \" + url + \" error : \" + errorMessage);\r\n                    if (failCallback) {\r\n                        failCallback()\r\n                    }\r\n                    return;\r\n                }\r\n                if (successCallback) {\r\n                    successCallback(res)\r\n                }\r\n            }.bind(this));\r\n        }\r\n    }\r\n\r\n    //重复利用node\r\n    public static repeatPrefab(prefabUrl, parent, nodeName, successCallback, zIndex?: number) {\r\n        if (zIndex == undefined) { zIndex = 0 }\r\n        let node: cc.Node = MKUtils.findNodeByName(parent, nodeName)\r\n        if (node) {\r\n            node.stopAllActions()\r\n            node.active = true\r\n            node.zIndex = zIndex\r\n            successCallback(node)\r\n        } else {\r\n            MKUtils.loadPrefab(prefabUrl, function (prefab) {\r\n                node = cc.instantiate(prefab)\r\n                parent.addChild(node, zIndex, nodeName)\r\n                successCallback(node)\r\n            })\r\n        }\r\n    }\r\n\r\n    public static repeatSpine(url, parent, nodeName, successCallback, zIndex?: number) {\r\n        if (zIndex == undefined) { zIndex = 0 }\r\n        let node: cc.Node = MKUtils.findNodeByName(parent, nodeName)\r\n        if (node) {\r\n            node.stopAllActions()\r\n            node.active = true\r\n            node.zIndex = zIndex\r\n            successCallback(node)\r\n        } else {\r\n            MKUtils.loadSkeletonData(url, function (spineres: sp.SkeletonData) {\r\n                let node = new cc.Node()\r\n                let spine = node.addComponent(sp.Skeleton)\r\n                spine.skeletonData = spineres\r\n                spine.premultipliedAlpha = false\r\n                parent.addChild(node, zIndex, nodeName)\r\n                successCallback(node)\r\n            })\r\n        }\r\n    }\r\n\r\n    // 顺时针角度\r\n    public static getAngle(from: cc.Vec2, to: cc.Vec2) {\r\n        let x = to.x - from.x\r\n        let y = to.y - from.y\r\n        let mathAngle = 90 //逆时针\r\n        if (x == 0) {\r\n            if (y >= 0) {\r\n                mathAngle = 90\r\n            } else {\r\n                mathAngle = 270\r\n            }\r\n        } else {\r\n            let tanAngle = Math.atan(y / x) * 180 / Math.PI\r\n            if (x > 0) {\r\n                if (y >= 0) {\r\n                    mathAngle = tanAngle\r\n                } else {\r\n                    mathAngle = tanAngle + 360\r\n                }\r\n            } else {\r\n                mathAngle = tanAngle + 180\r\n            }\r\n        }\r\n\r\n        // cc.log(\"mathAngle = \", mathAngle)\r\n        let cocosAngle = (360 - mathAngle + 90) % 360\r\n        // cc.log(\"cocosAngle = \", cocosAngle)\r\n        return cocosAngle\r\n    }\r\n\r\n    public static getUUID() {\r\n        let UUIDStr = \"game_only_uuid\"\r\n        let uuid = cc.sys.localStorage.getItem(UUIDStr)\r\n        if (uuid) {\r\n            return uuid\r\n        }\r\n        uuid = \"uuid_\" + MKUtils.getCurOsTime() + \"_\" + MKUtils.randomNM(0, 999) + \"_\" + MKUtils.randomNM(0, 999)\r\n        cc.sys.localStorage.setItem(UUIDStr, uuid)\r\n        return uuid\r\n    }\r\n\r\n    // 01:30\r\n    public static tranTime1(sec) {\r\n        sec = Math.ceil(sec)\r\n        if (sec <= 0) { return \"00:00\" }\r\n        let min = Math.floor(sec / 60)\r\n        let s = Math.floor((sec - min * 60))\r\n        return \"\" + MKUtils.add0(min) + \":\" + MKUtils.add0(s)\r\n    }\r\n\r\n    //1小时20分\r\n    public static tranTime2(sec) {\r\n        if (sec <= 0) { return \"0分\" }\r\n        let hour = Math.floor(sec / 3600)\r\n        let min = Math.floor((sec - hour * 3600) / 60)\r\n        let str = \"\"\r\n        if (hour > 0) {\r\n            str += (\"\" + hour + \"小时\")\r\n        }\r\n        if (min > 0) {\r\n            str += (\"\" + min + \"分钟\")\r\n        }\r\n        return str\r\n    }\r\n\r\n    public static add0(m: number) {\r\n        return m < 10 ? '0' + m : m;\r\n    }\r\n\r\n    public static isOneDay(time1, time2) {\r\n        let data1 = new Date(time1)\r\n        let data2 = new Date(time2)\r\n        return data1.getFullYear() == data2.getFullYear() && data1.getMonth() == data2.getMonth() && data1.getDate() == data2.getDate()\r\n    }\r\n\r\n    public static tranDateHMS(time) {\r\n        let date = new Date(time)\r\n        return {\r\n            hour: date.getHours(),\r\n            min: date.getMinutes(),\r\n            sec: date.getSeconds()\r\n        }\r\n    }\r\n\r\n    public static changeProAct1(sprite: cc.Sprite, num1: number, num2: number, time?: number) {\r\n        time = time || 0.5\r\n        let speed = (num2 - num1) / time\r\n\r\n        cc.director.getScheduler().unscheduleAllForTarget(sprite)\r\n        cc.director.getScheduler().schedule(function (dt) {\r\n            num1 = num1 + speed * dt\r\n            if (speed == 0 || (speed > 0 && num1 >= num2) || (speed < 0 && num1 <= num2)) {\r\n                num1 = num2\r\n                cc.director.getScheduler().unscheduleAllForTarget(sprite)\r\n            }\r\n            sprite.fillRange = num1\r\n        }, sprite, 0)\r\n    }\r\n\r\n    public static changeNumLabelAct1(label: cc.Label, num1: number, num2: number, callback: any, time?: number) {\r\n        time = time || 1\r\n        let speed = (num2 - num1) / time\r\n\r\n        cc.director.getScheduler().unscheduleAllForTarget(label)\r\n        cc.director.getScheduler().schedule(function (dt) {\r\n            num1 = num1 + speed * dt\r\n            if (speed == 0 || (speed > 0 && num1 >= num2) || (speed < 0 && num1 <= num2)) {\r\n                num1 = num2\r\n                cc.director.getScheduler().unscheduleAllForTarget(label)\r\n            }\r\n            callback(num1)\r\n        }, label, 0)\r\n    }\r\n\r\n    //取小数点后几位\r\n    public static cutPoint(num: number, point: number) {\r\n        let ten = Math.pow(10, Math.floor(point))\r\n        return Math.floor(num * ten) / ten\r\n    }\r\n\r\n    public static cutPointCeil(num: number, point: number) {\r\n        let ten = Math.pow(10, Math.floor(point))\r\n        return Math.ceil(num * ten) / ten\r\n    }\r\n\r\n    public static tranNumOld(num: number) {\r\n        let str = \"\"\r\n        let showNum = 0\r\n        if (num < 0) {\r\n            str = \"\" + Math.floor(num)\r\n        } else if (num <= 9999) {\r\n            str = \"\" + Math.round(num)\r\n        } else if (num < 999500) {\r\n            showNum = Math.round(num / 1000)\r\n            str = \"\" + showNum + \"A\"\r\n        } else if (num < 999500000) {\r\n            showNum = Math.round(num / 1000000)\r\n            str = \"\" + showNum + \"B\"\r\n        } else if (num < 999500000000) {\r\n            showNum = Math.round(num / 1000000000)\r\n            str = \"\" + showNum + \"C\"\r\n        } else {\r\n            showNum = Math.round(num / 1000000000000)\r\n            str = \"\" + showNum + \"D\"\r\n        }\r\n        return str\r\n    }\r\n\r\n    public static tranNum(num: number, isFloat?: boolean) {\r\n        let str = \"\"\r\n        let showNum = 0\r\n        if (num <= 0) {\r\n            if (isFloat) {\r\n                str = \"\" + num.toFixed(1)\r\n            } else {\r\n                str = \"\" + Math.floor(num)\r\n            }\r\n        } else if (num <= 9999) {\r\n            if (isFloat) {\r\n                str = \"\" + num.toFixed(1)\r\n            } else {\r\n                str = \"\" + Math.round(num)\r\n            }\r\n        } else {\r\n            let syms = ['K', 'M', 'B', 'T', 'AA', 'AB', 'AC', 'AD', 'AE', 'AF', 'AG', 'AH', 'AI', 'AJ', 'AK', 'AL', 'AM', 'AN', 'AO', 'AP', 'AQ', 'AR', 'AS', 'AT', 'AU']\r\n            let maxNum = 999500\r\n            let cc = 1000\r\n            let index = -1\r\n            for (let i = 0; i < syms.length; i++) {\r\n                if (num < maxNum) {\r\n                    showNum = Math.round(num / cc)\r\n                    str = \"\" + showNum + syms[i]\r\n                    index = i\r\n                    break\r\n                } else {\r\n                    maxNum *= 1000\r\n                    cc *= 1000\r\n                }\r\n            }\r\n            if (index == -1) {\r\n                showNum = Math.round(num / cc)\r\n                str = \"\" + showNum + \"Z\"\r\n            }\r\n        }\r\n\r\n        return str\r\n    }\r\n\r\n    public static split(str, s1) {\r\n        let arr = str.split(s1)\r\n        if (arr.length == 1 && arr[0] == \"\") {\r\n            arr = []\r\n        }\r\n        return arr\r\n    }\r\n\r\n    public static getWorldPos(node: cc.Node) {\r\n        return node.convertToWorldSpaceAR(cc.v2(0, 0)).add(cc.v2(-cc.winSize.width / 2, -cc.winSize.height / 2))\r\n    }\r\n\r\n    public static versionCompare(versionA, versionB) {\r\n        var vA = versionA.split('.');\r\n        var vB = versionB.split('.');\r\n        for (var i = 0; i < vA.length; ++i) {\r\n            var a = parseInt(vA[i]);\r\n            var b = parseInt(vB[i] || 0);\r\n            if (a === b) {\r\n                continue;\r\n            }\r\n            else {\r\n                return a - b;\r\n            }\r\n        }\r\n        if (vB.length > vA.length) {\r\n            return -1;\r\n        }\r\n        else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    public static subName(str: string) {\r\n        return (str.length > 6 ? (str.substring(0, 6) + \"...\") : str)\r\n    }\r\n\r\n    //scrollview item touchEnd\r\n    public static itemOnTouchCall(node: cc.Node, callback?: any) {\r\n        let enable = false\r\n        node.on(cc.Node.EventType.TOUCH_START, function (e) {\r\n            enable = true\r\n        })\r\n        node.on(cc.Node.EventType.TOUCH_MOVE, function (e) {\r\n            let moveY = Math.abs(e.touch._point.y - e.touch._startPoint.y)\r\n            if (moveY > 10) { enable = false }\r\n        })\r\n        node.on(cc.Node.EventType.TOUCH_END, function (e) {\r\n            if (enable && callback) {\r\n                callback()\r\n            }\r\n        })\r\n    }\r\n\r\n    public static fixProgress(progress: number) {\r\n        if (progress < 0.05) {\r\n            return 0\r\n        }\r\n\r\n        if (progress < 0.1) {\r\n            return 0.1\r\n        }\r\n\r\n        return progress\r\n    }\r\n\r\n    //时间转换 天时分 传入秒\r\n    public static sencondsFormat(s: number) {\r\n        if (s < 0) {\r\n            return \"0天0時0分\";\r\n        }\r\n        const d = 24 * 3600;\r\n        const day = Math.floor(s / d);\r\n        const hour = Math.floor((s - day * d) / 3600);\r\n        const minute = Math.floor((s - day * d - hour * 3600) / 60);\r\n        // const sencond = s - day * d - hour * 3600 - minute * 60;\r\n        const format = day + \"天\" + hour + \"時\" + minute + \"分\";\r\n        return format;\r\n    }\r\n\r\n    //js去掉所有空格 \\s表示查找空格带上加好表示连续的空格\r\n    public static trimSpace(str: string) {\r\n        let str1 = str.replace(/\\s+/g, \"\")\r\n        return str1\r\n    }\r\n\r\n    // 计时器\r\n    public static setNodeDelay(baseNode, delayTime, callback) {\r\n        baseNode.runAction(cc.sequence(cc.delayTime(delayTime), cc.callFunc(function () {\r\n            if (callback) {\r\n                callback()\r\n            }\r\n        }.bind(this))))\r\n    }\r\n    //随机数组\r\n    public static randomSort(a, b) {\r\n        return Math.random() > 0.5 ? 1 : -1;\r\n    }\r\n\r\n    public static setStatsColor(font: cc.Color = cc.Color.WHITE, background: cc.Color = cc.color(0, 0, 0, 150)) {\r\n        const profiler = cc.find('PROFILER-NODE');\r\n        if (!profiler) return cc.warn('未找到统计面板节点！');\r\n\r\n        // 文字\r\n        profiler.children.forEach(node => {\r\n            // node.color = font;\r\n            // node.getComponent(cc.Label).fontSize = 38\r\n            // node.addComponent(cc.LabelOutline).color = cc.Color.WHITE;\r\n        });\r\n\r\n        // 背景\r\n        let node = profiler.getChildByName('BACKGROUND');\r\n        if (!node) {\r\n            node = new cc.Node('BACKGROUND');\r\n            profiler.addChild(node, cc.macro.MIN_ZINDEX);\r\n            node.setContentSize(profiler.getBoundingBoxToWorld());\r\n            node.setPosition(0, 0);\r\n        }\r\n        const graphics = node.getComponent(cc.Graphics) || node.addComponent(cc.Graphics);\r\n        graphics.clear();\r\n        graphics.rect(-5, 12.5, node.width + 10, 120);\r\n        graphics.fillColor = background;\r\n        graphics.fill();\r\n    }\r\n\r\n    \r\n    /** 计算今天的0点时刻对应的时间戳（ms） */\r\n    public static calculNowDayStartTimeStamp(): number {\r\n        // 1. 获取当前时间戳 - 秒\r\n        let currTs = Date.now() / 1000;\r\n\r\n        // 2. 获取日总秒数 = 时*分*秒\r\n        let dayTs = 24 * 60 * 60;\r\n\r\n        // 3. 求总天数\r\n        let dayTotal = Math.floor(currTs / dayTs);\r\n\r\n        // 4. 求出当日开始时秒数\r\n        let dayZeroTs = dayTotal * dayTs;\r\n\r\n        // 5. 去掉时差(返回的是分)，需要转成秒\r\n        let offset = new Date().getTimezoneOffset() * 60;  // -480\r\n\r\n        let curStartSecond = (dayZeroTs + offset) * 1000;\r\n        return curStartSecond;\r\n    }\r\n}\r\n\r\n\r\n\r\n"]}