{"version":3,"sources":["assets/src/framework/ui/BaseView.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,0DAAqD;AACrD,8DAAyD;AACzD,oDAA+C;AAC/C,2CAAsC;AACtC,kDAA6C;AAEvC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAsC,4BAAY;IAM9C;QAAA,YACI,iBAAO,SAEV;QADG,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;;IACzB,CAAC;IAED,4BAAS,GAAT,UAAU,GAAU;QAChB,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;IACtB,CAAC;IAED,gCAAa,GAAb,UAAc,KAAY;QACtB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC5B,CAAC;IAED,MAAM;IACN,yBAAM,GAAN;IAEA,CAAC;IAED,yBAAM,GAAN;QACI,IAAI,uBAAa,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YAC1C,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACpB,yBAAe,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;aAAM;YACH,yBAAe,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YACtC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBACpB,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;aACrC;YACD,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;IACL,CAAC;IAED,MAAM;IACN,8BAAW,GAAX;IAEA,CAAC;IAED,OAAO;IACP,gCAAa,GAAb;IAEA,CAAC;IAED,0BAAO,GAAP,UAAQ,IAAI;IAEZ,CAAC;IAED,0BAAO,GAAP;IAEA,CAAC;IAED,wBAAK,GAAL;QAEI,oBAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACrC,CAAC;IAED,4BAAS,GAAT;QACI,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QACvB,mBAAS,CAAC,SAAS,CAAC,IAAI,EAAC,IAAI,CAAC,CAAC;QAC/B,iBAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC5B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IAC1B,CAAC;IAlEgB,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAmE5B;IAAD,eAAC;CAnED,AAmEC,CAnEqC,EAAE,CAAC,SAAS,GAmEjD;kBAnEoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["import LoaderManager from \"../manager/LoaderManager\";\nimport GamePoolManager from \"../manager/GamePoolManager\";\nimport UIMananger from \"../manager/UIMananger\";\nimport Handler from \"../base/Handler\";\nimport NResponer from \"../message/NResponer\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class BaseView extends cc.Component {\n\n    public uiName:string;\n    public moduleName:string;\n    public isOnLoad:boolean;\n\n    constructor(){\n        super();\n        this.isOnLoad = true;\n    }\n\n    setUIName(url:string){\n        this.uiName = url;\n    }\n\n    setModuleName(mname:string){\n        this.moduleName = mname;\n    }\n\n    //开始显示\n    _show_(){\n        \n    }\n\n    _hide_(){\n        if (LoaderManager.isRelease(this.moduleName)) {\n            this.node.destroy();\n            GamePoolManager.clearByTarget(this); \n            this._destroyClear(); \n        } else {\n            GamePoolManager.putBackByTarget(this);\n            if (!!this.node.parent) {\n                this.node.removeFromParent(false);\n            }\n            this._closeClear();\n        }\n    }\n\n    //关时清理\n    _closeClear(){\n\n    }\n\n    //销毁时清理\n    _destroyClear(){\n\n    }\n\n    on_Show(args){\n        \n    }\n\n    on_Hide(){\n\n    }\n\n    close()\n    {\n        UIMananger.hideView(this.uiName);\n    }\n\n    onDestroy(){\n        cc.log('BaseView 被销毁');\n        NResponer.targetOff(this,true);\n        Handler.releaseByHost(this);\n        this.isOnLoad = false;\n    }\n}\n"]}