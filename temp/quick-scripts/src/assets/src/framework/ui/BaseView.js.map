{"version":3,"sources":["assets/src/framework/ui/BaseView.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,0DAAqD;AACrD,8DAAyD;AACzD,oDAA+C;AAC/C,2CAAsC;AACtC,kDAA6C;AAEvC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAsC,4BAAY;IAM9C;QAAA,YACI,iBAAO,SAEV;QADG,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;;IACzB,CAAC;IAED,4BAAS,GAAT,UAAU,GAAU;QAChB,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;IACtB,CAAC;IAED,gCAAa,GAAb,UAAc,KAAY;QACtB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC5B,CAAC;IAED,MAAM;IACN,yBAAM,GAAN;IAEA,CAAC;IAED,yBAAM,GAAN;QACI,IAAI,uBAAa,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YAC1C,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACpB,yBAAe,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;aAAM;YACH,yBAAe,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YACtC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBACpB,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;aACrC;YACD,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;IACL,CAAC;IAED,MAAM;IACN,8BAAW,GAAX;IAEA,CAAC;IAED,OAAO;IACP,gCAAa,GAAb;IAEA,CAAC;IAED,0BAAO,GAAP,UAAQ,IAAI;IAEZ,CAAC;IAED,0BAAO,GAAP;IAEA,CAAC;IAED,wBAAK,GAAL;QAEI,oBAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACrC,CAAC;IAED,4BAAS,GAAT;QACI,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QACvB,mBAAS,CAAC,SAAS,CAAC,IAAI,EAAC,IAAI,CAAC,CAAC;QAC/B,iBAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC5B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IAC1B,CAAC;IAlEgB,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAmE5B;IAAD,eAAC;CAnED,AAmEC,CAnEqC,EAAE,CAAC,SAAS,GAmEjD;kBAnEoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["import LoaderManager from \"../manager/LoaderManager\";\r\nimport GamePoolManager from \"../manager/GamePoolManager\";\r\nimport UIMananger from \"../manager/UIMananger\";\r\nimport Handler from \"../base/Handler\";\r\nimport NResponer from \"../message/NResponer\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class BaseView extends cc.Component {\r\n\r\n    public uiName:string;\r\n    public moduleName:string;\r\n    public isOnLoad:boolean;\r\n\r\n    constructor(){\r\n        super();\r\n        this.isOnLoad = true;\r\n    }\r\n\r\n    setUIName(url:string){\r\n        this.uiName = url;\r\n    }\r\n\r\n    setModuleName(mname:string){\r\n        this.moduleName = mname;\r\n    }\r\n\r\n    //开始显示\r\n    _show_(){\r\n        \r\n    }\r\n\r\n    _hide_(){\r\n        if (LoaderManager.isRelease(this.moduleName)) {\r\n            this.node.destroy();\r\n            GamePoolManager.clearByTarget(this); \r\n            this._destroyClear(); \r\n        } else {\r\n            GamePoolManager.putBackByTarget(this);\r\n            if (!!this.node.parent) {\r\n                this.node.removeFromParent(false);\r\n            }\r\n            this._closeClear();\r\n        }\r\n    }\r\n\r\n    //关时清理\r\n    _closeClear(){\r\n\r\n    }\r\n\r\n    //销毁时清理\r\n    _destroyClear(){\r\n\r\n    }\r\n\r\n    on_Show(args){\r\n        \r\n    }\r\n\r\n    on_Hide(){\r\n\r\n    }\r\n\r\n    close()\r\n    {\r\n        UIMananger.hideView(this.uiName);\r\n    }\r\n\r\n    onDestroy(){\r\n        cc.log('BaseView 被销毁');\r\n        NResponer.targetOff(this,true);\r\n        Handler.releaseByHost(this);\r\n        this.isOnLoad = false;\r\n    }\r\n}\r\n"]}