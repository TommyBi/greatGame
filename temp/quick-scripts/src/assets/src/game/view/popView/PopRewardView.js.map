{"version":3,"sources":["assets/src/game/view/popView/PopRewardView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport SDKManager from \"../../../framework/manager/SDKManager\";\r\nimport EventDispath from \"../../../framework/message/EventDispath\";\r\nimport { EventType } from \"../../../framework/message/EventType\";\r\nimport BasePanel from \"../../../framework/ui/BasePanel\";\r\nimport Global from \"../../consts/Global\";\r\nimport PlayerModel from \"../../datas/PlayerModel\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\nexport enum PopType {\r\n    FIELD,\r\n    SHELVE,\r\n    GOLD1,\r\n    UNLOCK_ORDER,\r\n    REFRESH_ORDER,\r\n    GOLD2,\r\n}\r\n\r\n@ccclass\r\nexport default class PopRewardView extends BasePanel {\r\n    @property(cc.Label)\r\n    rewardLb: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    titleLb: cc.Label = null;\r\n    @property(cc.Label)\r\n    descLb: cc.Label = null;\r\n    @property(cc.Node)\r\n    btnClose: cc.Node = null;\r\n    @property(cc.Node)\r\n    btnOk: cc.Node = null;\r\n    @property(cc.Node)\r\n    hbIcon: cc.Node = null;\r\n    @property(cc.Node)\r\n    goldIcon: cc.Node = null;\r\n\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    mType = 0;//面板类型，0除虫奖励，1宝箱奖励\r\n    mData;\r\n    onLoad() {\r\n\r\n    }\r\n\r\n    protected onEnable(): void {\r\n        // 关闭面板\r\n        EventDispath.on(this.btnClose, this.onCloseHandle, this);\r\n        EventDispath.on(this.btnOk, this.onClickHandle, this);\r\n\r\n        this.initUi();\r\n    }\r\n\r\n    startShow(): void {\r\n        this.mType = this.inData[0];\r\n        this.mData = this.inData[1];\r\n    }\r\n    initUi() {\r\n        this.hbIcon.active = false;\r\n        this.goldIcon.active = false;\r\n        if (this.mType == 0) {\r\n            this.titleLb.string = \"除虫奖励\";\r\n            this.descLb.string = this.mData.name + \"已经恢复生长，特此奖励\";\r\n        } else {\r\n            this.titleLb.string = \"宝箱奖励\"\r\n            this.descLb.string = \"宝箱光芒大涨，恭喜你发现了\";\r\n        }\r\n        if (this.mData.rewardType == 0) {\r\n            this.goldIcon.active = true;\r\n            this.rewardLb.string = \"x\" + Number(this.mData.rewardNum);\r\n        } else {\r\n            this.hbIcon.active = true;\r\n            this.rewardLb.string = \"x\" + Number(this.mData.rewardNum).toFixed(2) + \"元\";\r\n        }\r\n    }\r\n    onClickHandle() {\r\n        if (this.mData.rewardType == 0) PlayerModel.setGold(this.mData.rewardNum);\r\n        else PlayerModel.setMoney(this.mData.totalMoney, this.mData.rewardNum);\r\n        this.onCloseHandle();\r\n    }\r\n\r\n    onCloseHandle() {\r\n        super.close();\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}