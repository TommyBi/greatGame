{"version":3,"sources":["assets/src/game/view/level/LevelItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport SDKManager from \"../../../framework/manager/SDKManager\";\r\nimport { UIEffectType } from \"../../../framework/manager/UIEffectManager\";\r\nimport UIMananger from \"../../../framework/manager/UIMananger\";\r\nimport EventDispath from \"../../../framework/message/EventDispath\";\r\nimport { EventType } from \"../../../framework/message/EventType\";\r\nimport ComponentHelper from \"../../../framework/tools/ComponentHelper\";\r\nimport Global from \"../../consts/Global\";\r\nimport UIType from \"../../consts/UIType\";\r\nimport PlayerModel from \"../../datas/PlayerModel\";\r\nimport AItemRenderer from \"../task/AItemRenerer\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n@ccclass\r\nexport default class LevelItem extends AItemRenderer<string> {\r\n\r\n    @property(cc.Node)\r\n    btn1: cc.Node = null;\r\n    @property(cc.Node)\r\n    btn2: cc.Node = null;\r\n    @property(cc.Label)\r\n    targetLb: cc.Label = null;\r\n    @property(cc.Label)\r\n    moneyLb: cc.Label = null;\r\n    @property(cc.Label)\r\n    lvLb: cc.Label = null;\r\n    @property(cc.Label)\r\n    proLb: cc.Label = null;\r\n    @property(cc.ProgressBar)\r\n    pro: cc.ProgressBar = null;\r\n    // onLoad () {}\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    protected dataChanged(): void {\r\n        // console.log(this.data);\r\n        this.initUI();\r\n    }\r\n    initUI() {\r\n        this.btn1.active = this.btn2.active = false;\r\n        if (this.data.userOrderNum >= this.data.orderNum && this.data.isFirst) {\r\n            this.btn1.active = true;\r\n            this.proLb.string = this.data.orderNum + \"/\" + this.data.orderNum;\r\n            this.targetLb.string = `可升级`\r\n        } else {\r\n            this.btn2.active = true;\r\n            this.proLb.string = this.data.userOrderNum + \"/\" + this.data.orderNum;\r\n            if(this.data.userOrderNum>=this.data.orderNum ){\r\n                this.targetLb.string = `可升级`\r\n            } else{\r\n                this.targetLb.string = `再完成${this.data.orderNum - this.data.userOrderNum}个订单可升级`\r\n            }\r\n        }\r\n        this.pro.progress = this.data.userOrderNum / this.data.orderNum;\r\n        this.lvLb.string = this.data.level;\r\n        this.moneyLb.string = this.data.amount+\"元\";\r\n    }\r\n    // \"userOrderNum\": 10,//用户订单数量\r\n    // \"jsLevel\": 6,//集市等级\r\n    // \"jsTaskInfos\": [\r\n    //     {\r\n    //         \"level\": 1,//集市等级\r\n    //         \"orderNum\": 10,//集市订单数量\r\n    //         \"amount\": 5,//奖励金额\r\n    //         \"tx_mu\": \"1%\",//提现比例\r\n    //     },\r\n    onGet() {\r\n        SDKManager.upJSLevel();\r\n        EventDispath.addEventListener(EventType.SDK_LEVEL_UP, this.onVideoBack, this);\r\n        // SDKManager.showAd(Global.VIDEO_CONFIG.video17)\r\n\r\n    }\r\n    onVideoBack() {\r\n        EventDispath.removeByEvent(EventType.SDK_LEVEL_UP, this.onVideoBack, this);\r\n        EventDispath.send(EventType.LEVEL_UPDATE);\r\n    }\r\n}\r\n"]}