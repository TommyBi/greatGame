{"version":3,"sources":["assets/src/game/datas/PlayerModel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import MusicManager from \"../../framework/manager/MusicManager\";\r\nimport EventDispath from \"../../framework/message/EventDispath\";\r\nimport { EventType } from \"../../framework/message/EventType\";\r\nimport MKUtils from \"../../framework/tools/MkUtils\";\r\nimport SortUtils from \"../../framework/tools/SortUtils\";\r\nimport Utils from \"../../framework/tools/Utils\";\r\nimport PlayerData, { orderCache } from \"../datas/PlayerData\";\r\nimport Global from \"../consts/Global\";\r\nimport ConfigManager from \"../manager/ConfigManager\";\r\nimport EffectManager from \"../manager/EffectManager\";\r\nimport ShelvePrefab, { putOnConfig } from \"../view/main/ShelvePrefab\";\r\nimport { storeConfig } from \"../view/main/WarehousePrefab\";\r\nimport SDKManager from \"../../framework/manager/SDKManager\";\r\nimport { fieldType, levelUp_config, level_config, propType } from \"../consts/CConst\";\r\n\r\nclass PlayerModel {\r\n    private static _instance: PlayerModel;\r\n\r\n    data: PlayerData = new PlayerData();\r\n\r\n    static instance() {\r\n        if (!this._instance) {\r\n\r\n            this._instance = new PlayerModel();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    public auto_service_max: number = 30;//自动服务每日上限\r\n    public once_ripe_max: number = 30;//立即成熟每日上限\r\n    public offline_max: number = 360;//离线收益时长上限(分钟)\r\n    public offline_min: number = 10;//离线收益最小时长(分钟)\r\n\r\n    public luckyBg_interval: number = 3;//每X分钟会判定出现福袋\r\n    public luckyBg_rate: number = 1;//出现福袋的概率\r\n    public luckyBg_live_time: number = 1;//福袋持续显示分钟数\r\n    public luckyBg_get_max: number = 10;//每日福袋领取次数上限\r\n\r\n    public get_one_shopper_click: number = 5;//每X次点击手动招揽进场1个顾客\r\n    public one_click_shopper_max: number = 15;//每次一键招揽进场顾客数\r\n\r\n    public offlineLastTimestamp: number = 0;// 上次的离线收益时间戳，仅用于在登录时标记，避免被在计算收益之前频繁覆盖\r\n\r\n    public crop_get_num = 0;//收获次数\r\n\r\n    put_on_crop_list = [];//上架货物信息存储\r\n    sheleveList: ShelvePrefab[] = [];\r\n    //同步红包余额\r\n    getUserAmount() {\r\n        SDKManager.getUserAmount();\r\n    }\r\n\r\n    loadData() {\r\n        this.data.getData();\r\n        this.offlineLastTimestamp = this.data.offlineTimestamp;\r\n        this.initPutCropList();\r\n        if (this.data.orderCacheList.length <= 0) this.initOrderList();\r\n    }\r\n    //初始设施\r\n    initUiCfg() {\r\n        //--------------------------------------货架\r\n        let type = 0;\r\n        if (this.data.shelvesCfgList.length == 0) {\r\n            for (let i = 0; i < ConfigManager.shelves.length; i++) {\r\n                let item: levelUp_config = ConfigManager.shelves[i];\r\n                let level = item.unlock_state == 1 ? 1 : 0;\r\n                if (item.type != type) this.data.shelvesCfgList.push(level);\r\n                type = item.type;\r\n            }\r\n        }\r\n        //--------------------------------------土地\r\n        let fieldType = 0;\r\n        if (this.data.fieldCfgList.length == 0) {\r\n            for (let i = 0; i < ConfigManager.field.length; i++) {\r\n                let item: levelUp_config = ConfigManager.field[i];\r\n                let level = item.unlock_state == 1 ? 1 : 0;\r\n                let data = { id: item.id, type: item.type, state: item.unlock_state, cropState: 0, cropId: 0, lastTime: 0, level: level }\r\n                if (item.type != fieldType) this.data.fieldCfgList.push(data);\r\n                fieldType = item.type;\r\n            }\r\n        }\r\n\r\n        this.initUnlockCropList();\r\n    }\r\n    initOrderList() {\r\n        this.data.orderCacheList = ConfigManager.getOrderList();\r\n    }\r\n    //初始化解锁作物列表\r\n    initUnlockCropList() {\r\n        if (this.data.unlockCropList.length == 0) {\r\n            for (let i = 0; i < ConfigManager.crop.length; i++) {\r\n                let crop = ConfigManager.crop[i];\r\n                if (crop.unlock == 1) {\r\n                    this.data.unlockCropList.push(crop.id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    getLevel() {\r\n        return this.data.level;\r\n    }\r\n    setLevel() {\r\n        this.data.level++;\r\n    }\r\n    /************************仓库*******************************/\r\n    setHouseAddCrop(id, addNum) {\r\n        let cropList = this.data.WareHouseConfig.cropList;\r\n        let arr = cropList.filter((value, index) => {\r\n            return value.cropId == id;\r\n        })\r\n        let getNum = 1;\r\n        if (arr.length > 0) {\r\n            arr[0].num += addNum;\r\n        } else {\r\n            let cfg: storeConfig = { cropId: id, num: addNum, put_on_num: 0 };\r\n            cropList.push(cfg);\r\n        }\r\n        this.data.saveWareHouseData();\r\n        console.log(\"*****仓库存储数值*******\", this.data.WareHouseConfig);\r\n        EventDispath.send(EventType.UPDATE_SHELVE)\r\n    }\r\n    //仓库当前信息\r\n    getWarerHouseCfg() {\r\n        return this.data.WareHouseConfig;\r\n    }\r\n    //仓库中拥有的数量\r\n    getHaveNumByID(id) {\r\n        let list = this.getWarerHouseCfg().cropList;\r\n        let num = 0;\r\n        let arr = list.filter((item) => {\r\n            return item.cropId == id;\r\n        })\r\n        if (arr.length > 0) return arr[0].num;\r\n        return 0;\r\n    }\r\n    //获取当前仓库存贮总值\r\n    getCurrentPutNum() {\r\n        let list = this.getWarerHouseCfg().cropList;\r\n        let num = 0;\r\n        list.forEach((itme) => {\r\n            num += itme.num;\r\n        })\r\n        return num;\r\n    }\r\n    //仓库中作物减少\r\n    reduceCrop(id) {\r\n        let list = this.getWarerHouseCfg().cropList;\r\n        let arr = list.filter((item) => {\r\n            return item.cropId == id;\r\n        })\r\n        if (arr.length == 0) return;\r\n        let crop = arr[0];\r\n        crop.num--;\r\n        crop.put_on_num--;\r\n\r\n        if (crop.num <= 0) {\r\n            let idx = 0;\r\n            list.filter((item, index) => {\r\n                if (item.cropId == crop.cropId) {\r\n                    idx = index;\r\n                }\r\n            })\r\n            list.splice(idx, 1);\r\n        }\r\n        this.data.saveWareHouseData();\r\n        this.updateCurrentOrder(id);\r\n        console.log(\"*****仓库存储数值*******\", this.data.WareHouseConfig);\r\n    }\r\n    //订单完成作物减少\r\n    orderReduceCrop(id, num) {\r\n        let list = this.getWarerHouseCfg().cropList;\r\n        let arr = list.filter((item) => {\r\n            return item.cropId == id;\r\n        })\r\n        if (arr.length == 0) return;\r\n        let crop = arr[0];\r\n        crop.num -= num;\r\n        if (crop.num < crop.put_on_num) {\r\n            crop.put_on_num = crop.num;\r\n        }\r\n\r\n        if (crop.num <= 0) {\r\n            let idx = 0;\r\n            list.filter((item, index) => {\r\n                if (item.cropId == crop.cropId) {\r\n                    idx = index;\r\n                }\r\n            })\r\n            list.splice(idx, 1);\r\n        }\r\n        this.data.saveWareHouseData();\r\n        // this.updateCurrentOrder(id);\r\n        console.log(\"*****仓库存储数值*******\", this.data.WareHouseConfig);\r\n    }\r\n    /************************货架*******************************/\r\n\r\n    //改变货架等级\r\n    changeShelveSkin(index, level) {\r\n        this.data.uiConfig.shelvesList[index] = level;\r\n        this.saveData();\r\n        EventDispath.send(EventType.SHELVE_LEVEL_UPDATE, index)\r\n    }\r\n    //初始化上架作物列表\r\n    initPutCropList() {\r\n        let shelveArr = this.data.uiConfig.shelvesList.filter((id) => {\r\n            return id != 0;\r\n        })\r\n\r\n        let list = this.getWarerHouseCfg().cropList\r\n        list.filter((item, index) => {\r\n            item.put_on_num = 0;\r\n        })\r\n        let shelveNum = shelveArr.length;\r\n        let cropList = [];\r\n        for (let i = 0; i < shelveNum; i++) {\r\n            cropList.push(this.getRandomCrop(4))\r\n        }\r\n        console.log(\"上架数据：\", cropList);\r\n        this.put_on_crop_list = cropList;\r\n    }\r\n    /**\r\n     * 随机获取仓库中的作物上架数组\r\n     * @param num 所需上架数量\r\n     * @returns \r\n     */\r\n    getRandomCrop(num) {\r\n        let list = this.getWarerHouseCfg().cropList\r\n\r\n        let arr = list.filter((item, index) => {\r\n            return item.num - item.put_on_num > 0\r\n        })\r\n        if (arr.length == 0) return [];\r\n        let crop = Utils.getRandomByArr(arr);\r\n        if (crop.num - crop.put_on_num >= num) {\r\n            let arr1: putOnConfig[] = [{ cropId: crop.cropId, put_on_num: num }]\r\n            crop.put_on_num += num;\r\n            return arr1;\r\n        }\r\n        let len = crop.num - crop.put_on_num;\r\n        let arr2: putOnConfig[] = [{ cropId: crop.cropId, put_on_num: crop.num - crop.put_on_num }]\r\n        crop.put_on_num += crop.num - crop.put_on_num;\r\n        return arr2.concat(this.getRandomCrop(num - len));\r\n\r\n    }\r\n    /**\r\n     * \r\n     * @returns 获取单独需要上架作物\r\n     */\r\n    getOneCrop() {\r\n        let list = this.getWarerHouseCfg().cropList\r\n\r\n        let arr = list.filter((item, index) => {\r\n            return item.num - item.put_on_num > 0\r\n        })\r\n        if (arr.length == 0) return null;\r\n        let crop = Utils.getRandomByArr(arr);\r\n        crop.put_on_num += 1;\r\n        return crop;\r\n    }\r\n    //根据索引获取对应货架\r\n    getSheleveInfoByIndex(index) {\r\n        return this.sheleveList[index];\r\n    }\r\n    /************************头部钱，钞票，满意度*******************************/\r\n    initMoney(value) {\r\n        this.data.money = value;\r\n        EventDispath.send(EventType.UPDATE_MONEY);\r\n    }\r\n    /**\r\n     * \r\n     * @param value 当前钱数（SDK获取，增加的数值）\r\n     * @param add \r\n     */\r\n    setMoney(value, add, startPoint = cc.v2(cc.winSize.width / 2, cc.winSize.height / 2)) {\r\n        this.data.money = value;\r\n\r\n        EffectManager.playCoinFly(startPoint, 1, add)\r\n    }\r\n    getMoney() {\r\n        return this.data.money;\r\n    }\r\n    //钞票\r\n    setGold(value, parentType = 0, startPoint?) {\r\n        if (value > 0) {\r\n            if (!startPoint) startPoint = cc.v2(cc.winSize.width / 2, cc.winSize.height / 2);\r\n            if (parentType) EffectManager.playEffFly(startPoint, 2, value)\r\n            else EffectManager.playCoinFly(startPoint, 2, value)\r\n\r\n        }\r\n        else EventDispath.send(EventType.UPDATE_GOLD, value);\r\n    }\r\n    changeGold(value) {\r\n        this.data.gold += value;\r\n        this.saveData();\r\n    }\r\n    getGold() {\r\n        return this.data.gold;\r\n    }\r\n    //幸福指数\r\n    setXfzs(num, startPoint?) {\r\n        this.data.xfzs += num;\r\n        if (!startPoint) startPoint = cc.v2(cc.winSize.width / 2, cc.winSize.height / 2);\r\n        EffectManager.playCoinFly(startPoint, 3, num)\r\n        // EventDispath.send(EventType.UPDATE_XFZS, num);\r\n        this.saveData();\r\n    }\r\n    getXfzs() {\r\n        this.data.xfzs = Number(this.data.xfzs.toFixed(2))\r\n        return this.data.xfzs;\r\n    }\r\n    /*\r\n     * 获取当前最新解锁植物ID\r\n     * @return 如果什么都没解锁，则返回-1；\r\n     */\r\n    getNewCrop() {\r\n        SortUtils.insertSort(this.data.unlockCropList);\r\n        // console.log(\"种菜面板解锁列表\", this.data.unlockCropList);\r\n\r\n        // let len = this.data.unlockCropList.length;\r\n        // if (len == 0) return -1;\r\n        let order = this.getCurrentOrder();\r\n        if (order) {\r\n            let list = [];\r\n            for (let i = 0; i < order.cropList.length; i++) {\r\n                let item = order.cropList[i];\r\n                if (item.cropId != 100) {\r\n                    list.push(item.cropId);\r\n                }\r\n            }\r\n            return Utils.getRandomByArr(list);\r\n\r\n        }\r\n        return Utils.getRandomByArr(this.data.unlockCropList);\r\n    }\r\n    //解锁新作物\r\n    setNewCrop(id) {\r\n        this.data.unlockCropList.push(id);\r\n        this.saveData();\r\n    }\r\n    //获得已解锁作物列表\r\n    getUnlockCrop() {\r\n        return this.data.unlockCropList;\r\n    }\r\n    //检测是否解锁\r\n    checkCropUnlock(id) {\r\n        let arr = this.data.unlockCropList.filter((idx, index) => {\r\n            return id == idx;\r\n        })\r\n        if (arr.length > 0) return true;\r\n        return false;\r\n    }\r\n\r\n\r\n\r\n    setSoundSwitch(val) {\r\n        this.data.soundSwitch = val;\r\n        MusicManager.initMusic();\r\n        this.saveData();\r\n    }\r\n    setSoundYinXiaoSwitch(v) {\r\n        this.data.soundYinXiao = v;\r\n        MusicManager.initMusic();\r\n        this.saveData();\r\n    }\r\n    getSoundYinXiaoSwitch() {\r\n        return this.data.soundYinXiao;\r\n    }\r\n    getPersonRecommSwitch() {\r\n        return this.data.personRecommSwitch;\r\n    }\r\n    SetPersonRecommSwitch(v) {\r\n        this.data.personRecommSwitch = v;\r\n        this.saveData();\r\n    }\r\n\r\n    //获取菜地列表\r\n    getFieldListCfg() {\r\n        return this.data.fieldCfgList;\r\n    }\r\n    //改变菜地等级\r\n    changeFieldSkin(index, level) {\r\n        let cfg = this.data.fieldCfgList[index];\r\n        cfg.state = 1;\r\n        cfg.level = level;\r\n        cfg.id = cfg.type * 10 + level;\r\n        this.saveData();\r\n        EventDispath.send(EventType.FIELD_LEVEL_UPDATE, index)\r\n    }\r\n    //作物收获次数\r\n    getCropGetNum() {\r\n        return this.data.cropGetNum;\r\n    }\r\n    setCropGetNum(value) {\r\n        this.data.cropGetNum += value;\r\n        this.saveData();\r\n    }\r\n    // 成熟次数\r\n    getCropRipetimes() {\r\n        return this.data.cropRipetimes;\r\n    }\r\n    setCropRipetimes() {\r\n        this.data.cropRipetimes++;\r\n        this.saveData();\r\n    }\r\n    //重置成熟次数\r\n    resetCropRipeTimes() {\r\n        this.data.cropRipetimes = 0;\r\n        this.saveData();\r\n    }\r\n    get pestNum() {\r\n        return this.data.pestNum;\r\n    }\r\n    set pestNum(value) {\r\n        this.data.pestNum = value;\r\n        if (this.data.pestNum < 2) {\r\n            this.resetCropRipeTimes();\r\n        }\r\n        this.saveData();\r\n    }\r\n    //更新种植次数\r\n    setPlantNumById(id) {\r\n        let arr = this.data.plantNumList.filter((item) => {\r\n            return item.id == id;\r\n        })\r\n        if (arr.length > 0) {\r\n            arr[0].num += 1;\r\n        } else {\r\n            this.data.plantNumList.push({ id: id, num: 1 })\r\n        }\r\n        this.data.savePlantNum();\r\n\r\n    }\r\n    //获得种植次数\r\n    getPlantNumById(id) {\r\n        let arr = this.data.plantNumList.filter((item) => {\r\n            return item.id == id;\r\n        })\r\n        if (arr.length > 0) return arr[0].num;\r\n\r\n        return 0;\r\n    }\r\n    /************************自动结账*******************************/\r\n    //  收银台自动产出\r\n    set cashierGold(value) {\r\n        this.data.cashierGold += value;\r\n        this.data.setCashierGold();\r\n    }\r\n    get cashierGold() {\r\n        return this.data.cashierGold;\r\n    }\r\n    //获取收银台加倍剩余时间\r\n    getAddLastTime() {\r\n        return this.data.cashierAddTime;\r\n    }\r\n    setAddLastTime(value) {\r\n        this.data.cashierAddTime = value;\r\n        this.saveData();\r\n    }\r\n    //设置自动结账数据\r\n    // setIsAutoSell(autoCfg?) {\r\n    //     if (autoCfg) this.data.autoCfg = autoCfg;\r\n    //     this.data.setIsAuto();\r\n    // }\r\n    // setIsAutoOfflineTime(value) {\r\n    //     this.data.autoCfg.time = value;\r\n    //     this.setIsAutoSell();\r\n    // }\r\n    // setIsAuto(value) {\r\n    //     this.data.autoCfg.isAuto = value;\r\n    //     this.setIsAutoSell();\r\n    // }\r\n    // setAutoLastTime(time) {\r\n    //     this.data.autoCfg.lastTime = time;\r\n    //     this.setIsAutoSell();\r\n    // }\r\n    /************************引导任务*******************************/\r\n    getGuideTaskCfg() {\r\n        return this.data.guideTaskCfg;\r\n    }\r\n    //引导任务增加\r\n    setGuideTaskId() {\r\n        // SDKManager.onEvent(Global.EVENT_ACTION.client_guide_task)\r\n        this.data.guideTaskCfg.taskId++;\r\n        this.data.guideTaskCfg.taskState = 0;\r\n        this.saveData();\r\n    }\r\n    changeGuideTaskState(state) {\r\n        this.data.guideTaskCfg.taskState = state;\r\n        this.saveData();\r\n\r\n    }\r\n\r\n    saveData() {\r\n        this.data.saveData();\r\n        this.data.saveUiData();\r\n    }\r\n    saveUiData() {\r\n        this.data.saveUiData();\r\n    }\r\n    resetData() {\r\n        this.data.resetData();\r\n    }\r\n    getSoundSwitch() {\r\n        return this.data.soundSwitch;\r\n    }\r\n    getUIConfig() {\r\n        return this.data.uiConfig;\r\n    }\r\n    setUiLv(index) {\r\n        switch (index) {\r\n            case 0:\r\n                this.data.uiConfig.cashierlv++;\r\n                EventDispath.send(EventType.CHANGE_CASHIER);\r\n                break;\r\n            case 1:\r\n                this.data.uiConfig.pipelv++;\r\n                EventDispath.send(EventType.CHANGE_PIPE);\r\n                break;\r\n            case 2:\r\n                this.data.uiConfig.walllv++;\r\n                EventDispath.send(EventType.CHANGE_WALL);\r\n                break;\r\n            case 3:\r\n                this.data.uiConfig.roadlv++;\r\n                EventDispath.send(EventType.CHANGE_ROAD);\r\n                break;\r\n            case 4:\r\n                this.data.uiConfig.scarecrowlv++;\r\n                EventDispath.send(EventType.CHANGE_SCARECROW);\r\n                break;\r\n            case 5:\r\n                this.data.uiConfig.warehouselv++;\r\n                EventDispath.send(EventType.CHANGE_WAREHOUSE);\r\n                break;\r\n            case 6:\r\n                this.data.uiConfig.fencelv++;\r\n                EventDispath.send(EventType.CHANGE_FENCE);\r\n                break;\r\n        }\r\n        this.saveUiData();\r\n    }\r\n    /** 获取解锁的设施列表 */\r\n    getUnlockProps(): number[] {\r\n        return this.data.hasProps;\r\n    }\r\n\r\n    /*\r\n     * 解锁设施 注意这里存的是拼好的完整的id，是唯一的id,不是1、2、3、4、5、6、7 \r\n     * @param id: 完整的唯一索引id 如101、201、301\r\n     */\r\n    unlockProps(id: number) {\r\n        this.getUnlockProps().push(id);\r\n    }\r\n    /************************设施加成*******************************/\r\n    //护栏行走速度加成\r\n    getSpeedAdd() {\r\n        let cfg = ConfigManager.getPropById(propType.fence, this.getUIConfig().fencelv);\r\n        return cfg.add_num / 100;\r\n    }\r\n    //土地加成，减少作物成熟时间\r\n    getTimeAdd(type, level) {\r\n        if (this.getUIConfig().pipelv == 0) return 0;\r\n        let cfg = ConfigManager.getFieldCfgByType(type, level);\r\n        return cfg.add_num / 100;\r\n    }\r\n    //保存升级看视频次数\r\n    saveLvupVideoNum(key, num) {\r\n        this.data.lvUp_video_num[key] = num;\r\n        this.data.saveLvupVideoNum();\r\n    }\r\n    getLvupVideoNum(key) {\r\n        let num = 0;\r\n        if (this.data.lvUp_video_num[key]) num = this.data.lvUp_video_num[key];\r\n        return num;\r\n    }\r\n    //是否当天第一次除虫\r\n    get isFirstClearPest() {\r\n        return this.data.isFirstClearPest;\r\n    }\r\n    set isFirstClearPest(value) {\r\n        this.data.isFirstClearPest = value;\r\n        this.saveData();\r\n    }\r\n\r\n    /**\r\n    * 用于标记当前的时间，便于下次进行计算离线时长，在心跳方法中进行更新 \r\n    * this.offlineLastTimestamp 只要被读取，就唯一作为当前离线收益的计算时间戳了，游戏过程中不会被不小心覆盖，且绝对有值，如果尚未读取上次时间的情况下也不允许刷新覆盖掉上次的历史时间，保证了上次时间的准确使用，进而保证了离线收益时间的计算准确度\r\n    */\r\n    setOfflineTimestamp() {\r\n        // 防止还没读取上次离线时间 就被心跳更新时间戳的方式给覆盖掉了，导致上次最后的游戏时间戳读取不到了\r\n        if (this.offlineLastTimestamp == -1) return;\r\n\r\n        let time = SDKManager.getServerTime();\r\n\r\n        this.data.offlineTimestamp = Math.floor(time / 1000);\r\n        this.data.saveOfflineTimestamp();\r\n    }\r\n    /** 读取离线收益时间戳 */\r\n    getOfflineTimestamp(): number {\r\n        return this.offlineLastTimestamp;\r\n    }\r\n    //订单中心\r\n    getOrderList() {\r\n        return this.data.orderCacheList;\r\n    }\r\n    get orderLen() {\r\n        return this.data.orderUnlockLen;\r\n    }\r\n    set orderLen(value) {\r\n        this.data.orderUnlockLen = value;\r\n        this.setOrder();\r\n    }\r\n    get orderVideoNum() {\r\n        return this.data.orderVideoNum;\r\n    }\r\n    set orderVideoNum(value) {\r\n        this.data.orderVideoNum = value;\r\n        this.setOrder();\r\n    }\r\n    setOrder() {\r\n        this.data.orderCacheList.sort((a, b) => {\r\n            return b.state - a.state;\r\n        })\r\n        this.data.saveOrder();\r\n    }\r\n    //接单后根据仓库库存更新当前订单数量\r\n    updateOrder() {\r\n        let order = this.getCurrentOrder();\r\n\r\n        let list1 = this.getWarerHouseCfg().cropList;\r\n        for (let i = 0; i < list1.length; i++) {\r\n            let item = list1[i];\r\n            this.checkAddOrder(item.cropId, item.num);\r\n        }\r\n    }\r\n    //卖出物品更新订单\r\n    updateCurrentOrder(id) {\r\n        let order = this.getCurrentOrder();\r\n        if (order) {\r\n            let list = order.cropList;\r\n            // let stateList = [];\r\n            for (let i = 0; i < list.length; i++) {\r\n                if (list[i].cropId == id) {\r\n                    list[i].num -= 1;\r\n                }\r\n            }\r\n        }\r\n        this.data.saveOrder();\r\n        EventDispath.send(EventType.ORDER_UPDATE_TOP)\r\n    }\r\n    //增加作物\r\n    checkAddOrder(id, num, completeFun?, callBack?) {\r\n        let order = this.getCurrentOrder();\r\n        if (!order) {\r\n            if (callBack) callBack();\r\n            return;\r\n        }\r\n        let list = order.cropList;\r\n        // let stateList = [];\r\n        let completeLen = 0;\r\n        for (let i = 0; i < list.length; i++) {\r\n            if (list[i].cropId == id) {\r\n                list[i].num += num;\r\n            }\r\n            if (list[i].num >= list[i].target) {\r\n                // stateList.push(1)\r\n                completeLen += 1;\r\n            } else {\r\n                // stateList.push(0)\r\n            }\r\n        }\r\n        EventDispath.send(EventType.ORDER_UPDATE_TOP)\r\n        this.setOrder();\r\n        if (completeLen == list.length) {\r\n            if (completeFun) completeFun();\r\n        } else {\r\n            if (callBack) callBack();\r\n        }\r\n    }\r\n    //检测订单是否完成\r\n    checkOrderComplete() {\r\n        let order = this.getCurrentOrder();\r\n        if (order) {\r\n\r\n            let list = order.cropList;\r\n            let completeLen = 0;\r\n            for (let i = 0; i < list.length; i++) {\r\n                if (list[i].num >= list[i].target) {\r\n                    completeLen += 1;\r\n                }\r\n            }\r\n            if (completeLen == list.length) return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n    haveOrder() {\r\n        let order = this.getCurrentOrder();\r\n        if (order) return true;\r\n\r\n        return false;\r\n    }\r\n    //当前订单\r\n    getCurrentOrder() {\r\n        let order: orderCache;\r\n        for (let i = 0; i < this.data.orderCacheList.length; i++) {\r\n            let item = this.data.orderCacheList[i];\r\n            if (item.state == 1) {\r\n                order = item;\r\n            }\r\n        }\r\n        return order;\r\n    }\r\n    //当前订单中的随机作物\r\n    getCurrentOrderCrop() {\r\n        let order = this.getCurrentOrder();\r\n        let cropList = [];\r\n        if (order) {\r\n            let list = order.cropList;\r\n            // let stateList = [];\r\n            for (let i = 0; i < list.length; i++) {\r\n                if (list[i].cropId < 100) {\r\n                    cropList.push(list[i].cropId);\r\n                    if (list[i].num >= list[i].target) {\r\n                        return list[i].cropId;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (cropList.length > 0) {\r\n            return Utils.getRandomByArr(cropList)\r\n        }\r\n\r\n        return Utils.getRandomByArr(this.data.unlockCropList);\r\n    }\r\n\r\n\r\n    get guideState() {\r\n        return this.data.guideState;\r\n    }\r\n    set guideState(value) {\r\n        this.data.guideState = value;\r\n        this.data.saveGuide();\r\n    }\r\n    get guideStep() {\r\n        return this.data.guideStep;\r\n    }\r\n    set guideStep(value) {\r\n        this.data.guideStep += value;\r\n    }\r\n\r\n    //每日自动招揽人数\r\n    addDayAutoRoleNum() {\r\n        this.data.dayAutoRoleNum++;\r\n    }\r\n    //每日自动招揽时间间隔\r\n    getAutoRoleTime() {\r\n        if (this.data.dayAutoRoleNum < 11) {\r\n            return 10;\r\n        } else if (this.data.dayAutoRoleNum < 31) {\r\n            return 15;\r\n        } else {\r\n            return 20;\r\n        }\r\n    }\r\n\r\n    get zdGkNum() {\r\n        return this.data.zdGkNum;\r\n    }\r\n    set zdGkNum(value) {\r\n        this.data.zdGkNum = value;\r\n        this.data.saveZlNum();\r\n    }\r\n    //手动招揽次数\r\n    setZlNum(value) {\r\n        this.data.zhaolanNum = value;\r\n        this.data.saveZlNum();\r\n    }\r\n    getZlNum() {\r\n        return this.data.zhaolanNum;\r\n    }\r\n}\r\n\r\nexport default PlayerModel.instance();\r\n"]}