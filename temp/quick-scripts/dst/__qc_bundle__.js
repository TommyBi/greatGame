
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/__qc_index__.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}
require('./assets/src/framework/base/BasePoolObject');
require('./assets/src/framework/base/Handler');
require('./assets/src/framework/helper/JSHelper');
require('./assets/src/framework/helper/StorageHelper');
require('./assets/src/framework/loader/GroupData');
require('./assets/src/framework/loader/GroupLoader');
require('./assets/src/framework/loader/Loader');
require('./assets/src/framework/loader/LoaderItem');
require('./assets/src/framework/manager/DataManager');
require('./assets/src/framework/manager/DragManager');
require('./assets/src/framework/manager/GamePoolManager');
require('./assets/src/framework/manager/LoaderManager');
require('./assets/src/framework/manager/MusicManager');
require('./assets/src/framework/manager/SDKManager');
require('./assets/src/framework/manager/UIEffectManager');
require('./assets/src/framework/manager/UIMananger');
require('./assets/src/framework/message/EventDispath');
require('./assets/src/framework/message/EventType');
require('./assets/src/framework/message/NResponer');
require('./assets/src/framework/sdk/BaseSdk');
require('./assets/src/framework/sdk/Launcher');
require('./assets/src/framework/tools/ComponentHelper');
require('./assets/src/framework/tools/MkUtils');
require('./assets/src/framework/tools/SortUtils');
require('./assets/src/framework/tools/Utils');
require('./assets/src/framework/ui/BasePanel');
require('./assets/src/framework/ui/BaseTips');
require('./assets/src/framework/ui/BaseUIEffect');
require('./assets/src/framework/ui/BaseView');
require('./assets/src/framework/ui/UIState');
require('./assets/src/framework/ui/effect/FadeBackUIEffect');
require('./assets/src/framework/ui/effect/FadeUIEffect');
require('./assets/src/framework/ui/effect/ScaleBackUIEffect');
require('./assets/src/framework/ui/effect/ScaleUIEffect');
require('./assets/src/framework/ui/effect/TopBackUIEffect');
require('./assets/src/framework/ui/effect/TopUIEffect');
require('./assets/src/game/Barrage/BarrageLayer');
require('./assets/src/game/Barrage/BarragePrefab');
require('./assets/src/game/Loading');
require('./assets/src/game/Main');
require('./assets/src/game/com/AlertTips');
require('./assets/src/game/com/RoleController');
require('./assets/src/game/consts/ActionType');
require('./assets/src/game/consts/CConst');
require('./assets/src/game/consts/EventConst');
require('./assets/src/game/consts/Global');
require('./assets/src/game/consts/LoaderType');
require('./assets/src/game/consts/StorageType');
require('./assets/src/game/consts/UIType');
require('./assets/src/game/datas/PlayerData');
require('./assets/src/game/datas/PlayerModel');
require('./assets/src/game/manager/ConfigManager');
require('./assets/src/game/manager/EffectManager');
require('./assets/src/game/manager/MessageCenter');
require('./assets/src/game/view/Message');
require('./assets/src/game/view/cashier/CashierView');
require('./assets/src/game/view/clearPest/ClearPestView');
require('./assets/src/game/view/flyBox/FlyBoxView');
require('./assets/src/game/view/guide/GuidePrefab');
require('./assets/src/game/view/hbPop/HardOpenView');
require('./assets/src/game/view/hbPop/HardView');
require('./assets/src/game/view/level/LevelItem');
require('./assets/src/game/view/level/LevelPopView');
require('./assets/src/game/view/level/LevelView');
require('./assets/src/game/view/loginDay/LoginDay');
require('./assets/src/game/view/lvUp/LvUpCompleteView');
require('./assets/src/game/view/lvUp/LvUpItem');
require('./assets/src/game/view/lvUp/LvUpPopView');
require('./assets/src/game/view/lvUp/LvUpView');
require('./assets/src/game/view/main/CashierManager');
require('./assets/src/game/view/main/CashierPrefab');
require('./assets/src/game/view/main/FencePrefab');
require('./assets/src/game/view/main/FieldPrefab');
require('./assets/src/game/view/main/GameMainView');
require('./assets/src/game/view/main/PipePrefab');
require('./assets/src/game/view/main/RepayRedBox');
require('./assets/src/game/view/main/RoadPrefab');
require('./assets/src/game/view/main/RolePrefab');
require('./assets/src/game/view/main/ScarecrowPrefab');
require('./assets/src/game/view/main/ShelvePrefab');
require('./assets/src/game/view/main/TopOrderItem');
require('./assets/src/game/view/main/TopOrderPrefab');
require('./assets/src/game/view/main/TopPrefab');
require('./assets/src/game/view/main/WallPrefab');
require('./assets/src/game/view/main/WarehousePrefab');
require('./assets/src/game/view/order/GetCropView');
require('./assets/src/game/view/order/OrderCurrentItem');
require('./assets/src/game/view/order/OrderCurrentView');
require('./assets/src/game/view/order/OrderGetScuessView');
require('./assets/src/game/view/order/OrderGiveUpView');
require('./assets/src/game/view/order/OrderHbView');
require('./assets/src/game/view/order/OrderItem');
require('./assets/src/game/view/order/OrderQualityView');
require('./assets/src/game/view/order/OrderRewardView');
require('./assets/src/game/view/order/OrderSuccessView');
require('./assets/src/game/view/order/OrderView');
require('./assets/src/game/view/order/ZhaoDaiView');
require('./assets/src/game/view/popView/PopGcView');
require('./assets/src/game/view/popView/PopGetCropView');
require('./assets/src/game/view/popView/PopJsView');
require('./assets/src/game/view/popView/PopRewardView');
require('./assets/src/game/view/popView/PopView1');
require('./assets/src/game/view/popView/PopZlView');
require('./assets/src/game/view/setting/SettingView');
require('./assets/src/game/view/task/AItemRenerer');
require('./assets/src/game/view/task/AVirtualScrollView');
require('./assets/src/game/view/task/TaskItem');
require('./assets/src/game/view/task/TaskRewardView');
require('./assets/src/game/view/task/TaskView');
require('./assets/src/game/view/vegetables/VegetablesItem');
require('./assets/src/game/view/vegetables/VegetablesUnlockView');
require('./assets/src/game/view/vegetables/VegetablesView');
require('./assets/src/game/view/warehouse/WarehouseItem');
require('./assets/src/game/view/warehouse/WarehouseView');
require('./assets/src/game/view/xfzs/XfzsHelpView');
require('./assets/src/game/view/xfzs/XfzsView');

                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/Main.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bffdcUhsvpLA4so4PxZNN3z', 'Main');
// src/game/Main.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIMananger_1 = require("../framework/manager/UIMananger");
var UIType_1 = require("./consts/UIType");
var MusicManager_1 = require("../framework/manager/MusicManager");
var MkUtils_1 = require("../framework/tools/MkUtils");
var DataManager_1 = require("../framework/manager/DataManager");
var PlayerModel_1 = require("./datas/PlayerModel");
var JSHelper_1 = require("../framework/helper/JSHelper");
var SDKManager_1 = require("../framework/manager/SDKManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Main = /** @class */ (function (_super) {
    __extends(Main, _super);
    function Main() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.top = null;
        _this.guide = null;
        _this.offlineTime_interval = 0;
        _this.taskHd = 0;
        return _this;
        // https://forum.cocos.org/t/cocos-creator-50/94999      //首屏
    }
    Main.prototype.onLoad = function () {
        cc.macro.CLEANUP_IMAGE_CACHE = false;
        cc.dynamicAtlasManager.enabled = true;
        UIMananger_1.default.init();
        DataManager_1.default.init();
        MusicManager_1.default.initMusic();
        JSHelper_1.default.playMisuc("bgm");
        this.init();
    };
    Main.prototype.init = function () {
        var _this = this;
        SDKManager_1.default.onStartGame(1);
        // console.log(16/9,"   长宽比：",cc.winSize.height/cc.winSize.width);
        if (SDKManager_1.default.hasNewOrderReward()) {
            PlayerModel_1.default.guideStep = 0;
            PlayerModel_1.default.guideState = 0;
        }
        else {
            PlayerModel_1.default.guideState = 1;
            PlayerModel_1.default.guideStep = -1;
        }
        UIMananger_1.default.showView(UIType_1.default.gameView);
        SDKManager_1.default.getUserAmount();
        // NResponer.on(Message.configComplete,Handler.create( ()=>{
        // if (!PlayerModel.guideState) PlayerModel.guideStep = 0;
        MkUtils_1.default.setNodeDelay(this.node, 0, function () {
            UIMananger_1.default.top = cc.instantiate(_this.top);
            UIMananger_1.default.setTop();
            if (PlayerModel_1.default.guideStep >= 0)
                _this.showGuide();
            else
                UIMananger_1.default.showPanel(UIType_1.default.loginDay);
        });
        // PlayerModel.initMoney(101.25)
        // },this ),this);
        // MusicManager.playMusic('bg.mp3');
    };
    Main.prototype.start = function () {
    };
    Main.prototype.update = function (dt) {
        this.offlineTime_interval += dt;
        if (this.offlineTime_interval >= 5) {
            this.offlineTime_interval = 0;
            PlayerModel_1.default.setOfflineTimestamp();
        }
        this.taskHd += dt;
        if (this.taskHd >= 10) {
            this.taskHd = 0;
            // SDKManager.getTaskRewardCount();
        }
    };
    Main.prototype.showGuide = function () {
        UIMananger_1.default.guide = cc.instantiate(this.guide);
        UIMananger_1.default.showGuide();
    };
    __decorate([
        property(cc.Prefab)
    ], Main.prototype, "top", void 0);
    __decorate([
        property(cc.Prefab)
    ], Main.prototype, "guide", void 0);
    Main = __decorate([
        ccclass
    ], Main);
    return Main;
}(cc.Component));
exports.default = Main;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNLEdBQUcsQ0FBQyxDQUFDO1lBQ2hCLG1DQUFtQztTQUN0QztJQUNMLENBQUM7SUFHRCx3QkFBUyxHQUFUO1FBQ0ksb0JBQVUsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDOUMsb0JBQVUsQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUMzQixDQUFDO0lBekVEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7cUNBQ0U7SUFFdEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzt1Q0FDSTtJQUpQLElBQUk7UUFEeEIsT0FBTztPQUNhLElBQUksQ0E4RXhCO0lBQUQsV0FBQztDQTlFRCxBQThFQyxDQTlFaUMsRUFBRSxDQUFDLFNBQVMsR0E4RTdDO2tCQTlFb0IsSUFBSSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVSU1hbmFuZ2VyIGZyb20gXCIuLi9mcmFtZXdvcmsvbWFuYWdlci9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4vY29uc3RzL1VJVHlwZVwiO1xyXG5pbXBvcnQgTXVzaWNNYW5hZ2VyIGZyb20gXCIuLi9mcmFtZXdvcmsvbWFuYWdlci9NdXNpY01hbmFnZXJcIjtcclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uL2ZyYW1ld29yay90b29scy9Na1V0aWxzXCI7XHJcbmltcG9ydCBEYXRhTWFuYWdlciBmcm9tIFwiLi4vZnJhbWV3b3JrL21hbmFnZXIvRGF0YU1hbmFnZXJcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFNLRE1hbmFnZXIgZnJvbSBcIi4uL2ZyYW1ld29yay9tYW5hZ2VyL1NES01hbmFnZXJcIjtcclxuaW1wb3J0IEpTSGVscGVyIGZyb20gXCIuLi9mcmFtZXdvcmsvaGVscGVyL0pTSGVscGVyXCI7XHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbiBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgdG9wOiBjYy5QcmVmYWIgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIGd1aWRlOiBjYy5QcmVmYWIgPSBudWxsO1xyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIGNjLm1hY3JvLkNMRUFOVVBfSU1BR0VfQ0FDSEUgPSBmYWxzZTtcclxuICAgICAgICBjYy5keW5hbWljQXRsYXNNYW5hZ2VyLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIFVJTWFuYW5nZXIuaW5pdCgpO1xyXG4gICAgICAgIERhdGFNYW5hZ2VyLmluaXQoKTtcclxuICAgICAgICBNdXNpY01hbmFnZXIuaW5pdE11c2ljKCk7XHJcbiAgICAgICAgSlNIZWxwZXIucGxheU1pc3VjKFwiYmdtXCIpO1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIFNES01hbmFnZXIub25TdGFydEdhbWUoMSk7XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKDE2LzksXCIgICDplb/lrr3mr5TvvJpcIixjYy53aW5TaXplLmhlaWdodC9jYy53aW5TaXplLndpZHRoKTtcclxuXHJcbiAgICAgICAgaWYgKFNES01hbmFnZXIuaGFzTmV3T3JkZXJSZXdhcmQoKSkge1xyXG4gICAgICAgICAgICBQbGF5ZXJNb2RlbC5ndWlkZVN0ZXAgPSAwO1xyXG4gICAgICAgICAgICBQbGF5ZXJNb2RlbC5ndWlkZVN0YXRlID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIFBsYXllck1vZGVsLmd1aWRlU3RhdGUgPSAxO1xyXG4gICAgICAgICAgICBQbGF5ZXJNb2RlbC5ndWlkZVN0ZXAgPSAtMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1ZpZXcoVUlUeXBlLmdhbWVWaWV3KTtcclxuICAgICAgICBTREtNYW5hZ2VyLmdldFVzZXJBbW91bnQoKTtcclxuICAgICAgICAvLyBOUmVzcG9uZXIub24oTWVzc2FnZS5jb25maWdDb21wbGV0ZSxIYW5kbGVyLmNyZWF0ZSggKCk9PntcclxuICAgICAgICAvLyBpZiAoIVBsYXllck1vZGVsLmd1aWRlU3RhdGUpIFBsYXllck1vZGVsLmd1aWRlU3RlcCA9IDA7XHJcbiAgICAgICAgTUtVdGlscy5zZXROb2RlRGVsYXkodGhpcy5ub2RlLCAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIFVJTWFuYW5nZXIudG9wID0gY2MuaW5zdGFudGlhdGUodGhpcy50b3ApO1xyXG4gICAgICAgICAgICBVSU1hbmFuZ2VyLnNldFRvcCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKFBsYXllck1vZGVsLmd1aWRlU3RlcCA+PSAwKSB0aGlzLnNob3dHdWlkZSgpO1xyXG4gICAgICAgICAgICBlbHNlIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5sb2dpbkRheSk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8gUGxheWVyTW9kZWwuaW5pdE1vbmV5KDEwMS4yNSlcclxuXHJcbiAgICAgICAgLy8gfSx0aGlzICksdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIE11c2ljTWFuYWdlci5wbGF5TXVzaWMoJ2JnLm1wMycpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzdGFydCgpIHtcclxuXHJcbiAgICB9XHJcbiAgICBvZmZsaW5lVGltZV9pbnRlcnZhbCA9IDA7XHJcbiAgICB0YXNrSGQgPSAwO1xyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgdGhpcy5vZmZsaW5lVGltZV9pbnRlcnZhbCArPSBkdDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMub2ZmbGluZVRpbWVfaW50ZXJ2YWwgPj0gNSkge1xyXG4gICAgICAgICAgICB0aGlzLm9mZmxpbmVUaW1lX2ludGVydmFsID0gMDtcclxuICAgICAgICAgICAgUGxheWVyTW9kZWwuc2V0T2ZmbGluZVRpbWVzdGFtcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50YXNrSGQgKz0gZHQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRhc2tIZCA+PSAxMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRhc2tIZCA9IDA7XHJcbiAgICAgICAgICAgIC8vIFNES01hbmFnZXIuZ2V0VGFza1Jld2FyZENvdW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzaG93R3VpZGUoKSB7XHJcbiAgICAgICAgVUlNYW5hbmdlci5ndWlkZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuZ3VpZGUpO1xyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd0d1aWRlKCk7XHJcbiAgICB9XHJcbiAgICAvLyBodHRwczovL2ZvcnVtLmNvY29zLm9yZy90L2NvY29zLWNyZWF0b3ItNTAvOTQ5OTkgICAgICAvL+mmluWxj1xyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/Barrage/BarragePrefab.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1cc832kSBdIlb/3RP+GUph6', 'BarragePrefab');
// src/game/Barrage/BarragePrefab.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var DataManager_1 = require("../../framework/manager/DataManager");
var MkUtils_1 = require("../../framework/tools/MkUtils");
var Utils_1 = require("../../framework/tools/Utils");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BarragePrefab = /** @class */ (function (_super) {
    __extends(BarragePrefab, _super);
    function BarragePrefab() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.headIcon = null;
        _this.nameLabel = null;
        _this.moneyLabel = null;
        _this.descLb1 = null;
        _this.descLb2 = null;
        _this.bg = null;
        _this.tipsLb = null;
        return _this;
        // private _eventManager = cc["internal"]["eventManager"];
        // private _touchListener: any;
        // InitTouch() {
        //     const EventListener = cc["EventListener"];
        //     this._touchListener = EventListener.create({
        //         event: EventListener.TOUCH_ONE_BY_ONE,
        //         swallowTouches: false,//是否吞噬touch事件
        //         owner: this.bg,
        //         mask: null,
        //         onTouchBegan: this.onTouchStart.bind(this),
        //         onTouchMoved: null,
        //         onTouchEnded: this.onTouchEnded.bind(this),
        //         onTouchCancelled: null,
        //     });
        //     this._eventManager.addListener(this._touchListener, this.bg);
        // }
        // private onTouchStart(touch: cc.Touch, event: cc.Event.EventTouch): boolean {
        //     cc.log("touch start");
        //     //此处必须返回true（表示接触到了节点）,否则TOUCH_MOVE,TOUCH_END,TOUCH_CANCEL不触发。
        //     return true;
        // }
        // private onTouchEnded(touch: cc.Touch, event: cc.Event.EventTouch): void {
        //     cc.log("touch end");
        //     // this.ClickCall(touch);
        // }
        // protected onDestroy(): void {
        //     // super.onDestroy();
        //     this._eventManager.removeListener(this._touchListener, this.node);
        // }
    }
    BarragePrefab.prototype.onLoad = function () {
        // this.node.pauseSystemEvents(true);
        // let bg = this.node.getChildByName("mbg");
        // bg.pauseSystemEvents(true);
        // this.tipsLb.node.pauseSystemEvents(true);
    };
    BarragePrefab.prototype.setData = function () {
        var barrageData = DataManager_1.default.getJson("barrage");
        var data = barrageData[DataManager_1.default._barrageIndex];
        DataManager_1.default._barrageIndex++;
        if (DataManager_1.default._barrageIndex > barrageData.length) {
            DataManager_1.default._barrageIndex = 1;
        }
        // this.nameLabel.string = data["name"];
        // this.moneyLabel.string = data["money"] + "元";
        var num = Utils_1.default.getRandomNum(0, 110);
        var date = 0;
        var money = 0;
        if (num <= 5) {
            date = 10;
        }
        else if (num <= 15) {
            date = 5;
        }
        else if (num <= 30) {
            money = MkUtils_1.default.randomNMF(3, 5);
        }
        else if (num < 55) {
            money = MkUtils_1.default.randomNMF(1, 3);
        }
        else if (num <= 85) {
            money = MkUtils_1.default.randomNMF(0.5, 1);
        }
        else if (num > 85) {
            money = MkUtils_1.default.randomNMF(0.3, 0.5);
        }
        if (date != 0) {
            this.bg.width = 672;
            this.tipsLb.string = "<color=#000000>\u606D\u559C</c><color=#ff0000>" + data["name"] + "</c><color=#000000>\u6210\u529F\u5C06\u7EA2\u5305\u63D0\u73B0\u6BD4\u4F8B\u5347\u81F3<color=#ff0000>" + date + "%</color>";
        }
        else {
            this.bg.width = 480;
            this.tipsLb.string = "<color=#000000>\u606D\u559C</c><color=#ff0000>" + data["name"] + "</c><color=#000000>\u6210\u529F\u63D0\u73B0<color=#ff0000>" + money.toFixed(2) + "</c><color=#000000>\u5143</color>";
        }
        // MKUtils.loadSpriteFrame("texture/barrage/" + data["headshot"], function (spriteFrame) {  //
        //     if (spriteFrame) this.headIcon.spriteFrame = spriteFrame;
        // }.bind(this))
    };
    __decorate([
        property(cc.Sprite)
    ], BarragePrefab.prototype, "headIcon", void 0);
    __decorate([
        property(cc.Label)
    ], BarragePrefab.prototype, "nameLabel", void 0);
    __decorate([
        property(cc.Label)
    ], BarragePrefab.prototype, "moneyLabel", void 0);
    __decorate([
        property(cc.Label)
    ], BarragePrefab.prototype, "descLb1", void 0);
    __decorate([
        property(cc.Label)
    ], BarragePrefab.prototype, "descLb2", void 0);
    __decorate([
        property(cc.Node)
    ], BarragePrefab.prototype, "bg", void 0);
    __decorate([
        property(cc.RichText)
    ], BarragePrefab.prototype, "tipsLb", void 0);
    BarragePrefab = __decorate([
        ccclass
    ], BarragePrefab);
    return BarragePrefab;
}(cc.Component));
exports.default = BarragePrefab;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9CYXJyYWdlL0JhcnJhZ2VQcmVmYWIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUVBQThEO0FBQzlELHlEQUFvRDtBQUNwRCxxREFBZ0Q7QUFFMUMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUFnR0M7UUE3RkcsY0FBUSxHQUFjLElBQUksQ0FBQztRQUUzQixlQUFTLEdBQWEsSUFBSSxDQUFDO1FBRTNCLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRTVCLGFBQU8sR0FBYSxJQUFJLENBQUM7UUFFekIsYUFBTyxHQUFhLElBQUksQ0FBQztRQUV6QixRQUFFLEdBQVksSUFBSSxDQUFDO1FBRW5CLFlBQU0sR0FBZ0IsSUFBSSxDQUFDOztRQW1EM0IsMERBQTBEO1FBQzFELCtCQUErQjtRQUMvQixnQkFBZ0I7UUFDaEIsaURBQWlEO1FBQ2pELG1EQUFtRDtRQUNuRCxpREFBaUQ7UUFDakQsOENBQThDO1FBQzlDLDBCQUEwQjtRQUMxQixzQkFBc0I7UUFDdEIsc0RBQXNEO1FBQ3RELDhCQUE4QjtRQUM5QixzREFBc0Q7UUFDdEQsa0NBQWtDO1FBQ2xDLFVBQVU7UUFDVixvRUFBb0U7UUFDcEUsSUFBSTtRQUVKLCtFQUErRTtRQUMvRSw2QkFBNkI7UUFDN0IscUVBQXFFO1FBQ3JFLG1CQUFtQjtRQUNuQixJQUFJO1FBQ0osNEVBQTRFO1FBQzVFLDJCQUEyQjtRQUMzQixnQ0FBZ0M7UUFDaEMsSUFBSTtRQUNKLGdDQUFnQztRQUNoQyw0QkFBNEI7UUFDNUIseUVBQXlFO1FBQ3pFLElBQUk7SUFDUixDQUFDO0lBL0VHLDhCQUFNLEdBQU47UUFDSSxxQ0FBcUM7UUFDckMsNENBQTRDO1FBQzVDLDhCQUE4QjtRQUM5Qiw0Q0FBNEM7SUFD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dGFNYW5hZ2VyIGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9EYXRhTWFuYWdlclwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IFV0aWxzIGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvdG9vbHMvVXRpbHNcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXJyYWdlUHJlZmFiIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgaGVhZEljb246IGNjLlNwcml0ZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBuYW1lTGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG1vbmV5TGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGRlc2NMYjE6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGRlc2NMYjI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYmc6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlJpY2hUZXh0KVxyXG4gICAgdGlwc0xiOiBjYy5SaWNoVGV4dCA9IG51bGw7XHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIC8vIHRoaXMubm9kZS5wYXVzZVN5c3RlbUV2ZW50cyh0cnVlKTtcclxuICAgICAgICAvLyBsZXQgYmcgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJtYmdcIik7XHJcbiAgICAgICAgLy8gYmcucGF1c2VTeXN0ZW1FdmVudHModHJ1ZSk7XHJcbiAgICAgICAgLy8gdGhpcy50aXBzTGIubm9kZS5wYXVzZVN5c3RlbUV2ZW50cyh0cnVlKTtcclxuICAgIH1cclxuICAgIHNldERhdGEoKSB7XHJcbiAgICAgICAgbGV0IGJhcnJhZ2VEYXRhID0gRGF0YU1hbmFnZXIuZ2V0SnNvbihcImJhcnJhZ2VcIik7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBiYXJyYWdlRGF0YVtEYXRhTWFuYWdlci5fYmFycmFnZUluZGV4XTtcclxuXHJcbiAgICAgICAgRGF0YU1hbmFnZXIuX2JhcnJhZ2VJbmRleCsrO1xyXG4gICAgICAgIGlmIChEYXRhTWFuYWdlci5fYmFycmFnZUluZGV4ID4gYmFycmFnZURhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIERhdGFNYW5hZ2VyLl9iYXJyYWdlSW5kZXggPSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdGhpcy5uYW1lTGFiZWwuc3RyaW5nID0gZGF0YVtcIm5hbWVcIl07XHJcbiAgICAgICAgLy8gdGhpcy5tb25leUxhYmVsLnN0cmluZyA9IGRhdGFbXCJtb25leVwiXSArIFwi5YWDXCI7XHJcblxyXG4gICAgICAgIGxldCBudW0gPSBVdGlscy5nZXRSYW5kb21OdW0oMCwgMTEwKTtcclxuICAgICAgICBsZXQgZGF0ZSA9IDA7XHJcbiAgICAgICAgbGV0IG1vbmV5ID0gMDtcclxuICAgICAgICBpZiAobnVtIDw9IDUpIHtcclxuICAgICAgICAgICAgZGF0ZSA9IDEwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobnVtIDw9IDE1KSB7XHJcbiAgICAgICAgICAgIGRhdGUgPSA1O1xyXG4gICAgICAgIH0gZWxzZSBpZiAobnVtIDw9IDMwKSB7XHJcbiAgICAgICAgICAgIG1vbmV5ID0gTUtVdGlscy5yYW5kb21OTUYoMywgNSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChudW0gPCA1NSkge1xyXG4gICAgICAgICAgICBtb25leSA9IE1LVXRpbHMucmFuZG9tTk1GKDEsIDMpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobnVtIDw9IDg1KSB7XHJcbiAgICAgICAgICAgIG1vbmV5ID0gTUtVdGlscy5yYW5kb21OTUYoMC41LCAxKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG51bSA+IDg1KSB7XHJcbiAgICAgICAgICAgIG1vbmV5ID0gTUtVdGlscy5yYW5kb21OTUYoMC4zLCAwLjUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRhdGUgIT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmJnLndpZHRoID0gNjcyO1xyXG4gICAgICAgICAgICB0aGlzLnRpcHNMYi5zdHJpbmcgPSBgPGNvbG9yPSMwMDAwMDA+5oGt5ZacPC9jPjxjb2xvcj0jZmYwMDAwPiR7ZGF0YVtcIm5hbWVcIl19PC9jPjxjb2xvcj0jMDAwMDAwPuaIkOWKn+Wwhue6ouWMheaPkOeOsOavlOS+i+WNh+iHszxjb2xvcj0jZmYwMDAwPiR7ZGF0ZX0lPC9jb2xvcj5gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmcud2lkdGggPSA0ODA7XHJcbiAgICAgICAgICAgIHRoaXMudGlwc0xiLnN0cmluZyA9IGA8Y29sb3I9IzAwMDAwMD7mga3llpw8L2M+PGNvbG9yPSNmZjAwMDA+JHtkYXRhW1wibmFtZVwiXX08L2M+PGNvbG9yPSMwMDAwMDA+5oiQ5Yqf5o+Q546wPGNvbG9yPSNmZjAwMDA+JHttb25leS50b0ZpeGVkKDIpfTwvYz48Y29sb3I9IzAwMDAwMD7lhYM8L2NvbG9yPmA7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8gTUtVdGlscy5sb2FkU3ByaXRlRnJhbWUoXCJ0ZXh0dXJlL2JhcnJhZ2UvXCIgKyBkYXRhW1wiaGVhZHNob3RcIl0sIGZ1bmN0aW9uIChzcHJpdGVGcmFtZSkgeyAgLy9cclxuICAgICAgICAvLyAgICAgaWYgKHNwcml0ZUZyYW1lKSB0aGlzLmhlYWRJY29uLnNwcml0ZUZyYW1lID0gc3ByaXRlRnJhbWU7XHJcbiAgICAgICAgLy8gfS5iaW5kKHRoaXMpKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHByaXZhdGUgX2V2ZW50TWFuYWdlciA9IGNjW1wiaW50ZXJuYWxcIl1bXCJldmVudE1hbmFnZXJcIl07XHJcbiAgICAvLyBwcml2YXRlIF90b3VjaExpc3RlbmVyOiBhbnk7XHJcbiAgICAvLyBJbml0VG91Y2goKSB7XHJcbiAgICAvLyAgICAgY29uc3QgRXZlbnRMaXN0ZW5lciA9IGNjW1wiRXZlbnRMaXN0ZW5lclwiXTtcclxuICAgIC8vICAgICB0aGlzLl90b3VjaExpc3RlbmVyID0gRXZlbnRMaXN0ZW5lci5jcmVhdGUoe1xyXG4gICAgLy8gICAgICAgICBldmVudDogRXZlbnRMaXN0ZW5lci5UT1VDSF9PTkVfQllfT05FLFxyXG4gICAgLy8gICAgICAgICBzd2FsbG93VG91Y2hlczogZmFsc2UsLy/mmK/lkKblkJ7lmax0b3VjaOS6i+S7tlxyXG4gICAgLy8gICAgICAgICBvd25lcjogdGhpcy5iZyxcclxuICAgIC8vICAgICAgICAgbWFzazogbnVsbCxcclxuICAgIC8vICAgICAgICAgb25Ub3VjaEJlZ2FuOiB0aGlzLm9uVG91Y2hTdGFydC5iaW5kKHRoaXMpLFxyXG4gICAgLy8gICAgICAgICBvblRvdWNoTW92ZWQ6IG51bGwsXHJcbiAgICAvLyAgICAgICAgIG9uVG91Y2hFbmRlZDogdGhpcy5vblRvdWNoRW5kZWQuYmluZCh0aGlzKSxcclxuICAgIC8vICAgICAgICAgb25Ub3VjaENhbmNlbGxlZDogbnVsbCxcclxuICAgIC8vICAgICB9KTtcclxuICAgIC8vICAgICB0aGlzLl9ldmVudE1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5fdG91Y2hMaXN0ZW5lciwgdGhpcy5iZyk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBvblRvdWNoU3RhcnQodG91Y2g6IGNjLlRvdWNoLCBldmVudDogY2MuRXZlbnQuRXZlbnRUb3VjaCk6IGJvb2xlYW4ge1xyXG4gICAgLy8gICAgIGNjLmxvZyhcInRvdWNoIHN0YXJ0XCIpO1xyXG4gICAgLy8gICAgIC8v5q2k5aSE5b+F6aG76L+U5ZuedHJ1Ze+8iOihqOekuuaOpeinpuWIsOS6huiKgueCue+8iSzlkKbliJlUT1VDSF9NT1ZFLFRPVUNIX0VORCxUT1VDSF9DQU5DRUzkuI3op6blj5HjgIJcclxuICAgIC8vICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIC8vIH1cclxuICAgIC8vIHByaXZhdGUgb25Ub3VjaEVuZGVkKHRvdWNoOiBjYy5Ub3VjaCwgZXZlbnQ6IGNjLkV2ZW50LkV2ZW50VG91Y2gpOiB2b2lkIHtcclxuICAgIC8vICAgICBjYy5sb2coXCJ0b3VjaCBlbmRcIik7XHJcbiAgICAvLyAgICAgLy8gdGhpcy5DbGlja0NhbGwodG91Y2gpO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gcHJvdGVjdGVkIG9uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgIC8vICAgICAvLyBzdXBlci5vbkRlc3Ryb3koKTtcclxuICAgIC8vICAgICB0aGlzLl9ldmVudE1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5fdG91Y2hMaXN0ZW5lciwgdGhpcy5ub2RlKTtcclxuICAgIC8vIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/base/Handler.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'beb2eNp2VNBuJ/EFm4M42b8', 'Handler');
// src/framework/base/Handler.ts

"use strict";
var __spreadArrays = (this && this.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var Handler = /** @class */ (function () {
    function Handler(fun, host, once) {
        if (once === void 0) { once = true; }
        var args = [];
        for (var _i = 3; _i < arguments.length; _i++) {
            args[_i - 3] = arguments[_i];
        }
        this.active = true;
        this.callBack = fun;
        this.host = host;
        this.args = args;
        this.once = once;
        this.id = Handler.index + 1;
    }
    /**
     * 创建回调句柄
     * @param fun 回调函数
     * @param host 函数指向
     * @param isOnce 是否调用一次后释放
     */
    Handler.create = function (fun, host, isOnce) {
        if (isOnce === void 0) { isOnce = true; }
        var args = [];
        for (var _i = 3; _i < arguments.length; _i++) {
            args[_i - 3] = arguments[_i];
        }
        var len = Handler.handler_cache.length;
        for (var i = 0; i < len; i++) {
            if (!Handler.handler_cache[i].active) {
                Handler.handler_cache[i].active = true;
                Handler.handler_cache[i].callBack = fun;
                Handler.handler_cache[i].host = host;
                if (!host.hasOwnProperty('hostUuid')) {
                    host.hostUuid = Handler.hostUUID++;
                }
                if (!!args) {
                    Handler.handler_cache[i].args = args;
                }
                else {
                    !!Handler.handler_cache[i].args ? Handler.handler_cache[i].args.length = 0 : Handler.handler_cache[i].args = [];
                }
                Handler.handler_cache[i].once = isOnce;
                return Handler.handler_cache[i];
            }
        }
        var handler = new (Handler.bind.apply(Handler, __spreadArrays([void 0, fun, host, isOnce], args)))();
        if (!host.hasOwnProperty('hostUuid')) {
            host.hostUuid = Handler.hostUUID++;
        }
        Handler.handler_cache.push(handler);
        return handler;
    };
    /**
     * 释放当前host上的所有handler
     * @param host
     */
    Handler.releaseByHost = function (host) {
        if (!!host) {
            var len = Handler.handler_cache.length;
            for (var i = 0; i < len; i++) {
                if (!!Handler.handler_cache[i].host) {
                    if (host.hostUuid === Handler.handler_cache[i].host.hostUuid) {
                        Handler.handler_cache[i].active = false;
                        Handler.handler_cache[i].host = null;
                        Handler.handler_cache[i].callBack = null;
                    }
                }
            }
        }
    };
    /**
     * 是否host 当前正在拥有这个handler
     * @param host
     */
    Handler.prototype.isHostOwn = function (host) {
        if (!!host && host.hasOwnProperty('hostUuid')) {
            if (!!this.host) {
                if (this.host.hostUuid === host.hostUuid) {
                    return true;
                }
            }
        }
        return false;
    };
    /**
     * 调用handler
     * @param args
     */
    Handler.prototype.call = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        if (!!this.host) {
            for (var i = 0; i < this.args.length; i++) {
                args.push(this.args[i]);
            }
            var result = this.callBack.apply(this.host, args);
            if (this.once) {
                this.active = false;
                this.callBack = null;
                this.host = null;
            }
            return result;
        }
        else {
            cc.error("handler 调用时 this 对象不存在:" + this.callBack);
        }
    };
    Handler.prototype.equal = function (handler) {
        if (!!handler && this.id === handler.id) {
            return true;
        }
        return false;
    };
    /**
     * 释放当前handler
     */
    Handler.prototype.release = function () {
        this.host = null;
        this.callBack = null;
        this.args.length = 0;
        this.active = false;
    };
    Handler.index = 0;
    Handler.handler_cache = [];
    Handler.hostUUID = 1000;
    return Handler;
}());
exports.default = Handler;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL2Jhc2UvSGFuZGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtJQVlJLGlCQUFvQixHQUFZLEVBQUMsSUFBUSxFQUFDLElBQW1CO1FBQW5CLHFCQUFBLEVBQUEsV0FBbUI7UUFBQyxjQUFPO2FBQVAsVUFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTztZQUFQLDZCQUFPOztRQVA3RCxXQUFNLEdBQVcsSUFBSSxDQUFDO1FBUTFCLElBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxFQUFFLEdBQUcsT0FBTyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0ksY0FBTSxHQUFiLFVBQWMsR0FBWSxFQUFDLElBQVEsRUFBQyxNQUFvQjtRQUFwQix1QkFBQSxFQUFBLGFBQW9CO1FBQUMsY0FBTzthQUFQLFVBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU87WUFBUCw2QkFBTzs7UUFDNUQsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUM7UUFDdkMsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFDdEI7WUFDSSxJQUFHLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQ25DO2dCQUNJLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztnQkFDdkMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEdBQUcs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SUFoSWMsYUFBSyxHQUFVLENBQUMsQ0FBQztJQUNqQixxQkFBYSxHQUFrQixFQUFFLENBQUM7SUFDbEMsZ0JBQVEsR0FBVSxJQUFJLENBQUM7SUErSDFDLGNBQUM7Q0F6SUQsQUF5SUMsSUFBQTtrQkF6SW9CLE9BQU8iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGFuZGxlclxyXG57XHJcbiAgICBwcml2YXRlIGNhbGxCYWNrOkZ1bmN0aW9uO1xyXG4gICAgcHJpdmF0ZSBob3N0OmFueTtcclxuICAgIHByaXZhdGUgYXJnczpBcnJheTxhbnk+O1xyXG4gICAgcHJpdmF0ZSBhY3RpdmU6Ym9vbGVhbiA9IHRydWU7XHJcbiAgICBwcml2YXRlIGlkOm51bWJlcjtcclxuICAgIHByaXZhdGUgb25jZTpib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5kZXg6bnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgc3RhdGljIGhhbmRsZXJfY2FjaGU6QXJyYXk8SGFuZGxlcj4gPSBbXTtcclxuICAgIHByaXZhdGUgc3RhdGljIGhvc3RVVUlEOm51bWJlciA9IDEwMDA7XHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihmdW46RnVuY3Rpb24saG9zdDphbnksb25jZTpib29sZWFuID0gdHJ1ZSwuLi5hcmdzKXtcclxuICAgICAgICB0aGlzLmNhbGxCYWNrID0gZnVuO1xyXG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XHJcbiAgICAgICAgdGhpcy5hcmdzID0gYXJncztcclxuICAgICAgICB0aGlzLm9uY2UgPSBvbmNlO1xyXG4gICAgICAgIHRoaXMuaWQgPSBIYW5kbGVyLmluZGV4ICsgMTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIm+W7uuWbnuiwg+WPpeafhFxyXG4gICAgICogQHBhcmFtIGZ1biDlm57osIPlh73mlbBcclxuICAgICAqIEBwYXJhbSBob3N0IOWHveaVsOaMh+WQkVxyXG4gICAgICogQHBhcmFtIGlzT25jZSDmmK/lkKbosIPnlKjkuIDmrKHlkI7ph4rmlL5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNyZWF0ZShmdW46RnVuY3Rpb24saG9zdDphbnksaXNPbmNlOmJvb2xlYW49IHRydWUsLi4uYXJncyl7XHJcbiAgICAgICAgbGV0IGxlbiA9IEhhbmRsZXIuaGFuZGxlcl9jYWNoZS5sZW5ndGg7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgbGVuOyBpKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKCFIYW5kbGVyLmhhbmRsZXJfY2FjaGVbaV0uYWN0aXZlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIEhhbmRsZXIuaGFuZGxlcl9jYWNoZVtpXS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIEhhbmRsZXIuaGFuZGxlcl9jYWNoZVtpXS5jYWxsQmFjayA9IGZ1bjtcclxuICAgICAgICAgICAgICAgICAgICBIYW5kbGVyLmhhbmRsZXJfY2FjaGVbaV0uaG9zdCA9IGhvc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFob3N0Lmhhc093blByb3BlcnR5KCdob3N0VXVpZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3QuaG9zdFV1aWQgPSBIYW5kbGVyLmhvc3RVVUlEKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCEhYXJncylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhhbmRsZXIuaGFuZGxlcl9jYWNoZVtpXS5hcmdzID0gYXJncztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgISFIYW5kbGVyLmhhbmRsZXJfY2FjaGVbaV0uYXJncyA/IEhhbmRsZXIuaGFuZGxlcl9jYWNoZVtpXS5hcmdzLmxlbmd0aCA9IDAgOiBIYW5kbGVyLmhhbmRsZXJfY2FjaGVbaV0uYXJncyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBIYW5kbGVyLmhhbmRsZXJfY2FjaGVbaV0ub25jZSA9IGlzT25jZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSGFuZGxlci5oYW5kbGVyX2NhY2hlW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBoYW5kbGVyID0gbmV3IEhhbmRsZXIoZnVuLGhvc3QsaXNPbmNlLC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICBpZiAoIWhvc3QuaGFzT3duUHJvcGVydHkoJ2hvc3RVdWlkJykpIHtcclxuICAgICAgICAgICAgICAgIGhvc3QuaG9zdFV1aWQgPSBIYW5kbGVyLmhvc3RVVUlEKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgSGFuZGxlci5oYW5kbGVyX2NhY2hlLnB1c2goaGFuZGxlcik7XHJcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVyO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDph4rmlL7lvZPliY1ob3N05LiK55qE5omA5pyJaGFuZGxlclxyXG4gICAgICogQHBhcmFtIGhvc3QgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZWxlYXNlQnlIb3N0KGhvc3Q6YW55KXtcclxuICAgICAgICBpZiAoISFob3N0KSB7XHJcbiAgICAgICAgICAgIGxldCBsZW4gPSBIYW5kbGVyLmhhbmRsZXJfY2FjaGUubGVuZ3RoO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEhSGFuZGxlci5oYW5kbGVyX2NhY2hlW2ldLmhvc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdC5ob3N0VXVpZCA9PT0gSGFuZGxlci5oYW5kbGVyX2NhY2hlW2ldLmhvc3QuaG9zdFV1aWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSGFuZGxlci5oYW5kbGVyX2NhY2hlW2ldLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIYW5kbGVyLmhhbmRsZXJfY2FjaGVbaV0uaG9zdCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhhbmRsZXIuaGFuZGxlcl9jYWNoZVtpXS5jYWxsQmFjayA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmK/lkKZob3N0IOW9k+WJjeato+WcqOaLpeaciei/meS4qmhhbmRsZXJcclxuICAgICAqIEBwYXJhbSBob3N0IFxyXG4gICAgICovXHJcbiAgICBpc0hvc3RPd24oaG9zdClcclxuICAgIHtcclxuICAgICAgICBpZiAoISFob3N0ICYmIGhvc3QuaGFzT3duUHJvcGVydHkoJ2hvc3RVdWlkJykpIHtcclxuICAgICAgICAgICAgaWYgKCEhdGhpcy5ob3N0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ob3N0Lmhvc3RVdWlkID09PSBob3N0Lmhvc3RVdWlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6LCD55SoaGFuZGxlclxyXG4gICAgICogQHBhcmFtIGFyZ3MgXHJcbiAgICAgKi9cclxuICAgIGNhbGwoLi4uYXJncylcclxuICAgIHtcclxuICAgICAgICBpZighIXRoaXMuaG9zdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hcmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2godGhpcy5hcmdzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5jYWxsQmFjay5hcHBseSh0aGlzLmhvc3QsYXJncyk7XHJcbiAgICAgICAgICAgIGlmKHRoaXMub25jZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FsbEJhY2sgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3N0ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjYy5lcnJvcihcImhhbmRsZXIg6LCD55So5pe2IHRoaXMg5a+56LGh5LiN5a2Y5ZyoOlwiK3RoaXMuY2FsbEJhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZXF1YWwoaGFuZGxlcjpIYW5kbGVyKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghIWhhbmRsZXIgJiYgdGhpcy5pZCA9PT0gaGFuZGxlci5pZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6YeK5pS+5b2T5YmNaGFuZGxlclxyXG4gICAgICovXHJcbiAgICByZWxlYXNlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmhvc3QgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2FsbEJhY2sgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYXJncy5sZW5ndGggPSAwO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/ui/effect/FadeUIEffect.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4bbbbXHPUZBeaWRJIeUNPAv', 'FadeUIEffect');
// src/framework/ui/effect/FadeUIEffect.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var BaseUIEffect_1 = require("../BaseUIEffect");
var FadeUIEffect = /** @class */ (function (_super) {
    __extends(FadeUIEffect, _super);
    function FadeUIEffect() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FadeUIEffect.prototype.run = function (node, time, isOpen, handler) {
        time = time || this.time;
        if (isOpen) {
            node.opacity = 0;
            node.runAction(cc.sequence(cc.fadeTo(time, 255), cc.callFunc(function () { if (!!handler) {
                handler.call(node);
            } })));
        }
        else {
            node.runAction(cc.sequence(cc.fadeIn(time), cc.callFunc(function () { if (!!handler) {
                handler.call(node);
            } })));
        }
    };
    return FadeUIEffect;
}(BaseUIEffect_1.default));
exports.default = FadeUIEffect;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3VpL2VmZmVjdC9GYWRlVUlFZmZlY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZ0RBQTJDO0FBRzNDO0lBQTBDLGdDQUFZO0lBQXREOztJQWVBLENBQUM7SUFiRywwQkFBRyxHQUFILFVBQUksSUFBWSxFQUFDLElBQVcsRUFBQyxNQUFjLEVBQUMsT0FBZTtRQUV2RCxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDekIsSUFBRyxNQUFNLEVBQ1Q7WUFDSSxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztZQUNqQixJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUMsR0FBRyxDQUFDLEVBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBRSxjQUFNLElBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBQztnQkFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQUUsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUM7U0FDaEg7YUFFRDtZQUNJLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUUsY0FBTSxJQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUM7Z0JBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUFFLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDO1NBQzVHO0lBQ0wsQ0FBQztJQUNMLG1CQUFDO0FBQUQsQ0FmQSxBQWVDLENBZnlDLHNCQUFZLEdBZXJEIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VVSUVmZmVjdCBmcm9tIFwiLi4vQmFzZVVJRWZmZWN0XCI7XHJcbmltcG9ydCBIYW5kbGVyIGZyb20gXCIuLi8uLi9iYXNlL0hhbmRsZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZhZGVVSUVmZmVjdCBleHRlbmRzIEJhc2VVSUVmZmVjdHtcclxuICAgIFxyXG4gICAgcnVuKG5vZGU6Y2MuTm9kZSx0aW1lOm51bWJlcixpc09wZW46Ym9vbGVhbixoYW5kbGVyOkhhbmRsZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGltZSA9IHRpbWUgfHwgdGhpcy50aW1lO1xyXG4gICAgICAgIGlmKGlzT3BlbilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5vZGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmZhZGVUbyh0aW1lLDI1NSksY2MuY2FsbEZ1bmMoICgpPT57IGlmKCEhaGFuZGxlcil7IGhhbmRsZXIuY2FsbChub2RlKTsgfSB9ICkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZmFkZUluKHRpbWUpLGNjLmNhbGxGdW5jKCAoKT0+eyBpZighIWhhbmRsZXIpeyBoYW5kbGVyLmNhbGwobm9kZSk7IH0gfSApKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/com/AlertTips.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '707acqvQdNCVYVyaN4vhOfy', 'AlertTips');
// src/game/com/AlertTips.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var AlertTips = /** @class */ (function (_super) {
    __extends(AlertTips, _super);
    function AlertTips() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.label = null;
        return _this;
        // update (dt) {}
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    AlertTips.prototype.start = function () {
    };
    AlertTips.prototype.setTips = function (tips) {
        this.label.string = tips;
    };
    AlertTips.prototype.getTips = function () {
        return this.label.string;
    };
    __decorate([
        property(cc.Label)
    ], AlertTips.prototype, "label", void 0);
    AlertTips = __decorate([
        ccclass
    ], AlertTips);
    return AlertTips;
}(cc.Component));
exports.default = AlertTips;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9jb20vQWxlcnRUaXBzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTVFLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQXVDLDZCQUFZO0lBQW5EO1FBQUEscUVBbUJDO1FBaEJHLFdBQUssR0FBYSxJQUFJLENBQUM7O1FBZXZCLGlCQUFpQjtJQUNyQixDQUFDO0lBZEcsd0JBQXdCO0lBRXhCLGVBQWU7SUFFZix5QkFBSyxHQUFMO0lBRUEsQ0FBQztJQUNELDJCQUFPLEdBQVAsVUFBUSxJQUFZO1FBQ2hCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQTtJQUM1QixDQUFDO0lBQ0QsMkJBQU8sR0FBUDtRQUNJLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFDN0IsQ0FBQztJQWREO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7NENBQ0k7SUFITixTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBbUI3QjtJQUFELGdCQUFDO0NBbkJELEFBbUJDLENBbkJzQyxFQUFFLENBQUMsU0FBUyxHQW1CbEQ7a0JBbkJvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFsZXJ0VGlwcyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbGFiZWw6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICAvLyBvbkxvYWQgKCkge31cclxuXHJcbiAgICBzdGFydCgpIHtcclxuXHJcbiAgICB9XHJcbiAgICBzZXRUaXBzKHRpcHM6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMubGFiZWwuc3RyaW5nID0gdGlwc1xyXG4gICAgfVxyXG4gICAgZ2V0VGlwcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sYWJlbC5zdHJpbmc7XHJcbiAgICB9XHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/cashier/CashierView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ada74+01chKAJm1ElXiMxj5', 'CashierView');
// src/game/view/cashier/CashierView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var ComponentHelper_1 = require("../../../framework/tools/ComponentHelper");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var Global_1 = require("../../consts/Global");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 自助服务界面
 * TODO:
 * 需要才成功观看广告后，监听FINISH_AD_AUTOSERVICE事件，并将主界面的自助服务时间延长当前等级对应的时长
 */
var CashierView = /** @class */ (function (_super) {
    __extends(CashierView, _super);
    function CashierView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.icon = null;
        _this.btn_hideClick = null;
        _this.btn_add = null;
        _this.btn_lvUp = null;
        _this.btn_close = null;
        _this.numLb = null;
        _this.timeLb = null;
        _this.proLb = null;
        _this.descLb = null;
        _this.pro = null;
        _this.lastTime = 0;
        return _this;
    }
    CashierView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_lvUp, this.onLvUp, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        this.initUI();
    };
    CashierView.prototype.onLoad = function () {
        this.btnVideo = this.btn_add.getChildByName("videoIcon");
        this.btnLb = this.btn_add.getChildByName("contentLabel").getComponent(cc.Label);
    };
    CashierView.prototype.startShow = function () {
    };
    CashierView.prototype.initUI = function () {
        var _this = this;
        this.proLb.string = PlayerModel_1.default.cashierGold + "/" + ConfigManager_1.default.getCashierMax();
        this.numLb.string = "x" + ConfigManager_1.default.cashier_one;
        this.lastTime = ConfigManager_1.default.cashier_add_times * 60 - Math.floor((new Date().getTime() / 1000 - PlayerModel_1.default.getAddLastTime()));
        if (this.lastTime > 0) {
            this.btnLb.node.x = 0;
            this.btnVideo.active = false;
            this.btnLb.string = "3倍加速中";
            this.btn_hideClick.active = true;
            this.numLb.string = "x" + ConfigManager_1.default.cashier_one * 3;
        }
        else {
            this.resetVideoBtn();
        }
        var lv = PlayerModel_1.default.getUIConfig().cashierlv;
        MkUtils_1.default.loadSpriteFrame("texture/prop/cashier/icon/" + ("0" + lv), function (res) {
            _this.icon.spriteFrame = res;
        });
    };
    CashierView.prototype.resetVideoBtn = function () {
        this.btn_hideClick.active = false;
        this.timeLb.string = "3分钟";
        this.btnLb.string = "3倍加速";
        this.btnLb.node.x = 48;
        this.btnVideo.active = true;
    };
    CashierView.prototype.onLvUp = function () {
        UIMananger_1.default.showPanel(UIType_1.default.LvUpView, null, null, UIEffectManager_1.UIEffectType.SCALE, 3);
        this.onBtnCloseHandle();
    };
    CashierView.prototype.update = function (dt) {
        this.lastTime -= dt;
        if (this.lastTime > 0) {
            ComponentHelper_1.default.labelTimeSs(this.timeLb.node, this.lastTime);
        }
        else {
            this.resetVideoBtn();
            // this.btn_add.interactable = true;
        }
        this.pro.progress = PlayerModel_1.default.cashierGold / ConfigManager_1.default.getCashierMax();
        this.proLb.string = PlayerModel_1.default.cashierGold + "/" + ConfigManager_1.default.getCashierMax();
        if (PlayerModel_1.default.cashierGold >= ConfigManager_1.default.getCashierMax()) {
            // this.btn_add.interactable = false;
            this.descLb.string = "今日产出已达上限，急需升级收银台";
        }
        else {
            this.descLb.string = "收银台正在源源不断产出钞票";
        }
    };
    CashierView.prototype.onBtnShowAd = function () {
        if (PlayerModel_1.default.cashierGold >= ConfigManager_1.default.getCashierMax()) {
            MkUtils_1.default.alertTips("今日产出已达上限");
            return;
        }
        // if (PlayerModel.getAutoServiceLeftTimes() <= 0) {
        //     MKUtils.alertTips("今日自动服务已达上限，请明日继续使用");
        //     return;
        // }
        EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        SDKManager_1.default.showAd(Global_1.default.VIDEO_CONFIG.video10);
    };
    CashierView.prototype.onVideoBack = function () {
        this.isVideoClose = true;
        MkUtils_1.default.alertTips("收银台3倍加速中");
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        EventDispath_1.default.send(EventType_1.EventType.CASHIER_ADD_MULTIPLE);
        this.onBtnCloseHandle();
    };
    CashierView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Sprite)
    ], CashierView.prototype, "icon", void 0);
    __decorate([
        property(cc.Node)
    ], CashierView.prototype, "btn_hideClick", void 0);
    __decorate([
        property(cc.Node)
    ], CashierView.prototype, "btn_add", void 0);
    __decorate([
        property(cc.Node)
    ], CashierView.prototype, "btn_lvUp", void 0);
    __decorate([
        property(cc.Node)
    ], CashierView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Label)
    ], CashierView.prototype, "numLb", void 0);
    __decorate([
        property(cc.Label)
    ], CashierView.prototype, "timeLb", void 0);
    __decorate([
        property(cc.Label)
    ], CashierView.prototype, "proLb", void 0);
    __decorate([
        property(cc.Label)
    ], CashierView.prototype, "descLb", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], CashierView.prototype, "pro", void 0);
    CashierView = __decorate([
        ccclass
    ], CashierView);
    return CashierView;
}(BasePanel_1.default));
exports.default = CashierView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L2Nhc2hpZXIvQ2FzaGllclZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsb0VBQStEO0FBQy9ELDhFQUEwRTtBQUMxRSxvRUFBK0Q7QUFDL0Qsd0VBQW1FO0FBQ25FLGtFQUFpRTtBQUNqRSw0RUFBdUU7QUFDdkUsNERBQXVEO0FBQ3ZELDZEQUF3RDtBQUN4RCw4Q0FBeUM7QUFDekMsOENBQXlDO0FBQ3pDLHVEQUFrRDtBQUNsRCw2REFBd0Q7QUFFbEQsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFFNUM7Ozs7R0FJRztBQUVIO0lBQXlDLCtCQUFTO0lBQWxEO1FBQUEscUVBcUhDO1FBbkhHLFVBQUksR0FBYyxJQUFJLENBQUM7UUFFdkIsbUJBQWEsR0FBWSxJQUFJLENBQUM7UUFFOUIsYUFBTyxHQUFZLElBQUksQ0FBQztRQUV4QixjQUFRLEdBQVksSUFBSSxDQUFDO1FBRXpCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFFMUIsV0FBSyxHQUFhLElBQUksQ0FBQztRQUV2QixZQUFNLEdBQWEsSUFBSSxDQUFDO1FBRXhCLFdBQUssR0FBYSxJQUFJLENBQUM7UUFFdkIsWUFBTSxHQUFhLElBQUksQ0FBQztRQUV4QixTQUFHLEdBQW1CLElBQUksQ0FBQztRQUkzQixjQUFRLEdBQUcsQ0FBQyxDQUFDOztJQTZGakIsQ0FBQztJQTVGRyw4QkFBUSxHQUFSO1FBQ0ksS0FBSztRQUNMLHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdELHNC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SGpEO2tCQXJIb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IENvbXBvbmVudEhlbHBlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL0NvbXBvbmVudEhlbHBlclwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IEJhc2VQYW5lbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3VpL0Jhc2VQYW5lbFwiO1xyXG5pbXBvcnQgR2xvYmFsIGZyb20gXCIuLi8uLi9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0cy9VSVR5cGVcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuLyoqXHJcbiAqIOiHquWKqeacjeWKoeeVjOmdolxyXG4gKiBUT0RPOlxyXG4gKiDpnIDopoHmiY3miJDlip/op4LnnIvlub/lkYrlkI7vvIznm5HlkKxGSU5JU0hfQURfQVVUT1NFUlZJQ0Xkuovku7bvvIzlubblsIbkuLvnlYzpnaLnmoToh6rliqnmnI3liqHml7bpl7Tlu7bplb/lvZPliY3nrYnnuqflr7nlupTnmoTml7bplb9cclxuICovXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhc2hpZXJWaWV3IGV4dGVuZHMgQmFzZVBhbmVsIHtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBpY29uOiBjYy5TcHJpdGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5faGlkZUNsaWNrOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2FkZDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9sdlVwOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2Nsb3NlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG51bUxiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB0aW1lTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHByb0xiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBkZXNjTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Qcm9ncmVzc0JhcilcclxuICAgIHBybzogY2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xyXG5cclxuICAgIGJ0blZpZGVvOiBjYy5Ob2RlO1xyXG4gICAgYnRuTGI6IGNjLkxhYmVsO1xyXG4gICAgbGFzdFRpbWUgPSAwO1xyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8g6YCA5Ye6XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2Nsb3NlLCB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUsIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5fbHZVcCwgdGhpcy5vbkx2VXAsIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5vblZpZGVvQmFjaywgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgb25Mb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYnRuVmlkZW8gPSB0aGlzLmJ0bl9hZGQuZ2V0Q2hpbGRCeU5hbWUoXCJ2aWRlb0ljb25cIik7XHJcbiAgICAgICAgdGhpcy5idG5MYiA9IHRoaXMuYnRuX2FkZC5nZXRDaGlsZEJ5TmFtZShcImNvbnRlbnRMYWJlbFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgfVxyXG4gICAgc3RhcnRTaG93KCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBpbml0VUkoKSB7XHJcbiAgICAgICAgdGhpcy5wcm9MYi5zdHJpbmcgPSBQbGF5ZXJNb2RlbC5jYXNoaWVyR29sZCArIFwiL1wiICsgQ29uZmlnTWFuYWdlci5nZXRDYXNoaWVyTWF4KCk7XHJcbiAgICAgICAgdGhpcy5udW1MYi5zdHJpbmcgPSBcInhcIiArIENvbmZpZ01hbmFnZXIuY2FzaGllcl9vbmU7XHJcblxyXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBDb25maWdNYW5hZ2VyLmNhc2hpZXJfYWRkX3RpbWVzICogNjAgLSBNYXRoLmZsb29yKChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDAgLSBQbGF5ZXJNb2RlbC5nZXRBZGRMYXN0VGltZSgpKSk7XHJcbiAgICAgICAgaWYgKHRoaXMubGFzdFRpbWUgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuTGIubm9kZS54ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5idG5WaWRlby5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5idG5MYi5zdHJpbmcgPSBcIjPlgI3liqDpgJ/kuK1cIlxyXG4gICAgICAgICAgICB0aGlzLmJ0bl9oaWRlQ2xpY2suYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5udW1MYi5zdHJpbmcgPSBcInhcIiArIENvbmZpZ01hbmFnZXIuY2FzaGllcl9vbmUgKiAzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRWaWRlb0J0bigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGx2ID0gUGxheWVyTW9kZWwuZ2V0VUlDb25maWcoKS5jYXNoaWVybHY7XHJcbiAgICAgICAgTUtVdGlscy5sb2FkU3ByaXRlRnJhbWUoXCJ0ZXh0dXJlL3Byb3AvY2FzaGllci9pY29uL1wiICsgYDAke2x2fWAsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pY29uLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVzZXRWaWRlb0J0bigpIHtcclxuICAgICAgICB0aGlzLmJ0bl9oaWRlQ2xpY2suYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50aW1lTGIuc3RyaW5nID0gXCIz5YiG6ZKfXCI7XHJcbiAgICAgICAgdGhpcy5idG5MYi5zdHJpbmcgPSBcIjPlgI3liqDpgJ9cIlxyXG4gICAgICAgIHRoaXMuYnRuTGIubm9kZS54ID0gNDg7XHJcbiAgICAgICAgdGhpcy5idG5WaWRlby5hY3RpdmUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgb25MdlVwKCkge1xyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5MdlVwVmlldywgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCAzKTtcclxuICAgICAgICB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUoKTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCB1cGRhdGUoZHQ6IG51bWJlcik6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLmxhc3RUaW1lIC09IGR0O1xyXG4gICAgICAgIGlmICh0aGlzLmxhc3RUaW1lID4gMCkge1xyXG4gICAgICAgICAgICBDb21wb25lbnRIZWxwZXIubGFiZWxUaW1lU3ModGhpcy50aW1lTGIubm9kZSwgdGhpcy5sYXN0VGltZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldFZpZGVvQnRuKCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuYnRuX2FkZC5pbnRlcmFjdGFibGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnByby5wcm9ncmVzcyA9IFBsYXllck1vZGVsLmNhc2hpZXJHb2xkIC8gQ29uZmlnTWFuYWdlci5nZXRDYXNoaWVyTWF4KCk7XHJcbiAgICAgICAgdGhpcy5wcm9MYi5zdHJpbmcgPSBQbGF5ZXJNb2RlbC5jYXNoaWVyR29sZCArIFwiL1wiICsgQ29uZmlnTWFuYWdlci5nZXRDYXNoaWVyTWF4KCk7XHJcbiAgICAgICAgaWYgKFBsYXllck1vZGVsLmNhc2hpZXJHb2xkID49IENvbmZpZ01hbmFnZXIuZ2V0Q2FzaGllck1heCgpKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuYnRuX2FkZC5pbnRlcmFjdGFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kZXNjTGIuc3RyaW5nID0gXCLku4rml6Xkuqflh7rlt7Lovr7kuIrpmZDvvIzmgKXpnIDljYfnuqfmlLbpk7blj7BcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NMYi5zdHJpbmcgPSBcIuaUtumTtuWPsOato+WcqOa6kOa6kOS4jeaWreS6p+WHuumSnuelqFwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkJ0blNob3dBZCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoUGxheWVyTW9kZWwuY2FzaGllckdvbGQgPj0gQ29uZmlnTWFuYWdlci5nZXRDYXNoaWVyTWF4KCkpIHtcclxuICAgICAgICAgICAgTUtVdGlscy5hbGVydFRpcHMoXCLku4rml6Xkuqflh7rlt7Lovr7kuIrpmZBcIilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiAoUGxheWVyTW9kZWwuZ2V0QXV0b1NlcnZpY2VMZWZ0VGltZXMoKSA8PSAwKSB7XHJcbiAgICAgICAgLy8gICAgIE1LVXRpbHMuYWxlcnRUaXBzKFwi5LuK5pel6Ieq5Yqo5pyN5Yqh5bey6L6+5LiK6ZmQ77yM6K+35piO5pel57un57ut5L2/55SoXCIpO1xyXG4gICAgICAgIC8vICAgICByZXR1cm47XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5WSURFT19CQUNLLCB0aGlzLm9uVmlkZW9CYWNrLCB0aGlzKTtcclxuICAgICAgICBTREtNYW5hZ2VyLnNob3dBZChHbG9iYWwuVklERU9fQ09ORklHLnZpZGVvMTApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVmlkZW9CYWNrKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaXNWaWRlb0Nsb3NlID0gdHJ1ZTtcclxuICAgICAgICBNS1V0aWxzLmFsZXJ0VGlwcyhcIuaUtumTtuWPsDPlgI3liqDpgJ/kuK1cIilcclxuICAgICAgICBFdmVudERpc3BhdGgucmVtb3ZlQnlFdmVudChFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5vblZpZGVvQmFjaywgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkNBU0hJRVJfQUREX01VTFRJUExFKTtcclxuICAgICAgICB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkJ0bkNsb3NlSGFuZGxlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/Loading.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c3e9eEzkHlPB4Ff4UQ3r1OX', 'Loading');
// src/game/Loading.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var Handler_1 = require("../framework/base/Handler");
var DataManager_1 = require("../framework/manager/DataManager");
var LoaderManager_1 = require("../framework/manager/LoaderManager");
var SDKManager_1 = require("../framework/manager/SDKManager");
var NResponer_1 = require("../framework/message/NResponer");
var MkUtils_1 = require("../framework/tools/MkUtils");
var LoaderType_1 = require("./consts/LoaderType");
var UIType_1 = require("./consts/UIType");
var PlayerModel_1 = require("./datas/PlayerModel");
var ConfigManager_1 = require("./manager/ConfigManager");
var Message_1 = require("./view/Message");
cc.macro.CLEANUP_IMAGE_CACHE = false;
cc.dynamicAtlasManager.enabled = true;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Loading = /** @class */ (function (_super) {
    __extends(Loading, _super);
    function Loading() {
        // LIFE-CYCLE CALLBACKS:
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.loadingBar = null;
        return _this;
        // update (dt) {}
    }
    Loading.prototype.onLoad = function () {
        var _this = this;
        SDKManager_1.default.onStartGame(0);
        LoaderType_1.default.initConfig();
        UIType_1.default.init();
        NResponer_1.default.on(Message_1.Message.configComplete, Handler_1.default.create(function () {
            // UIMananger.showView(UIType.mainView);
        }, this), this);
        ConfigManager_1.default.init();
        this.loadingBar.node.active = true;
        this.loadingBar.progress = 0;
        var backup = cc.loader.onProgress;
        cc.loader.onProgress = function (count, amount) {
            this.loadingBar.progress = count / amount;
        }.bind(this);
        DataManager_1.default.init();
        cc.director.preloadScene("main", function () {
            cc.loader.onProgress = backup;
            _this.loadingBar.node.active = false;
            _this.initDataSuccess();
        });
        var gameView = UIType_1.default.gameView;
        LoaderManager_1.default.loaderPrefab(gameView.uname, Handler_1.default.create(function (res) {
        }, this), gameView.mname);
    };
    Loading.prototype.start = function () {
        MkUtils_1.default.setStatsColor(cc.Color.RED);
        cc.game.setFrameRate(60);
        this.initData();
        // ConfigManager.loadGameZipJson("immotalJsonZip", Global.JSON_FILE.split("|"), function () {
        //     this.initDataSuccess();
        // }.bind(this), true)
    };
    Loading.prototype.initData = function () {
        // PlayerModel.loadData();
    };
    Loading.prototype.initDataSuccess = function () {
        PlayerModel_1.default.initUiCfg();
        PlayerModel_1.default.loadData();
        // this.scheduleOnce(() => {
        //     cc.director.loadScene("main");
        // }, 0.1);
        cc.director.loadScene("main");
        console.log("查看分辨率", JSON.stringify(cc.winSize));
    };
    __decorate([
        property(cc.ProgressBar)
    ], Loading.prototype, "loadingBar", void 0);
    Loading = __decorate([
        ccclass
    ], Loading);
    return Loading;
}(cc.Component));
exports.default = Loading;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9Mb2FkaW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFEQUFnRDtBQUNoRCxnRUFBMkQ7QUFDM0Qsb0VBQStEO0FBQy9ELDhEQUF5RDtBQUV6RCw0REFBdUQ7QUFDdkQsc0RBQWlEO0FBRWpELGtEQUE2QztBQUM3QywwQ0FBcUM7QUFDckMsbURBQThDO0FBQzlDLHlEQUFvRDtBQUNwRCwwQ0FBeUM7QUFFekMsRUFBRSxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsR0FBRyxLQUFLLENBQUM7QUFDckMsRUFBRSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7QUFDaEMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBcUMsMkJBQVk7SUFBakQ7UUFDSSx3QkFBd0I7UUFENUIscUVBOERDO1FBMURHLGdCQUFVLEdBQW1CLElBQUksQ0FBQzs7UUF5RGxDLGlCQUFpQjtJQUNyQixDQUFDO0lBeERHLHdCQUFNLEdBQU47UUFBQSxpQkEyQkM7UUF6Qkcsb0JBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUIsb0JBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN4QixnQkFBTSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2QsbUJBQVMsQ0FBQyxFQUFFLENBQUMsaUJBQU8sQ0FBQyxjQUFjLEVBQUUsaUJBQU8sQ0FBQyxNQUFNLENBQUM7WUFDaEQsd0NBQXdDO1FBQzVDLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoQix1QkFBYSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDbkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQzdCLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDO1FBQ2xDLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLFVBQVUsS0FBSyxFQUFFLE1BQU07WUFDMUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEdBQUcsS0FBSyxHQUFHLE1BQU0sQ0FBQztRQUM5QyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRWIscUJBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUVuQixFQUFFLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUU7WUFDN0IsRUFBRSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDO1lBQzlCLEtBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDcEMsS0FBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQzNCLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxRQUFRLEdBQUcsZ0JBQU0sQ0FBQyxRQUFRLENBQUM7UUFDL0IsdUJBQWEsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxpQkFBTyxDQUFDLE1BQU0sQ0FBQyxVQUFDLEdBQUc7UUFDOUQsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRUQsdUJBQUssR0FBTDtRQUVJLGlCQUFPLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFcEMsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2hCLDZGQUE2RjtRQUM3Riw4QkFBOEI7UUFDOUIsc0JBQXNCO0lBQzFCLENBQUM7SUFFTywwQkFBUSxHQUFoQjtRQUNJLDBCQUEwQjtJQUM5QixDQUFDO0lBRUQsaUNBQWUsR0FBZjtRQUVJLHFCQUFXLENBQUMsU0FBUyxFQUFFLENBQUM7UUFFeEIscUJBQVcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUN2Qiw0QkFBNEI7UUFDNUIscUNBQXFDO1FBQ3JDLFdBQVc7UUFDWCxFQUFFLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM5QixPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUF4REQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzsrQ0FDUztJQUpqQixPQUFPO1FBRDNCLE9BQU87T0FDYSxPQUFPLENBOEQzQjtJQUFELGNBQUM7Q0E5REQsQUE4REMsQ0E5RG9DLEVBQUUsQ0FBQyxTQUFTLEdBOERoRDtrQkE5RG9CLE9BQU8iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSGFuZGxlciBmcm9tIFwiLi4vZnJhbWV3b3JrL2Jhc2UvSGFuZGxlclwiO1xyXG5pbXBvcnQgRGF0YU1hbmFnZXIgZnJvbSBcIi4uL2ZyYW1ld29yay9tYW5hZ2VyL0RhdGFNYW5hZ2VyXCI7XHJcbmltcG9ydCBMb2FkZXJNYW5hZ2VyIGZyb20gXCIuLi9mcmFtZXdvcmsvbWFuYWdlci9Mb2FkZXJNYW5hZ2VyXCI7XHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCBVSU1hbmFuZ2VyIGZyb20gXCIuLi9mcmFtZXdvcmsvbWFuYWdlci9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCBOUmVzcG9uZXIgZnJvbSBcIi4uL2ZyYW1ld29yay9tZXNzYWdlL05SZXNwb25lclwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IEdsb2JhbCBmcm9tIFwiLi9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCBMb2FkZXJUeXBlIGZyb20gXCIuL2NvbnN0cy9Mb2FkZXJUeXBlXCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4vY29uc3RzL1VJVHlwZVwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IENvbmZpZ01hbmFnZXIgZnJvbSBcIi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tIFwiLi92aWV3L01lc3NhZ2VcIjtcclxuXHJcbmNjLm1hY3JvLkNMRUFOVVBfSU1BR0VfQ0FDSEUgPSBmYWxzZTtcclxuY2MuZHluYW1pY0F0bGFzTWFuYWdlci5lbmFibGVkID0gdHJ1ZTtcclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRpbmcgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlByb2dyZXNzQmFyKVxyXG4gICAgbG9hZGluZ0JhcjogY2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xyXG5cclxuICAgIG9uTG9hZCgpIHtcclxuXHJcbiAgICAgICAgU0RLTWFuYWdlci5vblN0YXJ0R2FtZSgwKTtcclxuXHJcbiAgICAgICAgTG9hZGVyVHlwZS5pbml0Q29uZmlnKCk7XHJcbiAgICAgICAgVUlUeXBlLmluaXQoKTtcclxuICAgICAgICBOUmVzcG9uZXIub24oTWVzc2FnZS5jb25maWdDb21wbGV0ZSwgSGFuZGxlci5jcmVhdGUoKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBVSU1hbmFuZ2VyLnNob3dWaWV3KFVJVHlwZS5tYWluVmlldyk7XHJcbiAgICAgICAgfSwgdGhpcyksIHRoaXMpO1xyXG4gICAgICAgIENvbmZpZ01hbmFnZXIuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMubG9hZGluZ0Jhci5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nQmFyLnByb2dyZXNzID0gMDtcclxuICAgICAgICBsZXQgYmFja3VwID0gY2MubG9hZGVyLm9uUHJvZ3Jlc3M7XHJcbiAgICAgICAgY2MubG9hZGVyLm9uUHJvZ3Jlc3MgPSBmdW5jdGlvbiAoY291bnQsIGFtb3VudCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdCYXIucHJvZ3Jlc3MgPSBjb3VudCAvIGFtb3VudDtcclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcblxyXG4gICAgICAgIERhdGFNYW5hZ2VyLmluaXQoKTtcclxuXHJcbiAgICAgICAgY2MuZGlyZWN0b3IucHJlbG9hZFNjZW5lKFwibWFpblwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNjLmxvYWRlci5vblByb2dyZXNzID0gYmFja3VwO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdCYXIubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5pbml0RGF0YVN1Y2Nlc3MoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgZ2FtZVZpZXcgPSBVSVR5cGUuZ2FtZVZpZXc7XHJcbiAgICAgICAgTG9hZGVyTWFuYWdlci5sb2FkZXJQcmVmYWIoZ2FtZVZpZXcudW5hbWUsIEhhbmRsZXIuY3JlYXRlKChyZXMpID0+IHtcclxuICAgICAgICB9LCB0aGlzKSwgZ2FtZVZpZXcubW5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG5cclxuICAgICAgICBNS1V0aWxzLnNldFN0YXRzQ29sb3IoY2MuQ29sb3IuUkVEKTtcclxuXHJcbiAgICAgICAgY2MuZ2FtZS5zZXRGcmFtZVJhdGUoNjApO1xyXG4gICAgICAgIHRoaXMuaW5pdERhdGEoKTtcclxuICAgICAgICAvLyBDb25maWdNYW5hZ2VyLmxvYWRHYW1lWmlwSnNvbihcImltbW90YWxKc29uWmlwXCIsIEdsb2JhbC5KU09OX0ZJTEUuc3BsaXQoXCJ8XCIpLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuaW5pdERhdGFTdWNjZXNzKCk7XHJcbiAgICAgICAgLy8gfS5iaW5kKHRoaXMpLCB0cnVlKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdERhdGEoKSB7XHJcbiAgICAgICAgLy8gUGxheWVyTW9kZWwubG9hZERhdGEoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0RGF0YVN1Y2Nlc3MoKSB7XHJcblxyXG4gICAgICAgIFBsYXllck1vZGVsLmluaXRVaUNmZygpO1xyXG5cclxuICAgICAgICBQbGF5ZXJNb2RlbC5sb2FkRGF0YSgpO1xyXG4gICAgICAgIC8vIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcclxuICAgICAgICAvLyAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKFwibWFpblwiKTtcclxuICAgICAgICAvLyB9LCAwLjEpO1xyXG4gICAgICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZShcIm1haW5cIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLmn6XnnIvliIbovqjnjodcIiwgSlNPTi5zdHJpbmdpZnkoY2Mud2luU2l6ZSkpO1xyXG4gICAgfVxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/consts/LoaderType.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6f458ZAWxtG2r021kEgJxgl', 'LoaderType');
// src/game/consts/LoaderType.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ModuleType = void 0;
var LoaderManager_1 = require("../../framework/manager/LoaderManager");
var ModuleType;
(function (ModuleType) {
    ModuleType["commonRes"] = "commonRes";
    ModuleType["gameRes"] = "gameRes";
})(ModuleType = exports.ModuleType || (exports.ModuleType = {}));
var LoaderType = /** @class */ (function () {
    function LoaderType() {
    }
    //命名规则 texture 统一 用 res 当后缀，prefab无特殊后缀
    LoaderType.initConfig = function () {
        var key;
        //prefab
        for (key in this.prefabs) {
            LoaderManager_1.default.setModuleConfig(this.prefabs[key]);
        }
        //textures
        for (key in this.textures) {
            LoaderManager_1.default.setModuleConfig(this.textures[key]);
        }
        //config
        LoaderManager_1.default.setModuleConfig(this.config);
    };
    /**
     * 添加UI加载模块
     */
    LoaderType.addUIModule = function (data) {
        if (!!data) {
            data.url = this.UIURL + data.mname;
            LoaderManager_1.default.setModuleConfig(data);
        }
    };
    LoaderType.UIURL = "prefab/";
    LoaderType.textures = {
        'commonRes': { mname: 'commonRes', url: 'texture/common', isRelease: false },
        'gameRes': { mname: 'gameRes', url: 'texture/itemIcon1', isRelease: false },
    };
    LoaderType.prefabs = {
        itemIcon: { mname: 'itemIcon', url: 'prefab/main', isRelease: true },
    };
    LoaderType.config = { mname: 'config', url: 'config', isRelease: true };
    return LoaderType;
}());
exports.default = LoaderType;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9jb25zdHMvTG9hZGVyVHlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx1RUFBa0Y7QUFDbEYsSUFBWSxVQUlYO0FBSkQsV0FBWSxVQUFVO0lBQ2xCLHFDQUF1QixDQUFBO0lBQ3ZCLGlDQUFtQixDQUFBO0FBRXZCLENBQUMsRUFKVyxVQUFVLEdBQVYsa0JBQVUsS0FBVixrQkFBVSxRQUlyQjtBQUNEO0lBQUE7SUEyQ0EsQ0FBQztJQTlCRyx1Q0FBdUM7SUFDaEMscUJBQVUsR0FBakI7UUFDSSxJQUFJLEdBQUcsQ0FBQztRQUNSLFFBQVE7UUFDUixLQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUN2QjtZQUNJLHVCQUFhLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUNwRDtRQUVELFVBQVU7UUFDVixLQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFDO1lBQ3JCLHVCQUFhLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUNyRDtRQUVELFFBQVE7UUFDUix1QkFBYSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFL0MsQ0FBQztJQUVEOztPQUVHO0lBQ0ksc0JBQVcsR0FBbEIsVUFBbUIsSUFBSTtRQUVuQixJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUU7WUFDUixJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUNuQyx1QkFBYSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN2QztJQUVMLENBQUM7SUF6Q00sZ0JBQUssR0FBWSxTQUFTLENBQUM7SUFDM0IsbUJBQVEsR0FBRztRQUNkLFdBQVcsRUFBQyxFQUFDLEtBQUssRUFBQyxXQUFXLEVBQUMsR0FBRyxFQUFDLGdCQUFnQixFQUFDLFNBQVMsRUFBQyxLQUFLLEVBQUM7UUFDcEUsU0FBUyxFQUFDLEVBQUMsS0FBSyxFQUFDLFNBQVMsRUFBQyxHQUFHLEVBQUMsbUJBQW1CLEVBQUMsU0FBUyxFQUFDLEtBQUssRUFBQztLQUN0RSxDQUFBO0lBRU0sa0JBQU8sR0FBRztRQUNiLFFBQVEsRUFBQyxFQUFDLEtBQUssRUFBQyxVQUFVLEVBQUMsR0FBRyxFQUFDLGFBQWEsRUFBQyxTQUFTLEVBQUMsSUFBSSxFQUFDO0tBQy9ELENBQUE7SUFFTSxpQkFBTSxHQUFHLEVBQUMsS0FBSyxFQUFDLFFBQVEsRUFBQyxHQUFHLEVBQUMsUUFBUSxFQUFDLFNBQVMsRUFBQyxJQUFJLEVBQUMsQ0FBQTtJQWdDaEUsaUJBQUM7Q0EzQ0QsQUEyQ0MsSUFBQTtrQkEzQ29CLFVBQVUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9hZGVyTWFuYWdlciwgeyBtb2R1bGVEYXRhIH0gZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL0xvYWRlck1hbmFnZXJcIjtcclxuZXhwb3J0IGVudW0gTW9kdWxlVHlwZSB7XHJcbiAgICBjb21tb25SZXMgPSBcImNvbW1vblJlc1wiLFxyXG4gICAgZ2FtZVJlcyA9ICdnYW1lUmVzJyxcclxuICAgIFxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRlclR5cGUge1xyXG4gICAgc3RhdGljIFVJVVJMIDpzdHJpbmcgPSAgXCJwcmVmYWIvXCI7XHJcbiAgICBzdGF0aWMgdGV4dHVyZXMgPSB7XHJcbiAgICAgICAgJ2NvbW1vblJlcyc6e21uYW1lOidjb21tb25SZXMnLHVybDondGV4dHVyZS9jb21tb24nLGlzUmVsZWFzZTpmYWxzZX0sXHJcbiAgICAgICAgJ2dhbWVSZXMnOnttbmFtZTonZ2FtZVJlcycsdXJsOid0ZXh0dXJlL2l0ZW1JY29uMScsaXNSZWxlYXNlOmZhbHNlfSxcclxuICAgIH1cclxuICAgIFxyXG4gICAgc3RhdGljIHByZWZhYnMgPSB7XHJcbiAgICAgICAgaXRlbUljb246e21uYW1lOidpdGVtSWNvbicsdXJsOidwcmVmYWIvbWFpbicsaXNSZWxlYXNlOnRydWV9LFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjb25maWcgPSB7bW5hbWU6J2NvbmZpZycsdXJsOidjb25maWcnLGlzUmVsZWFzZTp0cnVlfVxyXG5cclxuICAgIC8v5ZG95ZCN6KeE5YiZIHRleHR1cmUg57uf5LiAIOeUqCByZXMg5b2T5ZCO57yA77yMcHJlZmFi5peg54m55q6K5ZCO57yAXHJcbiAgICBzdGF0aWMgaW5pdENvbmZpZygpe1xyXG4gICAgICAgIGxldCBrZXk7XHJcbiAgICAgICAgLy9wcmVmYWJcclxuICAgICAgICBmb3Ioa2V5IGluIHRoaXMucHJlZmFicylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIExvYWRlck1hbmFnZXIuc2V0TW9kdWxlQ29uZmlnKHRoaXMucHJlZmFic1trZXldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vdGV4dHVyZXNcclxuICAgICAgICBmb3Ioa2V5IGluIHRoaXMudGV4dHVyZXMpe1xyXG4gICAgICAgICAgICBMb2FkZXJNYW5hZ2VyLnNldE1vZHVsZUNvbmZpZyh0aGlzLnRleHR1cmVzW2tleV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jb25maWdcclxuICAgICAgICBMb2FkZXJNYW5hZ2VyLnNldE1vZHVsZUNvbmZpZyh0aGlzLmNvbmZpZyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5re75YqgVUnliqDovb3mqKHlnZdcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFkZFVJTW9kdWxlKGRhdGEpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKCEhZGF0YSkge1xyXG4gICAgICAgICAgICBkYXRhLnVybCA9IHRoaXMuVUlVUkwgKyBkYXRhLm1uYW1lO1xyXG4gICAgICAgICAgICBMb2FkZXJNYW5hZ2VyLnNldE1vZHVsZUNvbmZpZyhkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/manager/EffectManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '02b31nAW5lCxqeiXU1dH2M0', 'EffectManager');
// src/game/manager/EffectManager.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var JSHelper_1 = require("../../framework/helper/JSHelper");
var UIMananger_1 = require("../../framework/manager/UIMananger");
var EventDispath_1 = require("../../framework/message/EventDispath");
var EventType_1 = require("../../framework/message/EventType");
var MkUtils_1 = require("../../framework/tools/MkUtils");
var EffectManager = /** @class */ (function () {
    function EffectManager() {
        this.init();
    }
    EffectManager.instance = function () {
        if (!this._instance) {
            this._instance = new EffectManager();
        }
        return this._instance;
    };
    EffectManager.prototype.init = function () {
        this.nodePool = new cc.NodePool();
        for (var i = 0; i < 100; i++) {
            var node = new cc.Node();
            node.addComponent(cc.Sprite);
            this.nodePool.put(node);
        }
    };
    EffectManager.prototype.getNode = function () {
        var node = this.nodePool.get();
        if (!node) {
            node = new cc.Node();
            node.addComponent(cc.Sprite);
            this.nodePool.put(node);
        }
        return node;
    };
    /**
     * 植物收获动画
     * @param startPos
     * @param id
     * @param count
     * @param cb
     */
    EffectManager.prototype.playCrop = function (startPos, id, count, cb) {
        if (!count) {
            count = 8;
        }
        var self = this;
        var nodeList = [];
        var _loop_1 = function (index) {
            var goodsNodeName = "warehouse";
            var goodsNode = MkUtils_1.default.findNodeByName(cc.director.getScene(), goodsNodeName);
            if (goodsNode) {
                var node_1 = this_1.getNode();
                var sprite_1 = node_1.getComponent(cc.Sprite);
                nodeList.push(node_1);
                var imgUrl = "texture/crop/singleIcon/" + id;
                MkUtils_1.default.loadSpriteFrame(imgUrl, function (spriteFrame) {
                    sprite_1.spriteFrame = spriteFrame;
                    cc.director.getScene().addChild(node_1, 200);
                    node_1.setPosition(startPos);
                    var scale = MkUtils_1.default.randomNMF(1.5, 2);
                    node_1.setScale(scale);
                    var endWorldPos = goodsNode.convertToWorldSpaceAR(cc.v2(0, 0));
                    var endNodePos = cc.v2(endWorldPos.x - 80, endWorldPos.y - 100);
                    var dis = MkUtils_1.default.twoPointDistance(endNodePos, node_1.getPosition());
                    // let xPos = MKUtils.randomNM(-200, 200)
                    // let yPos = MKUtils.randomNM(-200, 200)
                    // let xPos1 = MKUtils.randomNM(-200, 200)
                    // let yPos1 = MKUtils.randomNM(-200, 200)
                    // let bezier = [cc.v2(startPos.x + xPos, startPos.y + yPos), cc.v2(endNodePos.x + xPos1, endNodePos.y + yPos1), endNodePos];
                    // node.runAction(cc.sequence(
                    //     cc.moveBy(0.2, cc.v2(-5, 5)).easing(cc.easeOut(4.0)),
                    //     cc.delayTime(0.2),
                    //     cc.bezierTo(dis / 800, bezier).easing(cc.easeOut(1.0)),
                    //     cc.scaleTo(0.1, 1.2),
                    //     cc.scaleTo(0.1, 1),
                    //     cc.callFunc(() => {
                    //         if (index == count - 1) {
                    //             cb && cb();
                    //         }
                    //     }),
                    //     cc.destroySelf()
                    // ))
                    var xPos = MkUtils_1.default.randomNM(-50, 50);
                    var yPos = MkUtils_1.default.randomNM(-50, 50);
                    node_1.runAction(cc.sequence(cc.moveBy(0.3, cc.v2(xPos, yPos)).easing(cc.easeOut(4.0)), cc.delayTime(0.1 * index), cc.moveTo(dis / 1200, endNodePos).easing(cc.easeOut(1.0)), cc.scaleTo(0.1, 1.2), cc.scaleTo(0.1, 1), cc.callFunc(function () {
                        if (index == count - 1) {
                            cb && cb();
                            for (var i = 0; i < nodeList.length; i++) {
                                self.nodePool.put(nodeList[i]);
                            }
                        }
                    })));
                }.bind(this_1));
            }
        };
        var this_1 = this;
        // JSHelper.playEffect("reward_normal", false, true);
        for (var index = 0; index < count; index++) {
            _loop_1(index);
        }
    };
    // 飞金币
    EffectManager.prototype.playCoinFly = function (startPos, coinType, moneyNum, count, cb) {
        if (coinType === void 0) { coinType = 1; }
        if (moneyNum === void 0) { moneyNum = 0; }
        if (cb === void 0) { cb = null; }
        if (!count) {
            count = 10;
        }
        if (coinType == 1) {
            JSHelper_1.default.playEffect("reward_money");
        }
        else if (coinType == 2) {
            JSHelper_1.default.playEffect("reward_gold");
        }
        var self = this;
        var num = 0;
        var nodeList = [];
        var _loop_2 = function (index) {
            var goodsNodeName = "imgMoney";
            if (coinType == 2) {
                goodsNodeName = "imgGold";
            }
            else if (coinType == 3) {
                goodsNodeName = "imgMyd";
            }
            var goodsNode = MkUtils_1.default.findNodeByName(cc.director.getScene(), goodsNodeName);
            if (goodsNode) {
                var node_2 = this_2.getNode();
                var sprite_2 = node_2.getComponent(cc.Sprite);
                nodeList.push(node_2);
                var imgUrl = "texture/common/icon_money";
                if (coinType == 2) {
                    imgUrl = "texture/common/icon_gold";
                }
                else if (coinType == 3) {
                    imgUrl = "texture/common/icon_xfzs";
                }
                MkUtils_1.default.loadSpriteFrame(imgUrl, function (spriteFrame) {
                    sprite_2.spriteFrame = spriteFrame;
                    cc.director.getScene().addChild(node_2, 200);
                    node_2.setPosition(startPos);
                    var scale = MkUtils_1.default.randomNMF(0.8, 1.2);
                    node_2.setScale(scale);
                    var endWorldPos = goodsNode.convertToWorldSpaceAR(cc.v2(0, 0));
                    var endNodePos = endWorldPos;
                    var dis = MkUtils_1.default.twoPointDistance(endNodePos, node_2.getPosition());
                    // if (coinType == 1) {
                    //     let xPos = MKUtils.randomNM(-200, 200)
                    //     let yPos = MKUtils.randomNM(-200, 200)
                    //     let xPos1 = MKUtils.randomNM(-200, 200)
                    //     let yPos1 = MKUtils.randomNM(-200, 200)
                    //     let bezier = [cc.v2(startPos.x + xPos, startPos.y + yPos), cc.v2(endNodePos.x + xPos1, endNodePos.y + yPos1), endNodePos];
                    //     node.runAction(cc.sequence(
                    //         cc.moveBy(0.2, cc.v2(-5, 5)).easing(cc.easeOut(4.0)),
                    //         cc.delayTime(0.2),
                    //         cc.bezierTo(dis / 800, bezier).easing(cc.easeOut(1.0)),
                    //         cc.scaleTo(0.1, 1.2),
                    //         cc.scaleTo(0.1, 1),
                    //         cc.callFunc(() => {
                    //             if (index == count - 1) {
                    //                 cb && cb();
                    //                 EventDispath.send(EventType.UPDATE_MONEY, moneyNum);
                    //             }
                    //         }),
                    //         cc.destroySelf()
                    //     ))
                    // } else {
                    var xPos = MkUtils_1.default.randomNM(-150, 150);
                    var yPos = MkUtils_1.default.randomNM(-150, 150);
                    num++;
                    var delayTime = 0.1 + num * 0.05;
                    node_2.runAction(cc.sequence(cc.moveBy(0.5, cc.v2(xPos, yPos)).easing(cc.easeBackInOut()), 
                    // cc.moveBy(delayTime+0.2, cc.v2(xPos, yPos)).easing(cc.easeBackInOut()),
                    // cc.moveBy(0.4, cc.v2(xPos, yPos)).easing(cc.easeOut(4.0)),
                    cc.delayTime(delayTime), cc.moveTo(dis / 1500, endNodePos).easing(cc.easeOut(1.0)), cc.scaleTo(0.1, 1.2), cc.scaleTo(0.1, 1), cc.callFunc(function () {
                        if (index == count - 1) {
                            cb && cb();
                            for (var i = 0; i < nodeList.length; i++) {
                                self.nodePool.put(nodeList[i]);
                            }
                            if (coinType == 1)
                                EventDispath_1.default.send(EventType_1.EventType.UPDATE_MONEY, moneyNum);
                            else if (coinType == 2)
                                EventDispath_1.default.send(EventType_1.EventType.UPDATE_GOLD, moneyNum);
                            else
                                EventDispath_1.default.send(EventType_1.EventType.UPDATE_XFZS, moneyNum);
                        }
                    })));
                    // }
                }.bind(this_2));
            }
        };
        var this_2 = this;
        for (var index = 0; index < count; index++) {
            _loop_2(index);
        }
    };
    // 场景层和UI层中间层特效
    EffectManager.prototype.playEffFly = function (startPos, coinType, moneyNum, count, cb) {
        if (coinType === void 0) { coinType = 2; }
        if (moneyNum === void 0) { moneyNum = 0; }
        if (cb === void 0) { cb = null; }
        if (!count) {
            count = 10;
        }
        // if (coinType == 1) {
        //     JSHelper.playEffect("reward_money");
        // } else if (coinType == 2) {
        //     JSHelper.playEffect("reward_gold");
        // }
        startPos = UIMananger_1.default.effLayer.convertToNodeSpaceAR(startPos);
        var self = this;
        var nodeList = [];
        var num = 0;
        var _loop_3 = function (index) {
            var goodsNodeName = "imgMoney";
            if (coinType == 2) {
                goodsNodeName = "imgGold";
            }
            else if (coinType == 3) {
                goodsNodeName = "imgMyd";
            }
            var goodsNode = MkUtils_1.default.findNodeByName(cc.director.getScene(), goodsNodeName);
            if (goodsNode) {
                var node_3 = this_3.getNode();
                var sprite_3 = node_3.getComponent(cc.Sprite);
                nodeList.push(node_3);
                var imgUrl = "texture/common/icon_money";
                if (coinType == 2) {
                    imgUrl = "texture/common/icon_gold";
                }
                else if (coinType == 3) {
                    imgUrl = "texture/common/icon_xfzs";
                }
                MkUtils_1.default.loadSpriteFrame(imgUrl, function (spriteFrame) {
                    sprite_3.spriteFrame = spriteFrame;
                    UIMananger_1.default.effLayer.addChild(node_3, 200);
                    node_3.setPosition(startPos);
                    var scale = MkUtils_1.default.randomNMF(0.8, 1.2);
                    node_3.setScale(scale);
                    var endWorldPos = goodsNode.convertToWorldSpaceAR(cc.v2(0, 0));
                    var endNodePos = UIMananger_1.default.effLayer.convertToNodeSpaceAR(endWorldPos);
                    var dis = MkUtils_1.default.twoPointDistance(endNodePos, node_3.getPosition());
                    if (coinType == 2) {
                        var xPos = MkUtils_1.default.randomNM(-200, 200);
                        var yPos = MkUtils_1.default.randomNM(-200, 200);
                        var xPos1 = MkUtils_1.default.randomNM(-200, 200);
                        var yPos1 = MkUtils_1.default.randomNM(-200, 200);
                        var bezier = [cc.v2(startPos.x + xPos, startPos.y + yPos), cc.v2(endNodePos.x + xPos1, endNodePos.y + yPos1), endNodePos];
                        node_3.runAction(cc.sequence(cc.moveBy(0.2, cc.v2(-5, 5)).easing(cc.easeOut(4.0)), cc.delayTime(0.2), cc.bezierTo(dis / 800, bezier).easing(cc.easeOut(1.0)), cc.scaleTo(0.1, 1.2), cc.scaleTo(0.1, 1), cc.callFunc(function () {
                            if (index == count - 1) {
                                cb && cb();
                                for (var i = 0; i < nodeList.length; i++) {
                                    self.nodePool.put(nodeList[i]);
                                }
                                if (coinType == 2)
                                    EventDispath_1.default.send(EventType_1.EventType.UPDATE_GOLD, moneyNum);
                                else
                                    EventDispath_1.default.send(EventType_1.EventType.UPDATE_XFZS, moneyNum);
                            }
                        })));
                    }
                    else {
                        var xPos = MkUtils_1.default.randomNM(-150, 150);
                        var yPos = MkUtils_1.default.randomNM(-150, 150);
                        num++;
                        var delayTime = 0.1 + num * 0.05;
                        node_3.runAction(cc.sequence(cc.moveBy(0.5, cc.v2(xPos, yPos)).easing(cc.easeBackInOut()), 
                        // cc.moveBy(delayTime+0.2, cc.v2(xPos, yPos)).easing(cc.easeBackInOut()),
                        // cc.moveBy(0.4, cc.v2(xPos, yPos)).easing(cc.easeOut(4.0)),
                        cc.delayTime(delayTime), cc.moveTo(dis / 1500, endNodePos).easing(cc.easeOut(1.0)), cc.scaleTo(0.1, 1.2), cc.scaleTo(0.1, 1), cc.callFunc(function () {
                            if (index == count - 1) {
                                cb && cb();
                                for (var i = 0; i < nodeList.length; i++) {
                                    self.nodePool.put(nodeList[i]);
                                }
                                EventDispath_1.default.send(EventType_1.EventType.UPDATE_MONEY, moneyNum);
                            }
                        })));
                    }
                }.bind(this_3));
            }
        };
        var this_3 = this;
        for (var index = 0; index < count; index++) {
            _loop_3(index);
        }
    };
    EffectManager.prototype.guidePlay = function (node) {
        // node.runAction()
    };
    EffectManager.prototype.guideStop = function (node) {
    };
    return EffectManager;
}());
exports.default = EffectManager.instance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9tYW5hZ2VyL0VmZmVjdE1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw0REFBdUQ7QUFDdkQsaUVBQTREO0FBQzVELHFFQUFnRTtBQUNoRSwrREFBOEQ7QUFDOUQseURBQW9EO0FBRXBEO0lBR0k7UUFDSSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEIsQ0FBQztJQUVNLHNCQUFRLEdBQWY7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUVqQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksYUFBYSxFQUFFLENBQUM7U0FDeEM7UUFDRCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFFMUIsQ0FBQztJQUlPLDRCQUFJLEdBQVo7UUFDSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2xDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDMUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUE7WUFDeEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDNUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDM0I7SUFDTCxDQUFDO0lBRUQsK0JBQU8sR0FBUDtRQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDL0IsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNQLElBQUksR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtZQUNwQixJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUM1QixJQUFJLENBQUMsUUFBUSxDQUFDLEdB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LCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKU0hlbHBlciBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL2hlbHBlci9KU0hlbHBlclwiO1xyXG5pbXBvcnQgVUlNYW5hbmdlciBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlNYW5hbmdlclwiO1xyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50VHlwZVwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuXHJcbmNsYXNzIEVmZmVjdE1hbmFnZXIge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBFZmZlY3RNYW5hZ2VyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpbnN0YW5jZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBFZmZlY3RNYW5hZ2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbm9kZVBvb2w6IGNjLk5vZGVQb29sO1xyXG5cclxuICAgIHByaXZhdGUgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLm5vZGVQb29sID0gbmV3IGNjLk5vZGVQb29sKCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbm9kZSA9IG5ldyBjYy5Ob2RlKClcclxuICAgICAgICAgICAgbm9kZS5hZGRDb21wb25lbnQoY2MuU3ByaXRlKVxyXG4gICAgICAgICAgICB0aGlzLm5vZGVQb29sLnB1dChub2RlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Tm9kZSgpIHtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMubm9kZVBvb2wuZ2V0KCk7XHJcbiAgICAgICAgaWYgKCFub2RlKSB7XHJcbiAgICAgICAgICAgIG5vZGUgPSBuZXcgY2MuTm9kZSgpXHJcbiAgICAgICAgICAgIG5vZGUuYWRkQ29tcG9uZW50KGNjLlNwcml0ZSlcclxuICAgICAgICAgICAgdGhpcy5ub2RlUG9vbC5wdXQobm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5qSN54mp5pS26I635Yqo55S7XHJcbiAgICAgKiBAcGFyYW0gc3RhcnRQb3MgXHJcbiAgICAgKiBAcGFyYW0gaWQgXHJcbiAgICAgKiBAcGFyYW0gY291bnQgXHJcbiAgICAgKiBAcGFyYW0gY2IgXHJcbiAgICAgKi9cclxuICAgIHBsYXlDcm9wKHN0YXJ0UG9zLCBpZCwgY291bnQ/LCBjYj86IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgaWYgKCFjb3VudCkge1xyXG4gICAgICAgICAgICBjb3VudCA9IDg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBsZXQgbm9kZUxpc3QgPSBbXTtcclxuICAgICAgICAvLyBKU0hlbHBlci5wbGF5RWZmZWN0KFwicmV3YXJkX25vcm1hbFwiLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNvdW50OyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGxldCBnb29kc05vZGVOYW1lID0gXCJ3YXJlaG91c2VcIlxyXG4gICAgICAgICAgICBsZXQgZ29vZHNOb2RlOiBjYy5Ob2RlID0gTUtVdGlscy5maW5kTm9kZUJ5TmFtZShjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLCBnb29kc05vZGVOYW1lKVxyXG4gICAgICAgICAgICBpZiAoZ29vZHNOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMuZ2V0Tm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwcml0ZSA9IG5vZGUuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSlcclxuICAgICAgICAgICAgICAgIG5vZGVMaXN0LnB1c2gobm9kZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGltZ1VybCA9IGB0ZXh0dXJlL2Nyb3Avc2luZ2xlSWNvbi8ke2lkfWBcclxuICAgICAgICAgICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKGltZ1VybCwgZnVuY3Rpb24gKHNwcml0ZUZyYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNwcml0ZUZyYW1lID0gc3ByaXRlRnJhbWVcclxuICAgICAgICAgICAgICAgICAgICBjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLmFkZENoaWxkKG5vZGUsIDIwMClcclxuICAgICAgICAgICAgICAgICAgICBub2RlLnNldFBvc2l0aW9uKHN0YXJ0UG9zKVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNjYWxlID0gTUtVdGlscy5yYW5kb21OTUYoMS41LCAyKVxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0U2NhbGUoc2NhbGUpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmRXb3JsZFBvcyA9IGdvb2RzTm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoMCwgMCkpXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVuZE5vZGVQb3MgPSBjYy52MihlbmRXb3JsZFBvcy54IC0gODAsIGVuZFdvcmxkUG9zLnkgLSAxMDApXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpcyA9IE1LVXRpbHMudHdvUG9pbnREaXN0YW5jZShlbmROb2RlUG9zLCBub2RlLmdldFBvc2l0aW9uKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IHhQb3MgPSBNS1V0aWxzLnJhbmRvbU5NKC0yMDAsIDIwMClcclxuICAgICAgICAgICAgICAgICAgICAvLyBsZXQgeVBvcyA9IE1LVXRpbHMucmFuZG9tTk0oLTIwMCwgMjAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCB4UG9zMSA9IE1LVXRpbHMucmFuZG9tTk0oLTIwMCwgMjAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCB5UG9zMSA9IE1LVXRpbHMucmFuZG9tTk0oLTIwMCwgMjAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCBiZXppZXIgPSBbY2MudjIoc3RhcnRQb3MueCArIHhQb3MsIHN0YXJ0UG9zLnkgKyB5UG9zKSwgY2MudjIoZW5kTm9kZVBvcy54ICsgeFBvczEsIGVuZE5vZGVQb3MueSArIHlQb3MxKSwgZW5kTm9kZVBvc107XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNjLm1vdmVCeSgwLjIsIGNjLnYyKC01LCA1KSkuZWFzaW5nKGNjLmVhc2VPdXQoNC4wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNjLmRlbGF5VGltZSgwLjIpLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjYy5iZXppZXJUbyhkaXMgLyA4MDAsIGJlemllcikuZWFzaW5nKGNjLmVhc2VPdXQoMS4wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNjLnNjYWxlVG8oMC4xLCAxLjIpLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBjYy5zY2FsZVRvKDAuMSwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNjLmNhbGxGdW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmIChpbmRleCA9PSBjb3VudCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBjYiAmJiBjYigpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY2MuZGVzdHJveVNlbGYoKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICkpXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHhQb3MgPSBNS1V0aWxzLnJhbmRvbU5NKC01MCwgNTApXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHlQb3MgPSBNS1V0aWxzLnJhbmRvbU5NKC01MCwgNTApXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5tb3ZlQnkoMC4zLCBjYy52Mih4UG9zLCB5UG9zKSkuZWFzaW5nKGNjLmVhc2VPdXQoNC4wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLmRlbGF5VGltZSgwLjEgKiBpbmRleCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLm1vdmVUbyhkaXMgLyAxMjAwLCBlbmROb2RlUG9zKS5lYXNpbmcoY2MuZWFzZU91dCgxLjApKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2Muc2NhbGVUbygwLjEsIDEuMiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4xLCAxKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09IGNvdW50IC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiICYmIGNiKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm5vZGVQb29sLnB1dChub2RlTGlzdFtpXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNjLmRlc3Ryb3lTZWxmKClcclxuICAgICAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8g6aOe6YeR5biBXHJcbiAgICBwbGF5Q29pbkZseShzdGFydFBvczogY2MuVmVjMiwgY29pblR5cGUgPSAxLCBtb25leU51bSA9IDAsIGNvdW50PzogbnVtYmVyLCBjYjogRnVuY3Rpb24gPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKCFjb3VudCkge1xyXG4gICAgICAgICAgICBjb3VudCA9IDEwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29pblR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICBKU0hlbHBlci5wbGF5RWZmZWN0KFwicmV3YXJkX21vbmV5XCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY29pblR5cGUgPT0gMikge1xyXG4gICAgICAgICAgICBKU0hlbHBlci5wbGF5RWZmZWN0KFwicmV3YXJkX2dvbGRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBsZXQgbnVtID0gMDtcclxuICAgICAgICBsZXQgbm9kZUxpc3QgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY291bnQ7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgbGV0IGdvb2RzTm9kZU5hbWUgPSBcImltZ01vbmV5XCJcclxuICAgICAgICAgICAgaWYgKGNvaW5UeXBlID09IDIpIHtcclxuICAgICAgICAgICAgICAgIGdvb2RzTm9kZU5hbWUgPSBcImltZ0dvbGRcIlxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvaW5UeXBlID09IDMpIHtcclxuICAgICAgICAgICAgICAgIGdvb2RzTm9kZU5hbWUgPSBcImltZ015ZFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGdvb2RzTm9kZTogY2MuTm9kZSA9IE1LVXRpbHMuZmluZE5vZGVCeU5hbWUoY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKSwgZ29vZHNOb2RlTmFtZSlcclxuICAgICAgICAgICAgaWYgKGdvb2RzTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSB0aGlzLmdldE5vZGUoKTtcclxuICAgICAgICAgICAgICAgIGxldCBzcHJpdGUgPSBub2RlLmdldENvbXBvbmVudChjYy5TcHJpdGUpXHJcbiAgICAgICAgICAgICAgICBub2RlTGlzdC5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGltZ1VybCA9IFwidGV4dHVyZS9jb21tb24vaWNvbl9tb25leVwiXHJcbiAgICAgICAgICAgICAgICBpZiAoY29pblR5cGUgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGltZ1VybCA9IFwidGV4dHVyZS9jb21tb24vaWNvbl9nb2xkXCJcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29pblR5cGUgPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIGltZ1VybCA9IFwidGV4dHVyZS9jb21tb24vaWNvbl94ZnpzXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKGltZ1VybCwgZnVuY3Rpb24gKHNwcml0ZUZyYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNwcml0ZUZyYW1lID0gc3ByaXRlRnJhbWVcclxuICAgICAgICAgICAgICAgICAgICBjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLmFkZENoaWxkKG5vZGUsIDIwMClcclxuICAgICAgICAgICAgICAgICAgICBub2RlLnNldFBvc2l0aW9uKHN0YXJ0UG9zKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2NhbGUgPSBNS1V0aWxzLnJhbmRvbU5NRigwLjgsIDEuMilcclxuICAgICAgICAgICAgICAgICAgICBub2RlLnNldFNjYWxlKHNjYWxlKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kV29ybGRQb3MgPSBnb29kc05vZGUuY29udmVydFRvV29ybGRTcGFjZUFSKGNjLnYyKDAsIDApKVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmROb2RlUG9zID0gZW5kV29ybGRQb3NcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGlzID0gTUtVdGlscy50d29Qb2ludERpc3RhbmNlKGVuZE5vZGVQb3MsIG5vZGUuZ2V0UG9zaXRpb24oKSlcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAoY29pblR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsZXQgeFBvcyA9IE1LVXRpbHMucmFuZG9tTk0oLTIwMCwgMjAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsZXQgeVBvcyA9IE1LVXRpbHMucmFuZG9tTk0oLTIwMCwgMjAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsZXQgeFBvczEgPSBNS1V0aWxzLnJhbmRvbU5NKC0yMDAsIDIwMClcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGV0IHlQb3MxID0gTUtVdGlscy5yYW5kb21OTSgtMjAwLCAyMDApXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxldCBiZXppZXIgPSBbY2MudjIoc3RhcnRQb3MueCArIHhQb3MsIHN0YXJ0UG9zLnkgKyB5UG9zKSwgY2MudjIoZW5kTm9kZVBvcy54ICsgeFBvczEsIGVuZE5vZGVQb3MueSArIHlQb3MxKSwgZW5kTm9kZVBvc107XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIG5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY2MubW92ZUJ5KDAuMiwgY2MudjIoLTUsIDUpKS5lYXNpbmcoY2MuZWFzZU91dCg0LjApKSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNjLmRlbGF5VGltZSgwLjIpLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY2MuYmV6aWVyVG8oZGlzIC8gODAwLCBiZXppZXIpLmVhc2luZyhjYy5lYXNlT3V0KDEuMCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY2Muc2NhbGVUbygwLjEsIDEuMiksXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBjYy5zY2FsZVRvKDAuMSwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgaWYgKGluZGV4ID09IGNvdW50IC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBjYiAmJiBjYigpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuVVBEQVRFX01PTkVZLCBtb25leU51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBjYy5kZXN0cm95U2VsZigpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICkpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgeFBvcyA9IE1LVXRpbHMucmFuZG9tTk0oLTE1MCwgMTUwKVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB5UG9zID0gTUtVdGlscy5yYW5kb21OTSgtMTUwLCAxNTApXHJcbiAgICAgICAgICAgICAgICAgICAgbnVtKys7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlbGF5VGltZSA9IDAuMSArIG51bSAqIDAuMDU7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLm1vdmVCeSgwLjUsIGNjLnYyKHhQb3MsIHlQb3MpKS5lYXNpbmcoY2MuZWFzZUJhY2tJbk91dCgpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2MubW92ZUJ5KGRlbGF5VGltZSswLjIsIGNjLnYyKHhQb3MsIHlQb3MpKS5lYXNpbmcoY2MuZWFzZUJhY2tJbk91dCgpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2MubW92ZUJ5KDAuNCwgY2MudjIoeFBvcywgeVBvcykpLmVhc2luZyhjYy5lYXNlT3V0KDQuMCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5kZWxheVRpbWUoZGVsYXlUaW1lKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2MubW92ZVRvKGRpcyAvIDE1MDAsIGVuZE5vZGVQb3MpLmVhc2luZyhjYy5lYXNlT3V0KDEuMCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5zY2FsZVRvKDAuMSwgMS4yKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2Muc2NhbGVUbygwLjEsIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gY291bnQgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2IgJiYgY2IoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubm9kZVBvb2wucHV0KG5vZGVMaXN0W2ldKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2luVHlwZSA9PSAxKSBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuVVBEQVRFX01PTkVZLCBtb25leU51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29pblR5cGUgPT0gMikgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlVQREFURV9HT0xELCBtb25leU51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuVVBEQVRFX1hGWlMsIG1vbmV5TnVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyDlnLrmma/lsYLlkoxVSeWxguS4remXtOWxgueJueaViFxyXG4gICAgcGxheUVmZkZseShzdGFydFBvczogY2MuVmVjMiwgY29pblR5cGUgPSAyLCBtb25leU51bSA9IDAsIGNvdW50PzogbnVtYmVyLCBjYjogRnVuY3Rpb24gPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKCFjb3VudCkge1xyXG4gICAgICAgICAgICBjb3VudCA9IDEwO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiAoY29pblR5cGUgPT0gMSkge1xyXG4gICAgICAgIC8vICAgICBKU0hlbHBlci5wbGF5RWZmZWN0KFwicmV3YXJkX21vbmV5XCIpO1xyXG4gICAgICAgIC8vIH0gZWxzZSBpZiAoY29pblR5cGUgPT0gMikge1xyXG4gICAgICAgIC8vICAgICBKU0hlbHBlci5wbGF5RWZmZWN0KFwicmV3YXJkX2dvbGRcIik7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBzdGFydFBvcyA9IFVJTWFuYW5nZXIuZWZmTGF5ZXIuY29udmVydFRvTm9kZVNwYWNlQVIoc3RhcnRQb3MpO1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBsZXQgbm9kZUxpc3QgPSBbXTtcclxuICAgICAgICBsZXQgbnVtID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY291bnQ7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgbGV0IGdvb2RzTm9kZU5hbWUgPSBcImltZ01vbmV5XCJcclxuICAgICAgICAgICAgaWYgKGNvaW5UeXBlID09IDIpIHtcclxuICAgICAgICAgICAgICAgIGdvb2RzTm9kZU5hbWUgPSBcImltZ0dvbGRcIlxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvaW5UeXBlID09IDMpIHtcclxuICAgICAgICAgICAgICAgIGdvb2RzTm9kZU5hbWUgPSBcImltZ015ZFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGdvb2RzTm9kZTogY2MuTm9kZSA9IE1LVXRpbHMuZmluZE5vZGVCeU5hbWUoY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKSwgZ29vZHNOb2RlTmFtZSlcclxuICAgICAgICAgICAgaWYgKGdvb2RzTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSB0aGlzLmdldE5vZGUoKTtcclxuICAgICAgICAgICAgICAgIGxldCBzcHJpdGUgPSBub2RlLmdldENvbXBvbmVudChjYy5TcHJpdGUpXHJcbiAgICAgICAgICAgICAgICBub2RlTGlzdC5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGltZ1VybCA9IFwidGV4dHVyZS9jb21tb24vaWNvbl9tb25leVwiXHJcbiAgICAgICAgICAgICAgICBpZiAoY29pblR5cGUgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGltZ1VybCA9IFwidGV4dHVyZS9jb21tb24vaWNvbl9nb2xkXCJcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29pblR5cGUgPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIGltZ1VybCA9IFwidGV4dHVyZS9jb21tb24vaWNvbl94ZnpzXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKGltZ1VybCwgZnVuY3Rpb24gKHNwcml0ZUZyYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNwcml0ZUZyYW1lID0gc3ByaXRlRnJhbWVcclxuICAgICAgICAgICAgICAgICAgICBVSU1hbmFuZ2VyLmVmZkxheWVyLmFkZENoaWxkKG5vZGUsIDIwMClcclxuICAgICAgICAgICAgICAgICAgICBub2RlLnNldFBvc2l0aW9uKHN0YXJ0UG9zKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2NhbGUgPSBNS1V0aWxzLnJhbmRvbU5NRigwLjgsIDEuMilcclxuICAgICAgICAgICAgICAgICAgICBub2RlLnNldFNjYWxlKHNjYWxlKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kV29ybGRQb3MgPSBnb29kc05vZGUuY29udmVydFRvV29ybGRTcGFjZUFSKGNjLnYyKDAsIDApKVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmROb2RlUG9zID0gVUlNYW5hbmdlci5lZmZMYXllci5jb252ZXJ0VG9Ob2RlU3BhY2VBUihlbmRXb3JsZFBvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpcyA9IE1LVXRpbHMudHdvUG9pbnREaXN0YW5jZShlbmROb2RlUG9zLCBub2RlLmdldFBvc2l0aW9uKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvaW5UeXBlID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHhQb3MgPSBNS1V0aWxzLnJhbmRvbU5NKC0yMDAsIDIwMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHlQb3MgPSBNS1V0aWxzLnJhbmRvbU5NKC0yMDAsIDIwMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHhQb3MxID0gTUtVdGlscy5yYW5kb21OTSgtMjAwLCAyMDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5UG9zMSA9IE1LVXRpbHMucmFuZG9tTk0oLTIwMCwgMjAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmV6aWVyID0gW2NjLnYyKHN0YXJ0UG9zLnggKyB4UG9zLCBzdGFydFBvcy55ICsgeVBvcyksIGNjLnYyKGVuZE5vZGVQb3MueCArIHhQb3MxLCBlbmROb2RlUG9zLnkgKyB5UG9zMSksIGVuZE5vZGVQb3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLm1vdmVCeSgwLjIsIGNjLnYyKC01LCA1KSkuZWFzaW5nKGNjLmVhc2VPdXQoNC4wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5kZWxheVRpbWUoMC4yKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLmJlemllclRvKGRpcyAvIDgwMCwgYmV6aWVyKS5lYXNpbmcoY2MuZWFzZU91dCgxLjApKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4xLCAxLjIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2Muc2NhbGVUbygwLjEsIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSBjb3VudCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2IgJiYgY2IoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub2RlUG9vbC5wdXQobm9kZUxpc3RbaV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29pblR5cGUgPT0gMikgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlVQREFURV9HT0xELCBtb25leU51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlVQREFURV9YRlpTLCBtb25leU51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkpXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHhQb3MgPSBNS1V0aWxzLnJhbmRvbU5NKC0xNTAsIDE1MClcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHlQb3MgPSBNS1V0aWxzLnJhbmRvbU5NKC0xNTAsIDE1MClcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWxheVRpbWUgPSAwLjEgKyBudW0gKiAwLjA1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLm1vdmVCeSgwLjUsIGNjLnYyKHhQb3MsIHlQb3MpKS5lYXNpbmcoY2MuZWFzZUJhY2tJbk91dCgpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNjLm1vdmVCeShkZWxheVRpbWUrMC4yLCBjYy52Mih4UG9zLCB5UG9zKSkuZWFzaW5nKGNjLmVhc2VCYWNrSW5PdXQoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYy5tb3ZlQnkoMC40LCBjYy52Mih4UG9zLCB5UG9zKSkuZWFzaW5nKGNjLmVhc2VPdXQoNC4wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5kZWxheVRpbWUoZGVsYXlUaW1lKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLm1vdmVUbyhkaXMgLyAxNTAwLCBlbmROb2RlUG9zKS5lYXNpbmcoY2MuZWFzZU91dCgxLjApKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4xLCAxLjIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2Muc2NhbGVUbygwLjEsIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSBjb3VudCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2IgJiYgY2IoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ub2RlUG9vbC5wdXQobm9kZUxpc3RbaV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuVVBEQVRFX01PTkVZLCBtb25leU51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGd1aWRlUGxheShub2RlOiBjYy5Ob2RlKSB7XHJcbiAgICAgICAgLy8gbm9kZS5ydW5BY3Rpb24oKVxyXG4gICAgfVxyXG4gICAgZ3VpZGVTdG9wKG5vZGU6IGNjLk5vZGUpIHtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEVmZmVjdE1hbmFnZXIuaW5zdGFuY2UoKTtcclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/datas/PlayerData.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '941b0Q87mVFr5fhAL82Kc/6', 'PlayerData');
// src/game/datas/PlayerData.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var StorageHelper_1 = require("../../framework/helper/StorageHelper");
var MkUtils_1 = require("../../framework/tools/MkUtils");
var SortUtils_1 = require("../../framework/tools/SortUtils");
var Utils_1 = require("../../framework/tools/Utils");
var Global_1 = require("../consts/Global");
var StorageType_1 = require("../consts/StorageType");
var PlayerData = /** @class */ (function () {
    function PlayerData() {
        this.level = 1;
        this.money = 0; //红包钱币数量
        this.gold = 1000; //钞票数量
        this.xfzs = 30; //幸福指数
        this.dayAutoRoleNum = 0; //每天自动招揽人数
        this.soundSwitch = Global_1.default.SOUND_SWITCH_OPEN; //音乐 1开启0关闭
        this.soundYinXiao = Global_1.default.SOUND_YINXIAO_SWITCH_OPEN; //音效 1开启0关闭
        this.personRecommSwitch = Global_1.default.PERSONALRECOMM_SWITCH_OPEN; // 个性推荐开关 1开启0关闭
        this.offlineTimestamp = Math.floor(new Date().getTime() / 1000); // 存储玩游戏的时间戳
        this.guideTaskCfg = {
            taskId: 1,
            taskState: 0 //0未完成，1可领取
        };
        this.cropRipetimes = 0; //作物成熟次数
        this.cropGetNum = 0; //作物收获次数
        this.pestNum = 0; //有害虫的地块数量
        this.unlockCropList = []; //已解锁作物列表
        //初始UI配置
        this.initUIConfig = {
            roadlv: 1,
            walllv: 1,
            cashierlv: 1,
            pipelv: 1,
            fencelv: 1,
            warehouselv: 1,
            scarecrowlv: 1,
            shelvesList: [],
        };
        //初始菜地配置
        this.fieldCfgList = [];
        //初始货架配置
        this.shelvesCfgList = [];
        this.plantNumList = [];
        //仓库配置
        this.WareHouseConfig = {
            lv: 1,
            cropList: []
        };
        this.cashierAddTime = 0;
        // propList: prop_config[] = [
        // ]
        // 已经持有的prop 当前已经持有的propId,包含prop的所有type
        this.hasProps = [];
        // 已经持有的货架id列表
        this.hasShelves = [1];
        // 每日使用自助服务的剩余次数，默认上限是30次，每日0点进行次数进行刷新
        // 当前的日期，用于判断是否需要重置自助服务剩余次数
        this.curDay = MkUtils_1.default.calculNowDayStartTimeStamp();
        this.guideState = 0; //新手引导状态，1是完成
        this.guideStep = 0; //新手引导步骤
        this.zhaolanNum = 0;
        this.cashierGold = 0; //收银台产出金币
        this.lvUp_video_num = {}; //升级看视频次数，key值为物品ID
        this.isFirstClearPest = true; //当日是否第一次除虫
        //订单相关数据缓存
        this.orderUnlockLen = 2;
        this.orderVideoNum = 0; //接单期间看视频数量
        this.zdGkNum = 0; //招待顾客次数
        this.orderCacheList = [];
    }
    PlayerData.prototype.saveData = function () {
        var sdata = {
            gold: this.gold,
            soundSwitch: this.soundSwitch,
            soundYinXiao: this.soundYinXiao,
            personRecommSwitch: this.personRecommSwitch,
            hasProps: this.hasProps,
            hasShelves: this.hasShelves,
            guideTaskCfg: this.guideTaskCfg,
            curDay: this.curDay,
            unlockCropList: this.unlockCropList,
            dayAutoRoleNum: this.dayAutoRoleNum,
            cropRipetimes: this.cropRipetimes,
            pestNum: this.pestNum,
            xfzs: this.xfzs,
            isFirstClearPest: this.isFirstClearPest,
            cropGetNum: this.cropGetNum,
        };
        // console.log("PlayerData->setData->data is ",JSON.stringify(sdata));
        StorageHelper_1.default.saveJsonByKey(StorageType_1.default.gameData, sdata);
        this.saveUiData();
    };
    //收银台自动产出
    PlayerData.prototype.setCashierGold = function () {
        var data = {
            cashierGold: this.cashierGold,
            cashierAddTime: this.cashierAddTime,
        };
        StorageHelper_1.default.saveJsonByKey(StorageType_1.default.cashierGold, data);
    };
    //种植次数存储
    PlayerData.prototype.savePlantNum = function () {
        var data = {
            plantNum: this.plantNumList
        };
        StorageHelper_1.default.saveJsonByKey(StorageType_1.default.plantNum, data);
    };
    //订单缓存
    PlayerData.prototype.saveOrder = function () {
        var data = {
            orderUnlockLen: this.orderUnlockLen,
            orderVideoNum: this.orderVideoNum,
            orderCacheList: this.orderCacheList
        };
        StorageHelper_1.default.saveJsonByKey(StorageType_1.default.order, data);
    };
    //招揽人数
    PlayerData.prototype.saveZlNum = function () {
        var data = {
            zhaolanNum: this.zhaolanNum,
            zdGkNum: this.zdGkNum
        };
        StorageHelper_1.default.saveJsonByKey(StorageType_1.default.zlNum, data);
    };
    //保存引导数据
    PlayerData.prototype.saveGuide = function () {
        var data = {
            guideState: this.guideState,
        };
        StorageHelper_1.default.saveJsonByKey(StorageType_1.default.guide, data);
    };
    //ui数据
    PlayerData.prototype.saveUiData = function () {
        var data = {
            fieldCfgList: this.fieldCfgList,
            uiConfig: this.uiConfig,
        };
        StorageHelper_1.default.saveJsonByKey(StorageType_1.default.uiCionfig, data);
    };
    //仓库数据存储
    PlayerData.prototype.saveWareHouseData = function () {
        var data = {
            WareHouseConfig: this.WareHouseConfig
        };
        StorageHelper_1.default.saveJsonByKey(StorageType_1.default.wareHouse, data);
    };
    //升级观看视频次数
    PlayerData.prototype.saveLvupVideoNum = function () {
        StorageHelper_1.default.saveJsonByKey(StorageType_1.default.lvUpVideoNum, this.lvUp_video_num);
    };
    /** 存离线收益的时间戳 */
    PlayerData.prototype.saveOfflineTimestamp = function () {
        StorageHelper_1.default.saveJsonByKey(StorageType_1.default.offlineTimestamp, { offlineTimestamp: this.offlineTimestamp });
        // cc.log(`[debug] save storage data of offlineTimestamp:`, { offlineTimestamp: this.offlineTimestamp });
    };
    /** 取离线收益的缓存时间戳 */
    PlayerData.prototype.getOfflineTimestampData = function () {
        var data = StorageHelper_1.default.getJsonByKey(StorageType_1.default.offlineTimestamp);
        cc.log("[debug] get storage data of offlineTimestamp:", data);
        if (data == null) {
            this.offlineTimestamp = this.offlineTimestamp;
        }
        else {
            this.offlineTimestamp = Utils_1.default.isUndefined(data.offlineTimestamp) ? this.offlineTimestamp : data.offlineTimestamp;
        }
    };
    PlayerData.prototype.getData = function () {
        this.getGuide();
        this.getOfflineTimestampData();
        var data = StorageHelper_1.default.getJsonByKey(StorageType_1.default.gameData);
        cc.log("debug:缓存数据：", data);
        if (data && this.guideState) {
            this.gold = Utils_1.default.isUndefined(data.gold) ? this.gold : data.gold;
            this.xfzs = Utils_1.default.isUndefined(data.xfzs) ? this.xfzs : data.xfzs;
            this.soundSwitch = Utils_1.default.isUndefined(data.soundSwitch) ? this.soundSwitch : data.soundSwitch;
            this.soundYinXiao = Utils_1.default.isUndefined(data.soundYinXiao) ? this.soundYinXiao : data.soundYinXiao;
            this.personRecommSwitch = Utils_1.default.isUndefined(data.personRecommSwitch) ? this.personRecommSwitch : data.personRecommSwitch;
            this.unlockCropList = Utils_1.default.isUndefined(data.unlockCropList) ? this.unlockCropList : data.unlockCropList;
            this.hasProps = Utils_1.default.isUndefined(data.hasProps) ? [] : data.hasProps;
            this.hasShelves = Utils_1.default.isUndefined(data.hasShelves) ? [] : data.hasShelves;
            this.guideTaskCfg = Utils_1.default.isUndefined(data.guideTaskCfg) ? this.guideTaskCfg : data.guideTaskCfg;
            this.curDay = Utils_1.default.isUndefined(data.curDay) ? this.curDay : data.curDay;
            this.cropRipetimes = Utils_1.default.isUndefined(data.cropRipetimes) ? this.cropRipetimes : data.cropRipetimes;
            this.pestNum = Utils_1.default.isUndefined(data.pestNum) ? this.pestNum : data.pestNum;
            this.cropGetNum = Utils_1.default.isUndefined(data.cropGetNum) ? this.cropGetNum : data.cropGetNum;
            this.guideState = Utils_1.default.isUndefined(data.guideState) ? this.guideState : data.guideState;
            var day1 = new Date().getDay();
            var day2 = new Date(this.offlineTimestamp * 1000).getDay();
            if (day1 == day2) {
                this.isFirstClearPest = Utils_1.default.isUndefined(data.isFirstClearPest) ? this.isFirstClearPest : data.isFirstClearPest;
                this.dayAutoRoleNum = Utils_1.default.isUndefined(data.autoRoleNum) ? this.dayAutoRoleNum : data.dayAutoRoleNum;
            }
            else {
                this.isFirstClearPest = true;
                this.dayAutoRoleNum = 0;
            }
            SortUtils_1.default.insertSort(this.unlockCropList);
        }
        else {
            this.hasProps = [];
            this.hasShelves = [];
        }
        this.getUiData();
        this.getWareData();
        this.getZlNum();
        this.getCashierNum();
        this.getPlantNum();
        this.getLvupVideo();
        this.getOrder();
        if (Global_1.default.isCeshi_version) {
            this.guideState = 1;
        }
    };
    //每日收银台产出
    PlayerData.prototype.getCashierNum = function () {
        var data = StorageHelper_1.default.getJsonByKey(StorageType_1.default.cashierGold);
        var day1 = new Date().getDay();
        var day2 = new Date(this.offlineTimestamp * 1000).getDay();
        if (data)
            this.cashierAddTime = Utils_1.default.isUndefined(data.cashierAddTime) ? this.cashierAddTime : data.cashierAddTime;
        if (day1 == day2) {
            if (data) {
                this.cashierGold = Utils_1.default.isUndefined(data.cashierGold) ? this.cashierGold : data.cashierGold;
            }
            else {
                this.cashierGold = this.cashierGold;
            }
            // this.cashierGold = Utils.isUndefined(data.cashierGold) ? this.cashierGold : data.cashierGold;
        }
        else {
            this.cashierGold = 0;
        }
    };
    PlayerData.prototype.getZlNum = function () {
        var data = StorageHelper_1.default.getJsonByKey(StorageType_1.default.zlNum);
        if (data && this.guideState) {
            this.zhaolanNum = Utils_1.default.isUndefined(data.zhaolanNum) ? this.zhaolanNum : data.zhaolanNum;
            this.zdGkNum = Utils_1.default.isUndefined(data.zdGkNum) ? this.zdGkNum : data.zdGkNum;
        }
        else {
            this.zhaolanNum = this.zhaolanNum;
            this.zdGkNum = this.zdGkNum;
        }
    };
    PlayerData.prototype.getOrder = function () {
        var data = StorageHelper_1.default.getJsonByKey(StorageType_1.default.order);
        if (data && this.guideState) {
            this.orderUnlockLen = Utils_1.default.isUndefined(data.orderUnlockLen) ? this.orderUnlockLen : data.orderUnlockLen;
            this.orderCacheList = Utils_1.default.isUndefined(data.orderCacheList) ? this.orderCacheList : data.orderCacheList;
            this.orderVideoNum = Utils_1.default.isUndefined(data.orderVideoNum) ? this.orderVideoNum : data.orderVideoNum;
        }
        else {
            this.orderCacheList = this.orderCacheList;
            this.orderUnlockLen = this.orderUnlockLen;
        }
        this.orderCacheList.sort(function (a, b) {
            return b.state - a.state;
        });
    };
    //种植次数
    PlayerData.prototype.getPlantNum = function () {
        var data = StorageHelper_1.default.getJsonByKey(StorageType_1.default.plantNum);
        if (data && this.guideState) {
            this.plantNumList = Utils_1.default.isUndefined(data.plantNum) ? this.plantNumList : data.plantNum;
        }
        else {
            this.plantNumList = [];
        }
    };
    PlayerData.prototype.getUiData = function () {
        var data = StorageHelper_1.default.getJsonByKey(StorageType_1.default.uiCionfig);
        if (data && this.guideState) {
            this.uiConfig = Utils_1.default.isUndefined(data.uiConfig) ? this.initUIConfig : data.uiConfig;
            this.fieldCfgList = Utils_1.default.isUndefined(data.fieldCfgList) ? this.fieldCfgList : data.fieldCfgList;
        }
        else {
            this.uiConfig = this.initUIConfig;
            this.uiConfig.shelvesList = this.shelvesCfgList;
            this.fieldCfgList = this.fieldCfgList;
        }
        cc.log("[debug] 记录的uiConfig:", this.uiConfig);
    };
    //仓库数据
    PlayerData.prototype.getWareData = function () {
        var data = StorageHelper_1.default.getJsonByKey(StorageType_1.default.wareHouse);
        if (data && this.guideState) {
            this.WareHouseConfig = Utils_1.default.isUndefined(data.WareHouseConfig) ? this.WareHouseConfig : data.WareHouseConfig;
        }
        else {
            this.WareHouseConfig = this.WareHouseConfig;
        }
        var list = this.WareHouseConfig.cropList;
        for (var i = 0; i < list.length; i++) {
            var item = list[i];
            item.put_on_num = 0;
        }
    };
    //升级观看视频次数
    PlayerData.prototype.getLvupVideo = function () {
        var data = StorageHelper_1.default.getJsonByKey(StorageType_1.default.lvUpVideoNum);
        if (data && this.guideState) {
            this.lvUp_video_num = Utils_1.default.isUndefined(data) ? this.lvUp_video_num : data;
        }
        else {
            this.lvUp_video_num = {};
        }
    };
    //引导数据
    PlayerData.prototype.getGuide = function () {
        var data = StorageHelper_1.default.getJsonByKey(StorageType_1.default.guide);
        if (data) {
            this.guideState = Utils_1.default.isUndefined(data.guideState) ? this.guideState : data.guideState;
        }
    };
    PlayerData.prototype.resetData = function () {
        this.saveData();
    };
    return PlayerData;
}());
exports.default = PlayerData;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9kYXRhcy9QbGF5ZXJEYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0VBQWlFO0FBQ2pFLHlEQUFvRDtBQUNwRCw2REFBd0Q7QUFDeEQscURBQWdEO0FBQ2hELDJDQUFzQztBQUN0QyxxREFBZ0Q7QUF3Q2hEO0lBQUE7UUFDVyxVQUFLLEdBQVcsQ0FBQyxDQUFDO1FBQ2xCLFVBQUssR0FBVyxDQUFDLENBQUMsQ0FBQSxRQUFRO1FBQzFCLFNBQUksR0FBVyxJQUFJLENBQUMsQ0FBQSxNQUFNO1FBQzFCLFNBQUksR0FBVyxFQUFFLENBQUMsQ0FBQSxNQUFNO1FBRXhCLG1CQUFjLEdBQUcsQ0FBQyxDQUFDLENBQUEsVUFBVTtRQUVwQyxnQkFBVyxHQUFXLGdCQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQSxXQUFXO1FBQzFELGlCQUFZLEdBQVcsZ0JBQU0sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFBLFdBQVc7UUFDbkUsdUJBQWtCLEdBQVcsZ0JBQU0sQ0FBQywwQkFBMEIsQ0FBQyxDQUFBLGdCQUFnQjtRQUMvRSxxQkFBZ0IsR0FBVyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQSxZQUFZO1FBRS9FLGlCQUFZLEdBQWlCO1lBQ3pCLE1BQU0sRUFBRSxDQUFDO1lBQ1QsU0FBUyxFQUFFLENBQUMsQ0FBQSxXQUFXO1NBQzFCLENBQUE7UUFDRCxrQkFBYSxHQUFXLENBQUMsQ0FBQyxDQUFBLFFBQVE7UUFDbEMsZUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFBLFFBQVE7UUFDdkIsWUFBTyxHQUFHLENBQUMsQ0FBQyxDQUFBLFVBQVU7UUFFdEIsbUJBQWMsR0FBRyxFQUFFLENBQUMsQ0FBQSxTQUFTO1FBRTdCLFFBQVE7UUFDUixpQkFBWSxHQUFhO1lBQ3JCLE1BQU0sRUFBRSxDQUFDO1lBQ1QsTUFBTSxFQUFF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QUMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7U0FDdkI7SUFFTCxDQUFDO0lBQ0QsVUFBVTtJQUNWLGlDQUFZLEdBQVo7UUFDSSxJQUFJLElBQUksR0FBRyx1QkFBYSxDQUFDLFlBQVksQ0FBQyxxQkFBVyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2hFLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDekIsSUFBSSxDQUFDLGNBQWMsR0FBRyxlQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7U0FDOUU7YUFBTTtZQUNILElBQUksQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDO1NBQzVCO0lBQ0wsQ0FBQztJQUNELE1BQU07SUFDTiw2QkFBUSxHQUFSO1FBQ0ksSUFBSSxJQUFJLEdBQUcsdUJBQWEsQ0FBQyxZQUFZLENBQUMscUJBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN6RCxJQUFJLElBQUksRUFBRTtZQUNOLElBQUksQ0FBQyxVQUFVLEdBQUcsZUFBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7U0FDNUY7SUFDTCxDQUFDO0lBQ0QsOEJBQVMsR0FBVDtRQUNJLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUNwQixDQUFDO0lBQ0wsaUJBQUM7QUFBRCxDQS9VQSxBQStVQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFN0b3JhZ2VIZWxwZXIgZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9oZWxwZXIvU3RvcmFnZUhlbHBlclwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IFNvcnRVdGlscyBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL1NvcnRVdGlsc1wiO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSBcIi4uLy4uL2ZyYW1ld29yay90b29scy9VdGlsc1wiO1xyXG5pbXBvcnQgR2xvYmFsIGZyb20gXCIuLi9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCBTdG9yYWdlVHlwZSBmcm9tIFwiLi4vY29uc3RzL1N0b3JhZ2VUeXBlXCI7XHJcbmltcG9ydCB7IEZpZWxkQ29uZmlnIH0gZnJvbSBcIi4uL3ZpZXcvbWFpbi9GaWVsZFByZWZhYlwiO1xyXG5pbXBvcnQgeyBXYXJlSG91c2VDb25maWcgfSBmcm9tIFwiLi4vdmlldy9tYWluL1dhcmVob3VzZVByZWZhYlwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVSUNvbmZpZyB7XHJcbiAgICByb2FkbHY6IG51bWJlcixcclxuICAgIHdhbGxsdjogbnVtYmVyLFxyXG4gICAgY2FzaGllcmx2OiBudW1iZXIsXHJcbiAgICBwaXBlbHY6IG51bWJlcixcclxuICAgIGZlbmNlbHY6IG51bWJlcixcclxuICAgIHdhcmVob3VzZWx2OiBudW1iZXIsXHJcbiAgICBzY2FyZWNyb3dsdjogbnVtYmVyLFxyXG4gICAgc2hlbHZlc0xpc3Q6IG51bWJlcltdLFxyXG4gICAgLy8gZmllbGRMaXN0OiBGaWVsZENvbmZpZ1tdLFxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgZ3VpZGVUYXNrQ2ZnIHtcclxuICAgIHRhc2tJZDogbnVtYmVyLFxyXG4gICAgdGFza1N0YXRlOiBudW1iZXJcclxufVxyXG4vL+iuvuaWvemFjee9rlxyXG5leHBvcnQgaW50ZXJmYWNlIHByb3BfY29uZmlnIHtcclxuICAgIHR5cGUsXHJcbiAgICBsZXZlbFxyXG59XHJcbi8v56eN5qSN5qyh5pWwXHJcbmV4cG9ydCBpbnRlcmZhY2UgcGxhbnROdW0ge1xyXG4gICAgaWQsXHJcbiAgICBudW1cclxufVxyXG4vL+iuouWNlee8k+WtmFxyXG5leHBvcnQgaW50ZXJmYWNlIG9yZGVyQ2FjaGUge1xyXG4gICAgcXVhbGl0eSxcclxuICAgIGlkLFxyXG4gICAgaW5kZXgsXHJcbiAgICB1bmxvY2ssLy/mmK/lkKbop6PplIEwLDFcclxuICAgIHN0YXRlLC8v5piv5ZCm5o6l5Y2VMCwxXHJcbiAgICBjcm9wTGlzdCxcclxuICAgIHRpbWVcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyRGF0YSB7XHJcbiAgICBwdWJsaWMgbGV2ZWw6IG51bWJlciA9IDE7XHJcbiAgICBwdWJsaWMgbW9uZXk6IG51bWJlciA9IDA7Ly/nuqLljIXpkrHluIHmlbDph49cclxuICAgIHB1YmxpYyBnb2xkOiBudW1iZXIgPSAxMDAwOy8v6ZKe56Wo5pWw6YePXHJcbiAgICBwdWJsaWMgeGZ6czogbnVtYmVyID0gMzA7Ly/lubjnpo/mjIfmlbBcclxuXHJcbiAgICBwdWJsaWMgZGF5QXV0b1JvbGVOdW0gPSAwOy8v5q+P5aSp6Ieq5Yqo5oub5o+95Lq65pWwXHJcblxyXG4gICAgc291bmRTd2l0Y2g6IG51bWJlciA9IEdsb2JhbC5TT1VORF9TV0lUQ0hfT1BFTjsvL+mfs+S5kCAx5byA5ZCvMOWFs+mXrVxyXG4gICAgc291bmRZaW5YaWFvOiBudW1iZXIgPSBHbG9iYWwuU09VTkRfWUlOWElBT19TV0lUQ0hfT1BFTjsvL+mfs+aViCAx5byA5ZCvMOWFs+mXrVxyXG4gICAgcGVyc29uUmVjb21tU3dpdGNoOiBudW1iZXIgPSBHbG9iYWwuUEVSU09OQUxSRUNPTU1fU1dJVENIX09QRU47Ly8g5Liq5oCn5o6o6I2Q5byA5YWzIDHlvIDlkK8w5YWz6ZetXHJcbiAgICBvZmZsaW5lVGltZXN0YW1wOiBudW1iZXIgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCk7Ly8g5a2Y5YKo546p5ri45oiP55qE5pe26Ze05oizXHJcblxyXG4gICAgZ3VpZGVUYXNrQ2ZnOiBndWlkZVRhc2tDZmcgPSB7XHJcbiAgICAgICAgdGFza0lkOiAxLFxyXG4gICAgICAgIHRhc2tTdGF0ZTogMC8vMOacquWujOaIkO+8jDHlj6/pooblj5ZcclxuICAgIH1cclxuICAgIGNyb3BSaXBldGltZXM6IG51bWJlciA9IDA7Ly/kvZznianmiJDnhp/mrKHmlbBcclxuICAgIGNyb3BHZXROdW0gPSAwOy8v5L2c54mp5pS26I635qyh5pWwXHJcbiAgICBwZXN0TnVtID0gMDsvL+acieWus+iZq+eahOWcsOWdl+aVsOmHj1xyXG5cclxuICAgIHVubG9ja0Nyb3BMaXN0ID0gW107Ly/lt7Lop6PplIHkvZznianliJfooahcclxuICAgIHVpQ29uZmlnOiBVSUNvbmZpZztcclxuICAgIC8v5Yid5aeLVUnphY3nva5cclxuICAgIGluaXRVSUNvbmZpZzogVUlDb25maWcgPSB7XHJcbiAgICAgICAgcm9hZGx2OiAxLFxyXG4gICAgICAgIHdhbGxsdjogMSxcclxuICAgICAgICBjYXNoaWVybHY6IDEsXHJcbiAgICAgICAgcGlwZWx2OiAxLFxyXG4gICAgICAgIGZlbmNlbHY6IDEsXHJcbiAgICAgICAgd2FyZWhvdXNlbHY6IDEsXHJcbiAgICAgICAgc2NhcmVjcm93bHY6IDEsXHJcbiAgICAgICAgc2hlbHZlc0xpc3Q6IFtdLFxyXG4gICAgICAgIC8vIGZpZWxkTGlzdDogW11cclxuICAgIH1cclxuICAgIC8v5Yid5aeL6I+c5Zyw6YWN572uXHJcbiAgICBmaWVsZENmZ0xpc3Q6IEZpZWxkQ29uZmlnW10gPSBbXHJcbiAgICBdXHJcbiAgICAvL+WIneWni+i0p+aetumFjee9rlxyXG4gICAgc2hlbHZlc0NmZ0xpc3QgPSBbXHJcbiAgICBdXHJcblxyXG4gICAgcGxhbnROdW1MaXN0OiBwbGFudE51bVtdID0gW11cclxuXHJcbiAgICAvL+S7k+W6k+mFjee9rlxyXG4gICAgV2FyZUhvdXNlQ29uZmlnOiBXYXJlSG91c2VDb25maWcgPSB7XHJcbiAgICAgICAgbHY6IDEsXHJcbiAgICAgICAgY3JvcExpc3Q6IFtcclxuICAgICAgICBdXHJcbiAgICB9O1xyXG5cclxuICAgIGNhc2hpZXJBZGRUaW1lID0gMDtcclxuICAgIC8vIHByb3BMaXN0OiBwcm9wX2NvbmZpZ1tdID0gW1xyXG5cclxuICAgIC8vIF1cclxuXHJcbiAgICAvLyDlt7Lnu4/mjIHmnInnmoRwcm9wIOW9k+WJjeW3sue7j+aMgeacieeahHByb3BJZCzljIXlkKtwcm9w55qE5omA5pyJdHlwZVxyXG4gICAgaGFzUHJvcHM6IG51bWJlcltdID0gW107XHJcblxyXG4gICAgLy8g5bey57uP5oyB5pyJ55qE6LSn5p62aWTliJfooahcclxuICAgIGhhc1NoZWx2ZXM6IG51bWJlcltdID0gWzFdO1xyXG5cclxuICAgIC8vIOavj+aXpeS9v+eUqOiHquWKqeacjeWKoeeahOWJqeS9measoeaVsO+8jOm7mOiupOS4iumZkOaYrzMw5qyh77yM5q+P5pelMOeCuei/m+ihjOasoeaVsOi/m+ihjOWIt+aWsFxyXG4gICAgLy8g5b2T5YmN55qE5pel5pyf77yM55So5LqO5Yik5pat5piv5ZCm6ZyA6KaB6YeN572u6Ieq5Yqp5pyN5Yqh5Ymp5L2Z5qyh5pWwXHJcbiAgICBjdXJEYXk6IG51bWJlciA9IE1LVXRpbHMuY2FsY3VsTm93RGF5U3RhcnRUaW1lU3RhbXAoKTtcclxuXHJcbiAgICBndWlkZVN0YXRlID0gMDsvL+aWsOaJi+W8leWvvOeKtuaAge+8jDHmmK/lrozmiJBcclxuICAgIGd1aWRlU3RlcCA9IDA7Ly/mlrDmiYvlvJXlr7zmraXpqqRcclxuXHJcbiAgICB6aGFvbGFuTnVtID0gMDtcclxuXHJcbiAgICBjYXNoaWVyR29sZCA9IDA7Ly/mlLbpk7blj7Dkuqflh7rph5HluIFcclxuXHJcbiAgICBsdlVwX3ZpZGVvX251bSA9IHt9Ly/ljYfnuqfnnIvop4bpopHmrKHmlbDvvIxrZXnlgLzkuLrnianlk4FJRFxyXG5cclxuICAgIGlzRmlyc3RDbGVhclBlc3QgPSB0cnVlOy8v5b2T5pel5piv5ZCm56ys5LiA5qyh6Zmk6JmrXHJcbiAgICAvL+iuouWNleebuOWFs+aVsOaNrue8k+WtmFxyXG4gICAgb3JkZXJVbmxvY2tMZW4gPSAyO1xyXG4gICAgb3JkZXJWaWRlb051bSA9IDA7Ly/mjqXljZXmnJ/pl7TnnIvop4bpopHmlbDph49cclxuXHJcbiAgICBwdWJsaWMgemRHa051bSA9IDA7Ly/mi5vlvoXpob7lrqLmrKHmlbBcclxuICAgIG9yZGVyQ2FjaGVMaXN0OiBvcmRlckNhY2hlW10gPSBbXHJcblxyXG4gICAgXVxyXG5cclxuICAgIHNhdmVEYXRhKCkge1xyXG4gICAgICAgIGxldCBzZGF0YSA9IHtcclxuICAgICAgICAgICAgZ29sZDogdGhpcy5nb2xkLFxyXG4gICAgICAgICAgICBzb3VuZFN3aXRjaDogdGhpcy5zb3VuZFN3aXRjaCxcclxuICAgICAgICAgICAgc291bmRZaW5YaWFvOiB0aGlzLnNvdW5kWWluWGlhbyxcclxuICAgICAgICAgICAgcGVyc29uUmVjb21tU3dpdGNoOiB0aGlzLnBlcnNvblJlY29tbVN3aXRjaCxcclxuICAgICAgICAgICAgaGFzUHJvcHM6IHRoaXMuaGFzUHJvcHMsXHJcbiAgICAgICAgICAgIGhhc1NoZWx2ZXM6IHRoaXMuaGFzU2hlbHZlcyxcclxuICAgICAgICAgICAgZ3VpZGVUYXNrQ2ZnOiB0aGlzLmd1aWRlVGFza0NmZyxcclxuICAgICAgICAgICAgY3VyRGF5OiB0aGlzLmN1ckRheSxcclxuICAgICAgICAgICAgdW5sb2NrQ3JvcExpc3Q6IHRoaXMudW5sb2NrQ3JvcExpc3QsXHJcblxyXG4gICAgICAgICAgICBkYXlBdXRvUm9sZU51bTogdGhpcy5kYXlBdXRvUm9sZU51bSxcclxuICAgICAgICAgICAgY3JvcFJpcGV0aW1lczogdGhpcy5jcm9wUmlwZXRpbWVzLFxyXG4gICAgICAgICAgICBwZXN0TnVtOiB0aGlzLnBlc3ROdW0sXHJcbiAgICAgICAgICAgIHhmenM6IHRoaXMueGZ6cyxcclxuICAgICAgICAgICAgaXNGaXJzdENsZWFyUGVzdDogdGhpcy5pc0ZpcnN0Q2xlYXJQZXN0LFxyXG4gICAgICAgICAgICBjcm9wR2V0TnVtOiB0aGlzLmNyb3BHZXROdW0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlBsYXllckRhdGEtPnNldERhdGEtPmRhdGEgaXMgXCIsSlNPTi5zdHJpbmdpZnkoc2RhdGEpKTtcclxuICAgICAgICBTdG9yYWdlSGVscGVyLnNhdmVKc29uQnlLZXkoU3RvcmFnZVR5cGUuZ2FtZURhdGEsIHNkYXRhKTtcclxuICAgICAgICB0aGlzLnNhdmVVaURhdGEoKTtcclxuICAgIH1cclxuICAgIC8v5pS26ZO25Y+w6Ieq5Yqo5Lqn5Ye6XHJcbiAgICBzZXRDYXNoaWVyR29sZCgpIHtcclxuXHJcbiAgICAgICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgIGNhc2hpZXJHb2xkOiB0aGlzLmNhc2hpZXJHb2xkLFxyXG4gICAgICAgICAgICBjYXNoaWVyQWRkVGltZTogdGhpcy5jYXNoaWVyQWRkVGltZSxcclxuICAgICAgICB9XHJcbiAgICAgICAgU3RvcmFnZUhlbHBlci5zYXZlSnNvbkJ5S2V5KFN0b3JhZ2VUeXBlLmNhc2hpZXJHb2xkLCBkYXRhKTtcclxuICAgIH1cclxuICAgIC8v56eN5qSN5qyh5pWw5a2Y5YKoXHJcbiAgICBzYXZlUGxhbnROdW0oKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgIHBsYW50TnVtOiB0aGlzLnBsYW50TnVtTGlzdFxyXG4gICAgICAgIH1cclxuICAgICAgICBTdG9yYWdlSGVscGVyLnNhdmVKc29uQnlLZXkoU3RvcmFnZVR5cGUucGxhbnROdW0sIGRhdGEpO1xyXG4gICAgfVxyXG4gICAgLy/orqLljZXnvJPlrZhcclxuICAgIHNhdmVPcmRlcigpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgICAgICAgb3JkZXJVbmxvY2tMZW46IHRoaXMub3JkZXJVbmxvY2tMZW4sXHJcbiAgICAgICAgICAgIG9yZGVyVmlkZW9OdW06IHRoaXMub3JkZXJWaWRlb051bSxcclxuICAgICAgICAgICAgb3JkZXJDYWNoZUxpc3Q6IHRoaXMub3JkZXJDYWNoZUxpc3RcclxuICAgICAgICB9XHJcbiAgICAgICAgU3RvcmFnZUhlbHBlci5zYXZlSnNvbkJ5S2V5KFN0b3JhZ2VUeXBlLm9yZGVyLCBkYXRhKTtcclxuICAgIH1cclxuICAgIC8v5oub5o+95Lq65pWwXHJcbiAgICBzYXZlWmxOdW0oKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgIHpoYW9sYW5OdW06IHRoaXMuemhhb2xhbk51bSxcclxuICAgICAgICAgICAgemRHa051bTp0aGlzLnpkR2tOdW1cclxuICAgICAgICB9XHJcbiAgICAgICAgU3RvcmFnZUhlbHBlci5zYXZlSnNvbkJ5S2V5KFN0b3JhZ2VUeXBlLnpsTnVtLCBkYXRhKTtcclxuICAgIH1cclxuICAgIC8v5L+d5a2Y5byV5a+85pWw5o2uXHJcbiAgICBzYXZlR3VpZGUoKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgIGd1aWRlU3RhdGU6IHRoaXMuZ3VpZGVTdGF0ZSxcclxuICAgICAgICB9XHJcbiAgICAgICAgU3RvcmFnZUhlbHBlci5zYXZlSnNvbkJ5S2V5KFN0b3JhZ2VUeXBlLmd1aWRlLCBkYXRhKTtcclxuICAgIH1cclxuICAgIC8vdWnmlbDmja5cclxuICAgIHNhdmVVaURhdGEoKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgIGZpZWxkQ2ZnTGlzdDogdGhpcy5maWVsZENmZ0xpc3QsXHJcbiAgICAgICAgICAgIHVpQ29uZmlnOiB0aGlzLnVpQ29uZmlnLFxyXG4gICAgICAgIH1cclxuICAgICAgICBTdG9yYWdlSGVscGVyLnNhdmVKc29uQnlLZXkoU3RvcmFnZVR5cGUudWlDaW9uZmlnLCBkYXRhKTtcclxuICAgIH1cclxuICAgIC8v5LuT5bqT5pWw5o2u5a2Y5YKoXHJcbiAgICBzYXZlV2FyZUhvdXNlRGF0YSgpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgICAgICAgV2FyZUhvdXNlQ29uZmlnOiB0aGlzLldhcmVIb3VzZUNvbmZpZ1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgU3RvcmFnZUhlbHBlci5zYXZlSnNvbkJ5S2V5KFN0b3JhZ2VUeXBlLndhcmVIb3VzZSwgZGF0YSk7XHJcbiAgICB9XHJcbiAgICAvL+WNh+e6p+ingueci+inhumikeasoeaVsFxyXG4gICAgc2F2ZUx2dXBWaWRlb051bSgpIHtcclxuICAgICAgICBTdG9yYWdlSGVscGVyLnNhdmVKc29uQnlLZXkoU3RvcmFnZVR5cGUubHZVcFZpZGVvTnVtLCB0aGlzLmx2VXBfdmlkZW9fbnVtKTtcclxuICAgIH1cclxuICAgIC8qKiDlrZjnprvnur/mlLbnm4rnmoTml7bpl7TmiLMgKi9cclxuICAgIHNhdmVPZmZsaW5lVGltZXN0YW1wKCkge1xyXG4gICAgICAgIFN0b3JhZ2VIZWxwZXIuc2F2ZUpzb25CeUtleShTdG9yYWdlVHlwZS5vZmZsaW5lVGltZXN0YW1wLCB7IG9mZmxpbmVUaW1lc3RhbXA6IHRoaXMub2ZmbGluZVRpbWVzdGFtcCB9KTtcclxuICAgICAgICAvLyBjYy5sb2coYFtkZWJ1Z10gc2F2ZSBzdG9yYWdlIGRhdGEgb2Ygb2ZmbGluZVRpbWVzdGFtcDpgLCB7IG9mZmxpbmVUaW1lc3RhbXA6IHRoaXMub2ZmbGluZVRpbWVzdGFtcCB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5Y+W56a757q/5pS255uK55qE57yT5a2Y5pe26Ze05oizICovXHJcbiAgICBnZXRPZmZsaW5lVGltZXN0YW1wRGF0YSgpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IFN0b3JhZ2VIZWxwZXIuZ2V0SnNvbkJ5S2V5KFN0b3JhZ2VUeXBlLm9mZmxpbmVUaW1lc3RhbXApO1xyXG4gICAgICAgIGNjLmxvZyhgW2RlYnVnXSBnZXQgc3RvcmFnZSBkYXRhIG9mIG9mZmxpbmVUaW1lc3RhbXA6YCwgZGF0YSk7XHJcbiAgICAgICAgaWYgKGRhdGEgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLm9mZmxpbmVUaW1lc3RhbXAgPSB0aGlzLm9mZmxpbmVUaW1lc3RhbXA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5vZmZsaW5lVGltZXN0YW1wID0gVXRpbHMuaXNVbmRlZmluZWQoZGF0YS5vZmZsaW5lVGltZXN0YW1wKSA/IHRoaXMub2ZmbGluZVRpbWVzdGFtcCA6IGRhdGEub2ZmbGluZVRpbWVzdGFtcDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YSgpIHtcclxuICAgICAgICB0aGlzLmdldEd1aWRlKCk7XHJcbiAgICAgICAgdGhpcy5nZXRPZmZsaW5lVGltZXN0YW1wRGF0YSgpO1xyXG5cclxuICAgICAgICBsZXQgZGF0YSA9IFN0b3JhZ2VIZWxwZXIuZ2V0SnNvbkJ5S2V5KFN0b3JhZ2VUeXBlLmdhbWVEYXRhKTtcclxuICAgICAgICBjYy5sb2coXCJkZWJ1ZzrnvJPlrZjmlbDmja7vvJpcIiwgZGF0YSk7XHJcbiAgICAgICAgaWYgKGRhdGEgJiYgdGhpcy5ndWlkZVN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ29sZCA9IFV0aWxzLmlzVW5kZWZpbmVkKGRhdGEuZ29sZCkgPyB0aGlzLmdvbGQgOiBkYXRhLmdvbGQ7XHJcbiAgICAgICAgICAgIHRoaXMueGZ6cyA9IFV0aWxzLmlzVW5kZWZpbmVkKGRhdGEueGZ6cykgPyB0aGlzLnhmenMgOiBkYXRhLnhmenM7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmRTd2l0Y2ggPSBVdGlscy5pc1VuZGVmaW5lZChkYXRhLnNvdW5kU3dpdGNoKSA/IHRoaXMuc291bmRTd2l0Y2ggOiBkYXRhLnNvdW5kU3dpdGNoO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kWWluWGlhbyA9IFV0aWxzLmlzVW5kZWZpbmVkKGRhdGEuc291bmRZaW5YaWFvKSA/IHRoaXMuc291bmRZaW5YaWFvIDogZGF0YS5zb3VuZFlpblhpYW87XHJcbiAgICAgICAgICAgIHRoaXMucGVyc29uUmVjb21tU3dpdGNoID0gVXRpbHMuaXNVbmRlZmluZWQoZGF0YS5wZXJzb25SZWNvbW1Td2l0Y2gpID8gdGhpcy5wZXJzb25SZWNvbW1Td2l0Y2ggOiBkYXRhLnBlcnNvblJlY29tbVN3aXRjaDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudW5sb2NrQ3JvcExpc3QgPSBVdGlscy5pc1VuZGVmaW5lZChkYXRhLnVubG9ja0Nyb3BMaXN0KSA/IHRoaXMudW5sb2NrQ3JvcExpc3QgOiBkYXRhLnVubG9ja0Nyb3BMaXN0O1xyXG4gICAgICAgICAgICB0aGlzLmhhc1Byb3BzID0gVXRpbHMuaXNVbmRlZmluZWQoZGF0YS5oYXNQcm9wcykgPyBbXSA6IGRhdGEuaGFzUHJvcHM7XHJcbiAgICAgICAgICAgIHRoaXMuaGFzU2hlbHZlcyA9IFV0aWxzLmlzVW5kZWZpbmVkKGRhdGEuaGFzU2hlbHZlcykgPyBbXSA6IGRhdGEuaGFzU2hlbHZlcztcclxuICAgICAgICAgICAgdGhpcy5ndWlkZVRhc2tDZmcgPSBVdGlscy5pc1VuZGVmaW5lZChkYXRhLmd1aWRlVGFza0NmZykgPyB0aGlzLmd1aWRlVGFza0NmZyA6IGRhdGEuZ3VpZGVUYXNrQ2ZnO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jdXJEYXkgPSBVdGlscy5pc1VuZGVmaW5lZChkYXRhLmN1ckRheSkgPyB0aGlzLmN1ckRheSA6IGRhdGEuY3VyRGF5O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jcm9wUmlwZXRpbWVzID0gVXRpbHMuaXNVbmRlZmluZWQoZGF0YS5jcm9wUmlwZXRpbWVzKSA/IHRoaXMuY3JvcFJpcGV0aW1lcyA6IGRhdGEuY3JvcFJpcGV0aW1lcztcclxuICAgICAgICAgICAgdGhpcy5wZXN0TnVtID0gVXRpbHMuaXNVbmRlZmluZWQoZGF0YS5wZXN0TnVtKSA/IHRoaXMucGVzdE51bSA6IGRhdGEucGVzdE51bTtcclxuICAgICAgICAgICAgdGhpcy5jcm9wR2V0TnVtID0gVXRpbHMuaXNVbmRlZmluZWQoZGF0YS5jcm9wR2V0TnVtKSA/IHRoaXMuY3JvcEdldE51bSA6IGRhdGEuY3JvcEdldE51bTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ3VpZGVTdGF0ZSA9IFV0aWxzLmlzVW5kZWZpbmVkKGRhdGEuZ3VpZGVTdGF0ZSkgPyB0aGlzLmd1aWRlU3RhdGUgOiBkYXRhLmd1aWRlU3RhdGU7XHJcbiAgICAgICAgICAgIGxldCBkYXkxID0gbmV3IERhdGUoKS5nZXREYXkoKTtcclxuICAgICAgICAgICAgbGV0IGRheTIgPSBuZXcgRGF0ZSh0aGlzLm9mZmxpbmVUaW1lc3RhbXAgKiAxMDAwKS5nZXREYXkoKTtcclxuICAgICAgICAgICAgaWYgKGRheTEgPT0gZGF5Mikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0ZpcnN0Q2xlYXJQZXN0ID0gVXRpbHMuaXNVbmRlZmluZWQoZGF0YS5pc0ZpcnN0Q2xlYXJQZXN0KSA/IHRoaXMuaXNGaXJzdENsZWFyUGVzdCA6IGRhdGEuaXNGaXJzdENsZWFyUGVzdDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF5QXV0b1JvbGVOdW0gPSBVdGlscy5pc1VuZGVmaW5lZChkYXRhLmF1dG9Sb2xlTnVtKSA/IHRoaXMuZGF5QXV0b1JvbGVOdW0gOiBkYXRhLmRheUF1dG9Sb2xlTnVtO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0ZpcnN0Q2xlYXJQZXN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF5QXV0b1JvbGVOdW0gPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBTb3J0VXRpbHMuaW5zZXJ0U29ydCh0aGlzLnVubG9ja0Nyb3BMaXN0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhhc1Byb3BzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuaGFzU2hlbHZlcyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdldFVpRGF0YSgpO1xyXG4gICAgICAgIHRoaXMuZ2V0V2FyZURhdGEoKTtcclxuICAgICAgICB0aGlzLmdldFpsTnVtKCk7XHJcbiAgICAgICAgdGhpcy5nZXRDYXNoaWVyTnVtKCk7XHJcbiAgICAgICAgdGhpcy5nZXRQbGFudE51bSgpO1xyXG4gICAgICAgIHRoaXMuZ2V0THZ1cFZpZGVvKCk7XHJcbiAgICAgICAgdGhpcy5nZXRPcmRlcigpO1xyXG5cclxuICAgICAgICBpZiAoR2xvYmFsLmlzQ2VzaGlfdmVyc2lvbikge1xyXG4gICAgICAgICAgICB0aGlzLmd1aWRlU3RhdGUgPSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICAvL+avj+aXpeaUtumTtuWPsOS6p+WHulxyXG4gICAgZ2V0Q2FzaGllck51bSgpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IFN0b3JhZ2VIZWxwZXIuZ2V0SnNvbkJ5S2V5KFN0b3JhZ2VUeXBlLmNhc2hpZXJHb2xkKTtcclxuICAgICAgICBsZXQgZGF5MSA9IG5ldyBEYXRlKCkuZ2V0RGF5KCk7XHJcbiAgICAgICAgbGV0IGRheTIgPSBuZXcgRGF0ZSh0aGlzLm9mZmxpbmVUaW1lc3RhbXAgKiAxMDAwKS5nZXREYXkoKTtcclxuICAgICAgICBpZiAoZGF0YSkgdGhpcy5jYXNoaWVyQWRkVGltZSA9IFV0aWxzLmlzVW5kZWZpbmVkKGRhdGEuY2FzaGllckFkZFRpbWUpID8gdGhpcy5jYXNoaWVyQWRkVGltZSA6IGRhdGEuY2FzaGllckFkZFRpbWU7XHJcbiAgICAgICAgaWYgKGRheTEgPT0gZGF5Mikge1xyXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYXNoaWVyR29sZCA9IFV0aWxzLmlzVW5kZWZpbmVkKGRhdGEuY2FzaGllckdvbGQpID8gdGhpcy5jYXNoaWVyR29sZCA6IGRhdGEuY2FzaGllckdvbGQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhc2hpZXJHb2xkID0gdGhpcy5jYXNoaWVyR29sZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB0aGlzLmNhc2hpZXJHb2xkID0gVXRpbHMuaXNVbmRlZmluZWQoZGF0YS5jYXNoaWVyR29sZCkgPyB0aGlzLmNhc2hpZXJHb2xkIDogZGF0YS5jYXNoaWVyR29sZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNhc2hpZXJHb2xkID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRabE51bSgpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IFN0b3JhZ2VIZWxwZXIuZ2V0SnNvbkJ5S2V5KFN0b3JhZ2VUeXBlLnpsTnVtKTtcclxuICAgICAgICBpZiAoZGF0YSAmJiB0aGlzLmd1aWRlU3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy56aGFvbGFuTnVtID0gVXRpbHMuaXNVbmRlZmluZWQoZGF0YS56aGFvbGFuTnVtKSA/IHRoaXMuemhhb2xhbk51bSA6IGRhdGEuemhhb2xhbk51bTtcclxuICAgICAgICAgICAgdGhpcy56ZEdrTnVtID0gVXRpbHMuaXNVbmRlZmluZWQoZGF0YS56ZEdrTnVtKSA/IHRoaXMuemRHa051bSA6IGRhdGEuemRHa051bTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnpoYW9sYW5OdW0gPSB0aGlzLnpoYW9sYW5OdW07XHJcbiAgICAgICAgICAgIHRoaXMuemRHa051bSA9IHRoaXMuemRHa051bTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRPcmRlcigpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IFN0b3JhZ2VIZWxwZXIuZ2V0SnNvbkJ5S2V5KFN0b3JhZ2VUeXBlLm9yZGVyKTtcclxuICAgICAgICBpZiAoZGF0YSAmJiB0aGlzLmd1aWRlU3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5vcmRlclVubG9ja0xlbiA9IFV0aWxzLmlzVW5kZWZpbmVkKGRhdGEub3JkZXJVbmxvY2tMZW4pID8gdGhpcy5vcmRlclVubG9ja0xlbiA6IGRhdGEub3JkZXJVbmxvY2tMZW47XHJcbiAgICAgICAgICAgIHRoaXMub3JkZXJDYWNoZUxpc3QgPSBVdGlscy5pc1VuZGVmaW5lZChkYXRhLm9yZGVyQ2FjaGVMaXN0KSA/IHRoaXMub3JkZXJDYWNoZUxpc3QgOiBkYXRhLm9yZGVyQ2FjaGVMaXN0O1xyXG4gICAgICAgICAgICB0aGlzLm9yZGVyVmlkZW9OdW0gPSBVdGlscy5pc1VuZGVmaW5lZChkYXRhLm9yZGVyVmlkZW9OdW0pID8gdGhpcy5vcmRlclZpZGVvTnVtIDogZGF0YS5vcmRlclZpZGVvTnVtO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub3JkZXJDYWNoZUxpc3QgPSB0aGlzLm9yZGVyQ2FjaGVMaXN0O1xyXG4gICAgICAgICAgICB0aGlzLm9yZGVyVW5sb2NrTGVuID0gdGhpcy5vcmRlclVubG9ja0xlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vcmRlckNhY2hlTGlzdC5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBiLnN0YXRlIC0gYS5zdGF0ZTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgLy/np43mpI3mrKHmlbBcclxuICAgIGdldFBsYW50TnVtKCkge1xyXG4gICAgICAgIGxldCBkYXRhID0gU3RvcmFnZUhlbHBlci5nZXRKc29uQnlLZXkoU3RvcmFnZVR5cGUucGxhbnROdW0pO1xyXG4gICAgICAgIGlmIChkYXRhICYmIHRoaXMuZ3VpZGVTdGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsYW50TnVtTGlzdCA9IFV0aWxzLmlzVW5kZWZpbmVkKGRhdGEucGxhbnROdW0pID8gdGhpcy5wbGFudE51bUxpc3QgOiBkYXRhLnBsYW50TnVtO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxhbnROdW1MaXN0ID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0VWlEYXRhKCkge1xyXG4gICAgICAgIGxldCBkYXRhID0gU3RvcmFnZUhlbHBlci5nZXRKc29uQnlLZXkoU3RvcmFnZVR5cGUudWlDaW9uZmlnKTtcclxuICAgICAgICBpZiAoZGF0YSAmJiB0aGlzLmd1aWRlU3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy51aUNvbmZpZyA9IFV0aWxzLmlzVW5kZWZpbmVkKGRhdGEudWlDb25maWcpID8gdGhpcy5pbml0VUlDb25maWcgOiBkYXRhLnVpQ29uZmlnO1xyXG4gICAgICAgICAgICB0aGlzLmZpZWxkQ2ZnTGlzdCA9IFV0aWxzLmlzVW5kZWZpbmVkKGRhdGEuZmllbGRDZmdMaXN0KSA/IHRoaXMuZmllbGRDZmdMaXN0IDogZGF0YS5maWVsZENmZ0xpc3Q7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51aUNvbmZpZyA9IHRoaXMuaW5pdFVJQ29uZmlnO1xyXG4gICAgICAgICAgICB0aGlzLnVpQ29uZmlnLnNoZWx2ZXNMaXN0ID0gdGhpcy5zaGVsdmVzQ2ZnTGlzdDtcclxuICAgICAgICAgICAgdGhpcy5maWVsZENmZ0xpc3QgPSB0aGlzLmZpZWxkQ2ZnTGlzdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2MubG9nKFwiW2RlYnVnXSDorrDlvZXnmoR1aUNvbmZpZzpcIiwgdGhpcy51aUNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICAvL+S7k+W6k+aVsOaNrlxyXG4gICAgZ2V0V2FyZURhdGEoKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBTdG9yYWdlSGVscGVyLmdldEpzb25CeUtleShTdG9yYWdlVHlwZS53YXJlSG91c2UpO1xyXG4gICAgICAgIGlmIChkYXRhICYmIHRoaXMuZ3VpZGVTdGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLldhcmVIb3VzZUNvbmZpZyA9IFV0aWxzLmlzVW5kZWZpbmVkKGRhdGEuV2FyZUhvdXNlQ29uZmlnKSA/IHRoaXMuV2FyZUhvdXNlQ29uZmlnIDogZGF0YS5XYXJlSG91c2VDb25maWc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5XYXJlSG91c2VDb25maWcgPSB0aGlzLldhcmVIb3VzZUNvbmZpZztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5XYXJlSG91c2VDb25maWcuY3JvcExpc3Q7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gbGlzdFtpXTtcclxuICAgICAgICAgICAgaXRlbS5wdXRfb25fbnVtID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgLy/ljYfnuqfop4LnnIvop4bpopHmrKHmlbBcclxuICAgIGdldEx2dXBWaWRlbygpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IFN0b3JhZ2VIZWxwZXIuZ2V0SnNvbkJ5S2V5KFN0b3JhZ2VUeXBlLmx2VXBWaWRlb051bSk7XHJcbiAgICAgICAgaWYgKGRhdGEgJiYgdGhpcy5ndWlkZVN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubHZVcF92aWRlb19udW0gPSBVdGlscy5pc1VuZGVmaW5lZChkYXRhKSA/IHRoaXMubHZVcF92aWRlb19udW0gOiBkYXRhO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubHZVcF92aWRlb19udW0gPSB7fTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+W8leWvvOaVsOaNrlxyXG4gICAgZ2V0R3VpZGUoKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBTdG9yYWdlSGVscGVyLmdldEpzb25CeUtleShTdG9yYWdlVHlwZS5ndWlkZSk7XHJcbiAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5ndWlkZVN0YXRlID0gVXRpbHMuaXNVbmRlZmluZWQoZGF0YS5ndWlkZVN0YXRlKSA/IHRoaXMuZ3VpZGVTdGF0ZSA6IGRhdGEuZ3VpZGVTdGF0ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXNldERhdGEoKSB7XHJcbiAgICAgICAgdGhpcy5zYXZlRGF0YSgpO1xyXG4gICAgfVxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/guide/GuidePrefab.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '405d03F1IpC/aF2fbVb7X/F', 'GuidePrefab');
// src/game/view/guide/GuidePrefab.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var ComponentHelper_1 = require("../../../framework/tools/ComponentHelper");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var GameMainView_1 = require("../main/GameMainView");
var TopPrefab_1 = require("../main/TopPrefab");
var OrderGetScuessView_1 = require("../order/OrderGetScuessView");
var OrderRewardView_1 = require("../order/OrderRewardView");
var OrderSuccessView_1 = require("../order/OrderSuccessView");
var OrderView_1 = require("../order/OrderView");
var VegetablesView_1 = require("../vegetables/VegetablesView");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GuidePrefab = /** @class */ (function (_super) {
    __extends(GuidePrefab, _super);
    function GuidePrefab() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.mask1 = null;
        _this.mask2 = null;
        _this.mask3 = null;
        _this.mask4 = null;
        _this.dialog = null;
        _this.goOn = null;
        _this.shou = null;
        _this.lock = null;
        _this.descLb = null;
        _this.isWrite = false;
        _this.writeInterval = 0.05;
        _this.writeDt = 0;
        _this.descArr = [];
        _this.descList = [
            "欢迎来到幸福集市，快去接取订单赚钱吧",
            "点击接取你的第一个订单吧",
            "",
            "订单需要玉米和红薯，快去种植吧",
            "点击种下玉米吧",
            "订单还需要红薯，继续种植吧",
            "点击种下红薯吧",
            "作物成长有点慢，点击加速作物收获吧",
            "现在可以收获玉米啦",
            "继续收获红薯吧",
            "订单终于完成啦，快领取你的订单奖励吧",
            "",
            "",
            "继续接单还会出现大额订单哦，奖励更加丰厚，努力赚钱提现吧",
        ];
        _this.canTouch = true;
        return _this;
    }
    GuidePrefab.prototype.onLoad = function () {
        this.node.setContentSize(cc.winSize);
        this.initPoint = this.dialog.getPosition();
    };
    GuidePrefab.prototype.start = function () {
        // this.dialogAnim();
        this.updateStep();
        EventDispath_1.default.addEventListener(EventType_1.EventType.GUIDE_Hide, this.hide, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.GUIDE_UPDATE, this.nextStep, this);
        EventDispath_1.default.on(this.goOn, this.nextStep, this, 0.5, false);
    };
    GuidePrefab.prototype.dialogAnim = function () {
        this.hideShou();
        this.dialog.active = true;
        // this.descLb.string = "";
        // this.dialog.y = -1800;
        // this.dialog.stopAllActions();
        // let p = this.dialog.getPosition();
        // let y = this.pointYs[PlayerModel.guideStep]
        // let dis = MKUtils.twoPointDistance(p, cc.v2(p.x, y));
        // this.dialog.runAction(cc.sequence(cc.moveTo(dis / 1500, 0, y).easing(cc.easeBackOut()), cc.callFunc(() => {
        this.updateDesc();
        this.canTouch = true;
        // })));
    };
    GuidePrefab.prototype.hide = function () {
        this.mask1.node.active = false;
        this.mask2.node.active = false;
        this.mask3.node.active = false;
        this.mask4.node.active = false;
        this.dialog.active = false;
        this.hideShou();
    };
    GuidePrefab.prototype.hideShou = function () {
        this.shou.stopAllActions();
        this.shou.active = false;
        this.goOn.active = false;
        this.descLb.string = "";
    };
    GuidePrefab.prototype.nextStep = function () {
        PlayerModel_1.default.guideStep = 1;
        console.log("引导步骤" + PlayerModel_1.default.guideStep);
        this.updateStep();
    };
    GuidePrefab.prototype.updateStep = function () {
        this.hide();
        var p1, p2;
        switch (PlayerModel_1.default.guideStep) {
            case 0:
                this.mask1.node.active = true;
                this.dialogAnim();
                var topPrefab = UIMananger_1.default.top;
                p1 = topPrefab.getComponent(TopPrefab_1.default).getGuidePoint();
                p2 = this.node.convertToNodeSpaceAR(p1);
                this.mask1.node.setPosition(p2);
                // this.shou.active = true;
                // this.shou.setPosition(p2.x, p2.y);
                // ComponentHelper.setHeartAction(this.shou);
                break;
            case 1:
                this.dialogAnim();
                this.mask2.node.active = true;
                this.dialog.setPosition(this.initPoint.x, this.initPoint.y - 300);
                var order = MkUtils_1.default.findNodeByName(cc.director.getScene(), "OrderView");
                p1 = order.getComponent(OrderView_1.default).getGuidePoint();
                p2 = this.node.convertToNodeSpaceAR(p1);
                this.mask2.node.setPosition(p2);
                this.shou.active = true;
                this.shou.setPosition(p2.x, p2.y - 100);
                ComponentHelper_1.default.setHeartAction(this.shou);
                break;
            case 2:
                var get = MkUtils_1.default.findNodeByName(cc.director.getScene(), "OrderGetScuessView");
                p1 = get.getComponent(OrderGetScuessView_1.default).getGuidePoint();
                p2 = this.node.convertToNodeSpaceAR(p1);
                this.dialog.setPosition(this.initPoint.x, this.initPoint.y + 300);
                this.shou.active = true;
                this.shou.setPosition(p2.x, p2.y);
                ComponentHelper_1.default.setHeartAction(this.shou);
                break;
            case 3:
                this.dialogAnim();
                var game = MkUtils_1.default.findNodeByName(cc.director.getScene(), "GameMainView");
                p1 = game.getComponent(GameMainView_1.default).getGuidePoint();
                p2 = this.node.convertToNodeSpaceAR(p1);
                this.dialog.setPosition(this.initPoint.x, this.initPoint.y + 500);
                this.mask3.node.active = true;
                this.mask3.node.setPosition(p2.x, p2.y + 100);
                this.shou.active = true;
                this.shou.setPosition(p2.x, p2.y + 150);
                ComponentHelper_1.default.setHeartAction(this.shou);
                break;
            case 4:
                this.dialogAnim();
                var plant = MkUtils_1.default.findNodeByName(cc.director.getScene(), "VegetablesView");
                p1 = plant.getComponent(VegetablesView_1.default).getGuidePoint();
                p2 = this.node.convertToNodeSpaceAR(p1);
                this.mask4.node.active = true;
                this.mask4.node.setPosition(p2.x, p2.y);
                this.dialog.setPosition(this.initPoint.x, this.initPoint.y);
                this.shou.active = true;
                this.shou.setPosition(p2.x, p2.y);
                ComponentHelper_1.default.setHeartAction(this.shou);
                break;
            case 5:
                this.dialogAnim();
                var game1 = MkUtils_1.default.findNodeByName(cc.director.getScene(), "GameMainView");
                p1 = game1.getComponent(GameMainView_1.default).getGuidePoint1();
                p2 = this.node.convertToNodeSpaceAR(p1);
                this.dialog.setPosition(this.initPoint.x, this.initPoint.y + 500);
                this.mask3.node.active = true;
                this.mask3.node.setPosition(p2.x, p2.y + 100);
                this.shou.active = true;
                this.shou.setPosition(p2.x, p2.y + 150);
                ComponentHelper_1.default.setHeartAction(this.shou);
                break;
            case 6:
                this.dialogAnim();
                var plant1 = MkUtils_1.default.findNodeByName(cc.director.getScene(), "VegetablesView");
                p1 = plant1.getComponent(VegetablesView_1.default).getGuidePoint1();
                p2 = this.node.convertToNodeSpaceAR(p1);
                this.mask4.node.active = true;
                this.mask4.node.setPosition(p2.x, p2.y);
                this.dialog.setPosition(this.initPoint.x, this.initPoint.y);
                this.shou.active = true;
                this.shou.setPosition(p2.x, p2.y);
                ComponentHelper_1.default.setHeartAction(this.shou);
                break;
            case 7:
                this.dialogAnim();
                var game2 = MkUtils_1.default.findNodeByName(cc.director.getScene(), "GameMainView");
                p1 = game2.getComponent(GameMainView_1.default).getGuideJsPoint();
                p2 = this.node.convertToNodeSpaceAR(p1);
                this.dialog.setPosition(this.initPoint.x, this.initPoint.y);
                this.mask3.node.active = true;
                this.mask3.node.setPosition(p2.x + 30, p2.y);
                this.shou.active = true;
                this.shou.setPosition(p2.x, p2.y);
                ComponentHelper_1.default.setHeartAction(this.shou);
                break;
            case 8:
                this.dialogAnim();
                var game3 = MkUtils_1.default.findNodeByName(cc.director.getScene(), "GameMainView");
                p1 = game3.getComponent(GameMainView_1.default).getGuidePoint();
                p2 = this.node.convertToNodeSpaceAR(p1);
                this.dialog.setPosition(this.initPoint.x, this.initPoint.y + 500);
                this.mask3.node.active = true;
                this.mask3.node.setPosition(p2.x, p2.y + 100);
                this.shou.active = true;
                this.shou.setPosition(p2.x, p2.y + 150);
                ComponentHelper_1.default.setHeartAction(this.shou);
                break;
            case 9:
                this.dialogAnim();
                var game4 = MkUtils_1.default.findNodeByName(cc.director.getScene(), "GameMainView");
                p1 = game4.getComponent(GameMainView_1.default).getGuidePoint1();
                p2 = this.node.convertToNodeSpaceAR(p1);
                this.dialog.setPosition(this.initPoint.x, this.initPoint.y + 500);
                this.mask3.node.active = true;
                this.mask3.node.setPosition(p2.x, p2.y + 100);
                this.shou.active = true;
                this.shou.setPosition(p2.x, p2.y + 50);
                ComponentHelper_1.default.setHeartAction(this.shou);
                break;
            case 10:
                this.mask1.node.active = true;
                this.dialogAnim();
                var top = UIMananger_1.default.top;
                p1 = top.getComponent(TopPrefab_1.default).getGuidePoint();
                p2 = this.node.convertToNodeSpaceAR(p1);
                this.mask1.node.setPosition(p2);
                this.shou.active = true;
                this.shou.setPosition(p2.x + 300, p2.y);
                ComponentHelper_1.default.setHeartAction(this.shou);
                break;
            case 11:
                // // MKUtils.setNodeDelay(this.node, 2, () => {
                this.dialogAnim();
                var v = MkUtils_1.default.findNodeByName(cc.director.getScene(), "OrderSuccessView");
                p1 = v.getComponent(OrderSuccessView_1.default).getGuidePoint();
                p2 = this.node.convertToNodeSpaceAR(p1);
                this.dialog.setPosition(this.initPoint.x, this.initPoint.y - 600);
                this.shou.active = true;
                this.shou.setPosition(p2.x, p2.y);
                ComponentHelper_1.default.setHeartAction(this.shou);
                // })
                break;
            case 12:
                // MKUtils.setNodeDelay(this.node, 2, () => {
                var vg = MkUtils_1.default.findNodeByName(cc.director.getScene(), "OrderRewardView");
                p1 = vg.getComponent(OrderRewardView_1.default).getGuidePoint();
                p2 = this.node.convertToNodeSpaceAR(p1);
                this.shou.active = true;
                this.shou.setPosition(p2.x, p2.y);
                ComponentHelper_1.default.setHeartAction(this.shou);
                // })
                break;
            case 13:
                this.lock.active = true;
                // this.mask1.node.active = true;
                this.dialogAnim();
                this.dialog.setPosition(this.initPoint.x, this.initPoint.y);
                this.shou.active = true;
                this.shou.setPosition(this.goOn.getPosition());
                ComponentHelper_1.default.setHeartAction(this.shou);
                this.goOn.active = true;
                break;
            case 14:
                UIMananger_1.default.showPanel(UIType_1.default.loginDay);
                PlayerModel_1.default.guideStep = -100;
                this.lock.active = false;
                EventDispath_1.default.send(EventType_1.EventType.MAIN_LOCK, false);
                PlayerModel_1.default.guideState = 1;
                EventDispath_1.default.send(EventType_1.EventType.GUIDE_COMPLETE);
                this.node.removeFromParent();
                this.node.destroy();
                break;
        }
    };
    GuidePrefab.prototype.updateDesc = function () {
        var str = this.descList[PlayerModel_1.default.guideStep];
        if (str != "") {
            this.dialog.active = true;
            this.descArr = [];
            this.descArr = str.split("");
            console.log("引导描述：", this.descArr);
            this.isWrite = true;
        }
        else {
            this.dialog.active = false;
        }
    };
    GuidePrefab.prototype.update = function (dt) {
        if (!this.isWrite || dt > 0.5)
            return;
        this.writeDt += dt;
        if (this.writeDt > this.writeInterval) {
            this.writeDt = 0;
            if (!this.descArr.length) {
                this.isWrite = false;
                return;
            }
            this.descLb.string += this.descArr.shift();
        }
    };
    __decorate([
        property(cc.Mask)
    ], GuidePrefab.prototype, "mask1", void 0);
    __decorate([
        property(cc.Mask)
    ], GuidePrefab.prototype, "mask2", void 0);
    __decorate([
        property(cc.Mask)
    ], GuidePrefab.prototype, "mask3", void 0);
    __decorate([
        property(cc.Mask)
    ], GuidePrefab.prototype, "mask4", void 0);
    __decorate([
        property(cc.Node)
    ], GuidePrefab.prototype, "dialog", void 0);
    __decorate([
        property(cc.Node)
    ], GuidePrefab.prototype, "goOn", void 0);
    __decorate([
        property(cc.Node)
    ], GuidePrefab.prototype, "shou", void 0);
    __decorate([
        property(cc.Node)
    ], GuidePrefab.prototype, "lock", void 0);
    __decorate([
        property(cc.Label)
    ], GuidePrefab.prototype, "descLb", void 0);
    GuidePrefab = __decorate([
        ccclass
    ], GuidePrefab);
    return GuidePrefab;
}(cc.Component));
exports.default = GuidePrefab;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L2d1aWRlL0d1aWRlUHJlZmFiLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS2xGLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDRFQUF1RTtBQUN2RSw0REFBdUQ7QUFDdkQsOENBQXlDO0FBQ3pDLHVEQUFrRDtBQUdsRCxxREFBZ0Q7QUFDaEQsK0NBQTBDO0FBQzFDLGtFQUE2RDtBQUM3RCw0REFBdUQ7QUFDdkQsOERBQXlEO0FBQ3pELGdEQUEyQztBQUMzQywrREFBMEQ7QUFFcEQsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBeUMsK0JBQVk7SUFBckQ7UUFBQSxxRUEyVUM7UUF4VUcsV0FBSyxHQUFZLElBQUksQ0FBQztRQUV0QixXQUFLLEdBQVksSUFBSSxDQUFDO1FBRXRCLFdBQUssR0FBWSxJQUFJLENBQUM7UUFFdEIsV0FBSyxHQUFZLElBQUksQ0FBQztRQUV0QixZQUFNLEdBQVksSUFBSSxDQUFDO1FBRXZCLFVBQUksR0FBWSxJQUFJLENBQUM7UUFFckIsVUFBSSxHQUFZLElBQUksQ0FBQztRQUVyQixVQUFJLEdBQVksSUFBSSxDQUFDO1FBRXJCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsYUFBTyxHQUFHLEtBQUssQ0FBQztRQUNoQixtQkFBYSxHQUFHLElBQUksQ0FBQztRQUNyQixhQUFPLEdBQUcsQ0FBQyxDQUFBO1FBQ1gsYUFBTyxHQUFHLEVBQUUsQ0FBQztRQUNiLGNBQVEsR0FBRztZQUNQLG9CQUFvQjtZQUNwQixjQUFjO1lBQ2QsRUFBRTtZQUNGLGlCQUFpQjtZQUNqQixTQUFT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Q3JCLE9BQU87YUFDVjtZQUNELElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDOUM7SUFDTCxDQUFDO0lBdFVEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7OENBQ0k7SUFFdEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs4Q0FDSTtJQUV0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzhDQUNJO0lBRXRCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7OENBQ0k7SUFFdEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsrQ0FDSztJQUV2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzZDQUNHO0lBRXJCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7NkNBQ0c7SUFFckI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs2Q0FDRztJQUVyQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOytDQUNLO0lBbkJQLFdBQVc7UUFEL0IsT0FBTztPQUNhLFdBQVcsQ0EyVS9CO0lBQUQsa0JBQUM7Q0EzVUQsQUEyVUMsQ0EzVXdDLEVBQUUsQ0FBQyxTQUFTLEdBMlVwRDtrQkEzVW9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgSlNIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9oZWxwZXIvSlNIZWxwZXJcIjtcclxuaW1wb3J0IFNES01hbmFnZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1NES01hbmFnZXJcIjtcclxuaW1wb3J0IHsgVUlFZmZlY3RUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJRWZmZWN0TWFuYWdlclwiO1xyXG5pbXBvcnQgVUlNYW5hbmdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlNYW5hbmdlclwiO1xyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50VHlwZVwiO1xyXG5pbXBvcnQgQ29tcG9uZW50SGVscGVyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvQ29tcG9uZW50SGVscGVyXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IENvbmZpZ01hbmFnZXIgZnJvbSBcIi4uLy4uL21hbmFnZXIvQ29uZmlnTWFuYWdlclwiO1xyXG5pbXBvcnQgTHZVcFZpZXcgZnJvbSBcIi4uL2x2VXAvTHZVcFZpZXdcIjtcclxuaW1wb3J0IEdhbWVNYWluVmlldyBmcm9tIFwiLi4vbWFpbi9HYW1lTWFpblZpZXdcIjtcclxuaW1wb3J0IFRvcFByZWZhYiBmcm9tIFwiLi4vbWFpbi9Ub3BQcmVmYWJcIjtcclxuaW1wb3J0IE9yZGVyR2V0U2N1ZXNzVmlldyBmcm9tIFwiLi4vb3JkZXIvT3JkZXJHZXRTY3Vlc3NWaWV3XCI7XHJcbmltcG9ydCBPcmRlclJld2FyZFZpZXcgZnJvbSBcIi4uL29yZGVyL09yZGVyUmV3YXJkVmlld1wiO1xyXG5pbXBvcnQgT3JkZXJTdWNjZXNzVmlldyBmcm9tIFwiLi4vb3JkZXIvT3JkZXJTdWNjZXNzVmlld1wiO1xyXG5pbXBvcnQgT3JkZXJWaWV3IGZyb20gXCIuLi9vcmRlci9PcmRlclZpZXdcIjtcclxuaW1wb3J0IFZlZ2V0YWJsZXNWaWV3IGZyb20gXCIuLi92ZWdldGFibGVzL1ZlZ2V0YWJsZXNWaWV3XCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3VpZGVQcmVmYWIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5NYXNrKVxyXG4gICAgbWFzazE6IGNjLk1hc2sgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk1hc2spXHJcbiAgICBtYXNrMjogY2MuTWFzayA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTWFzaylcclxuICAgIG1hc2szOiBjYy5NYXNrID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5NYXNrKVxyXG4gICAgbWFzazQ6IGNjLk1hc2sgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBkaWFsb2c6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBnb09uOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgc2hvdTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGxvY2s6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgZGVzY0xiOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgaXNXcml0ZSA9IGZhbHNlO1xyXG4gICAgd3JpdGVJbnRlcnZhbCA9IDAuMDU7XHJcbiAgICB3cml0ZUR0ID0gMFxyXG4gICAgZGVzY0FyciA9IFtdO1xyXG4gICAgZGVzY0xpc3QgPSBbXHJcbiAgICAgICAgXCLmrKLov47mnaXliLDlubjnpo/pm4bluILvvIzlv6vljrvmjqXlj5borqLljZXotZrpkrHlkKdcIixcclxuICAgICAgICBcIueCueWHu+aOpeWPluS9oOeahOesrOS4gOS4quiuouWNleWQp1wiLFxyXG4gICAgICAgIFwiXCIsXHJcbiAgICAgICAgXCLorqLljZXpnIDopoHnjonnsbPlkoznuqLolq/vvIzlv6vljrvnp43mpI3lkKdcIixcclxuICAgICAgICBcIueCueWHu+enjeS4i+eOieexs+WQp1wiLFxyXG4gICAgICAgIFwi6K6i5Y2V6L+Y6ZyA6KaB57qi6Jav77yM57un57ut56eN5qSN5ZCnXCIsXHJcbiAgICAgICAgXCLngrnlh7vnp43kuIvnuqLolq/lkKdcIixcclxuICAgICAgICBcIuS9nOeJqeaIkOmVv+acieeCueaFou+8jOeCueWHu+WKoOmAn+S9nOeJqeaUtuiOt+WQp1wiLFxyXG4gICAgICAgIFwi546w5Zyo5Y+v5Lul5pS26I63546J57Gz5ZWmXCIsXHJcbiAgICAgICAgXCLnu6fnu63mlLbojrfnuqLolq/lkKdcIixcclxuICAgICAgICBcIuiuouWNlee7iOS6juWujOaIkOWVpu+8jOW/q+mihuWPluS9oOeahOiuouWNleWlluWKseWQp1wiLFxyXG4gICAgICAgIFwiXCIsXHJcbiAgICAgICAgXCJcIixcclxuICAgICAgICBcIue7p+e7reaOpeWNlei/mOS8muWHuueOsOWkp+mineiuouWNleWTpu+8jOWlluWKseabtOWKoOS4sOWOmu+8jOWKquWKm+i1mumSseaPkOeOsOWQp1wiLFxyXG4gICAgXVxyXG4gICAgY2FuVG91Y2ggPSB0cnVlO1xyXG4gICAgaW5pdFBvaW50OiBjYy5WZWMyO1xyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIHRoaXMubm9kZS5zZXRDb250ZW50U2l6ZShjYy53aW5TaXplKTtcclxuICAgICAgICB0aGlzLmluaXRQb2ludCA9IHRoaXMuZGlhbG9nLmdldFBvc2l0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgLy8gdGhpcy5kaWFsb2dBbmltKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTdGVwKCk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkdVSURFX0hpZGUsIHRoaXMuaGlkZSwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkdVSURFX1VQREFURSwgdGhpcy5uZXh0U3RlcCwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuZ29PbiwgdGhpcy5uZXh0U3RlcCwgdGhpcywgMC41LCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGlhbG9nQW5pbSgpIHtcclxuICAgICAgICB0aGlzLmhpZGVTaG91KCk7XHJcbiAgICAgICAgdGhpcy5kaWFsb2cuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAvLyB0aGlzLmRlc2NMYi5zdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIC8vIHRoaXMuZGlhbG9nLnkgPSAtMTgwMDtcclxuICAgICAgICAvLyB0aGlzLmRpYWxvZy5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgIC8vIGxldCBwID0gdGhpcy5kaWFsb2cuZ2V0UG9zaXRpb24oKTtcclxuICAgICAgICAvLyBsZXQgeSA9IHRoaXMucG9pbnRZc1tQbGF5ZXJNb2RlbC5ndWlkZVN0ZXBdXHJcbiAgICAgICAgLy8gbGV0IGRpcyA9IE1LVXRpbHMudHdvUG9pbnREaXN0YW5jZShwLCBjYy52MihwLngsIHkpKTtcclxuICAgICAgICAvLyB0aGlzLmRpYWxvZy5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MubW92ZVRvKGRpcyAvIDE1MDAsIDAsIHkpLmVhc2luZyhjYy5lYXNlQmFja091dCgpKSwgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlRGVzYygpO1xyXG4gICAgICAgIHRoaXMuY2FuVG91Y2ggPSB0cnVlO1xyXG4gICAgICAgIC8vIH0pKSk7XHJcbiAgICB9XHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIHRoaXMubWFzazEubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm1hc2syLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5tYXNrMy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubWFzazQubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRpYWxvZy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmhpZGVTaG91KCk7XHJcbiAgICB9XHJcbiAgICBoaWRlU2hvdSgpIHtcclxuICAgICAgICB0aGlzLnNob3Uuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLnNob3UuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5nb09uLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGVzY0xiLnN0cmluZyA9IFwiXCI7XHJcbiAgICB9XHJcbiAgICBuZXh0U3RlcCgpIHtcclxuICAgICAgICBQbGF5ZXJNb2RlbC5ndWlkZVN0ZXAgPSAxO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi5byV5a+85q2l6aqkXCIgKyBQbGF5ZXJNb2RlbC5ndWlkZVN0ZXApO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU3RlcCgpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlU3RlcCgpIHtcclxuICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICBsZXQgcDEsIHAyO1xyXG4gICAgICAgIHN3aXRjaCAoUGxheWVyTW9kZWwuZ3VpZGVTdGVwKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHRoaXMubWFzazEubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dBbmltKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG9wUHJlZmFiID0gVUlNYW5hbmdlci50b3BcclxuICAgICAgICAgICAgICAgIHAxID0gdG9wUHJlZmFiLmdldENvbXBvbmVudChUb3BQcmVmYWIpLmdldEd1aWRlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIHAyID0gdGhpcy5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKHAxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFzazEubm9kZS5zZXRQb3NpdGlvbihwMik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5zaG91LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnNob3Uuc2V0UG9zaXRpb24ocDIueCwgcDIueSk7XHJcbiAgICAgICAgICAgICAgICAvLyBDb21wb25lbnRIZWxwZXIuc2V0SGVhcnRBY3Rpb24odGhpcy5zaG91KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0FuaW0oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFzazIubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cuc2V0UG9zaXRpb24odGhpcy5pbml0UG9pbnQueCwgdGhpcy5pbml0UG9pbnQueSAtIDMwMCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3JkZXIgPSBNS1V0aWxzLmZpbmROb2RlQnlOYW1lKGNjLmRpcmVjdG9yLmdldFNjZW5lKCksIFwiT3JkZXJWaWV3XCIpXHJcbiAgICAgICAgICAgICAgICBwMSA9IG9yZGVyLmdldENvbXBvbmVudChPcmRlclZpZXcpLmdldEd1aWRlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIHAyID0gdGhpcy5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKHAxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFzazIubm9kZS5zZXRQb3NpdGlvbihwMik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3Uuc2V0UG9zaXRpb24ocDIueCwgcDIueSAtIDEwMCk7XHJcbiAgICAgICAgICAgICAgICBDb21wb25lbnRIZWxwZXIuc2V0SGVhcnRBY3Rpb24odGhpcy5zaG91KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBsZXQgZ2V0ID0gTUtVdGlscy5maW5kTm9kZUJ5TmFtZShjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLCBcIk9yZGVyR2V0U2N1ZXNzVmlld1wiKVxyXG4gICAgICAgICAgICAgICAgcDEgPSBnZXQuZ2V0Q29tcG9uZW50KE9yZGVyR2V0U2N1ZXNzVmlldykuZ2V0R3VpZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgcDIgPSB0aGlzLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIocDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nLnNldFBvc2l0aW9uKHRoaXMuaW5pdFBvaW50LngsIHRoaXMuaW5pdFBvaW50LnkgKyAzMDApO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91LnNldFBvc2l0aW9uKHAyLngsIHAyLnkpO1xyXG4gICAgICAgICAgICAgICAgQ29tcG9uZW50SGVscGVyLnNldEhlYXJ0QWN0aW9uKHRoaXMuc2hvdSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dBbmltKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ2FtZSA9IE1LVXRpbHMuZmluZE5vZGVCeU5hbWUoY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKSwgXCJHYW1lTWFpblZpZXdcIilcclxuICAgICAgICAgICAgICAgIHAxID0gZ2FtZS5nZXRDb21wb25lbnQoR2FtZU1haW5WaWV3KS5nZXRHdWlkZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICBwMiA9IHRoaXMubm9kZS5jb252ZXJ0VG9Ob2RlU3BhY2VBUihwMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cuc2V0UG9zaXRpb24odGhpcy5pbml0UG9pbnQueCwgdGhpcy5pbml0UG9pbnQueSArIDUwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXNrMy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2szLm5vZGUuc2V0UG9zaXRpb24ocDIueCwgcDIueSArIDEwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3Uuc2V0UG9zaXRpb24ocDIueCwgcDIueSArIDE1MCk7XHJcbiAgICAgICAgICAgICAgICBDb21wb25lbnRIZWxwZXIuc2V0SGVhcnRBY3Rpb24odGhpcy5zaG91KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0FuaW0oKTtcclxuICAgICAgICAgICAgICAgIGxldCBwbGFudCA9IE1LVXRpbHMuZmluZE5vZGVCeU5hbWUoY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKSwgXCJWZWdldGFibGVzVmlld1wiKVxyXG4gICAgICAgICAgICAgICAgcDEgPSBwbGFudC5nZXRDb21wb25lbnQoVmVnZXRhYmxlc1ZpZXcpLmdldEd1aWRlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIHAyID0gdGhpcy5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKHAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2s0Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFzazQubm9kZS5zZXRQb3NpdGlvbihwMi54LCBwMi55KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cuc2V0UG9zaXRpb24odGhpcy5pbml0UG9pbnQueCwgdGhpcy5pbml0UG9pbnQueSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3Uuc2V0UG9zaXRpb24ocDIueCwgcDIueSk7XHJcbiAgICAgICAgICAgICAgICBDb21wb25lbnRIZWxwZXIuc2V0SGVhcnRBY3Rpb24odGhpcy5zaG91KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0FuaW0oKTtcclxuICAgICAgICAgICAgICAgIGxldCBnYW1lMSA9IE1LVXRpbHMuZmluZE5vZGVCeU5hbWUoY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKSwgXCJHYW1lTWFpblZpZXdcIilcclxuICAgICAgICAgICAgICAgIHAxID0gZ2FtZTEuZ2V0Q29tcG9uZW50KEdhbWVNYWluVmlldykuZ2V0R3VpZGVQb2ludDEoKTtcclxuICAgICAgICAgICAgICAgIHAyID0gdGhpcy5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKHAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZy5zZXRQb3NpdGlvbih0aGlzLmluaXRQb2ludC54LCB0aGlzLmluaXRQb2ludC55ICsgNTAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2szLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFzazMubm9kZS5zZXRQb3NpdGlvbihwMi54LCBwMi55ICsgMTAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3UuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdS5zZXRQb3NpdGlvbihwMi54LCBwMi55ICsgMTUwKTtcclxuICAgICAgICAgICAgICAgIENvbXBvbmVudEhlbHBlci5zZXRIZWFydEFjdGlvbih0aGlzLnNob3UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nQW5pbSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBsYW50MSA9IE1LVXRpbHMuZmluZE5vZGVCeU5hbWUoY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKSwgXCJWZWdldGFibGVzVmlld1wiKVxyXG4gICAgICAgICAgICAgICAgcDEgPSBwbGFudDEuZ2V0Q29tcG9uZW50KFZlZ2V0YWJsZXNWaWV3KS5nZXRHdWlkZVBvaW50MSgpO1xyXG4gICAgICAgICAgICAgICAgcDIgPSB0aGlzLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIocDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubWFzazQubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXNrNC5ub2RlLnNldFBvc2l0aW9uKHAyLngsIHAyLnkpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZy5zZXRQb3NpdGlvbih0aGlzLmluaXRQb2ludC54LCB0aGlzLmluaXRQb2ludC55KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3UuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdS5zZXRQb3NpdGlvbihwMi54LCBwMi55KTtcclxuICAgICAgICAgICAgICAgIENvbXBvbmVudEhlbHBlci5zZXRIZWFydEFjdGlvbih0aGlzLnNob3UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nQW5pbSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdhbWUyID0gTUtVdGlscy5maW5kTm9kZUJ5TmFtZShjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLCBcIkdhbWVNYWluVmlld1wiKVxyXG4gICAgICAgICAgICAgICAgcDEgPSBnYW1lMi5nZXRDb21wb25lbnQoR2FtZU1haW5WaWV3KS5nZXRHdWlkZUpzUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIHAyID0gdGhpcy5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKHAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZy5zZXRQb3NpdGlvbih0aGlzLmluaXRQb2ludC54LCB0aGlzLmluaXRQb2ludC55KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2szLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFzazMubm9kZS5zZXRQb3NpdGlvbihwMi54ICsgMzAsIHAyLnkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91LnNldFBvc2l0aW9uKHAyLngsIHAyLnkpO1xyXG4gICAgICAgICAgICAgICAgQ29tcG9uZW50SGVscGVyLnNldEhlYXJ0QWN0aW9uKHRoaXMuc2hvdSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dBbmltKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ2FtZTMgPSBNS1V0aWxzLmZpbmROb2RlQnlOYW1lKGNjLmRpcmVjdG9yLmdldFNjZW5lKCksIFwiR2FtZU1haW5WaWV3XCIpXHJcbiAgICAgICAgICAgICAgICBwMSA9IGdhbWUzLmdldENvbXBvbmVudChHYW1lTWFpblZpZXcpLmdldEd1aWRlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIHAyID0gdGhpcy5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKHAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZy5zZXRQb3NpdGlvbih0aGlzLmluaXRQb2ludC54LCB0aGlzLmluaXRQb2ludC55ICsgNTAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hc2szLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFzazMubm9kZS5zZXRQb3NpdGlvbihwMi54LCBwMi55ICsgMTAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3UuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdS5zZXRQb3NpdGlvbihwMi54LCBwMi55ICsgMTUwKTtcclxuICAgICAgICAgICAgICAgIENvbXBvbmVudEhlbHBlci5zZXRIZWFydEFjdGlvbih0aGlzLnNob3UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nQW5pbSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdhbWU0ID0gTUtVdGlscy5maW5kTm9kZUJ5TmFtZShjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLCBcIkdhbWVNYWluVmlld1wiKVxyXG4gICAgICAgICAgICAgICAgcDEgPSBnYW1lNC5nZXRDb21wb25lbnQoR2FtZU1haW5WaWV3KS5nZXRHdWlkZVBvaW50MSgpO1xyXG4gICAgICAgICAgICAgICAgcDIgPSB0aGlzLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIocDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nLnNldFBvc2l0aW9uKHRoaXMuaW5pdFBvaW50LngsIHRoaXMuaW5pdFBvaW50LnkgKyA1MDApO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubWFzazMubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXNrMy5ub2RlLnNldFBvc2l0aW9uKHAyLngsIHAyLnkgKyAxMDApO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91LnNldFBvc2l0aW9uKHAyLngsIHAyLnkgKyA1MCk7XHJcbiAgICAgICAgICAgICAgICBDb21wb25lbnRIZWxwZXIuc2V0SGVhcnRBY3Rpb24odGhpcy5zaG91KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXNrMS5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0FuaW0oKTtcclxuICAgICAgICAgICAgICAgIGxldCB0b3AgPSBVSU1hbmFuZ2VyLnRvcFxyXG4gICAgICAgICAgICAgICAgcDEgPSB0b3AuZ2V0Q29tcG9uZW50KFRvcFByZWZhYikuZ2V0R3VpZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgcDIgPSB0aGlzLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIocDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXNrMS5ub2RlLnNldFBvc2l0aW9uKHAyKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3UuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdS5zZXRQb3NpdGlvbihwMi54ICsgMzAwLCBwMi55KTtcclxuICAgICAgICAgICAgICAgIENvbXBvbmVudEhlbHBlci5zZXRIZWFydEFjdGlvbih0aGlzLnNob3UpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDExOlxyXG4gICAgICAgICAgICAgICAgLy8gLy8gTUtVdGlscy5zZXROb2RlRGVsYXkodGhpcy5ub2RlLCAyLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0FuaW0oKTtcclxuICAgICAgICAgICAgICAgIGxldCB2ID0gTUtVdGlscy5maW5kTm9kZUJ5TmFtZShjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLCBcIk9yZGVyU3VjY2Vzc1ZpZXdcIilcclxuICAgICAgICAgICAgICAgIHAxID0gdi5nZXRDb21wb25lbnQoT3JkZXJTdWNjZXNzVmlldykuZ2V0R3VpZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgcDIgPSB0aGlzLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIocDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nLnNldFBvc2l0aW9uKHRoaXMuaW5pdFBvaW50LngsIHRoaXMuaW5pdFBvaW50LnkgLSA2MDApO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91LnNldFBvc2l0aW9uKHAyLngsIHAyLnkpO1xyXG4gICAgICAgICAgICAgICAgQ29tcG9uZW50SGVscGVyLnNldEhlYXJ0QWN0aW9uKHRoaXMuc2hvdSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gfSlcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEyOlxyXG4gICAgICAgICAgICAgICAgLy8gTUtVdGlscy5zZXROb2RlRGVsYXkodGhpcy5ub2RlLCAyLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmcgPSBNS1V0aWxzLmZpbmROb2RlQnlOYW1lKGNjLmRpcmVjdG9yLmdldFNjZW5lKCksIFwiT3JkZXJSZXdhcmRWaWV3XCIpXHJcbiAgICAgICAgICAgICAgICBwMSA9IHZnLmdldENvbXBvbmVudChPcmRlclJld2FyZFZpZXcpLmdldEd1aWRlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIHAyID0gdGhpcy5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKHAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3UuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdS5zZXRQb3NpdGlvbihwMi54LCBwMi55KTtcclxuICAgICAgICAgICAgICAgIENvbXBvbmVudEhlbHBlci5zZXRIZWFydEFjdGlvbih0aGlzLnNob3UpO1xyXG4gICAgICAgICAgICAgICAgLy8gfSlcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEzOlxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9jay5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHRoaXMubWFzazEubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dBbmltKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cuc2V0UG9zaXRpb24odGhpcy5pbml0UG9pbnQueCwgdGhpcy5pbml0UG9pbnQueSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3Uuc2V0UG9zaXRpb24odGhpcy5nb09uLmdldFBvc2l0aW9uKCkpO1xyXG4gICAgICAgICAgICAgICAgQ29tcG9uZW50SGVscGVyLnNldEhlYXJ0QWN0aW9uKHRoaXMuc2hvdSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5nb09uLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTQ6XHJcbiAgICAgICAgICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUubG9naW5EYXkpO1xyXG4gICAgICAgICAgICAgICAgUGxheWVyTW9kZWwuZ3VpZGVTdGVwID0gLTEwMDtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jay5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5NQUlOX0xPQ0ssIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIFBsYXllck1vZGVsLmd1aWRlU3RhdGUgPSAxO1xyXG4gICAgICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkdVSURFX0NPTVBMRVRFKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUucmVtb3ZlRnJvbVBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVEZXNjKCkge1xyXG4gICAgICAgIGxldCBzdHIgPSB0aGlzLmRlc2NMaXN0W1BsYXllck1vZGVsLmd1aWRlU3RlcF07XHJcbiAgICAgICAgaWYgKHN0ciAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlhbG9nLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzY0FyciA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NBcnIgPSBzdHIuc3BsaXQoXCJcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5byV5a+85o+P6L+w77yaXCIsIHRoaXMuZGVzY0FycilcclxuICAgICAgICAgICAgdGhpcy5pc1dyaXRlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRpYWxvZy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzV3JpdGUgfHwgZHQgPiAwLjUpIHJldHVybjtcclxuICAgICAgICB0aGlzLndyaXRlRHQgKz0gZHQ7XHJcbiAgICAgICAgaWYgKHRoaXMud3JpdGVEdCA+IHRoaXMud3JpdGVJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLndyaXRlRHQgPSAwO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGVzY0Fyci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNXcml0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZGVzY0xiLnN0cmluZyArPSB0aGlzLmRlc2NBcnIuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/flyBox/FlyBoxView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3fdb9OJ7X9KIriYko11mx0w', 'FlyBoxView');
// src/game/view/flyBox/FlyBoxView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var Global_1 = require("../../consts/Global");
var UIType_1 = require("../../consts/UIType");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 飞行宝箱
 * TODO:
 */
var FlyBoxView = /** @class */ (function (_super) {
    __extends(FlyBoxView, _super);
    function FlyBoxView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_open = null;
        _this.btn_close = null;
        return _this;
    }
    FlyBoxView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_open, this.onOpen, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_REWARD_CONFIG, this.onRewardCfg, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_REWARD_GOT, this.onRewardGot, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_REWARD_LOST, this.onRewardLost, this);
        this.initUI();
    };
    FlyBoxView.prototype.startShow = function () {
    };
    FlyBoxView.prototype.initUI = function () {
    };
    FlyBoxView.prototype.onRewardCfg = function (data) {
        SDKManager_1.default.getRedPackReward(data.configId);
    };
    FlyBoxView.prototype.onRewardLost = function () {
        this.onBtnCloseHandle();
    };
    FlyBoxView.prototype.onRewardGot = function (data) {
        UIMananger_1.default.showPanel(UIType_1.default.popRewardView, null, null, UIEffectManager_1.UIEffectType.SCALE, 1, { rewardNum: data.redBean, rewardType: 1, totalMoney: data.userRedBean });
        this.onBtnCloseHandle();
    };
    //看视频返回
    FlyBoxView.prototype.onVideoBack = function () {
        var rewardNum = MkUtils_1.default.randomNM(1000, 1200);
        UIMananger_1.default.showPanel(UIType_1.default.popRewardView, null, null, UIEffectManager_1.UIEffectType.SCALE, 1, { name: "", rewardNum: rewardNum, rewardType: 0 });
        this.onBtnCloseHandle();
    };
    FlyBoxView.prototype.onOpen = function () {
        var random = MkUtils_1.default.randomNMF(0, 100);
        if (random < 30) {
            EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
            SDKManager_1.default.showAd(Global_1.default.VIDEO_CONFIG.video18);
        }
        else {
            SDKManager_1.default.getFlightConfig();
        }
    };
    FlyBoxView.prototype.onBtnCloseHandle = function () {
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], FlyBoxView.prototype, "btn_open", void 0);
    __decorate([
        property(cc.Node)
    ], FlyBoxView.prototype, "btn_close", void 0);
    FlyBoxView = __decorate([
        ccclass
    ], FlyBoxView);
    return FlyBoxView;
}(BasePanel_1.default));
exports.default = FlyBoxView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L2ZseUJveC9GbHlCb3hWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLG9FQUErRDtBQUMvRCw4RUFBMEU7QUFDMUUsb0VBQStEO0FBQy9ELHdFQUFtRTtBQUNuRSxrRUFBaUU7QUFDakUsNERBQXVEO0FBQ3ZELDZEQUF3RDtBQUV4RCw4Q0FBeUM7QUFDekMsOENBQXlDO0FBSW5DLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRTVDOzs7R0FHRztBQUVIO0lBQXdDLDhCQUFTO0lBQWpEO1FBQUEscUVBcURDO1FBbkRHLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFFekIsZUFBUyxHQUFZLElBQUksQ0FBQzs7SUFpRDlCLENBQUM7SUEvQ0csNkJBQVEsR0FBUjtRQUNJLEtBQUs7UUFDTCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU3RCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFbEQsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbkYsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2hGLHNCQUFZLENBQUMsZ0JBQWdCLENBQUMscUJBQVMsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVELDhCQUFTLEdBQVQ7SUFDQSxDQUFDO0lBRUQsMkJBQU0sR0FBTjtJQUNBLENBQUM7SUFDRCxnQ0FBVyxHQUFYLFVBQVksSUFBSTtRQUNaLG9CQUFVLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFDRCxpQ0FBWSxHQUFaO1FBQ0ksSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUNELGdDQUFXLEdBQVgsVUFBWSxJQUFJO1FBQ1osb0JBQVUsQ0FBQyxTQUFTLENBQUMsZ0JBQU0sQ0FBQyxhQUFhLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSw4QkFBWSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQTtRQUN2SixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBQ0MsT0FBTztJQUNQLGdDQUFXLEdBQVg7UUFDRSxJQUFJLFNBQVMsR0FBRyxpQkFBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDN0Msb0JBQVUsQ0FBQyxTQUFTLENBQUMsZ0JBQU0sQ0FBQyxhQUFhLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSw4QkFBWSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUE7UUFDaEksSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUNELDJCQUFNLEdBQU47UUFDSSxJQUFJLE1BQU0sR0FBRyxpQkFBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDdkMsSUFBSSxNQUFNLEdBQUcsRUFBRSxFQUFFO1lBQ2Isc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQzVFLG9CQUFVLENBQUMsTUFBTSxDQUFDLGdCQUFNLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ2xEO2FBQU07WUFDSCxvQkFBVSxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQ2hDO0lBQ0wsQ0FBQztJQUVELHFDQUFnQixHQUFoQjtRQUNJLHNCQUFZLENBQUMsYUFBYSxDQUFDLHFCQUFTLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekUsaUJBQU0sS0FBSyxXQUFFLENBQUM7SUFDbEIsQ0FBQztJQWxERDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2dEQUNPO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7aURBQ1E7SUFKVCxVQUFVO1FBRDlCLE9BQU87T0FDYSxVQUFVLENBcUQ5QjtJQUFELGlCQUFDO0NBckRELEFBcURDLENBckR1QyxtQkFBUyxHQXFEaEQ7a0JBckRvQixVQUFVIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IFNES01hbmFnZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1NES01hbmFnZXJcIjtcclxuaW1wb3J0IHsgVUlFZmZlY3RUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJRWZmZWN0TWFuYWdlclwiO1xyXG5pbXBvcnQgVUlNYW5hbmdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlNYW5hbmdlclwiO1xyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50VHlwZVwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IEJhc2VQYW5lbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3VpL0Jhc2VQYW5lbFwiO1xyXG5pbXBvcnQgeyBjcm9wX2NvbmZpZyB9IGZyb20gXCIuLi8uLi9jb25zdHMvQ0NvbnN0XCI7XHJcbmltcG9ydCBHbG9iYWwgZnJvbSBcIi4uLy4uL2NvbnN0cy9HbG9iYWxcIjtcclxuaW1wb3J0IFVJVHlwZSBmcm9tIFwiLi4vLi4vY29uc3RzL1VJVHlwZVwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCBDb25maWdNYW5hZ2VyIGZyb20gXCIuLi8uLi9tYW5hZ2VyL0NvbmZpZ01hbmFnZXJcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG4vKipcclxuICog6aOe6KGM5a6d566xXHJcbiAqIFRPRE86XHJcbiAqL1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGbHlCb3hWaWV3IGV4dGVuZHMgQmFzZVBhbmVsIHtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX29wZW46IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOmAgOWHulxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9jbG9zZSwgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX29wZW4sIHRoaXMub25PcGVuLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlNES19SRVdBUkRfQ09ORklHLCB0aGlzLm9uUmV3YXJkQ2ZnLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuU0RLX1JFV0FSRF9HT1QsIHRoaXMub25SZXdhcmRHb3QsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5TREtfUkVXQVJEX0xPU1QsIHRoaXMub25SZXdhcmRMb3N0LCB0aGlzKTtcclxuICAgICAgICB0aGlzLmluaXRVSSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0U2hvdygpIHtcclxuICAgIH1cclxuXHJcbiAgICBpbml0VUkoKSB7XHJcbiAgICB9XHJcbiAgICBvblJld2FyZENmZyhkYXRhKSB7XHJcbiAgICAgICAgU0RLTWFuYWdlci5nZXRSZWRQYWNrUmV3YXJkKGRhdGEuY29uZmlnSWQpO1xyXG4gICAgfVxyXG4gICAgb25SZXdhcmRMb3N0KCkge1xyXG4gICAgICAgIHRoaXMub25CdG5DbG9zZUhhbmRsZSgpO1xyXG4gICAgfVxyXG4gICAgb25SZXdhcmRHb3QoZGF0YSkge1xyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5wb3BSZXdhcmRWaWV3LCBudWxsLCBudWxsLCBVSUVmZmVjdFR5cGUuU0NBTEUsIDEsIHsgcmV3YXJkTnVtOiBkYXRhLnJlZEJlYW4sIHJld2FyZFR5cGU6IDEsIHRvdGFsTW9uZXk6IGRhdGEudXNlclJlZEJlYW4gfSlcclxuICAgICAgICB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUoKTtcclxuICAgIH1cclxuICAgICAgLy/nnIvop4bpopHov5Tlm55cclxuICAgICAgb25WaWRlb0JhY2soKSB7XHJcbiAgICAgICAgbGV0IHJld2FyZE51bSA9IE1LVXRpbHMucmFuZG9tTk0oMTAwMCwgMTIwMCk7XHJcbiAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLnBvcFJld2FyZFZpZXcsIG51bGwsIG51bGwsIFVJRWZmZWN0VHlwZS5TQ0FMRSwgMSwgeyBuYW1lOiBcIlwiLCByZXdhcmROdW06IHJld2FyZE51bSwgcmV3YXJkVHlwZTogMCB9KVxyXG4gICAgICAgIHRoaXMub25CdG5DbG9zZUhhbmRsZSgpO1xyXG4gICAgfVxyXG4gICAgb25PcGVuKCkge1xyXG4gICAgICAgIGxldCByYW5kb20gPSBNS1V0aWxzLnJhbmRvbU5NRigwLCAxMDApO1xyXG4gICAgICAgIGlmIChyYW5kb20gPCAzMCkge1xyXG4gICAgICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5vblZpZGVvQmFjaywgdGhpcyk7XHJcbiAgICAgICAgICAgIFNES01hbmFnZXIuc2hvd0FkKEdsb2JhbC5WSURFT19DT05GSUcudmlkZW8xOCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgU0RLTWFuYWdlci5nZXRGbGlnaHRDb25maWcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25CdG5DbG9zZUhhbmRsZSgpIHtcclxuICAgICAgICBFdmVudERpc3BhdGgucmVtb3ZlQnlFdmVudChFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5vblZpZGVvQmFjaywgdGhpcyk7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/clearPest/ClearPestView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ed99egAlh1FoqZIt1SHFY2A', 'ClearPestView');
// src/game/view/clearPest/ClearPestView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var Global_1 = require("../../consts/Global");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 除虫
 * TODO:
 */
var ClearPestView = /** @class */ (function (_super) {
    __extends(ClearPestView, _super);
    function ClearPestView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.videoIcon = null;
        _this.btnLb = null;
        _this.btn_clear = null;
        _this.btn_close = null;
        _this.titleLb = null;
        _this.descLb = null;
        _this.isFirst = true;
        return _this;
    }
    ClearPestView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_clear, this.onClear, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_REWARD_CONFIG, this.onRewardCfg, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_REWARD_GOT, this.onRewardGot, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_REWARD_LOST, this.onRewardLost, this);
        this.initUI();
    };
    ClearPestView.prototype.startShow = function () {
        this.targetPoint = this.inData[0];
        this.mCfg = this.inData[1];
        this.baseCfg = ConfigManager_1.default.getCropById(this.mCfg.cropId);
        this.isFirst = PlayerModel_1.default.isFirstClearPest;
    };
    ClearPestView.prototype.initUI = function () {
        console.log(this.baseCfg);
        this.titleLb.string = this.baseCfg.name + "除虫";
        this.descLb.string = this.baseCfg.name + "感染了害虫\n需要除虫后恢复生长";
        if (this.isFirst) {
            this.btnLb.x = 0;
            this.videoIcon.active = false;
        }
        else {
            this.btnLb.x = 50;
            this.videoIcon.active = true;
        }
    };
    ClearPestView.prototype.onRewardCfg = function (data) {
        SDKManager_1.default.getRedPackReward(data.configId);
    };
    ClearPestView.prototype.onRewardLost = function () {
        this.onBtnCloseHandle();
    };
    ClearPestView.prototype.onRewardGot = function (data) {
        EventDispath_1.default.send(EventType_1.EventType.SHACHONG, { name: this.baseCfg.name, rewardNum: data.redBean, rewardType: 1, totalMoney: data.userRedBean });
        // UIMananger.showPanel(UIType.popRewardView, null, () => {
        //     // EventDispath.send(EventType.JX_SC, { type: 2, point: this.targetPoint });
        //     EventDispath.send(EventType.SHACHONG);
        // }, UIEffectType.SCALE, 0, { name: this.baseCfg.name, rewardNum: data.redBean, rewardType: 1, totalMoney: data.userRedBean })
        this.onBtnCloseHandle();
    };
    //看视频返回
    ClearPestView.prototype.onVideoBack = function () {
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        var name = this.baseCfg.name;
        var rewardNum = 0;
        rewardNum = MkUtils_1.default.randomNM(400, 600);
        EventDispath_1.default.send(EventType_1.EventType.SHACHONG, { name: name, rewardNum: rewardNum, rewardType: 0 });
        this.onBtnCloseHandle();
    };
    ClearPestView.prototype.onClear = function () {
        if (this.isFirst) {
            // EventDispath.send(EventType.JX_SC, { type: 2, point: this.targetPoint });
            PlayerModel_1.default.isFirstClearPest = false;
            this.onVideoBack();
            // this.onBtnCloseHandle();
        }
        else {
            var random = MkUtils_1.default.randomNMF(0, 100);
            if (random < 30) {
                EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
                SDKManager_1.default.showAd(Global_1.default.VIDEO_CONFIG.video13);
            }
            else {
                SDKManager_1.default.getWormConfig();
            }
        }
    };
    ClearPestView.prototype.onClose = function () {
        EventDispath_1.default.send(EventType_1.EventType.CLEAR_PEST_CLOSE);
        this.onBtnCloseHandle();
    };
    ClearPestView.prototype.onBtnCloseHandle = function () {
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], ClearPestView.prototype, "videoIcon", void 0);
    __decorate([
        property(cc.Node)
    ], ClearPestView.prototype, "btnLb", void 0);
    __decorate([
        property(cc.Node)
    ], ClearPestView.prototype, "btn_clear", void 0);
    __decorate([
        property(cc.Node)
    ], ClearPestView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Label)
    ], ClearPestView.prototype, "titleLb", void 0);
    __decorate([
        property(cc.Label)
    ], ClearPestView.prototype, "descLb", void 0);
    ClearPestView = __decorate([
        ccclass
    ], ClearPestView);
    return ClearPestView;
}(BasePanel_1.default));
exports.default = ClearPestView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L2NsZWFyUGVzdC9DbGVhclBlc3RWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLG9FQUErRDtBQUcvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDREQUF1RDtBQUN2RCw2REFBd0Q7QUFFeEQsOENBQXlDO0FBRXpDLHVEQUFrRDtBQUNsRCw2REFBd0Q7QUFFbEQsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFFNUM7OztHQUdHO0FBRUg7SUFBMkMsaUNBQVM7SUFBcEQ7UUFBQSxxRUF1R0M7UUFyR0csZUFBUyxHQUFZLElBQUksQ0FBQztRQUUxQixXQUFLLEdBQVksSUFBSSxDQUFDO1FBRXRCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFFMUIsZUFBUyxHQUFZLElBQUksQ0FBQztRQUUxQixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBRXpCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFLeEIsYUFBTyxHQUFHLElBQUksQ0FBQzs7SUFzRm5CLENBQUM7SUFyRkcsZ0NBQVEsR0FBUjtRQUNJLEtBQUs7UUFDTCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU3RCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFcEQsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFD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LENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztvREFDUTtJQUUxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2tEQUNNO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7aURBQ0s7SUFaUCxhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBdUdqQztJQUFELG9CQUFDO0NBdkdELEFBdUdDLENBdkcwQyxtQkFBUyxHQXVHbkQ7a0JBdkdvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IFNES01hbmFnZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1NES01hbmFnZXJcIjtcclxuaW1wb3J0IHsgVUlFZmZlY3RUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJRWZmZWN0TWFuYWdlclwiO1xyXG5pbXBvcnQgVUlNYW5hbmdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlNYW5hbmdlclwiO1xyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50VHlwZVwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IEJhc2VQYW5lbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3VpL0Jhc2VQYW5lbFwiO1xyXG5pbXBvcnQgeyBjcm9wX2NvbmZpZyB9IGZyb20gXCIuLi8uLi9jb25zdHMvQ0NvbnN0XCI7XHJcbmltcG9ydCBHbG9iYWwgZnJvbSBcIi4uLy4uL2NvbnN0cy9HbG9iYWxcIjtcclxuaW1wb3J0IFVJVHlwZSBmcm9tIFwiLi4vLi4vY29uc3RzL1VJVHlwZVwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCBDb25maWdNYW5hZ2VyIGZyb20gXCIuLi8uLi9tYW5hZ2VyL0NvbmZpZ01hbmFnZXJcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG4vKipcclxuICog6Zmk6JmrXHJcbiAqIFRPRE86XHJcbiAqL1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDbGVhclBlc3RWaWV3IGV4dGVuZHMgQmFzZVBhbmVsIHtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdmlkZW9JY29uOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuTGI6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xlYXI6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgdGl0bGVMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgZGVzY0xiOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgdGFyZ2V0UG9pbnQ6IGNjLlZlYzI7XHJcbiAgICBtQ2ZnO1xyXG4gICAgYmFzZUNmZzogY3JvcF9jb25maWc7XHJcbiAgICBpc0ZpcnN0ID0gdHJ1ZTtcclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOmAgOWHulxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9jbG9zZSwgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2NsZWFyLCB0aGlzLm9uQ2xlYXIsIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuU0RLX1JFV0FSRF9DT05GSUcsIHRoaXMub25SZXdhcmRDZmcsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5TREtfUkVXQVJEX0dPVCwgdGhpcy5vblJld2FyZEdvdCwgdGhpcyk7XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5TREtfUkVXQVJEX0xPU1QsIHRoaXMub25SZXdhcmRMb3N0LCB0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydFNob3coKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXRQb2ludCA9IHRoaXMuaW5EYXRhWzBdO1xyXG4gICAgICAgIHRoaXMubUNmZyA9IHRoaXMuaW5EYXRhWzFdO1xyXG4gICAgICAgIHRoaXMuYmFzZUNmZyA9IENvbmZpZ01hbmFnZXIuZ2V0Q3JvcEJ5SWQodGhpcy5tQ2ZnLmNyb3BJZCk7XHJcbiAgICAgICAgdGhpcy5pc0ZpcnN0ID0gUGxheWVyTW9kZWwuaXNGaXJzdENsZWFyUGVzdDtcclxuICAgIH1cclxuXHJcbiAgICBpbml0VUkoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5iYXNlQ2ZnKTtcclxuICAgICAgICB0aGlzLnRpdGxlTGIuc3RyaW5nID0gdGhpcy5iYXNlQ2ZnLm5hbWUgKyBcIumZpOiZq1wiO1xyXG4gICAgICAgIHRoaXMuZGVzY0xiLnN0cmluZyA9IHRoaXMuYmFzZUNmZy5uYW1lICsgXCLmhJ/mn5PkuoblrrPomatcXG7pnIDopoHpmaTomavlkI7mgaLlpI3nlJ/plb9cIlxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0ZpcnN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuTGIueCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW9JY29uLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuTGIueCA9IDUwO1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvSWNvbi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICBvblJld2FyZENmZyhkYXRhKSB7XHJcbiAgICAgICAgU0RLTWFuYWdlci5nZXRSZWRQYWNrUmV3YXJkKGRhdGEuY29uZmlnSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmV3YXJkTG9zdCgpIHtcclxuICAgICAgICB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBvblJld2FyZEdvdChkYXRhKSB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlNIQUNIT05HLCB7IG5hbWU6IHRoaXMuYmFzZUNmZy5uYW1lLCByZXdhcmROdW06IGRhdGEucmVkQmVhbiwgcmV3YXJkVHlwZTogMSwgdG90YWxNb25leTogZGF0YS51c2VyUmVkQmVhbiB9KVxyXG4gICAgICAgIC8vIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5wb3BSZXdhcmRWaWV3LCBudWxsLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIC8vIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5KWF9TQywgeyB0eXBlOiAyLCBwb2ludDogdGhpcy50YXJnZXRQb2ludCB9KTtcclxuICAgICAgICAvLyAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlNIQUNIT05HKTtcclxuICAgICAgICAvLyB9LCBVSUVmZmVjdFR5cGUuU0NBTEUsIDAsIHsgbmFtZTogdGhpcy5iYXNlQ2ZnLm5hbWUsIHJld2FyZE51bTogZGF0YS5yZWRCZWFuLCByZXdhcmRUeXBlOiAxLCB0b3RhbE1vbmV5OiBkYXRhLnVzZXJSZWRCZWFuIH0pXHJcbiAgICAgICAgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcbiAgICAvL+eci+inhumikei/lOWbnlxyXG4gICAgb25WaWRlb0JhY2soKSB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUJ5RXZlbnQoRXZlbnRUeXBlLlZJREVPX0JBQ0ssIHRoaXMub25WaWRlb0JhY2ssIHRoaXMpO1xyXG4gICAgICAgIGxldCBuYW1lID0gdGhpcy5iYXNlQ2ZnLm5hbWU7XHJcbiAgICAgICAgbGV0IHJld2FyZE51bSA9IDBcclxuICAgICAgICByZXdhcmROdW0gPSBNS1V0aWxzLnJhbmRvbU5NKDQwMCwgNjAwKTtcclxuICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuU0hBQ0hPTkcsIHsgbmFtZTogbmFtZSwgcmV3YXJkTnVtOiByZXdhcmROdW0sIHJld2FyZFR5cGU6IDAgfSk7XHJcbiAgICAgICAgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcbiAgICBvbkNsZWFyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRmlyc3QpIHtcclxuICAgICAgICAgICAgLy8gRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkpYX1NDLCB7IHR5cGU6IDIsIHBvaW50OiB0aGlzLnRhcmdldFBvaW50IH0pO1xyXG4gICAgICAgICAgICBQbGF5ZXJNb2RlbC5pc0ZpcnN0Q2xlYXJQZXN0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMub25WaWRlb0JhY2soKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5vbkJ0bkNsb3NlSGFuZGxlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHJhbmRvbSA9IE1LVXRpbHMucmFuZG9tTk1GKDAsIDEwMCk7XHJcbiAgICAgICAgICAgIGlmIChyYW5kb20gPCAzMCkge1xyXG4gICAgICAgICAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlZJREVPX0JBQ0ssIHRoaXMub25WaWRlb0JhY2ssIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgU0RLTWFuYWdlci5zaG93QWQoR2xvYmFsLlZJREVPX0NPTkZJRy52aWRlbzEzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIFNES01hbmFnZXIuZ2V0V29ybUNvbmZpZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xvc2UoKSB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkNMRUFSX1BFU1RfQ0xPU0UpXHJcbiAgICAgICAgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcbiAgICBvbkJ0bkNsb3NlSGFuZGxlKCkge1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5yZW1vdmVCeUV2ZW50KEV2ZW50VHlwZS5WSURFT19CQUNLLCB0aGlzLm9uVmlkZW9CYWNrLCB0aGlzKTtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/hbPop/HardView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd4158zjrj1ICoPyoqh3lpN2', 'HardView');
// src/game/view/hbPop/HardView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 辛苦红包，回馈红包
 * TODO:
 */
var HardView = /** @class */ (function (_super) {
    __extends(HardView, _super);
    function HardView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.xkTitle = null;
        _this.hkTitle = null;
        _this.btn_open = null;
        _this.btn_noOpen = null;
        _this.btn_giveUp = null;
        _this.descLb1 = null;
        _this.descLb2 = null;
        _this.mType = 0;
        _this.getType = 0;
        return _this;
    }
    HardView.prototype.onEnable = function () {
        EventDispath_1.default.on(this.btn_giveUp, this.onGiveUp, this);
        EventDispath_1.default.on(this.btn_open, this.onOpen, this);
        EventDispath_1.default.on(this.btn_noOpen, this.onNoOpen, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_REWARD_CONFIG, this.onRewardCfg, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_REWARD_GOT, this.onRewardGot, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_REWARD_LOST, this.onRewardLost, this);
        if (this.mType == 0) {
            SDKManager_1.default.getHardConfig();
        }
        else {
            SDKManager_1.default.getFeedbackConfig();
        }
        this.initUI();
    };
    HardView.prototype.startShow = function () {
        this.mType = this.inData[0];
    };
    HardView.prototype.initUI = function () {
        if (this.mType == 0) {
            this.xkTitle.active = true;
            this.btn_giveUp.active = true;
            this.descLb1.active = true;
        }
        else {
            this.hkTitle.active = true;
            this.btn_noOpen.active = true;
            this.descLb2.active = true;
        }
    };
    HardView.prototype.onRewardCfg = function (data) {
        this.mData = data;
    };
    HardView.prototype.onRewardLost = function () {
        this.onBtnCloseHandle();
    };
    HardView.prototype.onRewardGot = function (data) {
        if (this.getType) {
            PlayerModel_1.default.setMoney(data.userRedBean, data.redBean);
        }
        else {
            UIMananger_1.default.showPanel(UIType_1.default.hardOpenView, null, null, UIEffectManager_1.UIEffectType.SCALE, data);
        }
        this.onBtnCloseHandle();
    };
    HardView.prototype.onGiveUp = function () {
        this.onBtnCloseHandle();
    };
    //不开了，只领一点
    HardView.prototype.onNoOpen = function () {
        this.getType = 1;
        PlayerModel_1.default.zdGkNum = 0;
        SDKManager_1.default.getRedPackReward(this.mData.configId, false);
        EventDispath_1.default.send(EventType_1.EventType.HKHB_UPDATE);
    };
    HardView.prototype.onOpen = function () {
        if (this.mType == 0) {
            SDKManager_1.default.getRedPackReward(this.mData.configId);
        }
        else {
            PlayerModel_1.default.zdGkNum = 0;
            EventDispath_1.default.send(EventType_1.EventType.HKHB_UPDATE);
            SDKManager_1.default.getRedPackReward(this.mData.configId, true);
        }
        // if (this.isFirst) {
        //     // EventDispath.send(EventType.JX_SC, { type: 2, point: this.targetPoint });
        //     PlayerModel.isFirstClearPest = false;
        //     this.onVideoBack();
        //     // this.onBtnCloseHandle();
        // } else {
        //     EventDispath.addEventListener(EventType.VIDEO_BACK, this.onVideoBack, this);
        //     SDKManager.showAd(Global.VIDEO_CONFIG.video13);
        // }
    };
    HardView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], HardView.prototype, "xkTitle", void 0);
    __decorate([
        property(cc.Node)
    ], HardView.prototype, "hkTitle", void 0);
    __decorate([
        property(cc.Node)
    ], HardView.prototype, "btn_open", void 0);
    __decorate([
        property(cc.Node)
    ], HardView.prototype, "btn_noOpen", void 0);
    __decorate([
        property(cc.Node)
    ], HardView.prototype, "btn_giveUp", void 0);
    __decorate([
        property(cc.Node)
    ], HardView.prototype, "descLb1", void 0);
    __decorate([
        property(cc.Node)
    ], HardView.prototype, "descLb2", void 0);
    HardView = __decorate([
        ccclass
    ], HardView);
    return HardView;
}(BasePanel_1.default));
exports.default = HardView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L2hiUG9wL0hhcmRWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLG9FQUErRDtBQUMvRCw4RUFBMEU7QUFDMUUsb0VBQStEO0FBQy9ELHdFQUFtRTtBQUNuRSxrRUFBaUU7QUFDakUsNkRBQXdEO0FBQ3hELDhDQUF5QztBQUN6Qyx1REFBa0Q7QUFFNUMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFFNUM7OztHQUdHO0FBRUg7SUFBc0MsNEJBQVM7SUFBL0M7UUFBQSxxRUFvR0M7UUFsR0csYUFBTyxHQUFZLElBQUksQ0FBQztRQUV4QixhQUFPLEdBQVksSUFBSSxDQUFDO1FBRXhCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFFekIsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFFM0IsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFFM0IsYUFBTyxHQUFZLElBQUksQ0FBQztRQUV4QixhQUFPLEdBQVksSUFBSSxDQUFDO1FBR3hCLFdBQUssR0FBRyxDQUFDLENBQUM7UUFDVixhQUFPLEdBQUcsQ0FBQyxDQUFDOztJQWtGaEIsQ0FBQztJQWpGRywyQkFBUSxHQUFSO1FBRUksc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3RELHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElB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QUFJLENBQUMscUJBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUN6QyxvQkFBVSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzFEO1FBQ0Qsc0JBQXNCO1FBQ3RCLG1GQUFtRjtRQUNuRiw0Q0FBNEM7UUFDNUMsMEJBQTBCO1FBQzFCLGtDQUFrQztRQUNsQyxXQUFXO1FBQ1gsbUZBQW1GO1FBQ25GLHNEQUFzRDtRQUN0RCxJQUFJO0lBQ1IsQ0FBQztJQUVELG1DQUFnQixHQUFoQjtRQUNJLGlCQUFNLEtBQUssV0FBRSxDQUFDO0lBQ2xCLENBQUM7SUFqR0Q7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs2Q0FDTTtJQUV4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzZDQUNNO0lBRXhCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7OENBQ087SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztnREFDUztJQUUzQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2dEQUNTO0lBRTNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7NkNBQ007SUFFeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs2Q0FDTTtJQWRQLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0FvRzVCO0lBQUQsZUFBQztDQXBHRCxBQW9HQyxDQXBHcUMsbUJBQVMsR0FvRzlDO2tCQXBHb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IEJhc2VQYW5lbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3VpL0Jhc2VQYW5lbFwiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG4vKipcclxuICog6L6b6Ium57qi5YyF77yM5Zue6aaI57qi5YyFXHJcbiAqIFRPRE86XHJcbiAqL1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIYXJkVmlldyBleHRlbmRzIEJhc2VQYW5lbCB7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHhrVGl0bGU6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBoa1RpdGxlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX29wZW46IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fbm9PcGVuOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2dpdmVVcDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGRlc2NMYjE6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBkZXNjTGIyOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBtRGF0YTtcclxuICAgIG1UeXBlID0gMDtcclxuICAgIGdldFR5cGUgPSAwO1xyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9naXZlVXAsIHRoaXMub25HaXZlVXAsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9vcGVuLCB0aGlzLm9uT3BlbiwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX25vT3BlbiwgdGhpcy5vbk5vT3BlbiwgdGhpcyk7XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5TREtfUkVXQVJEX0NPTkZJRywgdGhpcy5vblJld2FyZENmZywgdGhpcyk7XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5TREtfUkVXQVJEX0dPVCwgdGhpcy5vblJld2FyZEdvdCwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlNES19SRVdBUkRfTE9TVCwgdGhpcy5vblJld2FyZExvc3QsIHRoaXMpO1xyXG4gICAgICAgIGlmICh0aGlzLm1UeXBlID09IDApIHtcclxuICAgICAgICAgICAgU0RLTWFuYWdlci5nZXRIYXJkQ29uZmlnKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgU0RLTWFuYWdlci5nZXRGZWVkYmFja0NvbmZpZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmluaXRVSSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0U2hvdygpIHtcclxuICAgICAgICB0aGlzLm1UeXBlID0gdGhpcy5pbkRhdGFbMF07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGluaXRVSSgpIHtcclxuICAgICAgICBpZiAodGhpcy5tVHlwZSA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMueGtUaXRsZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmJ0bl9naXZlVXAuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5kZXNjTGIxLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5oa1RpdGxlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuX25vT3Blbi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NMYjIuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvblJld2FyZENmZyhkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5tRGF0YSA9IGRhdGE7XHJcbiAgICB9XHJcbiAgICBvblJld2FyZExvc3QoKSB7XHJcbiAgICAgICAgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcbiAgICBvblJld2FyZEdvdChkYXRhKSB7XHJcbiAgICAgICAgaWYoIHRoaXMuZ2V0VHlwZSl7XHJcbiAgICAgICAgICAgIFBsYXllck1vZGVsLnNldE1vbmV5KGRhdGEudXNlclJlZEJlYW4sIGRhdGEucmVkQmVhbik7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5oYXJkT3BlblZpZXcsIG51bGwsIG51bGwsIFVJRWZmZWN0VHlwZS5TQ0FMRSwgZGF0YSlcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcbiAgICBvbkdpdmVVcCgpIHtcclxuICAgICAgICB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUoKTtcclxuICAgIH1cclxuICAgIC8v5LiN5byA5LqG77yM5Y+q6aKG5LiA54K5XHJcbiAgICBvbk5vT3BlbigpIHtcclxuICAgICAgICB0aGlzLmdldFR5cGUgPSAxO1xyXG4gICAgICAgIFBsYXllck1vZGVsLnpkR2tOdW0gPSAwO1xyXG4gICAgICAgIFNES01hbmFnZXIuZ2V0UmVkUGFja1Jld2FyZCh0aGlzLm1EYXRhLmNvbmZpZ0lkLCBmYWxzZSk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkhLSEJfVVBEQVRFKTtcclxuICAgIH1cclxuICAgIG9uT3BlbigpIHtcclxuICAgICAgICBpZiAodGhpcy5tVHlwZSA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICBTREtNYW5hZ2VyLmdldFJlZFBhY2tSZXdhcmQodGhpcy5tRGF0YS5jb25maWdJZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgUGxheWVyTW9kZWwuemRHa051bSA9IDA7XHJcbiAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5IS0hCX1VQREFURSk7XHJcbiAgICAgICAgICAgIFNES01hbmFnZXIuZ2V0UmVkUGFja1Jld2FyZCh0aGlzLm1EYXRhLmNvbmZpZ0lkLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgKHRoaXMuaXNGaXJzdCkge1xyXG4gICAgICAgIC8vICAgICAvLyBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuSlhfU0MsIHsgdHlwZTogMiwgcG9pbnQ6IHRoaXMudGFyZ2V0UG9pbnQgfSk7XHJcbiAgICAgICAgLy8gICAgIFBsYXllck1vZGVsLmlzRmlyc3RDbGVhclBlc3QgPSBmYWxzZTtcclxuICAgICAgICAvLyAgICAgdGhpcy5vblZpZGVvQmFjaygpO1xyXG4gICAgICAgIC8vICAgICAvLyB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUoKTtcclxuICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5vblZpZGVvQmFjaywgdGhpcyk7XHJcbiAgICAgICAgLy8gICAgIFNES01hbmFnZXIuc2hvd0FkKEdsb2JhbC5WSURFT19DT05GSUcudmlkZW8xMyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIG9uQnRuQ2xvc2VIYW5kbGUoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/level/LevelPopView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '18bc1Eaw+BP0ZnQFXaKg2XZ', 'LevelPopView');
// src/game/view/level/LevelPopView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LevelPopView = /** @class */ (function (_super) {
    __extends(LevelPopView, _super);
    function LevelPopView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_get = null;
        _this.btn_close = null;
        _this.descLab = null;
        _this.moneyLab = null;
        return _this;
        // update (dt) {}
    }
    LevelPopView.prototype.onEnable = function () {
        // 领取
        EventDispath_1.default.on(this.btn_get, this.onGet, this);
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onGet, this);
        this.moneyLab.string = this.data.amount + "元";
        var num = this.nextData.orderNum - this.data.userOrderNum;
        if (num > 0) {
            this.descLab.string = "\u518D\u5B8C\u6210" + num + "\u4E2A\u8BA2\u5355\uFF0C\u96C6\u5E02\u5347\u81F3" + this.nextData.level + "\u7EA7\n\u5373\u53EF\u9886\u53D6" + this.nextData.amount + "\u5143\u63D0\u73B0\u5956\u52B1";
        }
        else {
            this.descLab.string = "可升级到下一级";
        }
    };
    LevelPopView.prototype.start = function () {
    };
    LevelPopView.prototype.startShow = function () {
        this.data = this.inData[0].currentData;
        this.nextData = this.inData[0].nextData;
    };
    //领取奖励
    LevelPopView.prototype.onGet = function () {
        this.onClose();
    };
    LevelPopView.prototype.onClose = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], LevelPopView.prototype, "btn_get", void 0);
    __decorate([
        property(cc.Node)
    ], LevelPopView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Label)
    ], LevelPopView.prototype, "descLab", void 0);
    __decorate([
        property(cc.Label)
    ], LevelPopView.prototype, "moneyLab", void 0);
    LevelPopView = __decorate([
        ccclass
    ], LevelPopView);
    return LevelPopView;
}(BasePanel_1.default));
exports.default = LevelPopView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L2xldmVsL0xldmVsUG9wVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdsRix3RUFBbUU7QUFFbkUsNkRBQXdEO0FBSWxELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQTBDLGdDQUFTO0lBQW5EO1FBQUEscUVBK0NDO1FBNUNHLGFBQU8sR0FBWSxJQUFJLENBQUM7UUFFeEIsZUFBUyxHQUFZLElBQUksQ0FBQztRQUUxQixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBRXpCLGNBQVEsR0FBYSxJQUFJLENBQUM7O1FBcUMxQixpQkFBaUI7SUFDckIsQ0FBQztJQWpDRywrQkFBUSxHQUFSO1FBQ0ksS0FBSztRQUNMLHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRCxLQUFLO1FBQ0wsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRWxELElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFDLEdBQUcsQ0FBQztRQUM1QyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQTtRQUN6RCxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUU7WUFFVCxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyx1QkFBTSxHQUFHLHdEQUFXLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyx3Q0FBVSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sbUNBQU8sQ0FBQTtTQUNyRzthQUFNO1lBQ0gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFBO1NBQ2xDO0lBRUwsQ0FBQztJQUNELDRCQUFLLEdBQUw7SUFFQSxDQUFDO0lBQ0QsZ0NBQVMsR0FBVDtRQUNJLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUM7UUFDdkMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztJQUM1QyxDQUFDO0lBQ0QsTUFBTTtJQUNOLDRCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFFbkIsQ0FBQztJQUNELDhCQUFPLEdBQVA7UUFDSSxpQkFBTSxLQUFLLFdBQUUsQ0FBQztJQUNsQixDQUFDO0lBekNEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7aURBQ007SUFFeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzttREFDUTtJQUUxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2lEQUNNO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7a0RBQ087SUFUVCxZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBK0NoQztJQUFELG1CQUFDO0NBL0NELEFBK0NDLENBL0N5QyxtQkFBUyxHQStDbEQ7a0JBL0NvQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IFNES01hbmFnZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1NES01hbmFnZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IEJhc2VQYW5lbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3VpL0Jhc2VQYW5lbFwiO1xyXG5pbXBvcnQgR2xvYmFsIGZyb20gXCIuLi8uLi9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZXZlbFBvcFZpZXcgZXh0ZW5kcyBCYXNlUGFuZWwge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2dldDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9jbG9zZTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBkZXNjTGFiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBtb25leUxhYjogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG4gICAgZGF0YTtcclxuICAgIG5leHREYXRhO1xyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8g6aKG5Y+WXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2dldCwgdGhpcy5vbkdldCwgdGhpcyk7XHJcbiAgICAgICAgLy8g6YCA5Ye6XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2Nsb3NlLCB0aGlzLm9uR2V0LCB0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5tb25leUxhYi5zdHJpbmcgPSB0aGlzLmRhdGEuYW1vdW50K1wi5YWDXCI7XHJcbiAgICAgICAgbGV0IG51bSA9IHRoaXMubmV4dERhdGEub3JkZXJOdW0gLSB0aGlzLmRhdGEudXNlck9yZGVyTnVtXHJcbiAgICAgICAgaWYgKG51bSA+IDApIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGVzY0xhYi5zdHJpbmcgPSBg5YaN5a6M5oiQJHtudW195Liq6K6i5Y2V77yM6ZuG5biC5Y2H6IezJHt0aGlzLm5leHREYXRhLmxldmVsfee6p1xcbuWNs+WPr+mihuWPliR7dGhpcy5uZXh0RGF0YS5hbW91bnR95YWD5o+Q546w5aWW5YqxYFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzY0xhYi5zdHJpbmcgPSBcIuWPr+WNh+e6p+WIsOS4i+S4gOe6p1wiXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG5cclxuICAgIH1cclxuICAgIHN0YXJ0U2hvdygpIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmluRGF0YVswXS5jdXJyZW50RGF0YTtcclxuICAgICAgICB0aGlzLm5leHREYXRhID0gdGhpcy5pbkRhdGFbMF0ubmV4dERhdGE7XHJcbiAgICB9XHJcbiAgICAvL+mihuWPluWlluWKsVxyXG4gICAgb25HZXQoKSB7XHJcbiAgICAgICAgdGhpcy5vbkNsb3NlKCk7XHJcblxyXG4gICAgfVxyXG4gICAgb25DbG9zZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/loginDay/LoginDay.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '770d6j7FClPmqkIWDEah00f', 'LoginDay');
// src/game/view/loginDay/LoginDay.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LoginDay = /** @class */ (function (_super) {
    __extends(LoginDay, _super);
    function LoginDay() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.dayLb = null;
        return _this;
        // update (dt) {}
    }
    // LIFE-CYCLE CALLBACKS:
    LoginDay.prototype.onLoad = function () {
        var _this = this;
        this.init(true);
        this.scheduleOnce(function () {
            if (_this.node.isValid) {
                _this.onClose();
            }
        }, 3);
    };
    LoginDay.prototype.start = function () {
        var day = SDKManager_1.default.getLoginDays();
        this.dayLb.string = day + "";
    };
    LoginDay.prototype.onClose = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Label)
    ], LoginDay.prototype, "dayLb", void 0);
    LoginDay = __decorate([
        ccclass
    ], LoginDay);
    return LoginDay;
}(BasePanel_1.default));
exports.default = LoginDay;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L2xvZ2luRGF5L0xvZ2luRGF5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLG9FQUErRDtBQUMvRCw2REFBd0Q7QUFFbEQsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBc0MsNEJBQVM7SUFBL0M7UUFBQSxxRUF5QkM7UUF0QkcsV0FBSyxHQUFhLElBQUksQ0FBQzs7UUFxQnZCLGlCQUFpQjtJQUNyQixDQUFDO0lBcEJHLHdCQUF3QjtJQUV4Qix5QkFBTSxHQUFOO1FBQUEsaUJBT0M7UUFORyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hCLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDZCxJQUFJLEtBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUNuQixLQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7YUFDbEI7UUFDTCxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7SUFDVCxDQUFDO0lBRUQsd0JBQUssR0FBTDtRQUNJLElBQUksR0FBRyxHQUFHLG9CQUFVLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDcEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQztJQUNqQyxDQUFDO0lBQ0QsMEJBQU8sR0FBUDtRQUNJLGlCQUFNLEtBQUssV0FBRSxDQUFDO0lBQ2xCLENBQUM7SUFuQkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzsyQ0FDSTtJQUhOLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0F5QjVCO0lBQUQsZUFBQztDQXpCRCxBQXlCQyxDQXpCcUMsbUJBQVMsR0F5QjlDO2tCQXpCb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCBCYXNlUGFuZWwgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay91aS9CYXNlUGFuZWxcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dpbkRheSBleHRlbmRzIEJhc2VQYW5lbCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgZGF5TGI6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICBvbkxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0KHRydWUpO1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubm9kZS5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDMpXHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgbGV0IGRheSA9IFNES01hbmFnZXIuZ2V0TG9naW5EYXlzKCk7XHJcbiAgICAgICAgdGhpcy5kYXlMYi5zdHJpbmcgPSBkYXkgKyBcIlwiO1xyXG4gICAgfVxyXG4gICAgb25DbG9zZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/lvUp/LvUpPopView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '91365JdjdxD+rbMWB67ynzl', 'LvUpPopView');
// src/game/view/lvUp/LvUpPopView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var Global_1 = require("../../consts/Global");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var PopView1_1 = require("../popView/PopView1");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 自助服务界面
 * TODO:
 * 需要才成功观看广告后，监听FINISH_AD_AUTOSERVICE事件，并将主界面的自助服务时间延长当前等级对应的时长
 */
var LvUpPopView = /** @class */ (function (_super) {
    __extends(LvUpPopView, _super);
    function LvUpPopView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_video = null;
        _this.btn_lvUp = null;
        _this.btn_close = null;
        _this.needGoldLb = null;
        _this.currentIcon = null;
        _this.nextIcon = null;
        _this.currentLv = null;
        _this.nextLv = null;
        _this.cDescLb = null;
        _this.nDescLb = null;
        _this.titleLb = null;
        _this.proLb = null;
        _this.xingfuLb = null;
        _this.pro = null;
        _this.preVideoNum = 0; //已观看视频次数
        _this.typeIndex = 0;
        _this.resList = ["field", "shelves", "cashier", "pipe", "wall", "road", "scarecrow", "warehouse", "fence"];
        return _this;
    }
    LvUpPopView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_lvUp, this.onLvUp, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        this.initUI();
    };
    LvUpPopView.prototype.onDisable = function () {
    };
    LvUpPopView.prototype.startShow = function () {
        this.mData = this.inData[0];
        this.typeIndex = this.mData.tabIndex;
    };
    LvUpPopView.prototype.initUI = function () {
        var _this = this;
        this.currentLv.string = "\u5F53\u524D" + this.mData.level + "\u7EA7";
        this.nextLv.string = this.mData.level + 1 + "\u7EA7";
        this.titleLb.string = this.mData.name + "升级";
        if (this.typeIndex == 1) {
            this.currentCfg = ConfigManager_1.default.getFieldCfgByType(this.mData.type, this.mData.level);
            this.nextCfg = ConfigManager_1.default.getFieldCfgByType(this.mData.type, this.mData.level + 1);
        }
        else if (this.typeIndex == 2) {
            this.currentCfg = ConfigManager_1.default.getShelveByType(this.mData.type, this.mData.level);
            this.nextCfg = ConfigManager_1.default.getShelveByType(this.mData.type, this.mData.level + 1);
        }
        else {
            this.currentCfg = ConfigManager_1.default.getPropById(this.mData.type, this.mData.level);
            this.nextCfg = ConfigManager_1.default.getPropById(this.mData.type, this.mData.level + 1);
        }
        this.cDescLb.string = "当前效果：" + this.mData.addDesc;
        this.nDescLb.string = "升级效果：" + this.nextCfg.add_desc;
        this.xingfuLb.string = "x" + this.currentCfg.reward;
        this.needGoldLb.string = this.currentCfg.money + "";
        MkUtils_1.default.loadSpriteFrame("texture/prop/" + this.resList[this.typeIndex - 1] + "/icon/" + ("0" + this.mData["level"]), function (res) {
            _this.currentIcon.spriteFrame = res;
        });
        MkUtils_1.default.loadSpriteFrame("texture/prop/" + this.resList[this.typeIndex - 1] + "/icon/" + ("0" + (this.mData["level"] + 1)), function (res) {
            _this.nextIcon.spriteFrame = res;
        });
        if (this.currentCfg.video_num > 1) {
            this.updateVideoPro();
        }
        else {
            this.pro.node.active = false;
            this.proLb.node.active = false;
        }
    };
    LvUpPopView.prototype.updateVideoPro = function () {
        this.preVideoNum = PlayerModel_1.default.getLvupVideoNum(this.currentCfg.id);
        this.pro.progress = this.preVideoNum / this.currentCfg.video_num;
        this.proLb.string = this.preVideoNum + "/" + this.currentCfg.video_num;
    };
    LvUpPopView.prototype.onLvUp = function () {
        if (this.currentCfg.money <= PlayerModel_1.default.getGold()) {
            PlayerModel_1.default.setGold(-this.currentCfg.money);
            this.lvUpComplete();
        }
        else {
            UIMananger_1.default.showPanel(UIType_1.default.popView1, null, null, UIEffectManager_1.UIEffectType.SCALE, PopView1_1.PopType.GOLD2, 1000);
            this.onBtnCloseHandle();
        }
    };
    LvUpPopView.prototype.lvUpComplete = function () {
        switch (this.mData.tabIndex) {
            case 1:
                PlayerModel_1.default.changeFieldSkin(this.mData.index, this.mData.level + 1);
                break;
            case 2:
                PlayerModel_1.default.changeShelveSkin(this.mData.index, this.mData.level + 1);
                break;
            case 3:
            case 4:
            case 5:
            case 6:
            case 7:
            case 8:
            case 9:
                PlayerModel_1.default.setUiLv(this.mData.tabIndex - 3);
                break;
        }
        UIMananger_1.default.showPanel(UIType_1.default.LvUpCompleteView, null, null, UIEffectManager_1.UIEffectType.SCALE, this.mData, this.nextCfg, this.currentCfg);
        EventDispath_1.default.send(EventType_1.EventType.LVUP_UPDATE);
        this.onBtnCloseHandle();
    };
    LvUpPopView.prototype.onBtnShowAd = function () {
        // if (PlayerModel.getAutoServiceLeftTimes() <= 0) {
        //     MKUtils.alertTips("今日自动服务已达上限，请明日继续使用");
        //     return;
        // }
        EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        SDKManager_1.default.showAd(Global_1.default.VIDEO_CONFIG.video16);
    };
    LvUpPopView.prototype.onVideoBack = function () {
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        this.preVideoNum++;
        if (this.currentCfg.video_num == this.preVideoNum) {
            this.lvUpComplete();
            this.onBtnCloseHandle();
        }
        else {
            MkUtils_1.default.alertTips("\u518D\u770B" + (this.currentCfg.video_num - this.preVideoNum) + "\u4E2A\u89C6\u9891\u5C31\u80FD\u5347\u7EA7\u5566");
            PlayerModel_1.default.saveLvupVideoNum(this.currentCfg.id, this.preVideoNum);
            this.updateVideoPro();
        }
    };
    LvUpPopView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Button)
    ], LvUpPopView.prototype, "btn_video", void 0);
    __decorate([
        property(cc.Node)
    ], LvUpPopView.prototype, "btn_lvUp", void 0);
    __decorate([
        property(cc.Node)
    ], LvUpPopView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Label)
    ], LvUpPopView.prototype, "needGoldLb", void 0);
    __decorate([
        property(cc.Sprite)
    ], LvUpPopView.prototype, "currentIcon", void 0);
    __decorate([
        property(cc.Sprite)
    ], LvUpPopView.prototype, "nextIcon", void 0);
    __decorate([
        property(cc.Label)
    ], LvUpPopView.prototype, "currentLv", void 0);
    __decorate([
        property(cc.Label)
    ], LvUpPopView.prototype, "nextLv", void 0);
    __decorate([
        property(cc.Label)
    ], LvUpPopView.prototype, "cDescLb", void 0);
    __decorate([
        property(cc.Label)
    ], LvUpPopView.prototype, "nDescLb", void 0);
    __decorate([
        property(cc.Label)
    ], LvUpPopView.prototype, "titleLb", void 0);
    __decorate([
        property(cc.Label)
    ], LvUpPopView.prototype, "proLb", void 0);
    __decorate([
        property(cc.Label)
    ], LvUpPopView.prototype, "xingfuLb", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], LvUpPopView.prototype, "pro", void 0);
    LvUpPopView = __decorate([
        ccclass
    ], LvUpPopView);
    return LvUpPopView;
}(BasePanel_1.default));
exports.default = LvUpPopView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L2x2VXAvTHZVcFBvcFZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsb0VBQStEO0FBQy9ELDhFQUEwRTtBQUMxRSxvRUFBK0Q7QUFDL0Qsd0VBQW1FO0FBQ25FLGtFQUFpRTtBQUVqRSw0REFBdUQ7QUFDdkQsNkRBQXdEO0FBRXhELDhDQUF5QztBQUN6Qyw4Q0FBeUM7QUFDekMsdURBQWtEO0FBQ2xELDZEQUF3RDtBQUN4RCxnREFBOEM7QUFHeEMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFFNUM7Ozs7R0FJRztBQUVIO0lBQXlDLCtCQUFTO0lBQWxEO1FBQUEscUVBNEpDO1FBMUpHLGVBQVMsR0FBYyxJQUFJLENBQUM7UUFFNUIsY0FBUSxHQUFZLElBQUksQ0FBQztRQUV6QixlQUFTLEdBQVksSUFBSSxDQUFDO1FBRTFCLGdCQUFVLEdBQWEsSUFBSSxDQUFDO1FBRTVCLGlCQUFXLEdBQWMsSUFBSSxDQUFDO1FBRTlCLGNBQVEsR0FBYyxJQUFJLENBQUM7UUFFM0IsZUFBUyxHQUFhLElBQUksQ0FBQztRQUUzQixZQUFNLEdBQWEsSUFBSSxDQUFDO1FBRXhCLGFBQU8sR0FBYSxJQUFJLENBQUM7UUFFekIsYUFBTyxHQUFhLElBQUksQ0FBQztRQUV6QixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBR3pCLFdBQUssR0FBYSxJQUFJLENBQUM7UUFFdkIsY0FBUSxHQUFhLElBQUksQ0FBQztRQUUxQixTQUFHLEdBQW1CLElBQUksQ0FBQztRQUszQixpQkFBVyxHQUFHLENBQUMsQ0FBQyxDQUFBLFNBQVM7UUFFekIsZUFBUyxHQUFHLENB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O2dEQUNNO0lBR3pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7OENBQ0k7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztpREFDTztJQUUxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDOzRDQUNFO0lBN0JWLFdBQVc7UUFEL0IsT0FBTztPQUNhLFdBQVcsQ0E0Si9CO0lBQUQsa0JBQUM7Q0E1SkQsQUE0SkMsQ0E1SndDLG1CQUFTLEdBNEpqRDtrQkE1Sm9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgU0RLTWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvU0RLTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBVSUVmZmVjdFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlFZmZlY3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBVSU1hbmFuZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBDb21wb25lbnRIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Db21wb25lbnRIZWxwZXJcIjtcclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Na1V0aWxzXCI7XHJcbmltcG9ydCBCYXNlUGFuZWwgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay91aS9CYXNlUGFuZWxcIjtcclxuaW1wb3J0IHsgbGV2ZWxVcF9jb25maWcgfSBmcm9tIFwiLi4vLi4vY29uc3RzL0NDb25zdFwiO1xyXG5pbXBvcnQgR2xvYmFsIGZyb20gXCIuLi8uLi9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0cy9VSVR5cGVcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFBvcFR5cGUgfSBmcm9tIFwiLi4vcG9wVmlldy9Qb3BWaWV3MVwiO1xyXG5pbXBvcnQgeyBMdnVwX1R5cGUgfSBmcm9tIFwiLi9MdlVwVmlld1wiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbi8qKlxyXG4gKiDoh6rliqnmnI3liqHnlYzpnaJcclxuICogVE9ETzpcclxuICog6ZyA6KaB5omN5oiQ5Yqf6KeC55yL5bm/5ZGK5ZCO77yM55uR5ZCsRklOSVNIX0FEX0FVVE9TRVJWSUNF5LqL5Lu277yM5bm25bCG5Li755WM6Z2i55qE6Ieq5Yqp5pyN5Yqh5pe26Ze05bu26ZW/5b2T5YmN562J57qn5a+55bqU55qE5pe26ZW/XHJcbiAqL1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMdlVwUG9wVmlldyBleHRlbmRzIEJhc2VQYW5lbCB7XHJcbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxyXG4gICAgYnRuX3ZpZGVvOiBjYy5CdXR0b24gPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fbHZVcDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9jbG9zZTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBuZWVkR29sZExiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgY3VycmVudEljb246IGNjLlNwcml0ZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgbmV4dEljb246IGNjLlNwcml0ZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBjdXJyZW50THY6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG5leHRMdjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgY0Rlc2NMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbkRlc2NMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgdGl0bGVMYjogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHByb0xiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB4aW5nZnVMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByb2dyZXNzQmFyKVxyXG4gICAgcHJvOiBjYy5Qcm9ncmVzc0JhciA9IG51bGw7XHJcblxyXG4gICAgY3VycmVudENmZzogbGV2ZWxVcF9jb25maWc7XHJcbiAgICBuZXh0Q2ZnOiBsZXZlbFVwX2NvbmZpZztcclxuXHJcbiAgICBwcmVWaWRlb051bSA9IDA7Ly/lt7Lop4LnnIvop4bpopHmrKHmlbBcclxuICAgIG1EYXRhOiBMdnVwX1R5cGU7XHJcbiAgICB0eXBlSW5kZXggPSAwO1xyXG4gICAgcmVzTGlzdCA9IFtcImZpZWxkXCIsIFwic2hlbHZlc1wiLCBcImNhc2hpZXJcIiwgXCJwaXBlXCIsIFwid2FsbFwiLCBcInJvYWRcIiwgXCJzY2FyZWNyb3dcIiwgXCJ3YXJlaG91c2VcIiwgXCJmZW5jZVwiXVxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8g6YCA5Ye6XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2Nsb3NlLCB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUsIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5fbHZVcCwgdGhpcy5vbkx2VXAsIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5vblZpZGVvQmFjaywgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9XHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRTaG93KCkge1xyXG4gICAgICAgIHRoaXMubURhdGEgPSB0aGlzLmluRGF0YVswXTtcclxuICAgICAgICB0aGlzLnR5cGVJbmRleCA9IHRoaXMubURhdGEudGFiSW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFVJKCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEx2LnN0cmluZyA9IGDlvZPliY0ke3RoaXMubURhdGEubGV2ZWx957qnYDtcclxuICAgICAgICB0aGlzLm5leHRMdi5zdHJpbmcgPSBgJHt0aGlzLm1EYXRhLmxldmVsICsgMX3nuqdgO1xyXG4gICAgICAgIHRoaXMudGl0bGVMYi5zdHJpbmcgPSB0aGlzLm1EYXRhLm5hbWUgKyBcIuWNh+e6p1wiO1xyXG4gICAgICAgIGlmICh0aGlzLnR5cGVJbmRleCA9PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENmZyA9IENvbmZpZ01hbmFnZXIuZ2V0RmllbGRDZmdCeVR5cGUodGhpcy5tRGF0YS50eXBlLCB0aGlzLm1EYXRhLmxldmVsKTtcclxuICAgICAgICAgICAgdGhpcy5uZXh0Q2ZnID0gQ29uZmlnTWFuYWdlci5nZXRGaWVsZENmZ0J5VHlwZSh0aGlzLm1EYXRhLnR5cGUsIHRoaXMubURhdGEubGV2ZWwgKyAxKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZUluZGV4ID09IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2ZnID0gQ29uZmlnTWFuYWdlci5nZXRTaGVsdmVCeVR5cGUodGhpcy5tRGF0YS50eXBlLCB0aGlzLm1EYXRhLmxldmVsKTtcclxuICAgICAgICAgICAgdGhpcy5uZXh0Q2ZnID0gQ29uZmlnTWFuYWdlci5nZXRTaGVsdmVCeVR5cGUodGhpcy5tRGF0YS50eXBlLCB0aGlzLm1EYXRhLmxldmVsICsgMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2ZnID0gQ29uZmlnTWFuYWdlci5nZXRQcm9wQnlJZCh0aGlzLm1EYXRhLnR5cGUsIHRoaXMubURhdGEubGV2ZWwpO1xyXG4gICAgICAgICAgICB0aGlzLm5leHRDZmcgPSBDb25maWdNYW5hZ2VyLmdldFByb3BCeUlkKHRoaXMubURhdGEudHlwZSwgdGhpcy5tRGF0YS5sZXZlbCArIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jRGVzY0xiLnN0cmluZyA9IFwi5b2T5YmN5pWI5p6c77yaXCIgKyB0aGlzLm1EYXRhLmFkZERlc2M7XHJcbiAgICAgICAgdGhpcy5uRGVzY0xiLnN0cmluZyA9IFwi5Y2H57qn5pWI5p6c77yaXCIgKyB0aGlzLm5leHRDZmcuYWRkX2Rlc2M7XHJcblxyXG4gICAgICAgIHRoaXMueGluZ2Z1TGIuc3RyaW5nID0gXCJ4XCIgKyB0aGlzLmN1cnJlbnRDZmcucmV3YXJkO1xyXG4gICAgICAgIHRoaXMubmVlZEdvbGRMYi5zdHJpbmcgPSB0aGlzLmN1cnJlbnRDZmcubW9uZXkgKyBcIlwiO1xyXG5cclxuICAgICAgICBNS1V0aWxzLmxvYWRTcHJpdGVGcmFtZShcInRleHR1cmUvcHJvcC9cIiArIHRoaXMucmVzTGlzdFt0aGlzLnR5cGVJbmRleCAtIDFdICsgXCIvaWNvbi9cIiArIGAwJHt0aGlzLm1EYXRhW1wibGV2ZWxcIl19YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJY29uLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9wcm9wL1wiICsgdGhpcy5yZXNMaXN0W3RoaXMudHlwZUluZGV4IC0gMV0gKyBcIi9pY29uL1wiICsgYDAke3RoaXMubURhdGFbXCJsZXZlbFwiXSArIDF9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm5leHRJY29uLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2ZnLnZpZGVvX251bSA+IDEpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVWaWRlb1BybygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMucHJvTGIubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlVmlkZW9Qcm8oKSB7XHJcbiAgICAgICAgdGhpcy5wcmVWaWRlb051bSA9IFBsYXllck1vZGVsLmdldEx2dXBWaWRlb051bSh0aGlzLmN1cnJlbnRDZmcuaWQpO1xyXG4gICAgICAgIHRoaXMucHJvLnByb2dyZXNzID0gdGhpcy5wcmVWaWRlb051bSAvIHRoaXMuY3VycmVudENmZy52aWRlb19udW07XHJcbiAgICAgICAgdGhpcy5wcm9MYi5zdHJpbmcgPSB0aGlzLnByZVZpZGVvTnVtICsgXCIvXCIgKyB0aGlzLmN1cnJlbnRDZmcudmlkZW9fbnVtO1xyXG4gICAgfVxyXG5cclxuICAgIG9uTHZVcCgpIHtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2ZnLm1vbmV5IDw9IFBsYXllck1vZGVsLmdldEdvbGQoKSkge1xyXG4gICAgICAgICAgICBQbGF5ZXJNb2RlbC5zZXRHb2xkKC10aGlzLmN1cnJlbnRDZmcubW9uZXkpO1xyXG4gICAgICAgICAgICB0aGlzLmx2VXBDb21wbGV0ZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5wb3BWaWV3MSwgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCBQb3BUeXBlLkdPTEQyLCAxMDAwKTtcclxuICAgICAgICAgICAgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGx2VXBDb21wbGV0ZSgpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMubURhdGEudGFiSW5kZXgpIHtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgUGxheWVyTW9kZWwuY2hhbmdlRmllbGRTa2luKHRoaXMubURhdGEuaW5kZXgsIHRoaXMubURhdGEubGV2ZWwgKyAxKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBQbGF5ZXJNb2RlbC5jaGFuZ2VTaGVsdmVTa2luKHRoaXMubURhdGEuaW5kZXgsIHRoaXMubURhdGEubGV2ZWwgKyAxKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgIGNhc2UgNzpcclxuICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICBjYXNlIDk6XHJcbiAgICAgICAgICAgICAgICBQbGF5ZXJNb2RlbC5zZXRVaUx2KHRoaXMubURhdGEudGFiSW5kZXggLSAzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUuTHZVcENvbXBsZXRlVmlldywgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCB0aGlzLm1EYXRhLCB0aGlzLm5leHRDZmcsIHRoaXMuY3VycmVudENmZyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkxWVVBfVVBEQVRFKTtcclxuICAgICAgICB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkJ0blNob3dBZCgpOiB2b2lkIHtcclxuICAgICAgICAvLyBpZiAoUGxheWVyTW9kZWwuZ2V0QXV0b1NlcnZpY2VMZWZ0VGltZXMoKSA8PSAwKSB7XHJcbiAgICAgICAgLy8gICAgIE1LVXRpbHMuYWxlcnRUaXBzKFwi5LuK5pel6Ieq5Yqo5pyN5Yqh5bey6L6+5LiK6ZmQ77yM6K+35piO5pel57un57ut5L2/55SoXCIpO1xyXG4gICAgICAgIC8vICAgICByZXR1cm47XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5WSURFT19CQUNLLCB0aGlzLm9uVmlkZW9CYWNrLCB0aGlzKTtcclxuICAgICAgICBTREtNYW5hZ2VyLnNob3dBZChHbG9iYWwuVklERU9fQ09ORklHLnZpZGVvMTYpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVmlkZW9CYWNrKCk6IHZvaWQge1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5yZW1vdmVCeUV2ZW50KEV2ZW50VHlwZS5WSURFT19CQUNLLCB0aGlzLm9uVmlkZW9CYWNrLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnByZVZpZGVvTnVtKys7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENmZy52aWRlb19udW0gPT0gdGhpcy5wcmVWaWRlb051bSkge1xyXG4gICAgICAgICAgICB0aGlzLmx2VXBDb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBNS1V0aWxzLmFsZXJ0VGlwcyhg5YaN55yLJHt0aGlzLmN1cnJlbnRDZmcudmlkZW9fbnVtLXRoaXMucHJlVmlkZW9OdW195Liq6KeG6aKR5bCx6IO95Y2H57qn5ZWmYClcclxuICAgICAgICAgICAgUGxheWVyTW9kZWwuc2F2ZUx2dXBWaWRlb051bSh0aGlzLmN1cnJlbnRDZmcuaWQsIHRoaXMucHJlVmlkZW9OdW0pO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZGVvUHJvKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uQnRuQ2xvc2VIYW5kbGUoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/FencePrefab.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8ca30YLg5hLzaO/iDTCeBqk', 'FencePrefab');
// src/game/view/main/FencePrefab.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var PlayerModel_1 = require("../../datas/PlayerModel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var FencePrefab = /** @class */ (function (_super) {
    __extends(FencePrefab, _super);
    function FencePrefab() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.img1 = null;
        _this.img2 = null;
        _this.effNode = null;
        return _this;
    }
    FencePrefab.prototype.onLoad = function () {
        this.effNode.active = false;
        EventDispath_1.default.addEventListener(EventType_1.EventType.CHANGE_FENCE, this.changeSkin, this);
    };
    FencePrefab.prototype.start = function () {
    };
    FencePrefab.prototype.setData = function (id) {
        if (id === void 0) { id = 1; }
        this.changeSkin(0);
    };
    FencePrefab.prototype.changeSkin = function (isLvUp) {
        var _this = this;
        if (isLvUp === void 0) { isLvUp = 1; }
        var id = PlayerModel_1.default.getUIConfig().fencelv;
        if (id == 0)
            return;
        MkUtils_1.default.loadSpriteFrame("texture/prop/fence/" + ("0" + id + "_01"), function (res) {
            _this.img1.spriteFrame = res;
            if (isLvUp) {
                var arr = _this.effNode.children;
                _this.effNode.active = true;
                for (var i = 0; i < arr.length; i++) {
                    var eff = arr[i].getComponent(sp.Skeleton);
                    eff.animation = "animation";
                }
                MkUtils_1.default.setNodeDelay(_this.node, 5, function () {
                    _this.effNode.active = false;
                });
            }
        });
        MkUtils_1.default.loadSpriteFrame("texture/prop/fence/" + ("0" + id + "_02"), function (res) {
            _this.img2.spriteFrame = res;
        });
    };
    __decorate([
        property(cc.Sprite)
    ], FencePrefab.prototype, "img1", void 0);
    __decorate([
        property(cc.Sprite)
    ], FencePrefab.prototype, "img2", void 0);
    __decorate([
        property(cc.Node)
    ], FencePrefab.prototype, "effNode", void 0);
    FencePrefab = __decorate([
        ccclass
    ], FencePrefab);
    return FencePrefab;
}(cc.Component));
exports.default = FencePrefab;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vRmVuY2VQcmVmYWIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsd0VBQW1FO0FBQ25FLGtFQUFpRTtBQUNqRSw0REFBdUQ7QUFDdkQsdURBQWtEO0FBRTVDLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQXlDLCtCQUFZO0lBQXJEO1FBQUEscUVBMkNDO1FBeENHLFVBQUksR0FBYyxJQUFJLENBQUM7UUFFdkIsVUFBSSxHQUFjLElBQUksQ0FBQztRQUV2QixhQUFPLEdBQVksSUFBSSxDQUFDOztJQW9DNUIsQ0FBQztJQWxDRyw0QkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQzVCLHNCQUFZLENBQUMsZ0JBQWdCLENBQUMscUJBQVMsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNqRixDQUFDO0lBRUQsMkJBQUssR0FBTDtJQUVBLENBQUM7SUFFRCw2QkFBTyxHQUFQLFVBQVEsRUFBTTtRQUFOLG1CQUFBLEVBQUEsTUFBTTtRQUNWLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkIsQ0FBQztJQUNELGdDQUFVLEdBQVYsVUFBVyxNQUFVO1FBQXJCLGlCQXFCQztRQXJCVSx1QkFBQSxFQUFBLFVBQVU7UUFDakIsSUFBSSxFQUFFLEdBQUcscUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxPQUFPLENBQUM7UUFDM0MsSUFBSSxFQUFFLElBQUksQ0FBQztZQUFFLE9BQU87UUFDcEIsaUJBQU8sQ0FBQyxlQUFlLENBQUMscUJBQXFCLElBQUcsTUFBSSxFQUFFLFFBQUssQ0FBQSxFQUFFLFVBQUMsR0FBRztZQUM3RCxLQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUM7WUFDNUIsSUFBSSxNQUFNLEVBQUU7Z0JBQ1IsSUFBSSxHQUFHLEdBQUcsS0FBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUE7Z0JBQy9CLEtBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztnQkFDM0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7b0JBQ2pDLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUMzQyxHQUFHLENBQUMsU0FBUyxHQUFHLFdBQVcsQ0FBQTtpQkFDOUI7Z0JBRUQsaUJBQU8sQ0FBQyxZQUFZLENBQUMsS0FBSSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUU7b0JBQy9CLEtBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztnQkFDaEMsQ0FBQyxDQUFDLENBQUE7YUFDTDtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0gsaUJBQU8sQ0FBQyxlQUFlLENBQUMscUJBQXFCLElBQUcsTUFBSSxFQUFFLFFBQUssQ0FBQSxFQUFFLFVBQUMsR0FBRztZQUM3RCxLQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUM7UUFDaEMsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBdkNEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7NkNBQ0c7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzs2Q0FDRztJQUV2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2dEQUNNO0lBUFAsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQTJDL0I7SUFBRCxrQkFBQztDQTNDRCxBQTJDQyxDQTNDd0MsRUFBRSxDQUFDLFNBQVMsR0EyQ3BEO2tCQTNDb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmVuY2VQcmVmYWIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBpbWcxOiBjYy5TcHJpdGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIGltZzI6IGNjLlNwcml0ZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGVmZk5vZGU6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIG9uTG9hZCgpIHtcclxuICAgICAgICB0aGlzLmVmZk5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRV9GRU5DRSwgdGhpcy5jaGFuZ2VTa2luLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGF0YShpZCA9IDEpIHtcclxuICAgICAgICB0aGlzLmNoYW5nZVNraW4oMCk7XHJcbiAgICB9XHJcbiAgICBjaGFuZ2VTa2luKGlzTHZVcCA9IDEpIHtcclxuICAgICAgICBsZXQgaWQgPSBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLmZlbmNlbHY7XHJcbiAgICAgICAgaWYgKGlkID09IDApIHJldHVybjtcclxuICAgICAgICBNS1V0aWxzLmxvYWRTcHJpdGVGcmFtZShcInRleHR1cmUvcHJvcC9mZW5jZS9cIiArIGAwJHtpZH1fMDFgLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1nMS5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICAgICAgaWYgKGlzTHZVcCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFyciA9IHRoaXMuZWZmTm9kZS5jaGlsZHJlblxyXG4gICAgICAgICAgICAgICAgdGhpcy5lZmZOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlZmYgPSBhcnJbaV0uZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcclxuICAgICAgICAgICAgICAgICAgICBlZmYuYW5pbWF0aW9uID0gXCJhbmltYXRpb25cIlxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIE1LVXRpbHMuc2V0Tm9kZURlbGF5KHRoaXMubm9kZSwgNSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWZmTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBNS1V0aWxzLmxvYWRTcHJpdGVGcmFtZShcInRleHR1cmUvcHJvcC9mZW5jZS9cIiArIGAwJHtpZH1fMDJgLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1nMi5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/order/OrderCurrentItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0c537P94mlIBKQiMrqG556X', 'OrderCurrentItem');
// src/game/view/order/OrderCurrentItem.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var AItemRenerer_1 = require("../task/AItemRenerer");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var OrderCurrentItem = /** @class */ (function (_super) {
    __extends(OrderCurrentItem, _super);
    function OrderCurrentItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.nameLb = null;
        _this.proLb = null;
        _this.icon = null;
        _this.ywcTips = null;
        _this.btn_go = null;
        _this.pro = null;
        return _this;
    }
    // onLoad () {}
    OrderCurrentItem.prototype.start = function () {
    };
    OrderCurrentItem.prototype.dataChanged = function () {
        // console.log(this.data);
        this.initUI();
    };
    OrderCurrentItem.prototype.initUI = function () {
        var _this = this;
        if (this.data.cropId == 100) {
            this.nameLb.string = "招待顾客";
        }
        else {
            var base = ConfigManager_1.default.getCropById(this.data.cropId);
            this.nameLb.string = base.name;
        }
        MkUtils_1.default.loadSpriteFrame("texture/crop/icon/" + ("" + this.data.cropId), function (res) {
            _this.icon.spriteFrame = res;
        });
        this.pro.progress = this.data.num / this.data.target;
        if (this.data.num >= this.data.target) {
            this.ywcTips.active = true;
            this.proLb.string = this.data.target + "/" + this.data.target;
        }
        else {
            this.proLb.string = this.data.num + "/" + this.data.target;
            this.btn_go.active = true;
        }
    };
    OrderCurrentItem.prototype.onGo = function () {
        EventDispath_1.default.send(EventType_1.EventType.ORDER_CLOSE);
        EventDispath_1.default.send(EventType_1.EventType.ORDER_CURRENT_CLOSE);
        if (this.data.cropId == 100) {
            UIMananger_1.default.showPanel(UIType_1.default.zhaoDaiView, null, null, UIEffectManager_1.UIEffectType.SCALE, this.data);
        }
        else {
            if (PlayerModel_1.default.checkCropUnlock(this.data.cropId)) {
                UIMananger_1.default.showPanel(UIType_1.default.getCropView, null, null, UIEffectManager_1.UIEffectType.SCALE, this.data);
            }
            else {
                UIMananger_1.default.showPanel(UIType_1.default.VegetablesUnlockView, null, null, UIEffectManager_1.UIEffectType.SCALE, this.data.cropId);
            }
        }
    };
    __decorate([
        property(cc.Label)
    ], OrderCurrentItem.prototype, "nameLb", void 0);
    __decorate([
        property(cc.Label)
    ], OrderCurrentItem.prototype, "proLb", void 0);
    __decorate([
        property(cc.Sprite)
    ], OrderCurrentItem.prototype, "icon", void 0);
    __decorate([
        property(cc.Node)
    ], OrderCurrentItem.prototype, "ywcTips", void 0);
    __decorate([
        property(cc.Node)
    ], OrderCurrentItem.prototype, "btn_go", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], OrderCurrentItem.prototype, "pro", void 0);
    OrderCurrentItem = __decorate([
        ccclass
    ], OrderCurrentItem);
    return OrderCurrentItem;
}(AItemRenerer_1.default));
exports.default = OrderCurrentItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L29yZGVyL09yZGVyQ3VycmVudEl0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHbEYsOEVBQTBFO0FBQzFFLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBRWpFLDREQUF1RDtBQUV2RCw4Q0FBeUM7QUFDekMsdURBQWtEO0FBQ2xELDZEQUF3RDtBQUN4RCxxREFBaUQ7QUFFM0MsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFFNUM7SUFBOEMsb0NBQXFCO0lBQW5FO1FBQUEscUVBNERDO1FBeERHLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsV0FBSyxHQUFhLElBQUksQ0FBQztRQUV2QixVQUFJLEdBQWMsSUFBSSxDQUFDO1FBRXZCLGFBQU8sR0FBWSxJQUFJLENBQUM7UUFFeEIsWUFBTSxHQUFZLElBQUksQ0FBQztRQUV2QixTQUFHLEdBQW1CLElBQUksQ0FBQzs7SUE4Qy9CLENBQUM7SUE1Q0csZUFBZTtJQUVmLGdDQUFLLEdBQUw7SUFFQSxDQUFDO0lBRVMsc0NBQVcsR0FBckI7UUFDSSwwQkFBMEI7UUFDMUIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFDRCxpQ0FBTSxHQUFOO1FBQUEsaUJBa0JDO1FBakJHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksR0FBRyxFQUFFO1lBQ3pCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztTQUMvQjthQUFNO1lBQ0gsSUFBSSxJQUFJLEdBQUcsdUJBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElB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IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IENvbXBvbmVudEhlbHBlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL0NvbXBvbmVudEhlbHBlclwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IEdsb2JhbCBmcm9tIFwiLi4vLi4vY29uc3RzL0dsb2JhbFwiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IENvbmZpZ01hbmFnZXIgZnJvbSBcIi4uLy4uL21hbmFnZXIvQ29uZmlnTWFuYWdlclwiO1xyXG5pbXBvcnQgQUl0ZW1SZW5kZXJlciBmcm9tIFwiLi4vdGFzay9BSXRlbVJlbmVyZXJcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZGVyQ3VycmVudEl0ZW0gZXh0ZW5kcyBBSXRlbVJlbmRlcmVyPHN0cmluZz4ge1xyXG5cclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBuYW1lTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHByb0xiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgaWNvbjogY2MuU3ByaXRlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgeXdjVGlwczogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9nbzogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJvZ3Jlc3NCYXIpXHJcbiAgICBwcm86IGNjLlByb2dyZXNzQmFyID0gbnVsbDtcclxuXHJcbiAgICAvLyBvbkxvYWQgKCkge31cclxuXHJcbiAgICBzdGFydCgpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGRhdGFDaGFuZ2VkKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZGF0YSk7XHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH1cclxuICAgIGluaXRVSSgpIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhLmNyb3BJZCA9PSAxMDApIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lTGIuc3RyaW5nID0gXCLmi5vlvoXpob7lrqJcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgYmFzZSA9IENvbmZpZ01hbmFnZXIuZ2V0Q3JvcEJ5SWQodGhpcy5kYXRhLmNyb3BJZCk7XHJcbiAgICAgICAgICAgIHRoaXMubmFtZUxiLnN0cmluZyA9IGJhc2UubmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgTUtVdGlscy5sb2FkU3ByaXRlRnJhbWUoXCJ0ZXh0dXJlL2Nyb3AvaWNvbi9cIiArIGAke3RoaXMuZGF0YS5jcm9wSWR9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmljb24uc3ByaXRlRnJhbWUgPSByZXM7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wcm8ucHJvZ3Jlc3MgPSB0aGlzLmRhdGEubnVtIC8gdGhpcy5kYXRhLnRhcmdldDtcclxuICAgICAgICBpZiAodGhpcy5kYXRhLm51bSA+PSB0aGlzLmRhdGEudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMueXdjVGlwcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnByb0xiLnN0cmluZyA9IHRoaXMuZGF0YS50YXJnZXQgKyBcIi9cIiArIHRoaXMuZGF0YS50YXJnZXQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9MYi5zdHJpbmcgPSB0aGlzLmRhdGEubnVtICsgXCIvXCIgKyB0aGlzLmRhdGEudGFyZ2V0O1xyXG4gICAgICAgICAgICB0aGlzLmJ0bl9nby5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uR28oKSB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLk9SREVSX0NMT1NFKVxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5PUkRFUl9DVVJSRU5UX0NMT1NFKVxyXG4gICAgICAgIGlmICh0aGlzLmRhdGEuY3JvcElkID09IDEwMCkge1xyXG4gICAgICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUuemhhb0RhaVZpZXcsIG51bGwsIG51bGwsIFVJRWZmZWN0VHlwZS5TQ0FMRSwgdGhpcy5kYXRhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoUGxheWVyTW9kZWwuY2hlY2tDcm9wVW5sb2NrKHRoaXMuZGF0YS5jcm9wSWQpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLmdldENyb3BWaWV3LCBudWxsLCBudWxsLCBVSUVmZmVjdFR5cGUuU0NBTEUsIHRoaXMuZGF0YSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUuVmVnZXRhYmxlc1VubG9ja1ZpZXcsIG51bGwsIG51bGwsIFVJRWZmZWN0VHlwZS5TQ0FMRSwgdGhpcy5kYXRhLmNyb3BJZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/popView/PopGetCropView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '064dfuqai9Bh4pbzllx6bG8', 'PopGetCropView');
// src/game/view/popView/PopGetCropView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var EffectManager_1 = require("../../manager/EffectManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
//获取作物，获得提示窗口
var PopGetCropView = /** @class */ (function (_super) {
    __extends(PopGetCropView, _super);
    function PopGetCropView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.rewardLb = null;
        _this.descLb = null;
        _this.btnClose = null;
        _this.btnOk = null;
        _this.icon = null;
        return _this;
        // update (dt) {}
    }
    PopGetCropView.prototype.onLoad = function () {
    };
    PopGetCropView.prototype.onEnable = function () {
        // 关闭面板
        EventDispath_1.default.on(this.btnClose, this.onCloseHandle, this);
        EventDispath_1.default.on(this.btnOk, this.onClickHandle, this);
        this.initUi();
    };
    PopGetCropView.prototype.startShow = function () {
        this.mData = this.inData[0];
    };
    PopGetCropView.prototype.initUi = function () {
        var _this = this;
        var cfg = ConfigManager_1.default.getCropById(this.mData.id);
        this.descLb.string = "恭喜获得" + this.mData.num + "个" + cfg.name;
        MkUtils_1.default.loadSpriteFrame("texture/crop/icon/" + ("" + this.mData.id), function (res) {
            _this.icon.spriteFrame = res;
        });
        this.rewardLb.string = "x" + this.mData.num;
    };
    PopGetCropView.prototype.onClickHandle = function () {
        var startNode = cc.v2(cc.winSize.width / 2, cc.winSize.height / 2);
        EffectManager_1.default.playCrop(startNode, this.mData.id);
        PlayerModel_1.default.checkAddOrder(this.mData.id, this.mData.num, function () {
            EventDispath_1.default.send(EventType_1.EventType.ORDER_CURRENT_CLOSE);
            // UIMananger.showPanel(UIType.orderSuccessView);
            EventDispath_1.default.send(EventType_1.EventType.ORDER_COMPLETE_UPDATE);
        }, function () {
            EventDispath_1.default.send(EventType_1.EventType.ORDER_CURRENT_UPDATE);
        });
        this.onCloseHandle();
    };
    PopGetCropView.prototype.onCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Label)
    ], PopGetCropView.prototype, "rewardLb", void 0);
    __decorate([
        property(cc.Label)
    ], PopGetCropView.prototype, "descLb", void 0);
    __decorate([
        property(cc.Node)
    ], PopGetCropView.prototype, "btnClose", void 0);
    __decorate([
        property(cc.Node)
    ], PopGetCropView.prototype, "btnOk", void 0);
    __decorate([
        property(cc.Sprite)
    ], PopGetCropView.prototype, "icon", void 0);
    PopGetCropView = __decorate([
        ccclass
    ], PopGetCropView);
    return PopGetCropView;
}(BasePanel_1.default));
exports.default = PopGetCropView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3BvcFZpZXcvUG9wR2V0Q3JvcFZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHbEYsd0VBQW1FO0FBQ25FLGtFQUFpRTtBQUNqRSw0REFBdUQ7QUFDdkQsNkRBQXdEO0FBRXhELHVEQUFrRDtBQUNsRCw2REFBd0Q7QUFDeEQsNkRBQXdEO0FBRWxELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRTVDLGFBQWE7QUFFYjtJQUE0QyxrQ0FBUztJQUFyRDtRQUFBLHFFQXdEQztRQXRERyxjQUFRLEdBQWEsSUFBSSxDQUFDO1FBRzFCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsY0FBUSxHQUFZLElBQUksQ0FBQztRQUV6QixXQUFLLEdBQVksSUFBSSxDQUFDO1FBRXRCLFVBQUksR0FBYyxJQUFJLENBQUM7O1FBNEN2QixpQkFBaUI7SUFDckIsQ0FBQztJQXpDRywrQkFBTSxHQUFOO0lBRUEsQ0FBQztJQUVTLGlDQUFRLEdBQWxCO1FBQ0ksT0FBTztRQUNQLHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6RCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFdEQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxrQ0FBUyxHQUFUO1FBQ0ksSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFDRCwrQkFBTSxHQUFOO1FBQUEsaUJBT0M7UUFORyxJQUFJLEdBQUcsR0FBRyx1QkFBYSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25ELElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQztRQUM5RCxpQkFBTyxDQUFDLGVBQWUsQ0FBQyxvQkFBb0IsSUFBRyxLQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBSSxDQUFBLEVBQUUsVUFBQyxHQUFHO1lBQ25FLEtBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztRQUNoQyxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztJQUNoRCxDQUFDO0lBQ0Qsc0NBQWEsR0FBYjtRQUNJLElBQUksU0FBUyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFBO1FBQ2xFLHVCQUFhLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2pELHFCQUFXLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFO1lBQ3JELHNCQUFZLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUNqRCxpREFBaUQ7WUFDakQsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO1FBQ3RELENBQUMsRUFBRTtZQUNDLHNCQUFZLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUN0RCxDQUFDLENBQUMsQ0FBQTtRQUNGLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRUQsc0NBQWEsR0FBYjtRQUNJLGlCQUFNLEtBQUssV0FBRSxDQUFDO0lBQ2xCLENBQUM7SUFuREQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztvREFDTztJQUcxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2tEQUNLO0lBRXhCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7b0RBQ087SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztpREFDSTtJQUV0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2dEQUNHO0lBWE4sY0FBYztRQURsQyxPQUFPO09BQ2EsY0FBYyxDQXdEbEM7SUFBRCxxQkFBQztDQXhERCxBQXdEQyxDQXhEMkMsbUJBQVMsR0F3RHBEO2tCQXhEb0IsY0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgQmFzZVBhbmVsIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdWkvQmFzZVBhbmVsXCI7XHJcbmltcG9ydCBHbG9iYWwgZnJvbSBcIi4uLy4uL2NvbnN0cy9HbG9iYWxcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcbmltcG9ydCBFZmZlY3RNYW5hZ2VyIGZyb20gXCIuLi8uLi9tYW5hZ2VyL0VmZmVjdE1hbmFnZXJcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG4vL+iOt+WPluS9nOeJqe+8jOiOt+W+l+aPkOekuueql+WPo1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3BHZXRDcm9wVmlldyBleHRlbmRzIEJhc2VQYW5lbCB7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICByZXdhcmRMYjogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGRlc2NMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5DbG9zZTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bk9rOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBpY29uOiBjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG4gICAgbURhdGE7XHJcbiAgICBvbkxvYWQoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyDlhbPpl63pnaLmnb9cclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5DbG9zZSwgdGhpcy5vbkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5PaywgdGhpcy5vbkNsaWNrSGFuZGxlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0VWkoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydFNob3coKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tRGF0YSA9IHRoaXMuaW5EYXRhWzBdO1xyXG4gICAgfVxyXG4gICAgaW5pdFVpKCkge1xyXG4gICAgICAgIGxldCBjZmcgPSBDb25maWdNYW5hZ2VyLmdldENyb3BCeUlkKHRoaXMubURhdGEuaWQpO1xyXG4gICAgICAgIHRoaXMuZGVzY0xiLnN0cmluZyA9IFwi5oGt5Zac6I635b6XXCIgKyB0aGlzLm1EYXRhLm51bSArIFwi5LiqXCIgKyBjZmcubmFtZTtcclxuICAgICAgICBNS1V0aWxzLmxvYWRTcHJpdGVGcmFtZShcInRleHR1cmUvY3JvcC9pY29uL1wiICsgYCR7dGhpcy5tRGF0YS5pZH1gLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbi5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJld2FyZExiLnN0cmluZyA9IFwieFwiICsgdGhpcy5tRGF0YS5udW07XHJcbiAgICB9XHJcbiAgICBvbkNsaWNrSGFuZGxlKCkge1xyXG4gICAgICAgIGxldCBzdGFydE5vZGUgPSBjYy52MihjYy53aW5TaXplLndpZHRoIC8gMiwgY2Mud2luU2l6ZS5oZWlnaHQgLyAyKVxyXG4gICAgICAgIEVmZmVjdE1hbmFnZXIucGxheUNyb3Aoc3RhcnROb2RlLCB0aGlzLm1EYXRhLmlkKTtcclxuICAgICAgICBQbGF5ZXJNb2RlbC5jaGVja0FkZE9yZGVyKHRoaXMubURhdGEuaWQsIHRoaXMubURhdGEubnVtLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5PUkRFUl9DVVJSRU5UX0NMT1NFKTtcclxuICAgICAgICAgICAgLy8gVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLm9yZGVyU3VjY2Vzc1ZpZXcpO1xyXG4gICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuT1JERVJfQ09NUExFVEVfVVBEQVRFKVxyXG4gICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLk9SREVSX0NVUlJFTlRfVVBEQVRFKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMub25DbG9zZUhhbmRsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xvc2VIYW5kbGUoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/setting/SettingView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '47b27OSxuFDOr8wWCPi/dQi', 'SettingView');
// src/game/view/setting/SettingView.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var JSHelper_1 = require("../../../framework/helper/JSHelper");
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var Utils_1 = require("../../../framework/tools/Utils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var Global_1 = require("../../consts/Global");
var PlayerModel_1 = require("../../datas/PlayerModel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * TODO:
 * 1、「客服帮助」sdk缺失；
 * 2、用户uid数据缺失，待数据来源提供后完善；
 * 3、「自定义推荐」sdk缺失；
 * 4、「关于我们」sdk缺失；
 * 5、经验对应的升级进度概念目前没有相应的数据，待完善；
 */
var SettingView = /** @class */ (function (_super) {
    __extends(SettingView, _super);
    function SettingView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.headIcon = null;
        _this.nameLabel = null;
        _this.idLabel = null;
        _this.btn_sound = null;
        _this.uImgSoundStatusOn = null; // 音乐开
        _this.uImgSoundStatusOff = null; // 音乐关
        _this.btn2 = null; // 音效设置开关
        _this.btn2On = null; // 音效开
        _this.btn2Off = null; // 音效关
        _this.btn_user = null; // 用户协议
        _this.btn_privacy = null; // 隐私政策
        _this.btn_restart = null; // 注销
        _this.btn_close = null; // 关闭面板
        return _this;
    }
    SettingView.prototype.onEnable = function () {
        // 背景音
        EventDispath_1.default.on(this.btn_sound, this.onBtnSoundHandle, this);
        // 音效
        EventDispath_1.default.on(this.btn2, this.onBtnSoundYinXiao, this);
        // 用户协议
        EventDispath_1.default.on(this.btn_user, this.onBtnUserHandle, this);
        // 隐私政策
        EventDispath_1.default.on(this.btn_privacy, this.onBtnPrivacyHandle, this);
        // 客服帮助
        // EventDispath.on(this.btn_helper, this.onBtnHelper, this);
        // // 关于我们
        // EventDispath.on(this.btn_ours, this.onBtnAboutOurs, this);
        // 注销
        EventDispath_1.default.on(this.btn_restart, this.onBtnRestartHandle, this);
        // 退出登录
        // EventDispath.on(this.btn_quit, this.onBtnQuitHandle, this);
        // 关闭面板
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        this.initUI();
    };
    SettingView.prototype.onDisable = function () {
    };
    SettingView.prototype.startShow = function () {
    };
    SettingView.prototype.initUI = function () {
        var headUrl = SDKManager_1.default.getUserIcon();
        if (headUrl && headUrl != "") {
            var self_1 = this;
            cc.assetManager.loadRemote(headUrl, { ext: '.png' }, function (err, texture) {
                if (err) {
                    console.log("头像加载失败", headUrl);
                    return;
                }
                self_1.headIcon.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);
            });
        }
        var userName = SDKManager_1.default.getUserNickName();
        if (!Utils_1.default.isUndefined(userName) && userName != "") {
            this.nameLabel.string = userName;
        }
        else {
            this.nameLabel.string = "游客";
        }
        this.idLabel.string = "ID:" + SDKManager_1.default.getDeviceId();
        this.refreshBtnSoundState();
        this.refreshBtnSoundYinXiaoState();
        this.refreshPersonalRecommendationState();
    };
    SettingView.prototype.refreshBtnSoundState = function () {
        var result = "";
        if (PlayerModel_1.default.getSoundSwitch() == Global_1.default.SOUND_SWITCH_OPEN) {
            this.uImgSoundStatusOff.active = true;
            this.uImgSoundStatusOn.active = false;
        }
        else {
            this.uImgSoundStatusOff.active = false;
            this.uImgSoundStatusOn.active = true;
        }
    };
    SettingView.prototype.refreshBtnSoundYinXiaoState = function () {
        var result = "";
        if (PlayerModel_1.default.getSoundYinXiaoSwitch() == Global_1.default.SOUND_YINXIAO_SWITCH_OPEN) {
            this.btn2Off.active = false;
            this.btn2On.active = true;
        }
        else {
            this.btn2Off.active = true;
            this.btn2On.active = false;
        }
    };
    /** 设置背景音乐 */
    SettingView.prototype.onBtnSoundHandle = function () {
        var soundResult = PlayerModel_1.default.getSoundSwitch() == Global_1.default.SOUND_SWITCH_OPEN ? Global_1.default.SOUND_SWITCH_CLOSE : Global_1.default.SOUND_SWITCH_OPEN;
        PlayerModel_1.default.setSoundSwitch(soundResult);
        this.refreshBtnSoundState();
        if (PlayerModel_1.default.getSoundSwitch() == Global_1.default.SOUND_SWITCH_OPEN) {
            if (JSHelper_1.default.getLastMusic()) {
                JSHelper_1.default.setResumeMusic();
            }
            else {
                JSHelper_1.default.playMisuc("bgm");
            }
        }
        else {
            JSHelper_1.default.setPauseMusic();
        }
    };
    /** 设置音效 */
    SettingView.prototype.onBtnSoundYinXiao = function () {
        var soundYinXiaoResult = PlayerModel_1.default.getSoundYinXiaoSwitch() == Global_1.default.SOUND_YINXIAO_SWITCH_OPEN ? Global_1.default.SOUND_YINXIAO_SWITCH_CLOSE : Global_1.default.SOUND_YINXIAO_SWITCH_OPEN;
        PlayerModel_1.default.setSoundYinXiaoSwitch(soundYinXiaoResult);
        this.refreshBtnSoundYinXiaoState();
    };
    /** 个性推荐  */
    SettingView.prototype.onBtnPersonalRecommendation = function () {
        var personalRecommResult = PlayerModel_1.default.getPersonRecommSwitch() == Global_1.default.PERSONALRECOMM_SWITCH_OPEN ? Global_1.default.PERSONALRECOMM_SWITCH_OFF : Global_1.default.PERSONALRECOMM_SWITCH_OPEN;
        PlayerModel_1.default.SetPersonRecommSwitch(personalRecommResult);
        this.refreshPersonalRecommendationState();
    };
    /** 刷新个性推荐状态  */
    SettingView.prototype.refreshPersonalRecommendationState = function () {
        var result = "";
        if (PlayerModel_1.default.getPersonRecommSwitch() == Global_1.default.PERSONALRECOMM_SWITCH_OPEN) {
        }
        else {
        }
    };
    SettingView.prototype.onBtnUserHandle = function () {
        SDKManager_1.default.openUserService();
    };
    SettingView.prototype.onBtnPrivacyHandle = function () {
        SDKManager_1.default.openPrivacy();
    };
    SettingView.prototype.onBtnRestartHandle = function () {
        SDKManager_1.default.unBindWX();
    };
    SettingView.prototype.onBtnQuitHandle = function () {
        SDKManager_1.default.unBindWX();
    };
    /** 客服帮助 */
    SettingView.prototype.onBtnHelper = function () {
        SDKManager_1.default.openFeedBack();
    };
    /** 关于我们 */
    SettingView.prototype.onBtnAboutOurs = function () {
    };
    SettingView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], SettingView.prototype, "headIcon", void 0);
    __decorate([
        property(cc.Label)
    ], SettingView.prototype, "nameLabel", void 0);
    __decorate([
        property(cc.Label)
    ], SettingView.prototype, "idLabel", void 0);
    __decorate([
        property(cc.Node)
    ], SettingView.prototype, "btn_sound", void 0);
    __decorate([
        property(cc.Node)
    ], SettingView.prototype, "uImgSoundStatusOn", void 0);
    __decorate([
        property(cc.Node)
    ], SettingView.prototype, "uImgSoundStatusOff", void 0);
    __decorate([
        property(cc.Node)
    ], SettingView.prototype, "btn2", void 0);
    __decorate([
        property(cc.Node)
    ], SettingView.prototype, "btn2On", void 0);
    __decorate([
        property(cc.Node)
    ], SettingView.prototype, "btn2Off", void 0);
    __decorate([
        property(cc.Node)
    ], SettingView.prototype, "btn_user", void 0);
    __decorate([
        property(cc.Node)
    ], SettingView.prototype, "btn_privacy", void 0);
    __decorate([
        property(cc.Node)
    ], SettingView.prototype, "btn_restart", void 0);
    __decorate([
        property(cc.Node)
    ], SettingView.prototype, "btn_close", void 0);
    SettingView = __decorate([
        ccclass
    ], SettingView);
    return SettingView;
}(BasePanel_1.default));
exports.default = SettingView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3NldHRpbmcvU2V0dGluZ1ZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0RBQTBEO0FBQzFELG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsd0RBQW1EO0FBQ25ELDZEQUF3RDtBQUN4RCw4Q0FBeUM7QUFDekMsdURBQWtEO0FBRTVDLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRTVDOzs7Ozs7O0dBT0c7QUFFSDtJQUF5QywrQkFBUztJQUFsRDtRQUFBLHFFQTRLQztRQXpLRyxjQUFRLEdBQVksSUFBSSxDQUFDO1FBRXpCLGVBQVMsR0FBYSxJQUFJLENBQUM7UUFFM0IsYUFBTyxHQUFhLElBQUksQ0FBQztRQUV6QixlQUFTLEdBQVksSUFBSSxDQUFDO1FBRzFCLHVCQUFpQixHQUFHLElBQUksQ0FBQSxDQUFDLE1BQU07UUFFL0Isd0JBQWtCLEdBQUcsSUFBSSxDQUFBLENBQUEsTUFBTTtRQUcvQixVQUFJLEdBQWMsSUFBSSxDQUFDLENBQUEsU0FBUztRQUVoQyxZQUFNLEdBQVksSUFBSSxDQUFDLENBQUEsTUFBTTtRQUU3QixhQUFPLEdBQVksSUFBSSxDQUFDLENBQUEsTUFBTTtRQUk5QixjQUFRLEdBQWMsSUFBSSxDQUFDLENBQUMsT0FBTztRQUVuQyxpQkFBVyxHQUFjLElBQUksQ0FBQyxDQUFBLE9BQU87UUFFckMsaUJBQVcsR0FBYyxJQUFJLENBQUMsQ0FBQSxLQUFLO1FBRW5DLGVBQVMsR0FBYyxJQUFJLENBQUMsQ0FBQSxPQUFPOztJQTZJdkMsQ0FBQztJQTFJRyw4QkFBUSxHQUFSO1FBQ0ksTUFBTTtRQUNOLHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FB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O0lBQ1gsb0NBQWMsR0FBZDtJQUNBLENBQUM7SUFDRCxzQ0FBZ0IsR0FBaEI7UUFDSSxpQkFBTSxLQUFLLFdBQUUsQ0FBQztJQUNsQixDQUFDO0lBeEtEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7aURBQ087SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztrREFDUTtJQUUzQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2dEQUNNO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7a0RBQ1E7SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzswREFDTTtJQUV4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzJEQUNPO0lBR3pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7NkNBQ0s7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsrQ0FDSztJQUV2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2dEQUNNO0lBSXhCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7aURBQ1M7SUFFM0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztvREFDWTtJQUU5QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO29EQUNZO0lBRTlCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7a0RBQ1U7SUEvQlgsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQTRLL0I7SUFBRCxrQkFBQztDQTVLRCxBQTRLQyxDQTVLd0MsbUJBQVMsR0E0S2pEO2tCQTVLb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKU0hlbHBlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2hlbHBlci9KU0hlbHBlclwiO1xyXG5pbXBvcnQgU0RLTWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvU0RLTWFuYWdlclwiO1xyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IFV0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvVXRpbHNcIjtcclxuaW1wb3J0IEJhc2VQYW5lbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3VpL0Jhc2VQYW5lbFwiO1xyXG5pbXBvcnQgR2xvYmFsIGZyb20gXCIuLi8uLi9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG4vKipcclxuICogVE9ETzogXHJcbiAqIDHjgIHjgIzlrqLmnI3luK7liqnjgI1zZGvnvLrlpLHvvJtcclxuICogMuOAgeeUqOaIt3VpZOaVsOaNrue8uuWkse+8jOW+heaVsOaNruadpea6kOaPkOS+m+WQjuWujOWWhO+8m1xyXG4gKiAz44CB44CM6Ieq5a6a5LmJ5o6o6I2Q44CNc2Rr57y65aSx77ybXHJcbiAqIDTjgIHjgIzlhbPkuo7miJHku6zjgI1zZGvnvLrlpLHvvJtcclxuICogNeOAgee7j+mqjOWvueW6lOeahOWNh+e6p+i/m+W6puamguW/teebruWJjeayoeacieebuOW6lOeahOaVsOaNru+8jOW+heWujOWWhO+8m1xyXG4gKi9cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2V0dGluZ1ZpZXcgZXh0ZW5kcyBCYXNlUGFuZWwge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgaGVhZEljb246IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbmFtZUxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBpZExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9zb3VuZDogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICB1SW1nU291bmRTdGF0dXNPbiA9IG51bGwgLy8g6Z+z5LmQ5byAXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHVJbWdTb3VuZFN0YXR1c09mZiA9IG51bGwvLyDpn7PkuZDlhbNcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bjI6IChjYy5Ob2RlKSA9IG51bGw7Ly8g6Z+z5pWI6K6+572u5byA5YWzXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bjJPbjogY2MuTm9kZSA9IG51bGw7Ly8g6Z+z5pWI5byAXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bjJPZmY6IGNjLk5vZGUgPSBudWxsOy8vIOmfs+aViOWFs1xyXG4gICBcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl91c2VyOiAoY2MuTm9kZSkgPSBudWxsOyAvLyDnlKjmiLfljY/orq5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX3ByaXZhY3k6IChjYy5Ob2RlKSA9IG51bGw7Ly8g6ZqQ56eB5pS/562WXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9yZXN0YXJ0OiAoY2MuTm9kZSkgPSBudWxsOy8vIOazqOmUgFxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xvc2U6IChjYy5Ob2RlKSA9IG51bGw7Ly8g5YWz6Zet6Z2i5p2/XHJcblxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOiDjOaZr+mfs1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9zb3VuZCwgdGhpcy5vbkJ0blNvdW5kSGFuZGxlLCB0aGlzKTtcclxuICAgICAgICAvLyDpn7PmlYhcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG4yLCB0aGlzLm9uQnRuU291bmRZaW5YaWFvLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8g55So5oi35Y2P6K6uXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX3VzZXIsIHRoaXMub25CdG5Vc2VySGFuZGxlLCB0aGlzKTtcclxuICAgICAgICAvLyDpmpDnp4HmlL/nrZZcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5fcHJpdmFjeSwgdGhpcy5vbkJ0blByaXZhY3lIYW5kbGUsIHRoaXMpO1xyXG4gICAgICAgIC8vIOWuouacjeW4ruWKqVxyXG4gICAgICAgIC8vIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9oZWxwZXIsIHRoaXMub25CdG5IZWxwZXIsIHRoaXMpO1xyXG4gICAgICAgIC8vIC8vIOWFs+S6juaIkeS7rFxyXG4gICAgICAgIC8vIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9vdXJzLCB0aGlzLm9uQnRuQWJvdXRPdXJzLCB0aGlzKTtcclxuICAgICAgICAvLyDms6jplIBcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5fcmVzdGFydCwgdGhpcy5vbkJ0blJlc3RhcnRIYW5kbGUsIHRoaXMpO1xyXG4gICAgICAgIC8vIOmAgOWHuueZu+W9lVxyXG4gICAgICAgIC8vIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9xdWl0LCB0aGlzLm9uQnRuUXVpdEhhbmRsZSwgdGhpcyk7XHJcbiAgICAgICAgLy8g5YWz6Zet6Z2i5p2/XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2Nsb3NlLCB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9XHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRTaG93KCkge1xyXG4gICAgfVxyXG4gICAgaW5pdFVJKCkge1xyXG5cclxuICAgICAgICBsZXQgaGVhZFVybCA9IFNES01hbmFnZXIuZ2V0VXNlckljb24oKTtcclxuICAgICAgICBpZiAoaGVhZFVybCAmJiBoZWFkVXJsICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBjYy5hc3NldE1hbmFnZXIubG9hZFJlbW90ZShoZWFkVXJsLCB7IGV4dDogJy5wbmcnIH0sIGZ1bmN0aW9uIChlcnIsIHRleHR1cmU6Y2MuVGV4dHVyZTJEKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlpLTlg4/liqDovb3lpLHotKVcIiwgaGVhZFVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VsZi5oZWFkSWNvbi5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IG5ldyBjYy5TcHJpdGVGcmFtZSh0ZXh0dXJlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB1c2VyTmFtZSA9IFNES01hbmFnZXIuZ2V0VXNlck5pY2tOYW1lKCk7XHJcbiAgICAgICAgaWYgKCFVdGlscy5pc1VuZGVmaW5lZCh1c2VyTmFtZSkgJiYgdXNlck5hbWUgIT1cIlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmFtZUxhYmVsLnN0cmluZyA9IHVzZXJOYW1lO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubmFtZUxhYmVsLnN0cmluZyA9IFwi5ri45a6iXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmlkTGFiZWwuc3RyaW5nID0gXCJJRDpcIitTREtNYW5hZ2VyLmdldERldmljZUlkKCk7XHJcblxyXG4gICAgICAgIHRoaXMucmVmcmVzaEJ0blNvdW5kU3RhdGUoKTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hCdG5Tb3VuZFlpblhpYW9TdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFBlcnNvbmFsUmVjb21tZW5kYXRpb25TdGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hCdG5Tb3VuZFN0YXRlKCkge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gICAgICAgIGlmIChQbGF5ZXJNb2RlbC5nZXRTb3VuZFN3aXRjaCgpID09IEdsb2JhbC5TT1VORF9TV0lUQ0hfT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLnVJbWdTb3VuZFN0YXR1c09mZi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnVJbWdTb3VuZFN0YXR1c09uLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudUltZ1NvdW5kU3RhdHVzT2ZmLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnVJbWdTb3VuZFN0YXR1c09uLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hCdG5Tb3VuZFlpblhpYW9TdGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIlxyXG4gICAgICAgIGlmIChQbGF5ZXJNb2RlbC5nZXRTb3VuZFlpblhpYW9Td2l0Y2goKSA9PSBHbG9iYWwuU09VTkRfWUlOWElBT19TV0lUQ0hfT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLmJ0bjJPZmYuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuMk9uLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5idG4yT2ZmLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuMk9uLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiog6K6+572u6IOM5pmv6Z+z5LmQICovXHJcbiAgICBvbkJ0blNvdW5kSGFuZGxlKCkge1xyXG5cclxuICAgICAgICBsZXQgc291bmRSZXN1bHQgPSBQbGF5ZXJNb2RlbC5nZXRTb3VuZFN3aXRjaCgpID09IEdsb2JhbC5TT1VORF9TV0lUQ0hfT1BFTiA/IEdsb2JhbC5TT1VORF9TV0lUQ0hfQ0xPU0UgOiBHbG9iYWwuU09VTkRfU1dJVENIX09QRU47XHJcbiAgICAgICAgUGxheWVyTW9kZWwuc2V0U291bmRTd2l0Y2goc291bmRSZXN1bHQpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaEJ0blNvdW5kU3RhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKFBsYXllck1vZGVsLmdldFNvdW5kU3dpdGNoKCkgPT0gR2xvYmFsLlNPVU5EX1NXSVRDSF9PUEVOKSB7XHJcbiAgICAgICAgICAgIGlmIChKU0hlbHBlci5nZXRMYXN0TXVzaWMoKSkge1xyXG4gICAgICAgICAgICAgICAgSlNIZWxwZXIuc2V0UmVzdW1lTXVzaWMoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIEpTSGVscGVyLnBsYXlNaXN1YyhcImJnbVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEpTSGVscGVyLnNldFBhdXNlTXVzaWMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOiuvue9rumfs+aViCAqL1xyXG4gICAgb25CdG5Tb3VuZFlpblhpYW8oKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHNvdW5kWWluWGlhb1Jlc3VsdCA9IFBsYXllck1vZGVsLmdldFNvdW5kWWluWGlhb1N3aXRjaCgpID09IEdsb2JhbC5TT1VORF9ZSU5YSUFPX1NXSVRDSF9PUEVOID8gR2xvYmFsLlNPVU5EX1lJTlhJQU9fU1dJVENIX0NMT1NFIDogR2xvYmFsLlNPVU5EX1lJTlhJQU9fU1dJVENIX09QRU47XHJcbiAgICAgICAgUGxheWVyTW9kZWwuc2V0U291bmRZaW5YaWFvU3dpdGNoKHNvdW5kWWluWGlhb1Jlc3VsdCk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoQnRuU291bmRZaW5YaWFvU3RhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5Liq5oCn5o6o6I2QICAqL1xyXG4gICAgb25CdG5QZXJzb25hbFJlY29tbWVuZGF0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBwZXJzb25hbFJlY29tbVJlc3VsdCA9IFBsYXllck1vZGVsLmdldFBlcnNvblJlY29tbVN3aXRjaCgpID09IEdsb2JhbC5QRVJTT05BTFJFQ09NTV9TV0lUQ0hfT1BFTiA/IEdsb2JhbC5QRVJTT05BTFJFQ09NTV9TV0lUQ0hfT0ZGIDogR2xvYmFsLlBFUlNPTkFMUkVDT01NX1NXSVRDSF9PUEVOO1xyXG4gICAgICAgIFBsYXllck1vZGVsLlNldFBlcnNvblJlY29tbVN3aXRjaChwZXJzb25hbFJlY29tbVJlc3VsdCk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUGVyc29uYWxSZWNvbW1lbmRhdGlvblN0YXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOWIt+aWsOS4quaAp+aOqOiNkOeKtuaAgSAgKi9cclxuICAgIHJlZnJlc2hQZXJzb25hbFJlY29tbWVuZGF0aW9uU3RhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKFBsYXllck1vZGVsLmdldFBlcnNvblJlY29tbVN3aXRjaCgpID09IEdsb2JhbC5QRVJTT05BTFJFQ09NTV9TV0lUQ0hfT1BFTikge1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uQnRuVXNlckhhbmRsZSgpIHtcclxuICAgICAgICBTREtNYW5hZ2VyLm9wZW5Vc2VyU2VydmljZSgpO1xyXG4gICAgfVxyXG4gICAgb25CdG5Qcml2YWN5SGFuZGxlKCkge1xyXG4gICAgICAgIFNES01hbmFnZXIub3BlblByaXZhY3koKTtcclxuICAgIH1cclxuICAgIG9uQnRuUmVzdGFydEhhbmRsZSgpIHtcclxuICAgICAgICBTREtNYW5hZ2VyLnVuQmluZFdYKCk7XHJcbiAgICB9XHJcbiAgICBvbkJ0blF1aXRIYW5kbGUoKSB7XHJcbiAgICAgICAgU0RLTWFuYWdlci51bkJpbmRXWCgpO1xyXG4gICAgfVxyXG4gICAgLyoqIOWuouacjeW4ruWKqSAqL1xyXG4gICAgb25CdG5IZWxwZXIoKTogdm9pZCB7XHJcbiAgICAgICAgU0RLTWFuYWdlci5vcGVuRmVlZEJhY2soKVxyXG4gICAgfVxyXG4gICAgLyoqIOWFs+S6juaIkeS7rCAqL1xyXG4gICAgb25CdG5BYm91dE91cnMoKTogdm9pZCB7XHJcbiAgICB9XHJcbiAgICBvbkJ0bkNsb3NlSGFuZGxlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/task/AVirtualScrollView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '06cdcCr0YVMXJ9Tq9EWQH4M', 'AVirtualScrollView');
// src/game/view/task/AVirtualScrollView.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var AItemRenerer_1 = require("./AItemRenerer");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 虚拟滚动视图 扩展cc.ScrollView
 * 渲染预制体必需挂载 AItemRenderer子类
 * @author slf
 */
var AVirtualScrollView = /** @class */ (function (_super) {
    __extends(AVirtualScrollView, _super);
    function AVirtualScrollView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**渲染预制体必需挂载 AItemRenderer子类 */
        _this.itemRenderer = null;
        _this.oldIdx = 0;
        _this.newIdx = 0;
        _this.isFirst = true;
        return _this;
    }
    AVirtualScrollView.prototype.onLoad = function () {
        this.itemList = [];
        this.itemPool = [];
        this.itemRendererList = [];
        this.contentLayout = this.content.getComponent(cc.Layout);
        this.contentLayout.enabled = false;
        //起始位置
        var itemNode = this.itemRenderer.data;
        this.startPos = new cc.Vec2(itemNode.width * itemNode.anchorX + this.contentLayout.paddingLeft, -(itemNode.height * itemNode.anchorY + this.contentLayout.paddingTop));
        //预制体宽高
        this.itemW = itemNode.width + this.contentLayout.spacingX;
        this.itemH = itemNode.height + this.contentLayout.spacingY;
        //垂直、水平最大预制体数量
        this.horizontalCount = Math.ceil(this.node.width / this.itemW) + 1;
        this.verticalCount = Math.ceil(this.node.height / this.itemH) + 1;
        if (this.contentLayout.type == cc.Layout.Type.GRID) {
            if (this.contentLayout.startAxis == cc.Layout.AxisDirection.HORIZONTAL) {
                this.horizontalCount = Math.floor(this.node.width / this.itemW);
            }
            else {
                this.verticalCount = Math.floor(this.node.height / this.itemH);
            }
        }
    };
    AVirtualScrollView.prototype.onDestroy = function () {
        this.dataList = null;
        this.itemList = null;
        this.itemRendererList = null;
        clearInterval(this.interval);
    };
    /**利用cc.ScrollView本身方法 来标记滑动中 */
    AVirtualScrollView.prototype.setContentPosition = function (position) {
        _super.prototype.setContentPosition.call(this, position);
        ++this.oldIdx;
    };
    /**
    * 设置列表 子项点击回调
    * 回调会携带当前子项的 data
    * @param cb 回调
    * @param cbT 作用域
    */
    AVirtualScrollView.prototype.setTouchItemCallback = function (cb, cbT) {
        this.callback = cb;
        this.cbThis = cbT;
    };
    /**选中数据 */
    AVirtualScrollView.prototype.onItemTap = function (data) {
        this.callback && this.callback.call(this.cbThis, data);
    };
    /**
     * 刷新数据
     * @param data 数据源 单项|队列
     */
    AVirtualScrollView.prototype.refreshData = function (data) {
        if (Array.isArray(data)) {
            this.dataList = data;
        }
        else {
            this.dataList = [data];
        }
        if (this.interval) {
            clearInterval(this.interval);
        }
        this.clearItem();
        this.addItem();
        this.refreshContentSize();
        this.interval = setInterval(this.refreshItem.bind(this), 1000 / 10);
    };
    /**添加预制体 */
    AVirtualScrollView.prototype.addItem = function () {
        var len = 0;
        switch (this.contentLayout.type) {
            case cc.Layout.Type.HORIZONTAL:
                len = this.horizontalCount;
                break;
            case cc.Layout.Type.VERTICAL:
                len = this.verticalCount;
                break;
            case cc.Layout.Type.GRID:
                len = this.horizontalCount * this.verticalCount;
                break;
        }
        len = Math.min(len, this.dataList.length);
        var itemListLen = this.itemList.length;
        if (itemListLen < len) {
            var itemRenderer = null;
            for (var i = itemListLen; i < len; i++) {
                var child = this.itemPool.length > 0 ? this.itemPool.shift() : cc.instantiate(this.itemRenderer);
                this.content.addChild(child);
                this.itemList.push(child);
                itemRenderer = child.getComponent(AItemRenerer_1.default);
                this.itemRendererList.push(itemRenderer);
                if (!this.isFirst) {
                    itemRenderer.data = this.dataList[i];
                }
                if (itemRenderer.isClick) {
                    itemRenderer.setTouchCallback(this.onItemTap, this);
                }
            }
        }
        else {
            var cL = this.content.childrenCount;
            var item = void 0;
            while (cL > len) {
                item = this.itemList[cL - 1];
                this.content.removeChild(item);
                this.itemList.splice(cL - 1, 1);
                this.itemRendererList.splice(cL - 1, 1);
                this.itemPool.push(item);
                cL = this.content.childrenCount;
            }
        }
    };
    AVirtualScrollView.prototype.clearItem = function () {
        for (var i = 0; i < this.itemList.length; i++) {
            var item = this.itemList[i];
            this.content.removeChild(item);
            this.itemPool.push(item);
        }
        this.itemList = [];
        this.itemRendererList = [];
    };
    /**根据数据数量 改变content宽高 */
    AVirtualScrollView.prototype.refreshContentSize = function () {
        var layout = this.contentLayout;
        var dataListLen = this.dataList.length;
        switch (this.contentLayout.type) {
            case cc.Layout.Type.VERTICAL:
                this.content.height = layout.paddingTop + dataListLen * this.itemH + layout.paddingBottom;
                break;
            case cc.Layout.Type.HORIZONTAL:
                this.content.width = layout.paddingLeft + dataListLen * this.itemW + layout.paddingRight;
                break;
            case cc.Layout.Type.GRID:
                if (this.contentLayout.startAxis == cc.Layout.AxisDirection.HORIZONTAL) {
                    this.content.height = layout.paddingTop + Math.ceil(dataListLen / this.horizontalCount) * this.itemH + layout.paddingBottom;
                }
                else if (this.contentLayout.startAxis == cc.Layout.AxisDirection.VERTICAL) {
                    this.content.width = layout.paddingLeft + Math.ceil(dataListLen / this.verticalCount) * this.itemW + layout.paddingRight;
                }
                break;
        }
    };
    /**刷新预制体位置 和 数据填充 */
    AVirtualScrollView.prototype.refreshItem = function () {
        if (this.oldIdx == this.newIdx) {
            return;
        }
        this.isFirst = false;
        this.newIdx = this.oldIdx;
        switch (this.contentLayout.type) {
            case cc.Layout.Type.HORIZONTAL:
                this.refreshHorizontal();
                break;
            case cc.Layout.Type.VERTICAL:
                this.refreshVertical();
                break;
            case cc.Layout.Type.GRID:
                this.refreshGrid();
                break;
        }
    };
    /**刷新水平 */
    AVirtualScrollView.prototype.refreshHorizontal = function () {
        var start = Math.floor(Math.abs(this.getContentPosition().x) / this.itemW);
        if (start < 0 || this.getContentPosition().x > 0) { //超出边界处理
            start = 0;
        }
        var end = start + this.horizontalCount;
        if (end > this.dataList.length) { //超出边界处理
            end = this.dataList.length;
            start = Math.max(end - this.horizontalCount, 0);
        }
        var tempV = 0;
        var itemListLen = this.itemList.length;
        var item, idx;
        for (var i = 0; i < itemListLen; i++) {
            idx = (start + i) % itemListLen;
            item = this.itemList[idx];
            tempV = this.startPos.x + ((start + i) * this.itemW);
            if (item.x != tempV) {
                item.x = tempV;
                this.itemRendererList[idx].index = i;
                this.itemRendererList[idx].data = this.dataList[start + i];
                // console.log("修改的数据=" + (start + this.itemRendererList[idx].data))
            }
        }
    };
    /**刷新垂直 */
    AVirtualScrollView.prototype.refreshVertical = function () {
        var start = Math.floor(Math.abs(this.getContentPosition().y) / this.itemH);
        if (start < 0 || this.getContentPosition().y < 0) {
            start = 0;
        }
        var end = start + this.verticalCount;
        if (end > this.dataList.length) {
            end = this.dataList.length;
            start = Math.max(end - this.verticalCount, 0);
        }
        var tempV = 0;
        var itemListLen = this.itemList.length;
        var item, idx;
        for (var i = 0; i < itemListLen; i++) {
            idx = (start + i) % itemListLen;
            item = this.itemList[idx];
            tempV = this.startPos.y + (-(start + i) * this.itemH);
            if (item.y != tempV) {
                // console.log("修改的数据=" + (start + i))
                item.y = tempV;
                this.itemRendererList[idx].index = i;
                this.itemRendererList[idx].data = this.dataList[start + i];
            }
        }
    };
    /**刷新网格 */
    AVirtualScrollView.prototype.refreshGrid = function () {
        //是否垂直方向 添加网格
        var isVDirection = this.contentLayout.startAxis == cc.Layout.AxisDirection.VERTICAL;
        var start = Math.floor(Math.abs(this.getContentPosition().y) / this.itemH) * this.horizontalCount;
        if (isVDirection) {
            start = Math.floor(Math.abs(this.getContentPosition().x) / this.itemW) * this.verticalCount;
            if (this.getContentPosition().x > 0) {
                start = 0;
            }
        }
        else if (this.getContentPosition().y < 0) {
            start = 0;
        }
        if (start < 0) {
            start = 0;
        }
        var end = start + this.horizontalCount * this.verticalCount;
        if (end > this.dataList.length) {
            end = this.dataList.length;
            start = Math.max(end - this.horizontalCount * this.verticalCount, 0);
        }
        var tempX = 0;
        var tempY = 0;
        var itemListLen = this.itemList.length;
        var item, idx;
        for (var i = 0; i < itemListLen; i++) {
            idx = (start + i) % itemListLen;
            item = this.itemList[idx];
            if (isVDirection) {
                tempX = this.startPos.x + (Math.floor((start + i) / this.verticalCount)) * this.itemW;
                tempY = this.startPos.y + -((start + i) % this.verticalCount) * this.itemH;
            }
            else {
                tempX = this.startPos.x + ((start + i) % this.horizontalCount) * this.itemW;
                tempY = this.startPos.y + -(Math.floor((start + i) / this.horizontalCount)) * this.itemH;
            }
            if (item.y != tempY || item.x != tempX) {
                // console.log("修改的数据=" + (start + i))
                item.x = tempX;
                item.y = tempY;
                this.itemRendererList[idx].index = i;
                this.itemRendererList[idx].data = this.dataList[start + i];
            }
        }
    };
    AVirtualScrollView.prototype.getItemByIndex = function (index) {
        return this.itemList[index];
    };
    __decorate([
        property({ type: cc.Prefab, serializable: true, displayName: "渲染预制体" })
    ], AVirtualScrollView.prototype, "itemRenderer", void 0);
    AVirtualScrollView = __decorate([
        ccclass
    ], AVirtualScrollView);
    return AVirtualScrollView;
}(cc.ScrollView));
exports.default = AVirtualScrollView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3Rhc2svQVZpcnR1YWxTY3JvbGxWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtDQUEyQztBQUVyQyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1Qzs7OztHQUlHO0FBRUg7SUFBZ0Qsc0NBQWE7SUFBN0Q7UUFBQSxxRUE2VEM7UUE1VEcsK0JBQStCO1FBRS9CLGtCQUFZLEdBQWMsSUFBSSxDQUFDO1FBNEJ2QixZQUFNLEdBQVcsQ0FBQyxDQUFDO1FBQ25CLFlBQU0sR0FBVyxDQUFDLENBQUM7UUE0SjNCLGFBQU8sR0FBRyxJQUFJLENBQUM7O0lBaUluQixDQUFDO0lBM1JhLG1DQUFNLEdBQWhCO1FBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDbkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDbkIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxRCxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFFbkMsTUFBTTtRQUNOLElBQUksUUFBUSxHQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDO1FBQy9DLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxhQUFhLENB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SyxDQUFDO2dCQUNmLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO2dCQUNyQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQzlEO1NBQ0o7SUFDTCxDQUFDO0lBRUQsMkNBQWMsR0FBZCxVQUFlLEtBQUs7UUFDaEIsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUF6VEQ7UUFEQyxRQUFRLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLE1BQU0sRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsQ0FBQzs0REFDekM7SUFIZCxrQkFBa0I7UUFEdEMsT0FBTztPQUNhLGtCQUFrQixDQTZUdEM7SUFBRCx5QkFBQztDQTdURCxBQTZUQyxDQTdUK0MsRUFBRSxDQUFDLFVBQVUsR0E2VDVEO2tCQTdUb0Isa0JBQWtCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFJdGVtUmVuZGVyZXIgZnJvbSBcIi4vQUl0ZW1SZW5lcmVyXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuLyoqXHJcbiAqIOiZmuaLn+a7muWKqOinhuWbviDmianlsZVjYy5TY3JvbGxWaWV3XHJcbiAqIOa4suafk+mihOWItuS9k+W/hemcgOaMgui9vSBBSXRlbVJlbmRlcmVy5a2Q57G7XHJcbiAqIEBhdXRob3Igc2xmXHJcbiAqL1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBVmlydHVhbFNjcm9sbFZpZXcgZXh0ZW5kcyBjYy5TY3JvbGxWaWV3IHtcclxuICAgIC8qKua4suafk+mihOWItuS9k+W/hemcgOaMgui9vSBBSXRlbVJlbmRlcmVy5a2Q57G7ICovXHJcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5QcmVmYWIsIHNlcmlhbGl6YWJsZTogdHJ1ZSwgZGlzcGxheU5hbWU6IFwi5riy5p+T6aKE5Yi25L2TXCIgfSlcclxuICAgIGl0ZW1SZW5kZXJlcjogY2MuUHJlZmFiID0gbnVsbDtcclxuXHJcbiAgICAvKirlrZDpobnngrnlh7sg5Zue6LCD5Ye95pWwICDlm57osIPkvZznlKjln58qL1xyXG4gICAgcHJvdGVjdGVkIGNhbGxiYWNrOiBGdW5jdGlvbjtcclxuICAgIHByb3RlY3RlZCBjYlRoaXM6IGFueTtcclxuXHJcbiAgICAvKirmnIDlpKfmuLLmn5PpooTliLbkvZMg5Z6C55u05pWw6YePICovXHJcbiAgICBwcml2YXRlIHZlcnRpY2FsQ291bnQ6IG51bWJlcjtcclxuICAgIC8qKuacgOWkp+a4suafk+mihOWItuS9kyDmsLTlubPmlbDph48gKi9cclxuICAgIHByaXZhdGUgaG9yaXpvbnRhbENvdW50OiBudW1iZXI7XHJcbiAgICAvKirpooTliLbkvZPlrr3pq5ggKi9cclxuICAgIHByaXZhdGUgaXRlbVc6IG51bWJlcjtcclxuICAgIHByaXZhdGUgaXRlbUg6IG51bWJlcjtcclxuICAgIC8qKuWumuaXtuWZqCAqL1xyXG4gICAgcHJpdmF0ZSBpbnRlcnZhbDogbnVtYmVyO1xyXG4gICAgLyoq6aKE5Yi25L2T5rGgICovXHJcbiAgICBwcml2YXRlIGl0ZW1Qb29sOiBhbnlbXTtcclxuICAgIC8qKumihOWItuS9k+WIl+ihqCAqL1xyXG4gICAgcHJpdmF0ZSBpdGVtTGlzdDogYW55W107XHJcbiAgICAvKirpooTliLbkvZPmuLLmn5PnsbvliJfooaggKi9cclxuICAgIHByaXZhdGUgaXRlbVJlbmRlcmVyTGlzdDogYW55W107XHJcbiAgICAvKirmlbDmja7liJfooaggKi9cclxuICAgIHByaXZhdGUgZGF0YUxpc3Q6IGFueVtdO1xyXG4gICAgLyoq5byA5aeL5Z2Q5qCHICovXHJcbiAgICBwcml2YXRlIHN0YXJ0UG9zOiBjYy5WZWMyO1xyXG4gICAgLyoq5biD5bGAKi9cclxuICAgIHByaXZhdGUgY29udGVudExheW91dDogY2MuTGF5b3V0O1xyXG5cclxuICAgIHByaXZhdGUgb2xkSWR4OiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBuZXdJZHg6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uTG9hZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLml0ZW1MaXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5pdGVtUG9vbCA9IFtdO1xyXG4gICAgICAgIHRoaXMuaXRlbVJlbmRlcmVyTGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29udGVudExheW91dCA9IHRoaXMuY29udGVudC5nZXRDb21wb25lbnQoY2MuTGF5b3V0KTtcclxuICAgICAgICB0aGlzLmNvbnRlbnRMYXlvdXQuZW5hYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvL+i1t+Wni+S9jee9rlxyXG4gICAgICAgIGxldCBpdGVtTm9kZTogY2MuTm9kZSA9IHRoaXMuaXRlbVJlbmRlcmVyLmRhdGE7XHJcbiAgICAgICAgdGhpcy5zdGFydFBvcyA9IG5ldyBjYy5WZWMyKGl0ZW1Ob2RlLndpZHRoICogaXRlbU5vZGUuYW5jaG9yWCArIHRoaXMuY29udGVudExheW91dC5wYWRkaW5nTGVmdCwgLShpdGVtTm9kZS5oZWlnaHQgKiBpdGVtTm9kZS5hbmNob3JZICsgdGhpcy5jb250ZW50TGF5b3V0LnBhZGRpbmdUb3ApKTtcclxuICAgICAgICAvL+mihOWItuS9k+WuvemrmFxyXG4gICAgICAgIHRoaXMuaXRlbVcgPSBpdGVtTm9kZS53aWR0aCArIHRoaXMuY29udGVudExheW91dC5zcGFjaW5nWDtcclxuICAgICAgICB0aGlzLml0ZW1IID0gaXRlbU5vZGUuaGVpZ2h0ICsgdGhpcy5jb250ZW50TGF5b3V0LnNwYWNpbmdZO1xyXG4gICAgICAgIC8v5Z6C55u044CB5rC05bmz5pyA5aSn6aKE5Yi25L2T5pWw6YePXHJcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsQ291bnQgPSBNYXRoLmNlaWwodGhpcy5ub2RlLndpZHRoIC8gdGhpcy5pdGVtVykgKyAxO1xyXG4gICAgICAgIHRoaXMudmVydGljYWxDb3VudCA9IE1hdGguY2VpbCh0aGlzLm5vZGUuaGVpZ2h0IC8gdGhpcy5pdGVtSCkgKyAxO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb250ZW50TGF5b3V0LnR5cGUgPT0gY2MuTGF5b3V0LlR5cGUuR1JJRCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZW50TGF5b3V0LnN0YXJ0QXhpcyA9PSBjYy5MYXlvdXQuQXhpc0RpcmVjdGlvbi5IT1JJWk9OVEFMKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhvcml6b250YWxDb3VudCA9IE1hdGguZmxvb3IodGhpcy5ub2RlLndpZHRoIC8gdGhpcy5pdGVtVyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsQ291bnQgPSBNYXRoLmZsb29yKHRoaXMubm9kZS5oZWlnaHQgLyB0aGlzLml0ZW1IKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGF0YUxpc3QgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaXRlbUxpc3QgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaXRlbVJlbmRlcmVyTGlzdCA9IG51bGw7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKirliKnnlKhjYy5TY3JvbGxWaWV35pys6Lqr5pa55rOVIOadpeagh+iusOa7keWKqOS4rSAqL1xyXG4gICAgc2V0Q29udGVudFBvc2l0aW9uKHBvc2l0aW9uOiBjYy5WZWMyKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0Q29udGVudFBvc2l0aW9uKHBvc2l0aW9uKTtcclxuICAgICAgICArK3RoaXMub2xkSWR4O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDorr7nva7liJfooagg5a2Q6aG554K55Ye75Zue6LCDXHJcbiAgICAqIOWbnuiwg+S8muaQuuW4puW9k+WJjeWtkOmhueeahCBkYXRhXHJcbiAgICAqIEBwYXJhbSBjYiDlm57osINcclxuICAgICogQHBhcmFtIGNiVCDkvZznlKjln59cclxuICAgICovXHJcbiAgICBwdWJsaWMgc2V0VG91Y2hJdGVtQ2FsbGJhY2soY2I6IEZ1bmN0aW9uLCBjYlQ6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYjtcclxuICAgICAgICB0aGlzLmNiVGhpcyA9IGNiVDtcclxuICAgIH1cclxuXHJcbiAgICAvKirpgInkuK3mlbDmja4gKi9cclxuICAgIHByaXZhdGUgb25JdGVtVGFwKGRhdGE6IGFueSk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLmNhbGxiYWNrICYmIHRoaXMuY2FsbGJhY2suY2FsbCh0aGlzLmNiVGhpcywgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliLfmlrDmlbDmja5cclxuICAgICAqIEBwYXJhbSBkYXRhIOaVsOaNrua6kCDljZXpobl86Zif5YiXXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZWZyZXNoRGF0YShkYXRhOiBhbnkgfCBhbnlbXSk6IHZvaWQge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBbZGF0YV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNsZWFySXRlbSgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZEl0ZW0oKTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hDb250ZW50U2l6ZSgpO1xyXG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLnJlZnJlc2hJdGVtLmJpbmQodGhpcyksIDEwMDAgLyAxMCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKua3u+WKoOmihOWItuS9kyAqL1xyXG4gICAgcHJpdmF0ZSBhZGRJdGVtKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBsZW46IG51bWJlciA9IDA7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmNvbnRlbnRMYXlvdXQudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGNjLkxheW91dC5UeXBlLkhPUklaT05UQUw6XHJcbiAgICAgICAgICAgICAgICBsZW4gPSB0aGlzLmhvcml6b250YWxDb3VudDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGNjLkxheW91dC5UeXBlLlZFUlRJQ0FMOlxyXG4gICAgICAgICAgICAgICAgbGVuID0gdGhpcy52ZXJ0aWNhbENvdW50O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgY2MuTGF5b3V0LlR5cGUuR1JJRDpcclxuICAgICAgICAgICAgICAgIGxlbiA9IHRoaXMuaG9yaXpvbnRhbENvdW50ICogdGhpcy52ZXJ0aWNhbENvdW50O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxlbiA9IE1hdGgubWluKGxlbiwgdGhpcy5kYXRhTGlzdC5sZW5ndGgpO1xyXG5cclxuICAgICAgICBsZXQgaXRlbUxpc3RMZW4gPSB0aGlzLml0ZW1MaXN0Lmxlbmd0aDtcclxuICAgICAgICBpZiAoaXRlbUxpc3RMZW4gPCBsZW4pIHtcclxuICAgICAgICAgICAgbGV0IGl0ZW1SZW5kZXJlciA9IG51bGw7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBpdGVtTGlzdExlbjsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLml0ZW1Qb29sLmxlbmd0aCA+IDAgPyB0aGlzLml0ZW1Qb29sLnNoaWZ0KCkgOiBjYy5pbnN0YW50aWF0ZSh0aGlzLml0ZW1SZW5kZXJlcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQuYWRkQ2hpbGQoY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtTGlzdC5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgIGl0ZW1SZW5kZXJlciA9IGNoaWxkLmdldENvbXBvbmVudChBSXRlbVJlbmRlcmVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbVJlbmRlcmVyTGlzdC5wdXNoKGl0ZW1SZW5kZXJlcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNGaXJzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1SZW5kZXJlci5kYXRhID0gdGhpcy5kYXRhTGlzdFtpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbVJlbmRlcmVyLmlzQ2xpY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtUmVuZGVyZXIuc2V0VG91Y2hDYWxsYmFjayh0aGlzLm9uSXRlbVRhcCwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgY0w6IG51bWJlciA9IHRoaXMuY29udGVudC5jaGlsZHJlbkNvdW50O1xyXG4gICAgICAgICAgICBsZXQgaXRlbTtcclxuICAgICAgICAgICAgd2hpbGUgKGNMID4gbGVuKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtID0gdGhpcy5pdGVtTGlzdFtjTCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50LnJlbW92ZUNoaWxkKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtTGlzdC5zcGxpY2UoY0wgLSAxLCAxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbVJlbmRlcmVyTGlzdC5zcGxpY2UoY0wgLSAxLCAxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbVBvb2wucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIGNMID0gdGhpcy5jb250ZW50LmNoaWxkcmVuQ291bnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjbGVhckl0ZW0oKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1MaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5pdGVtTGlzdFtpXTtcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50LnJlbW92ZUNoaWxkKGl0ZW0pO1xyXG4gICAgICAgICAgICB0aGlzLml0ZW1Qb29sLnB1c2goaXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaXRlbUxpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLml0ZW1SZW5kZXJlckxpc3QgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvKirmoLnmja7mlbDmja7mlbDph48g5pS55Y+YY29udGVudOWuvemrmCAqL1xyXG4gICAgcHJpdmF0ZSByZWZyZXNoQ29udGVudFNpemUoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGxheW91dDogY2MuTGF5b3V0ID0gdGhpcy5jb250ZW50TGF5b3V0O1xyXG4gICAgICAgIGxldCBkYXRhTGlzdExlbjogbnVtYmVyID0gdGhpcy5kYXRhTGlzdC5sZW5ndGg7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmNvbnRlbnRMYXlvdXQudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGNjLkxheW91dC5UeXBlLlZFUlRJQ0FMOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50LmhlaWdodCA9IGxheW91dC5wYWRkaW5nVG9wICsgZGF0YUxpc3RMZW4gKiB0aGlzLml0ZW1IICsgbGF5b3V0LnBhZGRpbmdCb3R0b207XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBjYy5MYXlvdXQuVHlwZS5IT1JJWk9OVEFMOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50LndpZHRoID0gbGF5b3V0LnBhZGRpbmdMZWZ0ICsgZGF0YUxpc3RMZW4gKiB0aGlzLml0ZW1XICsgbGF5b3V0LnBhZGRpbmdSaWdodDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGNjLkxheW91dC5UeXBlLkdSSUQ6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250ZW50TGF5b3V0LnN0YXJ0QXhpcyA9PSBjYy5MYXlvdXQuQXhpc0RpcmVjdGlvbi5IT1JJWk9OVEFMKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50LmhlaWdodCA9IGxheW91dC5wYWRkaW5nVG9wICsgTWF0aC5jZWlsKGRhdGFMaXN0TGVuIC8gdGhpcy5ob3Jpem9udGFsQ291bnQpICogdGhpcy5pdGVtSCArIGxheW91dC5wYWRkaW5nQm90dG9tO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbnRlbnRMYXlvdXQuc3RhcnRBeGlzID09IGNjLkxheW91dC5BeGlzRGlyZWN0aW9uLlZFUlRJQ0FMKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50LndpZHRoID0gbGF5b3V0LnBhZGRpbmdMZWZ0ICsgTWF0aC5jZWlsKGRhdGFMaXN0TGVuIC8gdGhpcy52ZXJ0aWNhbENvdW50KSAqIHRoaXMuaXRlbVcgKyBsYXlvdXQucGFkZGluZ1JpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaXNGaXJzdCA9IHRydWU7XHJcbiAgICAvKirliLfmlrDpooTliLbkvZPkvY3nva4g5ZKMIOaVsOaNruWhq+WFhSAqL1xyXG4gICAgcHJpdmF0ZSByZWZyZXNoSXRlbSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5vbGRJZHggPT0gdGhpcy5uZXdJZHgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlzRmlyc3QgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm5ld0lkeCA9IHRoaXMub2xkSWR4O1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5jb250ZW50TGF5b3V0LnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBjYy5MYXlvdXQuVHlwZS5IT1JJWk9OVEFMOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoSG9yaXpvbnRhbCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgY2MuTGF5b3V0LlR5cGUuVkVSVElDQUw6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hWZXJ0aWNhbCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgY2MuTGF5b3V0LlR5cGUuR1JJRDpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaEdyaWQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKirliLfmlrDmsLTlubMgKi9cclxuICAgIHByaXZhdGUgcmVmcmVzaEhvcml6b250YWwoKSB7XHJcbiAgICAgICAgbGV0IHN0YXJ0ID0gTWF0aC5mbG9vcihNYXRoLmFicyh0aGlzLmdldENvbnRlbnRQb3NpdGlvbigpLngpIC8gdGhpcy5pdGVtVyk7XHJcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmdldENvbnRlbnRQb3NpdGlvbigpLnggPiAwKSB7ICAgICAgICAgICAgICAgIC8v6LaF5Ye66L6555WM5aSE55CGXHJcbiAgICAgICAgICAgIHN0YXJ0ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGVuZCA9IHN0YXJ0ICsgdGhpcy5ob3Jpem9udGFsQ291bnQ7XHJcbiAgICAgICAgaWYgKGVuZCA+IHRoaXMuZGF0YUxpc3QubGVuZ3RoKSB7Ly/otoXlh7rovrnnlYzlpITnkIZcclxuICAgICAgICAgICAgZW5kID0gdGhpcy5kYXRhTGlzdC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gTWF0aC5tYXgoZW5kIC0gdGhpcy5ob3Jpem9udGFsQ291bnQsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgdGVtcFYgPSAwO1xyXG4gICAgICAgIGxldCBpdGVtTGlzdExlbiA9IHRoaXMuaXRlbUxpc3QubGVuZ3RoO1xyXG4gICAgICAgIGxldCBpdGVtLCBpZHg7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtTGlzdExlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlkeCA9IChzdGFydCArIGkpICUgaXRlbUxpc3RMZW47XHJcbiAgICAgICAgICAgIGl0ZW0gPSB0aGlzLml0ZW1MaXN0W2lkeF07XHJcbiAgICAgICAgICAgIHRlbXBWID0gdGhpcy5zdGFydFBvcy54ICsgKChzdGFydCArIGkpICogdGhpcy5pdGVtVyk7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLnggIT0gdGVtcFYpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0ueCA9IHRlbXBWO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtUmVuZGVyZXJMaXN0W2lkeF0uaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtUmVuZGVyZXJMaXN0W2lkeF0uZGF0YSA9IHRoaXMuZGF0YUxpc3Rbc3RhcnQgKyBpXTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwi5L+u5pS555qE5pWw5o2uPVwiICsgKHN0YXJ0ICsgdGhpcy5pdGVtUmVuZGVyZXJMaXN0W2lkeF0uZGF0YSkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5Yi35paw5Z6C55u0ICovXHJcbiAgICBwcml2YXRlIHJlZnJlc2hWZXJ0aWNhbCgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgc3RhcnQgPSBNYXRoLmZsb29yKE1hdGguYWJzKHRoaXMuZ2V0Q29udGVudFBvc2l0aW9uKCkueSkgLyB0aGlzLml0ZW1IKTtcclxuICAgICAgICBpZiAoc3RhcnQgPCAwIHx8IHRoaXMuZ2V0Q29udGVudFBvc2l0aW9uKCkueSA8IDApIHtcclxuICAgICAgICAgICAgc3RhcnQgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGVuZCA9IHN0YXJ0ICsgdGhpcy52ZXJ0aWNhbENvdW50O1xyXG4gICAgICAgIGlmIChlbmQgPiB0aGlzLmRhdGFMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBlbmQgPSB0aGlzLmRhdGFMaXN0Lmxlbmd0aDtcclxuICAgICAgICAgICAgc3RhcnQgPSBNYXRoLm1heChlbmQgLSB0aGlzLnZlcnRpY2FsQ291bnQsIDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHRlbXBWID0gMDtcclxuICAgICAgICBsZXQgaXRlbUxpc3RMZW4gPSB0aGlzLml0ZW1MaXN0Lmxlbmd0aDtcclxuICAgICAgICBsZXQgaXRlbSwgaWR4O1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbUxpc3RMZW47IGkrKykge1xyXG4gICAgICAgICAgICBpZHggPSAoc3RhcnQgKyBpKSAlIGl0ZW1MaXN0TGVuO1xyXG4gICAgICAgICAgICBpdGVtID0gdGhpcy5pdGVtTGlzdFtpZHhdO1xyXG4gICAgICAgICAgICB0ZW1wViA9IHRoaXMuc3RhcnRQb3MueSArICgtKHN0YXJ0ICsgaSkgKiB0aGlzLml0ZW1IKTtcclxuICAgICAgICAgICAgaWYgKGl0ZW0ueSAhPSB0ZW1wVikge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCLkv67mlLnnmoTmlbDmja49XCIgKyAoc3RhcnQgKyBpKSlcclxuICAgICAgICAgICAgICAgIGl0ZW0ueSA9IHRlbXBWO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtUmVuZGVyZXJMaXN0W2lkeF0uaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtUmVuZGVyZXJMaXN0W2lkeF0uZGF0YSA9IHRoaXMuZGF0YUxpc3Rbc3RhcnQgKyBpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKirliLfmlrDnvZHmoLwgKi9cclxuICAgIHByaXZhdGUgcmVmcmVzaEdyaWQoKTogdm9pZCB7XHJcbiAgICAgICAgLy/mmK/lkKblnoLnm7TmlrnlkJEg5re75Yqg572R5qC8XHJcbiAgICAgICAgbGV0IGlzVkRpcmVjdGlvbiA9IHRoaXMuY29udGVudExheW91dC5zdGFydEF4aXMgPT0gY2MuTGF5b3V0LkF4aXNEaXJlY3Rpb24uVkVSVElDQUw7XHJcbiAgICAgICAgbGV0IHN0YXJ0ID0gTWF0aC5mbG9vcihNYXRoLmFicyh0aGlzLmdldENvbnRlbnRQb3NpdGlvbigpLnkpIC8gdGhpcy5pdGVtSCkgKiB0aGlzLmhvcml6b250YWxDb3VudDtcclxuICAgICAgICBpZiAoaXNWRGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gTWF0aC5mbG9vcihNYXRoLmFicyh0aGlzLmdldENvbnRlbnRQb3NpdGlvbigpLngpIC8gdGhpcy5pdGVtVykgKiB0aGlzLnZlcnRpY2FsQ291bnQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldENvbnRlbnRQb3NpdGlvbigpLnggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZ2V0Q29udGVudFBvc2l0aW9uKCkueSA8IDApIHtcclxuICAgICAgICAgICAgc3RhcnQgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkge1xyXG4gICAgICAgICAgICBzdGFydCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgZW5kID0gc3RhcnQgKyB0aGlzLmhvcml6b250YWxDb3VudCAqIHRoaXMudmVydGljYWxDb3VudDtcclxuICAgICAgICBpZiAoZW5kID4gdGhpcy5kYXRhTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZW5kID0gdGhpcy5kYXRhTGlzdC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gTWF0aC5tYXgoZW5kIC0gdGhpcy5ob3Jpem9udGFsQ291bnQgKiB0aGlzLnZlcnRpY2FsQ291bnQsIDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHRlbXBYID0gMDtcclxuICAgICAgICBsZXQgdGVtcFkgPSAwO1xyXG4gICAgICAgIGxldCBpdGVtTGlzdExlbiA9IHRoaXMuaXRlbUxpc3QubGVuZ3RoO1xyXG4gICAgICAgIGxldCBpdGVtLCBpZHg7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtTGlzdExlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlkeCA9IChzdGFydCArIGkpICUgaXRlbUxpc3RMZW47XHJcbiAgICAgICAgICAgIGl0ZW0gPSB0aGlzLml0ZW1MaXN0W2lkeF07XHJcbiAgICAgICAgICAgIGlmIChpc1ZEaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHRlbXBYID0gdGhpcy5zdGFydFBvcy54ICsgKE1hdGguZmxvb3IoKHN0YXJ0ICsgaSkgLyB0aGlzLnZlcnRpY2FsQ291bnQpKSAqIHRoaXMuaXRlbVc7XHJcbiAgICAgICAgICAgICAgICB0ZW1wWSA9IHRoaXMuc3RhcnRQb3MueSArIC0oKHN0YXJ0ICsgaSkgJSB0aGlzLnZlcnRpY2FsQ291bnQpICogdGhpcy5pdGVtSDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRlbXBYID0gdGhpcy5zdGFydFBvcy54ICsgKChzdGFydCArIGkpICUgdGhpcy5ob3Jpem9udGFsQ291bnQpICogdGhpcy5pdGVtVztcclxuICAgICAgICAgICAgICAgIHRlbXBZID0gdGhpcy5zdGFydFBvcy55ICsgLShNYXRoLmZsb29yKChzdGFydCArIGkpIC8gdGhpcy5ob3Jpem9udGFsQ291bnQpKSAqIHRoaXMuaXRlbUg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpdGVtLnkgIT0gdGVtcFkgfHwgaXRlbS54ICE9IHRlbXBYKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuS/ruaUueeahOaVsOaNrj1cIiArIChzdGFydCArIGkpKVxyXG4gICAgICAgICAgICAgICAgaXRlbS54ID0gdGVtcFg7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnkgPSB0ZW1wWTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbVJlbmRlcmVyTGlzdFtpZHhdLmluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbVJlbmRlcmVyTGlzdFtpZHhdLmRhdGEgPSB0aGlzLmRhdGFMaXN0W3N0YXJ0ICsgaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SXRlbUJ5SW5kZXgoaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pdGVtTGlzdFtpbmRleF07XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/vegetables/VegetablesUnlockView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4bea1rZ7WNBkYAOAcZsSJ17', 'VegetablesUnlockView');
// src/game/view/vegetables/VegetablesUnlockView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var Global_1 = require("../../consts/Global");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 显示解锁作物界面
 * 调用示例：UIMananger.showPanel(UIType.VegetablesUnlockView, UIEffectType.SCALE, 2);// 2为作物id
 */
var VegetablesUnlockView = /** @class */ (function (_super) {
    __extends(VegetablesUnlockView, _super);
    function VegetablesUnlockView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_close = null;
        _this.btn_video = null;
        _this.titleLb = null;
        _this.nameLb = null;
        _this.descLb = null;
        _this.cropDescLb = null;
        _this.uImgCrop = null;
        _this.mId = -1;
        return _this;
    }
    VegetablesUnlockView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_video, this.onVideo, this);
    };
    VegetablesUnlockView.prototype.onDisable = function () {
    };
    VegetablesUnlockView.prototype.startShow = function () {
        this.mId = this.inData[0];
        this.mCrop = ConfigManager_1.default.getCropById(this.mId);
        this.initUI();
    };
    VegetablesUnlockView.prototype.initUI = function () {
        var _this = this;
        this.nameLb.string = this.mCrop.name;
        this.descLb.string = "\u89E3\u9501\u540E\u5C31\u53EF\u4EE5\u79CD\u690D" + this.mCrop.name + "\u5566";
        this.cropDescLb.string = "    " + this.mCrop.desc;
        this.titleLb.string = "\u89E3\u9501" + this.mCrop.name;
        MkUtils_1.default.loadSpriteFrame("texture/crop/icon/" + ("" + this.mId), function (res) {
            _this.uImgCrop.spriteFrame = res;
        });
    };
    VegetablesUnlockView.prototype.onVideo = function () {
        EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        SDKManager_1.default.showAd(Global_1.default.VIDEO_CONFIG.video11);
    };
    VegetablesUnlockView.prototype.onVideoBack = function () {
        PlayerModel_1.default.setNewCrop(this.mId);
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        EventDispath_1.default.send(EventType_1.EventType.VEGETABLES_UPDATE);
        MkUtils_1.default.alertTips(this.mCrop.name + "\u5DF2\u89E3\u9501\uFF0C\u5FEB\u53BB\u79CD\u690D\u5427");
        this.onBtnCloseHandle();
    };
    /** 仅用于关闭操作 */
    VegetablesUnlockView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], VegetablesUnlockView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Node)
    ], VegetablesUnlockView.prototype, "btn_video", void 0);
    __decorate([
        property(cc.Label)
    ], VegetablesUnlockView.prototype, "titleLb", void 0);
    __decorate([
        property(cc.Label)
    ], VegetablesUnlockView.prototype, "nameLb", void 0);
    __decorate([
        property(cc.Label)
    ], VegetablesUnlockView.prototype, "descLb", void 0);
    __decorate([
        property(cc.Label)
    ], VegetablesUnlockView.prototype, "cropDescLb", void 0);
    __decorate([
        property(cc.Sprite)
    ], VegetablesUnlockView.prototype, "uImgCrop", void 0);
    VegetablesUnlockView = __decorate([
        ccclass
    ], VegetablesUnlockView);
    return VegetablesUnlockView;
}(BasePanel_1.default));
exports.default = VegetablesUnlockView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3ZlZ2V0YWJsZXMvVmVnZXRhYmxlc1VubG9ja1ZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsb0VBQStEO0FBQy9ELHdFQUFtRTtBQUNuRSxrRUFBaUU7QUFDakUsNERBQXVEO0FBQ3ZELDZEQUF3RDtBQUV4RCw4Q0FBeUM7QUFDekMsdURBQWtEO0FBQ2xELDZEQUF3RDtBQUVsRCxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1Qzs7O0dBR0c7QUFFSDtJQUFrRCx3Q0FBUztJQUEzRDtRQUFBLHFFQTJEQztRQXhERyxlQUFTLEdBQVksSUFBSSxDQUFDO1FBRTFCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFFMUIsYUFBTyxHQUFhLElBQUksQ0FBQztRQUV6QixZQUFNLEdBQWEsSUFBSSxDQUFDO1FBRXhCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsZ0JBQVUsR0FBYSxJQUFJLENBQUM7UUFFNUIsY0FBUSxHQUFjLElBQUksQ0FBQztRQUUzQixTQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7O0lBMENiLENBQUM7SUF4Q0csdUNBQVEsR0FBUjtRQUNJLEtBQUs7UUFDTCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU3RCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUNELHdDQUFTLEdBQVQ7SUFDQSxDQUFDO0lBRUQsd0NBQVMsR0FBVDtRQUNJLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsS0FBSyxHQUFHLHVCQUFhLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqRCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVELHFDQUFNLEdBQU47UUFBQSxpQkFRQztRQVBHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLHFEQUFXLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxXQUFHLENBQUM7UUFDbkQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQ2xELElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLGlCQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBTSxDQUFDO1FBQzdDLGlCQUFPLENBQUMsZUFBZSxDQUFDLG9CQUFvQixJQUFHLEtBQUcsSUFBSSxDQUFDLEdBQUssQ0FBQSxFQUFFLFVBQUMsR0FBRztZQUM5RCxLQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUM7UUFDcEMsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0Qsc0NBQU8sR0FBUDtRQUNJLHNCQUFZLENBQUMsZ0JBQWdCLENBQUMscUJBQVMsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM1RSxvQkFBVSxDQUFDLE1BQU0sQ0FBQyxnQkFBTSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBQ0QsMENBQVcsR0FBWDtRQUNJLHFCQUFXLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQyxzQkFBWSxDQUFDLGFBQWEsQ0FBQyxxQkFBUyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pFLHNCQUFZLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUMvQyxpQkFBTyxDQUFDLFNBQVMsQ0FBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksMkRBQVcsQ0FBQyxDQUFBO1FBQ2hELElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFFRCxjQUFjO0lBQ2QsK0NBQWdCLEdBQWhCO1FBQ0ksaUJBQU0sS0FBSyxXQUFFLENBQUM7SUFDbEIsQ0FBQztJQXZERDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzJEQUNRO0lBRTFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7MkRBQ1E7SUFFMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzt5REFDTTtJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3dEQUNLO0lBRXhCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7d0RBQ0s7SUFFeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs0REFDUztJQUU1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzBEQUNPO0lBZlYsb0JBQW9CO1FBRHhDLE9BQU87T0FDYSxvQkFBb0IsQ0EyRHhDO0lBQUQsMkJBQUM7Q0EzREQsQUEyREMsQ0EzRGlELG1CQUFTLEdBMkQxRDtrQkEzRG9CLG9CQUFvQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgQmFzZVBhbmVsIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdWkvQmFzZVBhbmVsXCI7XHJcbmltcG9ydCB7IGNyb3BfY29uZmlnIH0gZnJvbSBcIi4uLy4uL2NvbnN0cy9DQ29uc3RcIjtcclxuaW1wb3J0IEdsb2JhbCBmcm9tIFwiLi4vLi4vY29uc3RzL0dsb2JhbFwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCBDb25maWdNYW5hZ2VyIGZyb20gXCIuLi8uLi9tYW5hZ2VyL0NvbmZpZ01hbmFnZXJcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG4vKipcclxuICog5pi+56S66Kej6ZSB5L2c54mp55WM6Z2iXHJcbiAqIOiwg+eUqOekuuS+i++8mlVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5WZWdldGFibGVzVW5sb2NrVmlldywgVUlFZmZlY3RUeXBlLlNDQUxFLCAyKTsvLyAy5Li65L2c54mpaWRcclxuICovXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlZ2V0YWJsZXNVbmxvY2tWaWV3IGV4dGVuZHMgQmFzZVBhbmVsIHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9jbG9zZTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl92aWRlbzogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB0aXRsZUxiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBuYW1lTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGRlc2NMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgY3JvcERlc2NMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIHVJbWdDcm9wOiBjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIG1JZCA9IC0xO1xyXG4gICAgbUNyb3A6IGNyb3BfY29uZmlnO1xyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8g6YCA5Ye6XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2Nsb3NlLCB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUsIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5fdmlkZW8sIHRoaXMub25WaWRlbywgdGhpcyk7XHJcbiAgICB9XHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRTaG93KCkge1xyXG4gICAgICAgIHRoaXMubUlkID0gdGhpcy5pbkRhdGFbMF07XHJcbiAgICAgICAgdGhpcy5tQ3JvcCA9IENvbmZpZ01hbmFnZXIuZ2V0Q3JvcEJ5SWQodGhpcy5tSWQpO1xyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFVJKCkge1xyXG4gICAgICAgIHRoaXMubmFtZUxiLnN0cmluZyA9IHRoaXMubUNyb3AubmFtZTtcclxuICAgICAgICB0aGlzLmRlc2NMYi5zdHJpbmcgPSBg6Kej6ZSB5ZCO5bCx5Y+v5Lul56eN5qSNJHt0aGlzLm1Dcm9wLm5hbWV95ZWmYDtcclxuICAgICAgICB0aGlzLmNyb3BEZXNjTGIuc3RyaW5nID0gXCIgICAgXCIgKyB0aGlzLm1Dcm9wLmRlc2M7XHJcbiAgICAgICAgdGhpcy50aXRsZUxiLnN0cmluZyA9IGDop6PplIEke3RoaXMubUNyb3AubmFtZX1gO1xyXG4gICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9jcm9wL2ljb24vXCIgKyBgJHt0aGlzLm1JZH1gLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudUltZ0Nyb3Auc3ByaXRlRnJhbWUgPSByZXM7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBvblZpZGVvKCkge1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5WSURFT19CQUNLLCB0aGlzLm9uVmlkZW9CYWNrLCB0aGlzKTtcclxuICAgICAgICBTREtNYW5hZ2VyLnNob3dBZChHbG9iYWwuVklERU9fQ09ORklHLnZpZGVvMTEpO1xyXG4gICAgfVxyXG4gICAgb25WaWRlb0JhY2soKSB7XHJcbiAgICAgICAgUGxheWVyTW9kZWwuc2V0TmV3Q3JvcCh0aGlzLm1JZCk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUJ5RXZlbnQoRXZlbnRUeXBlLlZJREVPX0JBQ0ssIHRoaXMub25WaWRlb0JhY2ssIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5WRUdFVEFCTEVTX1VQREFURSk7XHJcbiAgICAgICAgTUtVdGlscy5hbGVydFRpcHMoYCR7dGhpcy5tQ3JvcC5uYW1lfeW3suino+mUge+8jOW/q+WOu+enjeakjeWQp2ApXHJcbiAgICAgICAgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOS7heeUqOS6juWFs+mXreaTjeS9nCAqL1xyXG4gICAgb25CdG5DbG9zZUhhbmRsZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/xfzs/XfzsHelpView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ba75dgIFbdHbolCQ1sxIzs0', 'XfzsHelpView');
// src/game/view/xfzs/XfzsHelpView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 提高幸福指数
 * TODO:
 */
var XfzsHelpView = /** @class */ (function (_super) {
    __extends(XfzsHelpView, _super);
    function XfzsHelpView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_help = null;
        _this.btn_close = null;
        return _this;
    }
    XfzsHelpView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_help, this.onBtnCloseHandle, this);
    };
    XfzsHelpView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], XfzsHelpView.prototype, "btn_help", void 0);
    __decorate([
        property(cc.Node)
    ], XfzsHelpView.prototype, "btn_close", void 0);
    XfzsHelpView = __decorate([
        ccclass
    ], XfzsHelpView);
    return XfzsHelpView;
}(BasePanel_1.default));
exports.default = XfzsHelpView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3hmenMvWGZ6c0hlbHBWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS2xGLHdFQUFtRTtBQUluRSw2REFBd0Q7QUFRbEQsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFFNUM7OztHQUdHO0FBRUg7SUFBMEMsZ0NBQVM7SUFBbkQ7UUFBQSxxRUFpQkM7UUFmRyxjQUFRLEdBQVksSUFBSSxDQUFDO1FBRXpCLGVBQVMsR0FBWSxJQUFJLENBQUM7O0lBYTlCLENBQUM7SUFYRywrQkFBUSxHQUFSO1FBQ0ksS0FBSztRQUNMLHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdELHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO0lBRWhFLENBQUM7SUFFRCx1Q0FBZ0IsR0FBaEI7UUFDSSxpQkFBTSxLQUFLLFdBQUUsQ0FBQztJQUNsQixDQUFDO0lBZEQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztrREFDTztJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO21EQUNRO0lBSlQsWUFBWTtRQURoQyxPQUFPO09BQ2EsWUFBWSxDQWlCaEM7SUFBRCxtQkFBQztDQWpCRCxBQWlCQyxDQWpCeUMsbUJBQVMsR0FpQmxEO2tCQWpCb0IsWUFBWSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IENvbXBvbmVudEhlbHBlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL0NvbXBvbmVudEhlbHBlclwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IEJhc2VQYW5lbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3VpL0Jhc2VQYW5lbFwiO1xyXG5pbXBvcnQgeyBsZXZlbFVwX2NvbmZpZyB9IGZyb20gXCIuLi8uLi9jb25zdHMvQ0NvbnN0XCI7XHJcbmltcG9ydCBHbG9iYWwgZnJvbSBcIi4uLy4uL2NvbnN0cy9HbG9iYWxcIjtcclxuaW1wb3J0IFVJVHlwZSBmcm9tIFwiLi4vLi4vY29uc3RzL1VJVHlwZVwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCBDb25maWdNYW5hZ2VyIGZyb20gXCIuLi8uLi9tYW5hZ2VyL0NvbmZpZ01hbmFnZXJcIjtcclxuaW1wb3J0IHsgUG9wVHlwZSB9IGZyb20gXCIuLi9wb3BWaWV3L1BvcFZpZXcxXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuLyoqXHJcbiAqIOaPkOmrmOW5uOemj+aMh+aVsFxyXG4gKiBUT0RPOlxyXG4gKi9cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWGZ6c0hlbHBWaWV3IGV4dGVuZHMgQmFzZVBhbmVsIHtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2hlbHA6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOmAgOWHulxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9jbG9zZSwgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2hlbHAsIHRoaXMub25CdG5DbG9zZUhhbmRsZSwgdGhpcyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uQnRuQ2xvc2VIYW5kbGUoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/helper/JSHelper.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3e2f1iCU59Jt72wei/BIooU', 'JSHelper');
// src/framework/helper/JSHelper.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MusicManager_1 = require("../manager/MusicManager");
var JSHelper = /** @class */ (function () {
    function JSHelper() {
    }
    JSHelper.playClickEffect = function () {
        MusicManager_1.default.playEffect("click");
    };
    JSHelper.playEffect = function (eName, loop, isSign) {
        if (loop === void 0) { loop = false; }
        if (isSign === void 0) { isSign = false; }
        MusicManager_1.default.playEffect(eName, loop, isSign);
    };
    JSHelper.stopEffect = function (eName) {
        MusicManager_1.default.stopEffect(eName);
    };
    JSHelper.playMisuc = function (mName) {
        MusicManager_1.default.playMusic(mName, true);
    };
    JSHelper.setPauseMusic = function () {
        MusicManager_1.default.setPauseMusic();
    };
    JSHelper.setResumeMusic = function () {
        MusicManager_1.default.setResumeMusic();
    };
    JSHelper.getLastMusic = function () {
        return MusicManager_1.default.getLastMusic();
    };
    return JSHelper;
}());
;
exports.default = JSHelper;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL2hlbHBlci9KU0hlbHBlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHdEQUFtRDtBQUVuRDtJQUFBO0lBc0JBLENBQUM7SUFyQlUsd0JBQWUsR0FBdEI7UUFDSSxzQkFBWSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBQ00sbUJBQVUsR0FBakIsVUFBa0IsS0FBSyxFQUFDLElBQVksRUFBQyxNQUFjO1FBQTNCLHFCQUFBLEVBQUEsWUFBWTtRQUFDLHVCQUFBLEVBQUEsY0FBYztRQUMvQyxzQkFBWSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFDTSxtQkFBVSxHQUFqQixVQUFrQixLQUFLO1FBQ25CLHNCQUFZLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFDTSxrQkFBUyxHQUFoQixVQUFpQixLQUFLO1FBQ2xCLHNCQUFZLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBQyxJQUFJLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBQ00sc0JBQWEsR0FBcEI7UUFDSSxzQkFBWSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ2pDLENBQUM7SUFDTSx1QkFBYyxHQUFyQjtRQUNJLHNCQUFZLENBQUMsY0FBYyxFQUFFLENBQUM7SUFDbEMsQ0FBQztJQUNNLHFCQUFZLEdBQW5CO1FBQ0ksT0FBTyxzQkFBWSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3ZDLENBQUM7SUFDTCxlQUFDO0FBQUQsQ0F0QkEsQUFzQkMsSUFBQTtBQUFBLENBQUM7QUFDRixrQkFBZSxRQUFRLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTXVzaWNNYW5hZ2VyIGZyb20gXCIuLi9tYW5hZ2VyL011c2ljTWFuYWdlclwiO1xyXG5cclxuY2xhc3MgSlNIZWxwZXIge1xyXG4gICAgc3RhdGljIHBsYXlDbGlja0VmZmVjdCgpe1xyXG4gICAgICAgIE11c2ljTWFuYWdlci5wbGF5RWZmZWN0KFwiY2xpY2tcIik7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgcGxheUVmZmVjdChlTmFtZSxsb29wID0gZmFsc2UsaXNTaWduID0gZmFsc2Upe1xyXG4gICAgICAgIE11c2ljTWFuYWdlci5wbGF5RWZmZWN0KGVOYW1lLGxvb3AsaXNTaWduKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBzdG9wRWZmZWN0KGVOYW1lKXtcclxuICAgICAgICBNdXNpY01hbmFnZXIuc3RvcEVmZmVjdChlTmFtZSk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgcGxheU1pc3VjKG1OYW1lKXtcclxuICAgICAgICBNdXNpY01hbmFnZXIucGxheU11c2ljKG1OYW1lLHRydWUpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIHNldFBhdXNlTXVzaWMoKXtcclxuICAgICAgICBNdXNpY01hbmFnZXIuc2V0UGF1c2VNdXNpYygpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIHNldFJlc3VtZU11c2ljKCl7XHJcbiAgICAgICAgTXVzaWNNYW5hZ2VyLnNldFJlc3VtZU11c2ljKCk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZ2V0TGFzdE11c2ljKCl7XHJcbiAgICAgICAgcmV0dXJuIE11c2ljTWFuYWdlci5nZXRMYXN0TXVzaWMoKTtcclxuICAgIH1cclxufTtcclxuZXhwb3J0IGRlZmF1bHQgSlNIZWxwZXI7Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/warehouse/WarehouseView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '36677TqL0ZNrabcLYybZywE', 'WarehouseView');
// src/game/view/warehouse/WarehouseView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var CConst_1 = require("../../consts/CConst");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var AVirtualScrollView_1 = require("../task/AVirtualScrollView");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 仓库界面
 */
var WarehouseView = /** @class */ (function (_super) {
    __extends(WarehouseView, _super);
    function WarehouseView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_close = null;
        _this.uScrollView = null;
        _this.ulabelCount = null;
        _this.ulabelMax = null;
        _this.proLb = null;
        _this.ulabelEmpty = null;
        _this.uBar = null;
        _this.wareLv = 1; // 仓库id
        _this.wareCropList = []; // 仓库中仍然还有的作物
        return _this;
    }
    WarehouseView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        this.initUI();
    };
    WarehouseView.prototype.onDisable = function () {
    };
    WarehouseView.prototype.startShow = function () {
    };
    WarehouseView.prototype.initUI = function () {
        this.wareCropList = [];
        // 拉取仓库中的作物数据（剔除掉了库存为0的作物）
        var warehouseCropInfo = PlayerModel_1.default.getWarerHouseCfg();
        this.wareCropList = warehouseCropInfo.cropList.filter(function (x) {
            return x.num > 0;
        });
        this.ulabelEmpty.active = !Boolean(this.wareCropList.length > 0);
        this.uScrollView.refreshData(this.wareCropList);
        this.uScrollView.scrollToTop();
        // 持仓
        var total = 0;
        this.wareCropList.map(function (x) {
            total += x.num;
        });
        this.ulabelCount.string = "" + total;
        // TODO:仓库上限
        var max = this.getCurWareHouseCountMax();
        this.ulabelMax.string = "/" + max;
        // TODO:进度
        this.uBar.progress = total / max;
        this.proLb.string = Math.floor(total / max * 100) + "%";
    };
    /** 获取仓库存储上限 */
    WarehouseView.prototype.getCurWareHouseCountMax = function () {
        var _this = this;
        this.wareLv = PlayerModel_1.default.getUIConfig().warehouselv;
        var arr = ConfigManager_1.default.prop.filter(function (x) {
            return x.id == Number(CConst_1.propType.warehouse + ("0" + _this.wareLv));
        });
        var cfg = arr[0];
        return cfg.add_num;
    };
    /** 仅用于关闭操作 */
    WarehouseView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], WarehouseView.prototype, "btn_close", void 0);
    __decorate([
        property(AVirtualScrollView_1.default)
    ], WarehouseView.prototype, "uScrollView", void 0);
    __decorate([
        property(cc.Label)
    ], WarehouseView.prototype, "ulabelCount", void 0);
    __decorate([
        property(cc.Label)
    ], WarehouseView.prototype, "ulabelMax", void 0);
    __decorate([
        property(cc.Label)
    ], WarehouseView.prototype, "proLb", void 0);
    __decorate([
        property(cc.Node)
    ], WarehouseView.prototype, "ulabelEmpty", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], WarehouseView.prototype, "uBar", void 0);
    WarehouseView = __decorate([
        ccclass
    ], WarehouseView);
    return WarehouseView;
}(BasePanel_1.default));
exports.default = WarehouseView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3dhcmVob3VzZS9XYXJlaG91c2VWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLHdFQUFtRTtBQUNuRSw2REFBd0Q7QUFDeEQsOENBQStDO0FBQy9DLHVEQUFrRDtBQUNsRCw2REFBd0Q7QUFDeEQsaUVBQTREO0FBRXRELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRTVDOztHQUVHO0FBRUg7SUFBMkMsaUNBQVM7SUFBcEQ7UUFBQSxxRUEyRUM7UUF4RUcsZUFBUyxHQUFZLElBQUksQ0FBQztRQUUxQixpQkFBVyxHQUF1QixJQUFJLENBQUM7UUFFdkMsaUJBQVcsR0FBYSxJQUFJLENBQUM7UUFFN0IsZUFBUyxHQUFhLElBQUksQ0FBQztRQUUzQixXQUFLLEdBQWEsSUFBSSxDQUFDO1FBRXZCLGlCQUFXLEdBQVksSUFBSSxDQUFDO1FBRTVCLFVBQUksR0FBbUIsSUFBSSxDQUFDO1FBRTVCLFlBQU0sR0FBVyxDQUFDLENBQUMsQ0FBUyxPQUFPO1FBQ25DLGtCQUFZLEdBQVUsRUFBRSxDQUFDLENBQUksYUFBYTs7SUF5RDlDLENBQUM7SUF2REcsZ0NBQVEsR0FBUjtRQUNJLEtBQUs7UUFDTCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM3RCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUNELGlDQUFTLEdBQVQ7SUFDQSxDQUFDO0lBRUQsaUNBQVMsR0FBVDtJQUNBLENBQUM7SUFFRCw4QkFBTSxHQUFOO1FB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IExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgQmFzZVBhbmVsIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdWkvQmFzZVBhbmVsXCI7XHJcbmltcG9ydCB7IHByb3BUeXBlIH0gZnJvbSBcIi4uLy4uL2NvbnN0cy9DQ29uc3RcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcbmltcG9ydCBBVmlydHVhbFNjcm9sbFZpZXcgZnJvbSBcIi4uL3Rhc2svQVZpcnR1YWxTY3JvbGxWaWV3XCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuLyoqXHJcbiAqIOS7k+W6k+eVjOmdolxyXG4gKi9cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2FyZWhvdXNlVmlldyBleHRlbmRzIEJhc2VQYW5lbCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KEFWaXJ0dWFsU2Nyb2xsVmlldylcclxuICAgIHVTY3JvbGxWaWV3OiBBVmlydHVhbFNjcm9sbFZpZXcgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgdWxhYmVsQ291bnQ6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHVsYWJlbE1heDogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcHJvTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdWxhYmVsRW1wdHk6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByb2dyZXNzQmFyKVxyXG4gICAgdUJhcjogY2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xyXG5cclxuICAgIHdhcmVMdjogbnVtYmVyID0gMTsgICAgICAgICAvLyDku5PlupNpZFxyXG4gICAgd2FyZUNyb3BMaXN0OiBhbnlbXSA9IFtdOyAgICAvLyDku5PlupPkuK3ku43nhLbov5jmnInnmoTkvZznialcclxuXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyDpgIDlh7pcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5fY2xvc2UsIHRoaXMub25CdG5DbG9zZUhhbmRsZSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH1cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydFNob3coKSB7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFVJKCkge1xyXG4gICAgICAgIHRoaXMud2FyZUNyb3BMaXN0ID0gW107XHJcbiAgICAgICAgLy8g5ouJ5Y+W5LuT5bqT5Lit55qE5L2c54mp5pWw5o2u77yI5YmU6Zmk5o6J5LqG5bqT5a2Y5Li6MOeahOS9nOeJqe+8iVxyXG4gICAgICAgIGxldCB3YXJlaG91c2VDcm9wSW5mbyA9IFBsYXllck1vZGVsLmdldFdhcmVySG91c2VDZmcoKTtcclxuICAgICAgICB0aGlzLndhcmVDcm9wTGlzdCA9IHdhcmVob3VzZUNyb3BJbmZvLmNyb3BMaXN0LmZpbHRlcih4ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHgubnVtID4gMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMudWxhYmVsRW1wdHkuYWN0aXZlID0gIUJvb2xlYW4odGhpcy53YXJlQ3JvcExpc3QubGVuZ3RoID4gMCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnVTY3JvbGxWaWV3LnJlZnJlc2hEYXRhKHRoaXMud2FyZUNyb3BMaXN0KTtcclxuXHJcbiAgICAgICAgdGhpcy51U2Nyb2xsVmlldy5zY3JvbGxUb1RvcCgpO1xyXG4gICAgICAgIC8vIOaMgeS7k1xyXG4gICAgICAgIGxldCB0b3RhbCA9IDA7XHJcbiAgICAgICAgdGhpcy53YXJlQ3JvcExpc3QubWFwKHggPT4ge1xyXG4gICAgICAgICAgICB0b3RhbCArPSB4Lm51bTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMudWxhYmVsQ291bnQuc3RyaW5nID0gYCR7dG90YWx9YDtcclxuXHJcbiAgICAgICAgLy8gVE9ETzrku5PlupPkuIrpmZBcclxuICAgICAgICBsZXQgbWF4ID0gdGhpcy5nZXRDdXJXYXJlSG91c2VDb3VudE1heCgpO1xyXG4gICAgICAgIHRoaXMudWxhYmVsTWF4LnN0cmluZyA9IGAvJHttYXh9YDtcclxuXHJcbiAgICAgICAgLy8gVE9ETzrov5vluqZcclxuICAgICAgICB0aGlzLnVCYXIucHJvZ3Jlc3MgPSB0b3RhbCAvIG1heDtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9MYi5zdHJpbmcgPSBNYXRoLmZsb29yKHRvdGFsIC8gbWF4KjEwMCkgKyBcIiVcIjtcclxuICAgIH1cclxuXHJcbiAgICAvKiog6I635Y+W5LuT5bqT5a2Y5YKo5LiK6ZmQICovXHJcbiAgICBwcml2YXRlIGdldEN1cldhcmVIb3VzZUNvdW50TWF4KCk6IG51bWJlciB7XHJcbiAgICAgICAgdGhpcy53YXJlTHYgPSBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLndhcmVob3VzZWx2O1xyXG4gICAgICAgIGxldCBhcnIgPSBDb25maWdNYW5hZ2VyLnByb3AuZmlsdGVyKCh4KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB4LmlkID09IE51bWJlcihwcm9wVHlwZS53YXJlaG91c2UgKyBgMCR7dGhpcy53YXJlTHZ9YCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBsZXQgY2ZnID0gYXJyWzBdO1xyXG4gICAgICAgIHJldHVybiBjZmcuYWRkX251bTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5LuF55So5LqO5YWz6Zet5pON5L2cICovXHJcbiAgICBvbkJ0bkNsb3NlSGFuZGxlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/loader/GroupData.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4c120kUIcBP8pWJONbvPDs2', 'GroupData');
// src/framework/loader/GroupData.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Handler_1 = require("../base/Handler");
var GroupData = /** @class */ (function () {
    function GroupData() {
        this.resources = null;
        this.isActive = true; //默认可以使用
        this.handler = null; //回调函数
        this.loaderHandler = null; //单个资源加载完成的回调函数
        this.resultArr = []; //返回结果
        this.loaderCount = 0; //加载完成的数量
    }
    GroupData.prototype.getCompletetHandler = function () {
        this.resultArr.length = 0;
        this.loaderCount = 0;
        this.loaderHandler = Handler_1.default.create(this._signLoaderComplete, this, false);
        return this.loaderHandler;
    };
    GroupData.prototype._signLoaderComplete = function (res, url) {
        // cc.log(res,url);
        this._putToResultByName(res, url);
        if (this.loaderCount >= this.resources.length) {
            this.handler.call(this.resultArr);
            this.reset();
        }
        //比对是否全部加载完成 如果全部完成回调 同时重置data
    };
    GroupData.prototype._putToResultByName = function (res, url) {
        for (var index = 0; index < this.resources.length; index++) {
            var element = this.resources[index];
            if (!!url && url.indexOf(element.fileName) != -1) {
                this.resultArr[index] = res;
                this.loaderCount++;
                break;
            }
        }
    };
    GroupData.prototype.reset = function () {
        this.isActive = false;
        this.resources = null;
        if (!!this.handler) {
            this.handler.release();
        }
        if (!!this.loaderHandler) {
            this.loaderHandler.release();
        }
        this.resultArr.length = 0;
        this.loaderCount = 0;
        this.loaderHandler = null;
    };
    return GroupData;
}());
exports.default = GroupData;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL2xvYWRlci9Hcm91cERhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBc0M7QUFPdEM7SUFBQTtRQUNXLGNBQVMsR0FBd0IsSUFBSSxDQUFDO1FBQ3RDLGFBQVEsR0FBRyxJQUFJLENBQUMsQ0FBTSxRQUFRO1FBQzlCLFlBQU8sR0FBRyxJQUFJLENBQUMsQ0FBTyxNQUFNO1FBQzNCLGtCQUFhLEdBQUcsSUFBSSxDQUFDLENBQUMsZUFBZTtRQUNyQyxjQUFTLEdBQWMsRUFBRSxDQUFDLENBQU8sTUFBTTtRQUN2QyxnQkFBVyxHQUFVLENBQUMsQ0FBQyxDQUFNLFNBQVM7SUEyQ2xELENBQUM7SUF6Q0csdUNBQW1CLEdBQW5CO1FBQ0ksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQ3JCLElBQUksQ0FBQyxhQUFhLEdBQUcsaUJBQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFDLElBQUksRUFBQyxLQUFLLENBQUMsQ0FBQztRQUN6RSxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDOUIsQ0FBQztJQUVELHVDQUFtQixHQUFuQixVQUFvQixHQUFHLEVBQUMsR0FBRztRQUN2QixtQkFBbUI7UUFDbkIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBQyxHQUFHLENBQUMsQ0FBQztRQUNqQyxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUU7WUFDM0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ2xDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUNoQjtRQUNELDhCQUE4QjtJQUNsQyxDQUFDO0lBRUQsc0NBQWtCLEdBQWxCLFVBQW1CLEdBQUcsRUFBQyxHQUFHO1FBQ3RCLEtBQUssSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsRUFBRTtZQUN4RCxJQUFNLE9BQU8sR0FBaUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNwRCxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUU7Z0JBQzlDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDO2dCQUM1QixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBQ25CLE1BQU07YUFDVDtTQUNKO0lBQ0wsQ0FBQztJQUVELHlCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUN0QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUN0QixJQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUMxQjtRQUNELElBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDckIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUNoQztRQUNELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQztRQUNyQixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztJQUM5QixDQUFDO0lBQ0wsZ0JBQUM7QUFBRCxDQWpEQSxBQWlEQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEhhbmRsZXIgZnJvbSBcIi4uL2Jhc2UvSGFuZGxlclwiO1xyXG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwRmlsZURhdGEge1xyXG4gICAgZmlsZU5hbWU6c3RyaW5nLFxyXG4gICAgdHlwZTpzdHJpbmcsXHJcbiAgICBtb2R1bGVOYW1lOnN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcm91cERhdGEge1xyXG4gICAgcHVibGljIHJlc291cmNlczpBcnJheTxHcm91cEZpbGVEYXRhPiA9IG51bGw7XHJcbiAgICBwdWJsaWMgaXNBY3RpdmUgPSB0cnVlOyAgICAgIC8v6buY6K6k5Y+v5Lul5L2/55SoXHJcbiAgICBwdWJsaWMgaGFuZGxlciA9IG51bGw7ICAgICAgIC8v5Zue6LCD5Ye95pWwXHJcbiAgICBwcml2YXRlIGxvYWRlckhhbmRsZXIgPSBudWxsOyAvL+WNleS4qui1hOa6kOWKoOi9veWujOaIkOeahOWbnuiwg+WHveaVsFxyXG4gICAgcHJpdmF0ZSByZXN1bHRBcnI6QXJyYXk8YW55PiA9IFtdOyAgICAgICAvL+i/lOWbnue7k+aenFxyXG4gICAgcHJpdmF0ZSBsb2FkZXJDb3VudDpudW1iZXIgPSAwOyAgICAgIC8v5Yqg6L295a6M5oiQ55qE5pWw6YePXHJcblxyXG4gICAgZ2V0Q29tcGxldGV0SGFuZGxlcigpe1xyXG4gICAgICAgIHRoaXMucmVzdWx0QXJyLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgdGhpcy5sb2FkZXJDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5sb2FkZXJIYW5kbGVyID0gSGFuZGxlci5jcmVhdGUodGhpcy5fc2lnbkxvYWRlckNvbXBsZXRlLHRoaXMsZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRlckhhbmRsZXI7XHJcbiAgICB9XHJcblxyXG4gICAgX3NpZ25Mb2FkZXJDb21wbGV0ZShyZXMsdXJsKXtcclxuICAgICAgICAvLyBjYy5sb2cocmVzLHVybCk7XHJcbiAgICAgICAgdGhpcy5fcHV0VG9SZXN1bHRCeU5hbWUocmVzLHVybCk7XHJcbiAgICAgICAgaWYgKHRoaXMubG9hZGVyQ291bnQgPj0gdGhpcy5yZXNvdXJjZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlci5jYWxsKHRoaXMucmVzdWx0QXJyKTtcclxuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+avlOWvueaYr+WQpuWFqOmDqOWKoOi9veWujOaIkCDlpoLmnpzlhajpg6jlrozmiJDlm57osIMg5ZCM5pe26YeN572uZGF0YVxyXG4gICAgfVxyXG5cclxuICAgIF9wdXRUb1Jlc3VsdEJ5TmFtZShyZXMsdXJsKXtcclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5yZXNvdXJjZXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQ6R3JvdXBGaWxlRGF0YSA9IHRoaXMucmVzb3VyY2VzW2luZGV4XTtcclxuICAgICAgICAgICAgaWYgKCEhdXJsICYmIHVybC5pbmRleE9mKGVsZW1lbnQuZmlsZU5hbWUpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdEFycltpbmRleF0gPSByZXM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlckNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpe1xyXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlc291cmNlcyA9IG51bGw7XHJcbiAgICAgICAgaWYoISF0aGlzLmhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVyLnJlbGVhc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoISF0aGlzLmxvYWRlckhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZXJIYW5kbGVyLnJlbGVhc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZXN1bHRBcnIubGVuZ3RoID0gMDtcclxuICAgICAgICB0aGlzLmxvYWRlckNvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmxvYWRlckhhbmRsZXIgPSBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/manager/DragManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f73242JYXdC/LQGTZZQMl2I', 'DragManager');
// src/framework/manager/DragManager.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var NResponer_1 = require("../message/NResponer");
var MkUtils_1 = require("../tools/MkUtils");
var Utils_1 = require("../tools/Utils");
//拖拽管理类
var DragManager = /** @class */ (function () {
    function DragManager() {
        this.BaseDropName = 'BaseDropItem';
        this.tempItem = null;
        this.stage = null;
        this.isInitEvent = false;
        this.dragData = null;
        this.updateHandler = null;
        this.endHandler = null;
        this.startHandler = null;
        this.canDrag = true;
        this.isInit = false;
        this._inMerge = false;
        this.tempItemList = {};
    }
    DragManager.instance = function () {
        if (!this._instance) {
            this._instance = new DragManager();
        }
        return this._instance;
    };
    /**
     * 初始化顶级
     * @param screen
     */
    DragManager.prototype.initStage = function (screen, thisObj) {
        if (!this.isInit && !cc.isValid(this.stage)) {
            this.stage = screen;
            this.isInit = true;
            this.thisObj = thisObj;
        }
    };
    //开始拖动动画
    DragManager.prototype.startDragHandler = function (spriteFrame, pos, dragData) {
        this.initPos = pos;
        this.dragData = dragData;
        this.initStageEvent();
        if (cc.isValid(spriteFrame)) {
            this.setDragSkin(spriteFrame, pos);
            this.tempItem.opacity = 255;
            this.tempItem.setScale(dragData.moveTarget.scale);
            this.tempItem.stopAllActions();
            var sc = dragData.moveTarget.scale;
            this.tempItem.runAction(cc.sequence(cc.scaleTo(0.2, sc + 0.2), cc.scaleTo(0.2, sc)));
            this.canDrag = true;
        }
        else {
            this.canDrag = false;
        }
        this.startHandler && this.startHandler.call(this.thisObj, this.dragData);
    };
    //设置回调函数
    //updateHandler 更新函数
    //返回时回调
    DragManager.prototype.setCallBackHandler = function (updateHandler, endHandler, startHandler) {
        this.updateHandler = updateHandler;
        this.endHandler = endHandler;
        this.startHandler = startHandler;
    };
    //拖放是否成功的回调
    DragManager.prototype.dragSuccess = function (state) {
        NResponer_1.default.dispatch('dragStatus', state, this.dragData);
    };
    DragManager.prototype.initStageEvent = function () {
        if (!this.isInitEvent && cc.isValid(this.stage)) {
            this.createTempItem();
            this.isInitEvent = true;
            this.stage.on(cc.Node.EventType.TOUCH_MOVE, this.moveTouchHandler, this, false);
            //取消
            this.stage.on(cc.Node.EventType.TOUCH_CANCEL, this.cancelTouchHandler, this, false);
            //鼠标弹起
            this.stage.on(cc.Node.EventType.TOUCH_END, this.endTouchHandler, this, false);
        }
    };
    DragManager.prototype.moveTouchHandler = function (event) {
        if (this.canDrag) {
            // this.tempItem.x = event.getLocationX() - 640;
            // this.tempItem.y = event.getLocationY() - 360;
            this.tempItem.setPosition(this.stage.convertToNodeSpaceAR(event.getLocation()));
            if (!!this.updateHandler) {
                this.updateHandler.call(this.thisObj, this.tempItem, this.dragData);
            }
        }
    };
    DragManager.prototype.cancelTouchHandler = function (event) {
        if (this.canDrag) {
            // this.removeStageEvent(event.getLocation());
            if (this.endHandler) {
                this.endHandler.call(this.thisObj, this.tempItem, this.dragData, event.getLocation());
            }
        }
    };
    DragManager.prototype.endTouchHandler = function (event) {
        if (this.canDrag) {
            // this.removeStageEvent(event.getLocation());
            if (this.endHandler) {
                this.endHandler.call(this.thisObj, this.tempItem, this.dragData, event.getLocation());
            }
        }
    };
    DragManager.prototype.removeStageEvent = function (pos, callBack, targetPos, targetCb, mScale) {
        var _this = this;
        this.isInitEvent = false;
        this.stage.off(cc.Node.EventType.TOUCH_MOVE, this.moveTouchHandler, this);
        this.stage.off(cc.Node.EventType.TOUCH_END, this.endTouchHandler, this);
        this.stage.off(cc.Node.EventType.TOUCH_CANCEL, this.cancelTouchHandler, this);
        if (cc.isValid(this.tempItem)) {
            var dis = 0;
            // let dis = Global.HANDLE_FEEL_ANIMAL_COLLISION_DIS;
            if (mScale) {
                this.tempItem.scale = mScale;
                dis *= mScale;
            }
            if (pos) {
                var dis_1 = MkUtils_1.default.twoPointDistance(this.initPos, this.stage.convertToNodeSpaceAR(pos));
                // cc.log("distance",dis)
                var delayTime = dis_1 / 2000;
                this.tempItem.runAction(cc.sequence(cc.moveTo(delayTime, this.initPos).easing(cc.easeSineIn()), cc.callFunc(function () {
                    if (callBack) {
                        callBack.call(_this.thisObj);
                    }
                    _this.tempItem.opacity = 0;
                })));
            }
            else {
                // this._inMerge = true;
                var mScale_1 = this.tempItem.scale;
                var nodePos = this.tempItem.getParent().convertToNodeSpaceAR(targetPos);
                this.tempItem.setPosition(nodePos);
                this.tempItem.runAction(cc.sequence(cc.scaleTo(Utils_1.default._FT(3), 0.3), cc.spawn(cc.moveTo(Utils_1.default._FT(5), cc.v2(nodePos.x + dis, nodePos.y)).easing(cc.easeSineInOut()), cc.scaleTo(Utils_1.default._FT(5), mScale_1, mScale_1).easing(cc.easeSineInOut())), cc.delayTime(Utils_1.default._FT(3)), cc.spawn(cc.moveTo(Utils_1.default._FT(3), cc.v2(nodePos.x, nodePos.y)).easing(cc.easeSineInOut()), 
                // cc.scaleTo(Utils._FT(10),0.3).easing(cc.easeSineInOut())
                // cc.fadeOut(Utils._FT(5))
                cc.fadeTo(Utils_1.default._FT(3), 85)), cc.callFunc(function () {
                    _this.tempItem.opacity = 0;
                    _this.tempItem.zIndex = 999;
                    // this._inMerge = false;
                    targetCb && targetCb();
                })));
                // this.tempItem.runAction(cc.sequence(
                //     cc.spawn(cc.scaleTo(Utils._FT(3),mScale * 1.8),cc.fadeTo(Utils._FT(3),200),cc.moveTo(Utils._FT(3),nodePos)),
                //     cc.scaleTo(Utils._FT(3),mScale * 0.90),
                //     cc.callFunc(()=>{
                //         this.tempItem.zIndex = -10;
                //     }),
                //     cc.scaleTo(Utils._FT(2),mScale * 1.35),
                //     cc.scaleTo(Utils._FT(2),mScale * 0.9),
                //     cc.scaleTo(Utils._FT(3),mScale),
                //     cc.scaleTo(Utils._FT(3),0).easing(cc.easeSineIn()), cc.callFunc(() => {
                //         this.tempItem.opacity = 0;
                //         this.tempItem.zIndex = 999;
                //         targetCb && targetCb();
                //     })
                // ));
                // this.tempItem.runAction(cc.sequence(cc.scaleTo(0.2, 0).easing(cc.easeSineIn()), cc.callFunc(() => {
                //     this.tempItem.opacity = 0;
                // })))
            }
        }
        this.canDrag = false;
    };
    DragManager.prototype.setDragSkin = function (skin, pos) {
        if (cc.isValid(this.tempItem)) {
            this.tempItem.getComponent(cc.Sprite).spriteFrame = skin;
            this.tempItem.x = pos.x;
            this.tempItem.y = pos.y;
        }
    };
    DragManager.prototype.createTempItem = function () {
        var mIndex = this.dragData["index"];
        if (this.tempItemList[mIndex]) {
            this.tempItem = this.tempItemList[mIndex];
            return;
        }
        if (cc.isValid(this.tempItem)) {
            return this.tempItem;
        }
        this.tempItem = new cc.Node();
        this.tempItem.addComponent(cc.Sprite);
        this.tempItem.parent = this.stage;
        this.tempItemList[mIndex] = this.tempItem;
    };
    DragManager.prototype.getTempItemWorldPos = function () {
        if (!this.tempItem) {
            return cc.v2();
        }
        return this.tempItem.getParent().convertToWorldSpaceAR(this.tempItem.getPosition());
    };
    //获得拖拽对象的数据
    DragManager.prototype.getDragData = function () {
        return this.dragData;
    };
    return DragManager;
}());
exports.default = DragManager.instance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL21hbmFnZXIvRHJhZ01hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxrREFBNkM7QUFDN0MsNENBQXVDO0FBQ3ZDLHdDQUFtQztBQUVuQyxPQUFPO0FBQ1A7SUFBQTtRQUNZLGlCQUFZLEdBQVcsY0FBYyxDQUFDO1FBQ3RDLGFBQVEsR0FBWSxJQUFJLENBQUM7UUFDekIsVUFBSyxHQUFZLElBQUksQ0FBQztRQUN0QixnQkFBVyxHQUFZLEtBQUssQ0FBQztRQUM3QixhQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ2hCLGtCQUFhLEdBQVksSUFBSSxDQUFDO1FBQzlCLGVBQVUsR0FBWSxJQUFJLENBQUM7UUFDM0IsaUJBQVksR0FBWSxJQUFJLENBQUM7UUFDN0IsWUFBTyxHQUFZLElBQUksQ0FBQztRQUN4QixXQUFNLEdBQVksS0FBSyxDQUFDO1FBR3pCLGFBQVEsR0FBYSxLQUFLLENBQUM7UUFDMUIsaUJBQVksR0FBUyxFQUFFLENBQUM7SUF5TXBDLENBQUM7SUFyTVUsb0JBQVEsR0FBZjtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxXQUFXLEVBQUUsQ0FBQztTQUN0QztRQUNELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsK0JBQVMsR0FBVCxVQUFVLE1BQWUsRUFBRSxPQUFPO1FBQzlCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDekMsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUM7WUFDcEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDbkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7U0FDMUI7SUFDTCxDQUFD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Q1gsaUNBQVcsR0FBWDtRQUNJLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN6QixDQUFDO0lBQ0wsa0JBQUM7QUFBRCxDQXZOQSxBQXVOQyxJQUFBO0FBRUQsa0JBQWUsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdsb2JhbCBmcm9tIFwiLi4vLi4vZ2FtZS9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCBIYW5kbGVyIGZyb20gXCIuLi9iYXNlL0hhbmRsZXJcIjtcclxuaW1wb3J0IE5SZXNwb25lciBmcm9tIFwiLi4vbWVzc2FnZS9OUmVzcG9uZXJcIjtcclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IFV0aWxzIGZyb20gXCIuLi90b29scy9VdGlsc1wiO1xyXG5cclxuLy/mi5bmi73nrqHnkIbnsbtcclxuY2xhc3MgRHJhZ01hbmFnZXIge1xyXG4gICAgcHJpdmF0ZSBCYXNlRHJvcE5hbWU6IHN0cmluZyA9ICdCYXNlRHJvcEl0ZW0nO1xyXG4gICAgcHJpdmF0ZSB0ZW1wSXRlbTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBwcml2YXRlIHN0YWdlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIHByaXZhdGUgaXNJbml0RXZlbnQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgZHJhZ0RhdGEgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVIYW5kbGVyOiBIYW5kbGVyID0gbnVsbDtcclxuICAgIHByaXZhdGUgZW5kSGFuZGxlcjogSGFuZGxlciA9IG51bGw7XHJcbiAgICBwcml2YXRlIHN0YXJ0SGFuZGxlcjogSGFuZGxlciA9IG51bGw7XHJcbiAgICBwcml2YXRlIGNhbkRyYWc6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgcHJpdmF0ZSBpc0luaXQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgdGhpc09iajogYW55O1xyXG4gICAgcHJpdmF0ZSBpbml0UG9zOiBhbnk7Ly/liJ3lp4vkvY3nva5cclxuICAgIHB1YmxpYyBfaW5NZXJnZSA6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgdGVtcEl0ZW1MaXN0IDogYW55ID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBEcmFnTWFuYWdlcjtcclxuXHJcbiAgICBzdGF0aWMgaW5zdGFuY2UoKTogRHJhZ01hbmFnZXIge1xyXG4gICAgICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgRHJhZ01hbmFnZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yid5aeL5YyW6aG257qnXHJcbiAgICAgKiBAcGFyYW0gc2NyZWVuIFxyXG4gICAgICovXHJcbiAgICBpbml0U3RhZ2Uoc2NyZWVuOiBjYy5Ob2RlLCB0aGlzT2JqKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzSW5pdCAmJiAhY2MuaXNWYWxpZCh0aGlzLnN0YWdlKSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0YWdlID0gc2NyZWVuO1xyXG4gICAgICAgICAgICB0aGlzLmlzSW5pdCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMudGhpc09iaiA9IHRoaXNPYmo7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5byA5aeL5ouW5Yqo5Yqo55S7XHJcbiAgICBzdGFydERyYWdIYW5kbGVyKHNwcml0ZUZyYW1lLCBwb3MsIGRyYWdEYXRhKSB7XHJcbiAgICAgICAgdGhpcy5pbml0UG9zID0gcG9zO1xyXG4gICAgICAgIHRoaXMuZHJhZ0RhdGEgPSBkcmFnRGF0YTtcclxuICAgICAgICB0aGlzLmluaXRTdGFnZUV2ZW50KCk7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQoc3ByaXRlRnJhbWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RHJhZ1NraW4oc3ByaXRlRnJhbWUsIHBvcyk7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcEl0ZW0ub3BhY2l0eSA9IDI1NTtcclxuICAgICAgICAgICAgdGhpcy50ZW1wSXRlbS5zZXRTY2FsZShkcmFnRGF0YS5tb3ZlVGFyZ2V0LnNjYWxlKVxyXG4gICAgICAgICAgICB0aGlzLnRlbXBJdGVtLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgICAgIGxldCBzYyA9IGRyYWdEYXRhLm1vdmVUYXJnZXQuc2NhbGU7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcEl0ZW0ucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLnNjYWxlVG8oMC4yLCBzYyArIDAuMiksXHJcbiAgICAgICAgICAgICAgICBjYy5zY2FsZVRvKDAuMiwgc2MpKSlcclxuICAgICAgICAgICAgdGhpcy5jYW5EcmFnID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNhbkRyYWcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGFydEhhbmRsZXIgJiYgdGhpcy5zdGFydEhhbmRsZXIuY2FsbCh0aGlzLnRoaXNPYmosIHRoaXMuZHJhZ0RhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v6K6+572u5Zue6LCD5Ye95pWwXHJcbiAgICAvL3VwZGF0ZUhhbmRsZXIg5pu05paw5Ye95pWwXHJcbiAgICAvL+i/lOWbnuaXtuWbnuiwg1xyXG4gICAgc2V0Q2FsbEJhY2tIYW5kbGVyKHVwZGF0ZUhhbmRsZXIsIGVuZEhhbmRsZXIsIHN0YXJ0SGFuZGxlcikge1xyXG4gICAgICAgIHRoaXMudXBkYXRlSGFuZGxlciA9IHVwZGF0ZUhhbmRsZXI7XHJcbiAgICAgICAgdGhpcy5lbmRIYW5kbGVyID0gZW5kSGFuZGxlcjtcclxuICAgICAgICB0aGlzLnN0YXJ0SGFuZGxlciA9IHN0YXJ0SGFuZGxlcjtcclxuICAgIH1cclxuXHJcbiAgICAvL+aLluaUvuaYr+WQpuaIkOWKn+eahOWbnuiwg1xyXG4gICAgZHJhZ1N1Y2Nlc3Moc3RhdGUpIHtcclxuICAgICAgICBOUmVzcG9uZXIuZGlzcGF0Y2goJ2RyYWdTdGF0dXMnLCBzdGF0ZSwgdGhpcy5kcmFnRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0U3RhZ2VFdmVudCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNJbml0RXZlbnQgJiYgY2MuaXNWYWxpZCh0aGlzLnN0YWdlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRlbXBJdGVtKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaXNJbml0RXZlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnN0YWdlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsIHRoaXMubW92ZVRvdWNoSGFuZGxlciwgdGhpcywgZmFsc2UpO1xyXG4gICAgICAgICAgICAvL+WPlua2iFxyXG4gICAgICAgICAgICB0aGlzLnN0YWdlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCwgdGhpcy5jYW5jZWxUb3VjaEhhbmRsZXIsIHRoaXMsIGZhbHNlKTtcclxuICAgICAgICAgICAgLy/pvKDmoIflvLnotbdcclxuICAgICAgICAgICAgdGhpcy5zdGFnZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMuZW5kVG91Y2hIYW5kbGVyLCB0aGlzLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW92ZVRvdWNoSGFuZGxlcihldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbkRyYWcpIHtcclxuICAgICAgICAgICAgLy8gdGhpcy50ZW1wSXRlbS54ID0gZXZlbnQuZ2V0TG9jYXRpb25YKCkgLSA2NDA7XHJcbiAgICAgICAgICAgIC8vIHRoaXMudGVtcEl0ZW0ueSA9IGV2ZW50LmdldExvY2F0aW9uWSgpIC0gMzYwO1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBJdGVtLnNldFBvc2l0aW9uKHRoaXMuc3RhZ2UuY29udmVydFRvTm9kZVNwYWNlQVIoZXZlbnQuZ2V0TG9jYXRpb24oKSkpO1xyXG4gICAgICAgICAgICBpZiAoISF0aGlzLnVwZGF0ZUhhbmRsZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSGFuZGxlci5jYWxsKHRoaXMudGhpc09iaiwgdGhpcy50ZW1wSXRlbSwgdGhpcy5kcmFnRGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYW5jZWxUb3VjaEhhbmRsZXIoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5jYW5EcmFnKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMucmVtb3ZlU3RhZ2VFdmVudChldmVudC5nZXRMb2NhdGlvbigpKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZW5kSGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmRIYW5kbGVyLmNhbGwodGhpcy50aGlzT2JqLCB0aGlzLnRlbXBJdGVtLCB0aGlzLmRyYWdEYXRhLCBldmVudC5nZXRMb2NhdGlvbigpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGVuZFRvdWNoSGFuZGxlcihldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbkRyYWcpIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5yZW1vdmVTdGFnZUV2ZW50KGV2ZW50LmdldExvY2F0aW9uKCkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lbmRIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEhhbmRsZXIuY2FsbCh0aGlzLnRoaXNPYmosIHRoaXMudGVtcEl0ZW0sIHRoaXMuZHJhZ0RhdGEsIGV2ZW50LmdldExvY2F0aW9uKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlU3RhZ2VFdmVudChwb3M/LGNhbGxCYWNrPyx0YXJnZXRQb3M/LHRhcmdldENiPyxtU2NhbGU/KSB7XHJcbiAgICAgICAgdGhpcy5pc0luaXRFdmVudCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3RhZ2Uub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsIHRoaXMubW92ZVRvdWNoSGFuZGxlciwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5zdGFnZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLmVuZFRvdWNoSGFuZGxlciwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5zdGFnZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfQ0FOQ0VMLCB0aGlzLmNhbmNlbFRvdWNoSGFuZGxlciwgdGhpcyk7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQodGhpcy50ZW1wSXRlbSkpIHtcclxuICAgICAgICAgICAgbGV0IGRpcyA9IDA7XHJcbiAgICAgICAgICAgIC8vIGxldCBkaXMgPSBHbG9iYWwuSEFORExFX0ZFRUxfQU5JTUFMX0NPTExJU0lPTl9ESVM7XHJcbiAgICAgICAgICAgIGlmKG1TY2FsZSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBJdGVtLnNjYWxlID0gbVNjYWxlO1xyXG4gICAgICAgICAgICAgICAgZGlzICo9IG1TY2FsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihwb3Mpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGRpcyA9IE1LVXRpbHMudHdvUG9pbnREaXN0YW5jZSh0aGlzLmluaXRQb3MsIHRoaXMuc3RhZ2UuY29udmVydFRvTm9kZVNwYWNlQVIocG9zKSk7XHJcbiAgICAgICAgICAgICAgICAvLyBjYy5sb2coXCJkaXN0YW5jZVwiLGRpcylcclxuICAgICAgICAgICAgICAgIGxldCBkZWxheVRpbWUgPSBkaXMvMjAwMDtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVtcEl0ZW0ucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLm1vdmVUbyhkZWxheVRpbWUsIHRoaXMuaW5pdFBvcykuZWFzaW5nKGNjLmVhc2VTaW5lSW4oKSksIGNjLmNhbGxGdW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbEJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2suY2FsbCh0aGlzLnRoaXNPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbXBJdGVtLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICAgICAgfSkpKVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuX2luTWVyZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1TY2FsZSA9IHRoaXMudGVtcEl0ZW0uc2NhbGU7XHJcbiAgICAgICAgICAgICAgICBsZXQgbm9kZVBvcyA9IHRoaXMudGVtcEl0ZW0uZ2V0UGFyZW50KCkuY29udmVydFRvTm9kZVNwYWNlQVIodGFyZ2V0UG9zKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVtcEl0ZW0uc2V0UG9zaXRpb24obm9kZVBvcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBJdGVtLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgICAgICAgICBjYy5zY2FsZVRvKFV0aWxzLl9GVCgzKSwwLjMpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNjLnNwYXduKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5tb3ZlVG8oVXRpbHMuX0ZUKDUpLGNjLnYyKG5vZGVQb3MueCArIGRpcyxub2RlUG9zLnkpKS5lYXNpbmcoY2MuZWFzZVNpbmVJbk91dCgpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2Muc2NhbGVUbyhVdGlscy5fRlQoNSksbVNjYWxlICxtU2NhbGUpLmVhc2luZyhjYy5lYXNlU2luZUluT3V0KCkpKSxcclxuICAgICAgICAgICAgICAgICAgICBjYy5kZWxheVRpbWUoVXRpbHMuX0ZUKDMpKSxcclxuICAgICAgICAgICAgICAgICAgICBjYy5zcGF3bihcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2MubW92ZVRvKFV0aWxzLl9GVCgzKSxjYy52Mihub2RlUG9zLngsbm9kZVBvcy55KSkuZWFzaW5nKGNjLmVhc2VTaW5lSW5PdXQoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNjLnNjYWxlVG8oVXRpbHMuX0ZUKDEwKSwwLjMpLmVhc2luZyhjYy5lYXNlU2luZUluT3V0KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNjLmZhZGVPdXQoVXRpbHMuX0ZUKDUpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5mYWRlVG8oVXRpbHMuX0ZUKDMpLDg1KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgICAgIGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVtcEl0ZW0ub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVtcEl0ZW0uekluZGV4ID0gOTk5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLl9pbk1lcmdlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldENiICYmIHRhcmdldENiKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICkpO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy50ZW1wSXRlbS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY2Muc3Bhd24oY2Muc2NhbGVUbyhVdGlscy5fRlQoMyksbVNjYWxlICogMS44KSxjYy5mYWRlVG8oVXRpbHMuX0ZUKDMpLDIwMCksY2MubW92ZVRvKFV0aWxzLl9GVCgzKSxub2RlUG9zKSksXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY2Muc2NhbGVUbyhVdGlscy5fRlQoMyksbVNjYWxlICogMC45MCksXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy50ZW1wSXRlbS56SW5kZXggPSAtMTA7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY2Muc2NhbGVUbyhVdGlscy5fRlQoMiksbVNjYWxlICogMS4zNSksXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY2Muc2NhbGVUbyhVdGlscy5fRlQoMiksbVNjYWxlICogMC45KSxcclxuICAgICAgICAgICAgICAgIC8vICAgICBjYy5zY2FsZVRvKFV0aWxzLl9GVCgzKSxtU2NhbGUpLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNjLnNjYWxlVG8oVXRpbHMuX0ZUKDMpLDApLmVhc2luZyhjYy5lYXNlU2luZUluKCkpLCBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoaXMudGVtcEl0ZW0ub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoaXMudGVtcEl0ZW0uekluZGV4ID0gOTk5O1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB0YXJnZXRDYiAmJiB0YXJnZXRDYigpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvLyApKTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMudGVtcEl0ZW0ucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLnNjYWxlVG8oMC4yLCAwKS5lYXNpbmcoY2MuZWFzZVNpbmVJbigpKSwgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMudGVtcEl0ZW0ub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgICAgICAvLyB9KSkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYW5EcmFnID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXREcmFnU2tpbihza2luLCBwb3MpIHtcclxuICAgICAgICBpZiAoY2MuaXNWYWxpZCh0aGlzLnRlbXBJdGVtKSkge1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBJdGVtLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gc2tpbjtcclxuICAgICAgICAgICAgdGhpcy50ZW1wSXRlbS54ID0gcG9zLng7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcEl0ZW0ueSA9IHBvcy55O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZVRlbXBJdGVtKCkge1xyXG4gICAgICAgIGxldCBtSW5kZXggPSB0aGlzLmRyYWdEYXRhW1wiaW5kZXhcIl07XHJcbiAgICAgICAgaWYodGhpcy50ZW1wSXRlbUxpc3RbbUluZGV4XSl7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcEl0ZW0gPSB0aGlzLnRlbXBJdGVtTGlzdFttSW5kZXhdO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKHRoaXMudGVtcEl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRlbXBJdGVtO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRlbXBJdGVtID0gbmV3IGNjLk5vZGUoKTtcclxuICAgICAgICB0aGlzLnRlbXBJdGVtLmFkZENvbXBvbmVudChjYy5TcHJpdGUpO1xyXG4gICAgICAgIHRoaXMudGVtcEl0ZW0ucGFyZW50ID0gdGhpcy5zdGFnZTtcclxuICAgICAgICB0aGlzLnRlbXBJdGVtTGlzdFttSW5kZXhdID0gdGhpcy50ZW1wSXRlbTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXRUZW1wSXRlbVdvcmxkUG9zKCl7XHJcbiAgICAgICAgaWYoIXRoaXMudGVtcEl0ZW0pe1xyXG4gICAgICAgICAgICByZXR1cm4gY2MudjIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcEl0ZW0uZ2V0UGFyZW50KCkuY29udmVydFRvV29ybGRTcGFjZUFSKHRoaXMudGVtcEl0ZW0uZ2V0UG9zaXRpb24oKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ojrflvpfmi5bmi73lr7nosaHnmoTmlbDmja5cclxuICAgIGdldERyYWdEYXRhKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRyYWdEYXRhO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEcmFnTWFuYWdlci5pbnN0YW5jZSgpOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/message/EventType.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '33357t/CClBoqVRr7ujenC/', 'EventType');
// src/framework/message/EventType.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EventType = void 0;
var EventType = /** @class */ (function () {
    function EventType() {
    }
    EventType.UPDATE_MONEY = "update_money"; // 更新钱数
    EventType.UPDATE_GOLD = "update_gold"; // 更新钞票
    EventType.UPDATE_XFZS = "update_xfzs"; // 更新幸福指数
    EventType.JX_SC = "jx_sc"; // 加速或者除虫
    EventType.JIASU = "jiasu"; // 加速
    EventType.SHACHONG = "shachong"; // 除虫
    EventType.CROP_GET = "crop_get"; // 作物收获
    EventType.CROP_ADD_SPEED = "crop_add_speed"; // 加速成熟
    EventType.CROP_PLANT = "crop_plant"; // 种植作物
    EventType.CROP_PLANT_GET = "crop_plant_get"; // 通过订单种植作物
    EventType.CROP_GC = "crop_gc"; // 作物高产
    EventType.VEGETABLES_UPDATE = "vegetables_update"; // 解锁后更新种植页面
    EventType.UPDATE_FIELD_TIPS = "update_field_tips"; //更新地块小手提示
    EventType.UPDATE_SHELVE = "update_shelve"; // 仓库变化，更新货架
    EventType.UPDATE_SHELVE_ORDER = "update_shelve_order"; // 订单变化，更新货架
    EventType.CASHIER_ADD_MULTIPLE = "cashier_add_multiple"; // 收银台加倍
    EventType.FIELD_BUILD = "field_build"; // 扩建土地
    EventType.SHELVE_BUILD = "shelve_build"; // 扩建货架
    EventType.LVUP_UPDATE = "lvup_update"; // 更新升级列表
    EventType.FIELD_LEVEL_UPDATE = "field_level_update"; //土地等级变化
    EventType.SHELVE_LEVEL_UPDATE = "shelve_level_update"; //货架等级变化
    EventType.VEGETABLE_CLOSE = "vegetable_close"; // 关闭种菜页面
    EventType.CHANGE_CASHIER = "change_cashier"; // 切换收银皮肤
    EventType.CHANGE_WAREHOUSE = "change_warehouse"; // 切换仓库皮肤
    EventType.CHANGE_WALL = "change_wall"; // 切换围墙皮肤
    EventType.CHANGE_ROAD = "change_road"; // 切换道路皮肤
    EventType.CHANGE_PIPE = "change_pipe"; // 切换水管皮肤
    EventType.CHANGE_FENCE = "change_fence"; // 切换围栏皮肤
    EventType.CHANGE_SCARECROW = "change_scarecrow"; // 切换稻草人皮肤
    EventType.HKHB_UPDATE = "hkhb_update"; //更新回馈红包
    EventType.MAIN_LOCK = "main_lock"; //锁定页面
    EventType.GUIDE_COMPLETE = "guide_complete"; //新手引导完成
    EventType.SDK_REWARD_CONFIG = "sdk_reward_config"; // 获取奖励配置
    EventType.SDK_REWARD_GOT = "sdk_reward_got"; // 领取红包奖励
    EventType.SDK_REWARD_LOST = "sdk_reward_lost"; // 领取红包奖励失败
    EventType.SDK_LEVEL_UP = "sdk_level_up"; //4. 集市升级结果回调
    EventType.SDK_WXBIND = "sdk_wxbind"; //4. 微信绑定回调
    EventType.SDK_VIDEO_NUM = "sdk_video_num"; //更新订单红包池看视频数量
    EventType.TASK_UPDATE = "task_update"; //更新任务列表
    EventType.TASK_COMPLETE_BACK = "task_complete_back"; // 领取任务奖励结果回调
    EventType.LEVEL_UPDATE = "level_update"; //更新等级列表
    EventType.ORDER_OPEN = "order_open"; //关闭订单
    EventType.ORDER_CLOSE = "order_close"; //关闭订单
    EventType.ORDER_UPDATE_INDEX = "order_update_index"; //刷新订单其中一条
    EventType.ORDER_UPDATE_LIST = "order_update_list"; //刷新订单列表
    EventType.ORDER_GIVE_UP = "order_give_up"; //放弃订单
    EventType.ORDER_UPDATE_TOP = "order_update_top"; //更新头部订单
    EventType.ORDER_UNLOCK = "order_unlock"; //解锁订单
    EventType.ORDER_CURRENT_UPDATE = "order_current_update"; //刷新当前订单
    EventType.ORDER_CURRENT_CLOSE = "order_current_close"; //关闭当前订单
    EventType.ORDER_GET_SUCCESS = "order_get_success"; //当前接单成功
    EventType.ORDER_COMPLETE_UPDATE = "order_complete_update"; //更新订单完成
    EventType.GUIDE_Hide = "guide_hide"; //更新新手引导
    EventType.GUIDE_UPDATE = "guide_update"; //更新新手引导
    EventType.CLEAR_PEST_CLOSE = "clear_pest_close"; //关闭除虫面板
    EventType.GET_CROP_CLOSE = "get_crop_close"; //关闭获得作物面板
    EventType.ADD_CAHIER_ROLE = "add_cahier_role"; // 增加结账人数
    EventType.UPDATE_CAHIER_ROLE = "update_cahier_role"; // 更新结账人数
    EventType.CASHIER_AUTO_CLOSE = "cashier_auto_close"; // 结束自动结账
    EventType.ONE_SOLICIT = "one_solicit"; // 一键招揽
    EventType.GUIDE_TASK_UPDATE = "guide_task_update"; // 更新引导任务信息
    EventType.CLOSE_MANYI_VIEW = "close_manyi_view"; // 关闭了满意界面
    EventType.FINISH_AD_AUTOSERVICE = "finish_ad_autoService"; // 成功看完了自助服务的视频广告
    EventType.CROP_SELL = "crop_sell"; // 卖出作物
    EventType.PROP_INFO = "prop_info"; // 获取设施打开小面板信息
    EventType.PROP_INFO_ERROR = "prop_info_error"; // 获取设施打开小面板信息失败
    EventType.VIDEO_BACK = "video_back"; // 看视频返回
    EventType.TASK_INFO_DAY = "task_info_day"; // 每日任务
    EventType.TASK_INFO_COUNT = "task_info_count"; // 任务红点数量
    EventType.TASK_ITEM_CHANG = "task_item_chang"; // 任务状态改变
    return EventType;
}());
exports.EventType = EventType;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUF1RkEsQ0FBQztJQXRGVSxzQkFBWSxHQUFHLGNBQWMsQ0FBQyxDQUFHLE9BQU87SUFDeEMscUJBQVcsR0FBRyxhQUFhLENBQUMsQ0FBRyxPQUFPO0lBQ3RDLHFCQUFXLEdBQUcsYUFBYSxDQUFDLENBQUcsU0FBUztJQUN4QyxlQUFLLEdBQUcsT0FBTyxDQUFDLENBQUcsU0FBUztJQUM1QixlQUFLLEdBQUcsT0FBTyxDQUFDLENBQUcsS0FBSztJQUN4QixrQkFBUSxHQUFHLFVBQVUsQ0FBQyxDQUFHLEtBQUs7SUFDOUIsa0JBQVEsR0FBRyxVQUFVLENBQUMsQ0FBRyxPQUFPO0lBQ2hDLHdCQUFjLEdBQUcsZ0JBQWdCLENBQUMsQ0FBRyxPQUFPO0lBQzVDLG9CQUFVLEdBQUcsWUFBWSxDQUFDLENBQUcsT0FBTztJQUNwQyx3QkFBYyxHQUFHLGdCQUFnQixDQUFDLENBQUcsV0FBVztJQUNoRCxpQkFBTyxHQUFHLFNBQVMsQ0FBQyxDQUFHLE9BQU87SUFDOUIsMkJBQWlCLEdBQUcsbUJBQW1CLENBQUMsQ0FBRyxZQUFZO0lBQ3ZELDJCQUFpQixHQUFHLG1CQUFtQixDQUFBLENBQUEsVUFBVTtJQUNqRCx1QkFBYSxHQUFHLGVBQWUsQ0FBQyxDQUFDLFlBQVk7SUFDN0MsNkJBQW1CLEdBQUcscUJBQXFCLENBQUMsQ0FBQyxZQUFZO0lBQ3pELDhCQUFvQixHQUFHLHNCQUFzQixDQUFDLENBQUEsUUFBUTtJQUN0RCxxQkFBVyxHQUFHLGFBQWEsQ0FBQyxDQUFBLE9BQU87SUFDbkMsc0JBQVksR0FBRyxjQUFjLENBQUMsQ0FBQSxPQUFPO0lBQ3JDLHFCQUFXLEdBQUcsYUFBYSxDQUFDLENBQUEsU0FBUztJQUNyQyw0QkFBa0IsR0FBRyxvQkFBb0IsQ0FBQyxDQUFBLFFBQVE7SUFDbEQsNkJBQW1C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O0lBQ2pDLHVCQUFhLEdBQUcsZUFBZSxDQUFBLENBQUEsT0FBTztJQUN0Qyx5QkFBZSxHQUFHLGlCQUFpQixDQUFBLENBQUEsU0FBUztJQUM1Qyx5QkFBZSxHQUFHLGlCQUFpQixDQUFBLENBQUEsU0FBUztJQUN2RCxnQkFBQztDQXZGRCxBQXVGQyxJQUFBO0FBdkZZLDhCQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEV2ZW50VHlwZSB7XHJcbiAgICBzdGF0aWMgVVBEQVRFX01PTkVZID0gXCJ1cGRhdGVfbW9uZXlcIjsgICAvLyDmm7TmlrDpkrHmlbBcclxuICAgIHN0YXRpYyBVUERBVEVfR09MRCA9IFwidXBkYXRlX2dvbGRcIjsgICAvLyDmm7TmlrDpkp7npahcclxuICAgIHN0YXRpYyBVUERBVEVfWEZaUyA9IFwidXBkYXRlX3hmenNcIjsgICAvLyDmm7TmlrDlubjnpo/mjIfmlbBcclxuICAgIHN0YXRpYyBKWF9TQyA9IFwianhfc2NcIjsgICAvLyDliqDpgJ/miJbogIXpmaTomatcclxuICAgIHN0YXRpYyBKSUFTVSA9IFwiamlhc3VcIjsgICAvLyDliqDpgJ9cclxuICAgIHN0YXRpYyBTSEFDSE9ORyA9IFwic2hhY2hvbmdcIjsgICAvLyDpmaTomatcclxuICAgIHN0YXRpYyBDUk9QX0dFVCA9IFwiY3JvcF9nZXRcIjsgICAvLyDkvZznianmlLbojrdcclxuICAgIHN0YXRpYyBDUk9QX0FERF9TUEVFRCA9IFwiY3JvcF9hZGRfc3BlZWRcIjsgICAvLyDliqDpgJ/miJDnhp9cclxuICAgIHN0YXRpYyBDUk9QX1BMQU5UID0gXCJjcm9wX3BsYW50XCI7ICAgLy8g56eN5qSN5L2c54mpXHJcbiAgICBzdGF0aWMgQ1JPUF9QTEFOVF9HRVQgPSBcImNyb3BfcGxhbnRfZ2V0XCI7ICAgLy8g6YCa6L+H6K6i5Y2V56eN5qSN5L2c54mpXHJcbiAgICBzdGF0aWMgQ1JPUF9HQyA9IFwiY3JvcF9nY1wiOyAgIC8vIOS9nOeJqemrmOS6p1xyXG4gICAgc3RhdGljIFZFR0VUQUJMRVNfVVBEQVRFID0gXCJ2ZWdldGFibGVzX3VwZGF0ZVwiOyAgIC8vIOino+mUgeWQjuabtOaWsOenjeakjemhtemdolxyXG4gICAgc3RhdGljIFVQREFURV9GSUVMRF9USVBTID0gXCJ1cGRhdGVfZmllbGRfdGlwc1wiLy/mm7TmlrDlnLDlnZflsI/miYvmj5DnpLpcclxuICAgIHN0YXRpYyBVUERBVEVfU0hFTFZFID0gXCJ1cGRhdGVfc2hlbHZlXCI7IC8vIOS7k+W6k+WPmOWMlu+8jOabtOaWsOi0p+aetlxyXG4gICAgc3RhdGljIFVQREFURV9TSEVMVkVfT1JERVIgPSBcInVwZGF0ZV9zaGVsdmVfb3JkZXJcIjsgLy8g6K6i5Y2V5Y+Y5YyW77yM5pu05paw6LSn5p62XHJcbiAgICBzdGF0aWMgQ0FTSElFUl9BRERfTVVMVElQTEUgPSBcImNhc2hpZXJfYWRkX211bHRpcGxlXCI7Ly8g5pS26ZO25Y+w5Yqg5YCNXHJcbiAgICBzdGF0aWMgRklFTERfQlVJTEQgPSBcImZpZWxkX2J1aWxkXCI7Ly8g5omp5bu65Zyf5ZywXHJcbiAgICBzdGF0aWMgU0hFTFZFX0JVSUxEID0gXCJzaGVsdmVfYnVpbGRcIjsvLyDmianlu7rotKfmnrZcclxuICAgIHN0YXRpYyBMVlVQX1VQREFURSA9IFwibHZ1cF91cGRhdGVcIjsvLyDmm7TmlrDljYfnuqfliJfooahcclxuICAgIHN0YXRpYyBGSUVMRF9MRVZFTF9VUERBVEUgPSBcImZpZWxkX2xldmVsX3VwZGF0ZVwiOy8v5Zyf5Zyw562J57qn5Y+Y5YyWXHJcbiAgICBzdGF0aWMgU0hFTFZFX0xFVkVMX1VQREFURSA9IFwic2hlbHZlX2xldmVsX3VwZGF0ZVwiOy8v6LSn5p62562J57qn5Y+Y5YyWXHJcbiAgICBzdGF0aWMgVkVHRVRBQkxFX0NMT1NFID0gXCJ2ZWdldGFibGVfY2xvc2VcIjsgLy8g5YWz6Zet56eN6I+c6aG16Z2iXHJcblxyXG4gICAgc3RhdGljIENIQU5HRV9DQVNISUVSID0gXCJjaGFuZ2VfY2FzaGllclwiOy8vIOWIh+aNouaUtumTtuearuiCpFxyXG4gICAgc3RhdGljIENIQU5HRV9XQVJFSE9VU0UgPSBcImNoYW5nZV93YXJlaG91c2VcIjsvLyDliIfmjaLku5PlupPnmq7ogqRcclxuICAgIHN0YXRpYyBDSEFOR0VfV0FMTCA9IFwiY2hhbmdlX3dhbGxcIjsvLyDliIfmjaLlm7Tlopnnmq7ogqRcclxuICAgIHN0YXRpYyBDSEFOR0VfUk9BRCA9IFwiY2hhbmdlX3JvYWRcIjsvLyDliIfmjaLpgZPot6/nmq7ogqRcclxuICAgIHN0YXRpYyBDSEFOR0VfUElQRSA9IFwiY2hhbmdlX3BpcGVcIjsvLyDliIfmjaLmsLTnrqHnmq7ogqRcclxuICAgIHN0YXRpYyBDSEFOR0VfRkVOQ0UgPSBcImNoYW5nZV9mZW5jZVwiOy8vIOWIh+aNouWbtOagj+earuiCpFxyXG4gICAgc3RhdGljIENIQU5HRV9TQ0FSRUNST1cgPSBcImNoYW5nZV9zY2FyZWNyb3dcIjsvLyDliIfmjaLnqLvojYnkurrnmq7ogqRcclxuXHJcbiAgICBzdGF0aWMgSEtIQl9VUERBVEUgPSBcImhraGJfdXBkYXRlXCI7Ly/mm7TmlrDlm57ppojnuqLljIVcclxuXHJcbiAgICBzdGF0aWMgTUFJTl9MT0NLID0gXCJtYWluX2xvY2tcIjsvL+mUgeWumumhtemdolxyXG4gICAgc3RhdGljIEdVSURFX0NPTVBMRVRFID0gXCJndWlkZV9jb21wbGV0ZVwiOy8v5paw5omL5byV5a+85a6M5oiQXHJcblxyXG5cclxuICAgIHN0YXRpYyBTREtfUkVXQVJEX0NPTkZJRyA9IFwic2RrX3Jld2FyZF9jb25maWdcIjsvLyDojrflj5blpZblirHphY3nva5cclxuICAgIHN0YXRpYyBTREtfUkVXQVJEX0dPVCA9IFwic2RrX3Jld2FyZF9nb3RcIjsvLyDpooblj5bnuqLljIXlpZblirFcclxuICAgIHN0YXRpYyBTREtfUkVXQVJEX0xPU1QgPSBcInNka19yZXdhcmRfbG9zdFwiOy8vIOmihuWPlue6ouWMheWlluWKseWksei0pVxyXG4gICAgc3RhdGljIFNES19MRVZFTF9VUCA9IFwic2RrX2xldmVsX3VwXCI7Ly80LiDpm4bluILljYfnuqfnu5Pmnpzlm57osINcclxuICAgIHN0YXRpYyBTREtfV1hCSU5EID0gXCJzZGtfd3hiaW5kXCI7Ly80LiDlvq7kv6Hnu5Hlrprlm57osINcclxuICAgIHN0YXRpYyBTREtfVklERU9fTlVNID0gXCJzZGtfdmlkZW9fbnVtXCI7Ly/mm7TmlrDorqLljZXnuqLljIXmsaDnnIvop4bpopHmlbDph49cclxuXHJcbiAgICBzdGF0aWMgVEFTS19VUERBVEUgPSBcInRhc2tfdXBkYXRlXCIvL+abtOaWsOS7u+WKoeWIl+ihqFxyXG4gICAgc3RhdGljIFRBU0tfQ09NUExFVEVfQkFDSyA9IFwidGFza19jb21wbGV0ZV9iYWNrXCIvLyDpooblj5bku7vliqHlpZblirHnu5Pmnpzlm57osINcclxuICAgIHN0YXRpYyBMRVZFTF9VUERBVEUgPSBcImxldmVsX3VwZGF0ZVwiLy/mm7TmlrDnrYnnuqfliJfooahcclxuXHJcbiAgICBzdGF0aWMgT1JERVJfT1BFTiA9IFwib3JkZXJfb3BlblwiLy/lhbPpl63orqLljZVcclxuICAgIHN0YXRpYyBPUkRFUl9DTE9TRSA9IFwib3JkZXJfY2xvc2VcIi8v5YWz6Zet6K6i5Y2VXHJcbiAgICBzdGF0aWMgT1JERVJfVVBEQVRFX0lOREVYID0gXCJvcmRlcl91cGRhdGVfaW5kZXhcIi8v5Yi35paw6K6i5Y2V5YW25Lit5LiA5p2hXHJcbiAgICBzdGF0aWMgT1JERVJfVVBEQVRFX0xJU1QgPSBcIm9yZGVyX3VwZGF0ZV9saXN0XCIvL+WIt+aWsOiuouWNleWIl+ihqFxyXG4gICAgc3RhdGljIE9SREVSX0dJVkVfVVAgPSBcIm9yZGVyX2dpdmVfdXBcIi8v5pS+5byD6K6i5Y2VXHJcbiAgICBzdGF0aWMgT1JERVJfVVBEQVRFX1RPUCA9IFwib3JkZXJfdXBkYXRlX3RvcFwiLy/mm7TmlrDlpLTpg6jorqLljZVcclxuICAgIHN0YXRpYyBPUkRFUl9VTkxPQ0sgPSBcIm9yZGVyX3VubG9ja1wiLy/op6PplIHorqLljZVcclxuICAgIHN0YXRpYyBPUkRFUl9DVVJSRU5UX1VQREFURSA9IFwib3JkZXJfY3VycmVudF91cGRhdGVcIi8v5Yi35paw5b2T5YmN6K6i5Y2VXHJcbiAgICBzdGF0aWMgT1JERVJfQ1VSUkVOVF9DTE9TRSA9IFwib3JkZXJfY3VycmVudF9jbG9zZVwiLy/lhbPpl63lvZPliY3orqLljZVcclxuICAgIHN0YXRpYyBPUkRFUl9HRVRfU1VDQ0VTUyA9IFwib3JkZXJfZ2V0X3N1Y2Nlc3NcIi8v5b2T5YmN5o6l5Y2V5oiQ5YqfXHJcbiAgICBzdGF0aWMgT1JERVJfQ09NUExFVEVfVVBEQVRFID0gXCJvcmRlcl9jb21wbGV0ZV91cGRhdGVcIi8v5pu05paw6K6i5Y2V5a6M5oiQXHJcblxyXG4gICAgc3RhdGljIEdVSURFX0hpZGUgPSBcImd1aWRlX2hpZGVcIi8v5pu05paw5paw5omL5byV5a+8XHJcbiAgICBzdGF0aWMgR1VJREVfVVBEQVRFID0gXCJndWlkZV91cGRhdGVcIi8v5pu05paw5paw5omL5byV5a+8XHJcblxyXG5cclxuICAgIHN0YXRpYyBDTEVBUl9QRVNUX0NMT1NFID0gXCJjbGVhcl9wZXN0X2Nsb3NlXCI7IC8v5YWz6Zet6Zmk6Jmr6Z2i5p2/XHJcblxyXG4gICAgc3RhdGljIEdFVF9DUk9QX0NMT1NFID0gXCJnZXRfY3JvcF9jbG9zZVwiOyAvL+WFs+mXreiOt+W+l+S9nOeJqemdouadv1xyXG5cclxuXHJcbiAgICBzdGF0aWMgQUREX0NBSElFUl9ST0xFID0gXCJhZGRfY2FoaWVyX3JvbGVcIjsgLy8g5aKe5Yqg57uT6LSm5Lq65pWwXHJcbiAgICBzdGF0aWMgVVBEQVRFX0NBSElFUl9ST0xFID0gXCJ1cGRhdGVfY2FoaWVyX3JvbGVcIjsgLy8g5pu05paw57uT6LSm5Lq65pWwXHJcbiAgICBzdGF0aWMgQ0FTSElFUl9BVVRPX0NMT1NFID0gXCJjYXNoaWVyX2F1dG9fY2xvc2VcIjsgLy8g57uT5p2f6Ieq5Yqo57uT6LSmXHJcbiAgICBzdGF0aWMgT05FX1NPTElDSVQgPSBcIm9uZV9zb2xpY2l0XCI7IC8vIOS4gOmUruaLm+aPvVxyXG4gICAgc3RhdGljIEdVSURFX1RBU0tfVVBEQVRFID0gXCJndWlkZV90YXNrX3VwZGF0ZVwiOyAvLyDmm7TmlrDlvJXlr7zku7vliqHkv6Hmga9cclxuXHJcblxyXG4gICAgc3RhdGljIENMT1NFX01BTllJX1ZJRVcgPSBcImNsb3NlX21hbnlpX3ZpZXdcIjsvLyDlhbPpl63kuobmu6HmhI/nlYzpnaJcclxuICAgIHN0YXRpYyBGSU5JU0hfQURfQVVUT1NFUlZJQ0UgPSBcImZpbmlzaF9hZF9hdXRvU2VydmljZVwiLy8g5oiQ5Yqf55yL5a6M5LqG6Ieq5Yqp5pyN5Yqh55qE6KeG6aKR5bm/5ZGKXHJcblxyXG4gICAgc3RhdGljIENST1BfU0VMTCA9IFwiY3JvcF9zZWxsXCIvLyDljZblh7rkvZznialcclxuICAgIHN0YXRpYyBQUk9QX0lORk8gPSBcInByb3BfaW5mb1wiLy8g6I635Y+W6K6+5pa95omT5byA5bCP6Z2i5p2/5L+h5oGvXHJcbiAgICBzdGF0aWMgUFJPUF9JTkZPX0VSUk9SID0gXCJwcm9wX2luZm9fZXJyb3JcIi8vIOiOt+WPluiuvuaWveaJk+W8gOWwj+mdouadv+S/oeaBr+Wksei0pVxyXG4gICAgc3RhdGljIFZJREVPX0JBQ0sgPSBcInZpZGVvX2JhY2tcIi8vIOeci+inhumikei/lOWbnlxyXG4gICAgc3RhdGljIFRBU0tfSU5GT19EQVkgPSBcInRhc2tfaW5mb19kYXlcIi8vIOavj+aXpeS7u+WKoVxyXG4gICAgc3RhdGljIFRBU0tfSU5GT19DT1VOVCA9IFwidGFza19pbmZvX2NvdW50XCIvLyDku7vliqHnuqLngrnmlbDph49cclxuICAgIHN0YXRpYyBUQVNLX0lURU1fQ0hBTkcgPSBcInRhc2tfaXRlbV9jaGFuZ1wiLy8g5Lu75Yqh54q25oCB5pS55Y+YXHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/sdk/Launcher.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f060aGxAWpF3ozluLB0qGpk', 'Launcher');
// src/framework/sdk/Launcher.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var BaseSdk_1 = require("./BaseSdk");
var Launcher = /** @class */ (function (_super) {
    __extends(Launcher, _super);
    function Launcher() {
        var _this = _super.call(this) || this;
        console.log("SDK ------------------------------------------>Launcher complete");
        return _this;
    }
    //服务器时间
    Launcher.prototype.getServerTime = function () {
        var time;
        if (this.isAndroid()) {
            console.log("安卓设备", this._basePath_android);
            time = jsb.reflection.callStaticMethod(this._basePath_android, "getCurrentTime", "()Ljava/lang/String;");
        }
        else if (this.isIphone()) {
            console.log("苹果设备");
        }
        else {
            console.log("未识别设备");
        }
        console.log("服务器时间为", time);
        return time;
    };
    //用户余额
    Launcher.prototype.getUserAmount = function () {
        var m = 0;
        if (this.isAndroid()) {
            m = jsb.reflection.callStaticMethod(this._moudelPath_android, "getUserAmount", "()Ljava/lang/String;");
        }
        else if (this.isIphone()) {
        }
        if (!m) {
            m = 0;
        }
        this.systemName();
        console.log("********************用户余额********************", m);
        return m;
    };
    //通关总数
    Launcher.prototype.getSUCCCount = function () {
        var c = 0;
        if (this.isAndroid()) {
            c = jsb.reflection.callStaticMethod(this._moudelPath_android, "getSUCCCount", "()I");
        }
        else if (this.isIphone()) {
        }
        return c;
    };
    //合成上报
    Launcher.prototype.reportSynthetic = function () {
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "reportSynthetic", "()V");
        }
        else if (this.isIphone()) {
        }
        this.systemName();
        console.log("******************合成上报******************");
        this.vibrate(100);
    };
    //领红包奖励接口
    Launcher.prototype.getRedPackReward = function (configId, isVideo) {
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "getRedPackReward", "(Ljava/lang/String;Z)V", configId, isVideo);
        }
        else if (this.isIphone()) {
        }
        this.systemName();
        console.log("******************领红包****************** ID", configId, "  isVideo ", isVideo);
    };
    //获取任务金额和状态
    Launcher.prototype.getTaskListData = function () {
        var t = "";
        if (this.isAndroid()) {
            t = jsb.reflection.callStaticMethod(this._moudelPath_android, "getTaskListData", "()Ljava/lang/String;");
        }
        else if (this.isIphone()) {
        }
        // TaskManager.
        console.log("******************任务金额和状态******************", t);
        return t;
    };
    //任务展示
    Launcher.prototype.getTaskInfo = function (taskId) {
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "getTaskInfo", "(I)V", taskId);
        }
        else if (this.isIphone()) {
        }
        console.log("******************任务展示******************", taskId);
    };
    //任务领取奖励
    Launcher.prototype.getTaskReward = function (taskId) {
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "getTaskReward", "(I)V", taskId);
        }
        else if (this.isIphone()) {
        }
        console.log("******************任务展示******************", taskId);
    };
    //气泡提示信息
    Launcher.prototype.getGuideBubblesText = function () {
        var b = "";
        if (this.isAndroid()) {
            b = jsb.reflection.callStaticMethod(this._moudelPath_android, "getGuideBubblesText", "()Ljava/lang/String;");
        }
        else if (this.isIphone()) {
        }
        return b;
    };
    //下次抽奖需要的分数
    Launcher.prototype.getNextDrawScore = function () {
        var s = 0;
        if (this.isAndroid()) {
            s = jsb.reflection.callStaticMethod(this._moudelPath_android, "getNextDrawScore", "()I");
            console.log("下次需要的", s);
        }
        else if (this.isIphone()) {
        }
        return s;
    };
    //提现抽奖的当前分数
    Launcher.prototype.getCurrentScore = function () {
        var s = 0;
        if (this.isAndroid()) {
            s = jsb.reflection.callStaticMethod(this._moudelPath_android, "getCurrentScore", "()I");
            console.log("当前的", s);
        }
        else if (this.isIphone()) {
        }
        return s;
    };
    //微信是否登录
    Launcher.prototype.isWXBind = function () {
        var i = false;
        if (this.isAndroid()) {
            i = jsb.reflection.callStaticMethod(this._moudelPath_android, "isWXBind", "()Z");
        }
        else if (this.isIphone()) {
        }
        return i;
    };
    //退出微信登录
    Launcher.prototype.unBindWX = function () {
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "unBindWX", "()V");
        }
        else if (this.isIphone()) {
        }
    };
    //用户昵称
    Launcher.prototype.getUserNickName = function () {
        var n = undefined;
        if (this.isAndroid()) {
            n = jsb.reflection.callStaticMethod(this._moudelPath_android, "getUserNickName", "()Ljava/lang/String;");
        }
        else if (this.isIphone()) {
        }
        return n;
    };
    //用户头像
    Launcher.prototype.getUserIcon = function () {
        var n = "";
        if (this.isAndroid()) {
            n = jsb.reflection.callStaticMethod(this._moudelPath_android, "getUserIcon", "()Ljava/lang/String;");
        }
        else if (this.isIphone()) {
        }
        return n;
    };
    //隐私政策
    Launcher.prototype.openPrivacy = function () {
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "openPrivacy", "()V");
        }
        else if (this.isIphone()) {
        }
    };
    //用户协议
    Launcher.prototype.openUserService = function () {
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "openUserService", "()V");
        }
        else if (this.isIphone()) {
        }
    };
    //意见反馈
    Launcher.prototype.openFeedBack = function () {
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "openFeedBack", "()V");
        }
        else if (this.isIphone()) {
        }
    };
    //打开提现页面
    Launcher.prototype.openWithdraw = function () {
        console.log("*************************打开提现界面*************************");
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "openWithdraw", "()V");
        }
        else if (this.isIphone()) {
        }
    };
    //震动
    Launcher.prototype.vibrate = function (time) {
        console.log("*************************震动效果*************************");
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._baseCocos, "vibrate", "(I)V", time);
        }
        else {
        }
    };
    //测试接口
    Launcher.prototype.testResult = function () {
        var test = "";
        if (this.isAndroid()) {
            var test2 = jsb.reflection.callStaticMethod(this._moudelPath_android, "testResult", "()Ljava/lang/String;");
            console.log("*************************测试接口*****************2222222222222********", test);
        }
        else if (this.isIphone()) {
        }
        console.log("*************************测试接口*************************", test);
        return test;
    };
    return Launcher;
}(BaseSdk_1.default));
exports.default = Launcher;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3Nkay9MYXVuY2hlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxQ0FBZ0M7QUFFaEM7SUFBdUIsNEJBQU87SUFDMUI7UUFBQSxZQUNJLGlCQUFPLFNBRVY7UUFERyxPQUFPLENBQUMsR0FBRyxDQUFDLGtFQUFrRSxDQUFDLENBQUM7O0lBQ3BGLENBQUM7SUFDRCxPQUFPO0lBQ1AsZ0NBQWEsR0FBYjtRQUNJLElBQUksSUFBSSxDQUFDO1FBQ1QsSUFBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUM7WUFDaEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDM0MsSUFBSSxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFDLGdCQUFnQixFQUFDLHNCQUFzQixDQUFDLENBQUM7U0FDMUc7YUFBSyxJQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBQztZQUNyQixPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3ZCO2FBQUk7WUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3hCO1FBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDM0IsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUNELE1BQU07SUFDTixnQ0FBYSxHQUFiO1FBQ0ksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsSUFBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUM7WUFDaEIsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFDLGVBQWUsRUFBQyxzQkFBc0IsQ0FBQyxDQUFDO1NBQ3hHO2FBQUssSUFBRyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUM7U0FFeEI7UUFDRCxJQUFHLENBQUMsQ0FBQyxFQUFDO1lBQ0YsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNUO1FBQ0QsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2xCLE9BQU8sQ0FBQyxHQUFHLENBQUMsOENBQThDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUQsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBQ0QsTUFBTTtJQUNOLCtCQUFZLEdBQVo7UUFDSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDVixJQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQztZQUNoQixDQUFDLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUMsY0FBYyxFQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3RGO2FBQUssSUFBRyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUM7U0FFeEI7UUFDRCxPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7SUFDRCxNQUFNO0lBQ04sa0NBQWUsR0FBZjtRQUNJLElBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDO1lBQ2hCLEdBQUcsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFDLGlCQUFpQixFQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3JGO2FBQUssSUFBRyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUM7U0FFeEI7UUFDRCxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDbEIsT0FBTyxDQUFDLEdBQUcsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDO1FBQ3hELElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUNELFNBQVM7SUFDVCxtQ0FBZ0IsR0FBaEIsVUFBaUIsUUFBZSxFQUFDLE9BQWlCO1FBQzlDLElBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDO1lBQ2hCLEdBQUcsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFDLGtCQUFrQixFQUFDLHdCQUF3QixFQUFDLFFBQVEsRUFBQyxPQUFPLENBQUMsQ0FBQztTQUMxSDthQUFLLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFDO1NBRXhCO1FBQ0QsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2xCLE9BQU8sQ0FBQyxHQUFHLENBQUMsNENBQTRDLEVBQUMsUUFBUSxFQUFDLFlBQVksRUFBQyxPQUFPLENBQUMsQ0FBQztJQUM1RixDQUFDO0lBQ0QsV0FBVztJQUNYLGtDQUFlLEdBQWY7UUFDSSxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDWCxJQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQztZQUNoQixDQUFDLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUMsaUJBQWlCLEVBQUMsc0JBQXNCLENBQUMsQ0FBQztTQUMxRzthQUFLLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFO1NBRXpCO1FBQ0QsZUFBZTtRQUNmLE9BQU8sQ0FBQyxHQUFHLENBQUMsNkNBQTZDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0QsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBQ0QsTUFBTTtJQUNOLDhCQUFXLEdBQVgsVUFBWSxNQUFhO1FBQ3JCLElBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDO1lBQ2hCLEdBQUcsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFDLGFBQWEsRUFBQyxNQUFNLEVBQUMsTUFBTSxDQUFDLENBQUM7U0FDekY7YUFBSyxJQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRTtTQUV6QjtRQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsMENBQTBDLEVBQUMsTUFBTSxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUNELFFBQVE7SUFDUixnQ0FBYSxHQUFiLFVBQWMsTUFBYTtRQUN2QixJQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQztZQUNoQixHQUFHLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBQyxlQUFlLEVBQUMsTUFBTSxFQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQzNGO2FBQUssSUFBRyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUU7U0FFekI7UUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLDBDQUEwQyxFQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFDRCxRQUFRO0lBQ1Isc0NBQW1CLEdBQW5CO1FBQ0ksSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ1gsSUFBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUM7WUFDaEIsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFDLHFCQUFxQixFQUFDLHNCQUFzQixDQUFDLENBQUM7U0FDOUc7YUFBSyxJQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRTtTQUV6QjtRQUNELE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUNELFdBQVc7SUFDWCxtQ0FBZ0IsR0FBaEI7UUFDSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDVixJQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQztZQUNoQixDQUFDLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUMsa0JBQWtCLEVBQUMsS0FBSyxDQUFDLENBQUM7WUFDdkYsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUMsQ0FBQyxDQUFDLENBQUM7U0FDMUI7YUFBSyxJQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRTtTQUV6QjtRQUNELE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUNELFdBQVc7SUFDWCxrQ0FBZSxHQUFmO1FBQ0ksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsSUFBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUM7WUFDaEIsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFDLGlCQUFpQixFQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3RGLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hCO2FBQUssSUFBRyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUU7U0FFekI7UUFDRCxPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7SUFDRCxRQUFRO0lBQ1IsMkJBQVEsR0FBUjtRQUNJLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUNkLElBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDO1lBQ2hCLENBQUMsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBQyxVQUFVLEVBQUMsS0FBSyxDQUFDLENBQUM7U0FDbEY7YUFBSyxJQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRTtTQUV6QjtRQUNELE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUNELFFBQVE7SUFDUiwyQkFBUSxHQUFSO1FBQ0ksSUFBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUM7WUFDaEIsR0FBRyxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUMsVUFBVSxFQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzlFO2FBQUssSUFBRyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUU7U0FFekI7SUFDTCxDQUFDO0lBQ0QsTUFBTTtJQUNOLGtDQUFlLEdBQWY7UUFDSSxJQUFJLENBQUMsR0FBRyxTQUFTLENBQUM7UUFDbEIsSUFBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUM7WUFDaEIsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFDLGlCQUFpQixFQUFDLHNCQUFzQixDQUFDLENBQUM7U0FDMUc7YUFBSyxJQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRTtTQUV6QjtRQUNELE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUNELE1BQU07SUFDTiw4QkFBVyxHQUFYO1FBQ0ksSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ1gsSUFBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUM7WUFDaEIsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFDLGFBQWEsRUFBQyxzQkFBc0IsQ0FBQyxDQUFDO1NBQ3RHO2FBQUssSUFBRyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUU7U0FFekI7UUFDRCxPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7SUFDRCxNQUFNO0lBQ04sOEJBQVcsR0FBWDtRQUNJLElBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDO1lBQ2hCLEdBQUcsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFDLGFBQWEsRUFBQyxLQUFLLENBQUMsQ0FBQztTQUNqRjthQUFLLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFO1NBRXpCO0lBQ0wsQ0FBQztJQUNELE1BQU07SUFDTixrQ0FBZSxHQUFmO1FBQ0ksSUFBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUM7WUFDaEIsR0FBRyxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUMsaUJBQWlCLEVBQUMsS0FBSyxDQUFDLENBQUM7U0FDckY7YUFBSyxJQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRTtTQUV6QjtJQUNMLENBQUM7SUFDRCxNQUFNO0lBQ04sK0JBQVksR0FBWjtRQUNJLElBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDO1lBQ2hCLEdBQUcsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFDLGNBQWMsRUFBQyxLQUFLLENBQUMsQ0FBQztTQUNsRjthQUFLLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFO1NBRXpCO0lBQ0wsQ0FBQztJQUNELFFBQVE7SUFDUiwrQkFBWSxHQUFaO1FBQ0ksT0FBTyxDQUFDLEdBQUcsQ0FBQywwREFBMEQsQ0FBQyxDQUFDO1FBQ3hFLElBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDO1lBQ2hCLEdBQUcsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFDLGNBQWMsRUFBQyxLQUFLLENBQUMsQ0FBQztTQUNsRjthQUFLLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFO1NBRXpCO0lBQ0wsQ0FBQztJQUNELElBQUk7SUFDSiwwQkFBTyxHQUFQLFVBQVEsSUFBVztRQUNmLE9BQU8sQ0FBQyxHQUFHLENBQUMsd0RBQXdELENBQUMsQ0FBQztRQUN0RSxJQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQztZQUNoQixHQUFHLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBQyxJQUFJLENBQUMsQ0FBQztTQUMxRTthQUFJO1NBRUo7SUFDTCxDQUFDO0lBQ0QsTUFBTTtJQUNOLDZCQUFVLEdBQVY7UUFDSSxJQUFJLElBQUksR0FBWSxFQUFFLENBQUM7UUFDdkIsSUFBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUM7WUFDaEIsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUMsWUFBWSxFQUFDLHNCQUFzQixDQUFDLENBQUM7WUFDMUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxRUFBcUUsRUFBQyxJQUFJLENBQUMsQ0FBQztTQUMzRjthQUFLLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFDO1NBRXhCO1FBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyx3REFBd0QsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUMzRSxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0wsZUFBQztBQUFELENBM05BLEFBMk5DLENBM05zQixpQkFBTyxHQTJON0I7QUFDRCxrQkFBZSxRQUFRLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZVNkayBmcm9tIFwiLi9CYXNlU2RrXCI7XHJcblxyXG5jbGFzcyBMYXVuY2hlciBleHRlbmRzIEJhc2VTZGsge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNESyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+TGF1bmNoZXIgY29tcGxldGVcIik7ICAgICAgICBcclxuICAgIH1cclxuICAgIC8v5pyN5Yqh5Zmo5pe26Ze0XHJcbiAgICBnZXRTZXJ2ZXJUaW1lKCl7XHJcbiAgICAgICAgbGV0IHRpbWU7XHJcbiAgICAgICAgaWYodGhpcy5pc0FuZHJvaWQoKSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5a6J5Y2T6K6+5aSHXCIsdGhpcy5fYmFzZVBhdGhfYW5kcm9pZCk7XHJcbiAgICAgICAgICAgIHRpbWUgPSBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX2Jhc2VQYXRoX2FuZHJvaWQsXCJnZXRDdXJyZW50VGltZVwiLFwiKClMamF2YS9sYW5nL1N0cmluZztcIik7XHJcbiAgICAgICAgfWVsc2UgaWYodGhpcy5pc0lwaG9uZSgpKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLoi7nmnpzorr7lpIdcIik7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5pyq6K+G5Yir6K6+5aSHXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIuacjeWKoeWZqOaXtumXtOS4ulwiLHRpbWUpO1xyXG4gICAgICAgIHJldHVybiB0aW1lO1xyXG4gICAgfVxyXG4gICAgLy/nlKjmiLfkvZnpop1cclxuICAgIGdldFVzZXJBbW91bnQoKXtcclxuICAgICAgICBsZXQgbSA9IDA7XHJcbiAgICAgICAgaWYodGhpcy5pc0FuZHJvaWQoKSl7XHJcbiAgICAgICAgICAgIG0gPSBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCxcImdldFVzZXJBbW91bnRcIixcIigpTGphdmEvbGFuZy9TdHJpbmc7XCIpO1xyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuaXNJcGhvbmUoKSl7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZighbSl7XHJcbiAgICAgICAgICAgIG0gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN5c3RlbU5hbWUoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIioqKioqKioqKioqKioqKioqKioq55So5oi35L2Z6aKdKioqKioqKioqKioqKioqKioqKipcIixtKTtcclxuICAgICAgICByZXR1cm4gbTtcclxuICAgIH1cclxuICAgIC8v6YCa5YWz5oC75pWwXHJcbiAgICBnZXRTVUNDQ291bnQoKXtcclxuICAgICAgICBsZXQgYyA9IDA7XHJcbiAgICAgICAgaWYodGhpcy5pc0FuZHJvaWQoKSl7XHJcbiAgICAgICAgICAgIGMgPSBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCxcImdldFNVQ0NDb3VudFwiLFwiKClJXCIpO1xyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuaXNJcGhvbmUoKSl7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYztcclxuICAgIH1cclxuICAgIC8v5ZCI5oiQ5LiK5oqlXHJcbiAgICByZXBvcnRTeW50aGV0aWMoKXtcclxuICAgICAgICBpZih0aGlzLmlzQW5kcm9pZCgpKXtcclxuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZCh0aGlzLl9tb3VkZWxQYXRoX2FuZHJvaWQsXCJyZXBvcnRTeW50aGV0aWNcIixcIigpVlwiKTtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLmlzSXBob25lKCkpe1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zeXN0ZW1OYW1lKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIqKioqKioqKioqKioqKioqKirlkIjmiJDkuIrmiqUqKioqKioqKioqKioqKioqKipcIik7XHJcbiAgICAgICAgdGhpcy52aWJyYXRlKDEwMCk7XHJcbiAgICB9XHJcbiAgICAvL+mihue6ouWMheWlluWKseaOpeWPo1xyXG4gICAgZ2V0UmVkUGFja1Jld2FyZChjb25maWdJZDpzdHJpbmcsaXNWaWRlbyA6IGJvb2xlYW4pe1xyXG4gICAgICAgIGlmKHRoaXMuaXNBbmRyb2lkKCkpe1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCxcImdldFJlZFBhY2tSZXdhcmRcIixcIihMamF2YS9sYW5nL1N0cmluZztaKVZcIixjb25maWdJZCxpc1ZpZGVvKTtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLmlzSXBob25lKCkpe1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zeXN0ZW1OYW1lKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIqKioqKioqKioqKioqKioqKirpoobnuqLljIUqKioqKioqKioqKioqKioqKiogSURcIixjb25maWdJZCxcIiAgaXNWaWRlbyBcIixpc1ZpZGVvKTtcclxuICAgIH1cclxuICAgIC8v6I635Y+W5Lu75Yqh6YeR6aKd5ZKM54q25oCBXHJcbiAgICBnZXRUYXNrTGlzdERhdGEoKXtcclxuICAgICAgICBsZXQgdCA9IFwiXCI7XHJcbiAgICAgICAgaWYodGhpcy5pc0FuZHJvaWQoKSl7XHJcbiAgICAgICAgICAgIHQgPSBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCxcImdldFRhc2tMaXN0RGF0YVwiLFwiKClMamF2YS9sYW5nL1N0cmluZztcIik7XHJcbiAgICAgICAgfWVsc2UgaWYodGhpcy5pc0lwaG9uZSgpKSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUYXNrTWFuYWdlci5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIioqKioqKioqKioqKioqKioqKuS7u+WKoemHkemineWSjOeKtuaAgSoqKioqKioqKioqKioqKioqKlwiLHQpO1xyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgLy/ku7vliqHlsZXnpLpcclxuICAgIGdldFRhc2tJbmZvKHRhc2tJZDpudW1iZXIpe1xyXG4gICAgICAgIGlmKHRoaXMuaXNBbmRyb2lkKCkpe1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCxcImdldFRhc2tJbmZvXCIsXCIoSSlWXCIsdGFza0lkKTtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLmlzSXBob25lKCkpIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiKioqKioqKioqKioqKioqKioq5Lu75Yqh5bGV56S6KioqKioqKioqKioqKioqKioqXCIsdGFza0lkKTtcclxuICAgIH1cclxuICAgIC8v5Lu75Yqh6aKG5Y+W5aWW5YqxXHJcbiAgICBnZXRUYXNrUmV3YXJkKHRhc2tJZDpudW1iZXIpe1xyXG4gICAgICAgIGlmKHRoaXMuaXNBbmRyb2lkKCkpe1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCxcImdldFRhc2tSZXdhcmRcIixcIihJKVZcIix0YXNrSWQpO1xyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuaXNJcGhvbmUoKSkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIqKioqKioqKioqKioqKioqKirku7vliqHlsZXnpLoqKioqKioqKioqKioqKioqKipcIix0YXNrSWQpO1xyXG4gICAgfVxyXG4gICAgLy/msJTms6Hmj5DnpLrkv6Hmga9cclxuICAgIGdldEd1aWRlQnViYmxlc1RleHQoKXtcclxuICAgICAgICBsZXQgYiA9IFwiXCI7XHJcbiAgICAgICAgaWYodGhpcy5pc0FuZHJvaWQoKSl7XHJcbiAgICAgICAgICAgIGIgPSBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCxcImdldEd1aWRlQnViYmxlc1RleHRcIixcIigpTGphdmEvbGFuZy9TdHJpbmc7XCIpO1xyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuaXNJcGhvbmUoKSkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGI7XHJcbiAgICB9XHJcbiAgICAvL+S4i+asoeaKveWllumcgOimgeeahOWIhuaVsFxyXG4gICAgZ2V0TmV4dERyYXdTY29yZSgpe1xyXG4gICAgICAgIGxldCBzID0gMDtcclxuICAgICAgICBpZih0aGlzLmlzQW5kcm9pZCgpKXtcclxuICAgICAgICAgICAgcyA9IGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLFwiZ2V0TmV4dERyYXdTY29yZVwiLFwiKClJXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuS4i+asoemcgOimgeeahFwiLHMpO1xyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuaXNJcGhvbmUoKSkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHM7XHJcbiAgICB9XHJcbiAgICAvL+aPkOeOsOaKveWllueahOW9k+WJjeWIhuaVsFxyXG4gICAgZ2V0Q3VycmVudFNjb3JlKCl7XHJcbiAgICAgICAgbGV0IHMgPSAwO1xyXG4gICAgICAgIGlmKHRoaXMuaXNBbmRyb2lkKCkpe1xyXG4gICAgICAgICAgICBzID0ganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZCh0aGlzLl9tb3VkZWxQYXRoX2FuZHJvaWQsXCJnZXRDdXJyZW50U2NvcmVcIixcIigpSVwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLlvZPliY3nmoRcIixzKTtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLmlzSXBob25lKCkpIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzO1xyXG4gICAgfVxyXG4gICAgLy/lvq7kv6HmmK/lkKbnmbvlvZVcclxuICAgIGlzV1hCaW5kKCl7XHJcbiAgICAgICAgbGV0IGkgPSBmYWxzZTtcclxuICAgICAgICBpZih0aGlzLmlzQW5kcm9pZCgpKXtcclxuICAgICAgICAgICAgaSA9IGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLFwiaXNXWEJpbmRcIixcIigpWlwiKTtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLmlzSXBob25lKCkpIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpO1xyXG4gICAgfVxyXG4gICAgLy/pgIDlh7rlvq7kv6HnmbvlvZVcclxuICAgIHVuQmluZFdYKCl7XHJcbiAgICAgICAgaWYodGhpcy5pc0FuZHJvaWQoKSl7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLFwidW5CaW5kV1hcIixcIigpVlwiKTtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLmlzSXBob25lKCkpIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/nlKjmiLfmmLXnp7BcclxuICAgIGdldFVzZXJOaWNrTmFtZSgpe1xyXG4gICAgICAgIGxldCBuID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmKHRoaXMuaXNBbmRyb2lkKCkpe1xyXG4gICAgICAgICAgICBuID0ganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZCh0aGlzLl9tb3VkZWxQYXRoX2FuZHJvaWQsXCJnZXRVc2VyTmlja05hbWVcIixcIigpTGphdmEvbGFuZy9TdHJpbmc7XCIpO1xyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuaXNJcGhvbmUoKSkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG47XHJcbiAgICB9XHJcbiAgICAvL+eUqOaIt+WktOWDj1xyXG4gICAgZ2V0VXNlckljb24oKXtcclxuICAgICAgICBsZXQgbiA9IFwiXCI7XHJcbiAgICAgICAgaWYodGhpcy5pc0FuZHJvaWQoKSl7XHJcbiAgICAgICAgICAgIG4gPSBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCxcImdldFVzZXJJY29uXCIsXCIoKUxqYXZhL2xhbmcvU3RyaW5nO1wiKTtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLmlzSXBob25lKCkpIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuO1xyXG4gICAgfVxyXG4gICAgLy/pmpDnp4HmlL/nrZZcclxuICAgIG9wZW5Qcml2YWN5KCl7XHJcbiAgICAgICAgaWYodGhpcy5pc0FuZHJvaWQoKSl7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLFwib3BlblByaXZhY3lcIixcIigpVlwiKTtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLmlzSXBob25lKCkpIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/nlKjmiLfljY/orq5cclxuICAgIG9wZW5Vc2VyU2VydmljZSgpe1xyXG4gICAgICAgIGlmKHRoaXMuaXNBbmRyb2lkKCkpe1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCxcIm9wZW5Vc2VyU2VydmljZVwiLFwiKClWXCIpO1xyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuaXNJcGhvbmUoKSkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+aEj+ingeWPjemmiFxyXG4gICAgb3BlbkZlZWRCYWNrKCl7XHJcbiAgICAgICAgaWYodGhpcy5pc0FuZHJvaWQoKSl7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLFwib3BlbkZlZWRCYWNrXCIsXCIoKVZcIik7XHJcbiAgICAgICAgfWVsc2UgaWYodGhpcy5pc0lwaG9uZSgpKSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5omT5byA5o+Q546w6aG16Z2iXHJcbiAgICBvcGVuV2l0aGRyYXcoKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIioqKioqKioqKioqKioqKioqKioqKioqKirmiZPlvIDmj5DnjrDnlYzpnaIqKioqKioqKioqKioqKioqKioqKioqKioqXCIpO1xyXG4gICAgICAgIGlmKHRoaXMuaXNBbmRyb2lkKCkpe1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCxcIm9wZW5XaXRoZHJhd1wiLFwiKClWXCIpO1xyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuaXNJcGhvbmUoKSkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+mch+WKqFxyXG4gICAgdmlicmF0ZSh0aW1lOm51bWJlcil7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIqKioqKioqKioqKioqKioqKioqKioqKioq6ZyH5Yqo5pWI5p6cKioqKioqKioqKioqKioqKioqKioqKioqKlwiKTtcclxuICAgICAgICBpZih0aGlzLmlzQW5kcm9pZCgpKXtcclxuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZCh0aGlzLl9iYXNlQ29jb3MsXCJ2aWJyYXRlXCIsXCIoSSlWXCIsdGltZSk7XHJcbiAgICAgICAgfWVsc2V7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5rWL6K+V5o6l5Y+jXHJcbiAgICB0ZXN0UmVzdWx0KCl7XHJcbiAgICAgICAgbGV0IHRlc3QgOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIGlmKHRoaXMuaXNBbmRyb2lkKCkpe1xyXG4gICAgICAgICAgICBsZXQgdGVzdDIgPSBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCxcInRlc3RSZXN1bHRcIixcIigpTGphdmEvbGFuZy9TdHJpbmc7XCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIioqKioqKioqKioqKioqKioqKioqKioqKirmtYvor5XmjqXlj6MqKioqKioqKioqKioqKioqKjIyMjIyMjIyMjIyMjIqKioqKioqKlwiLHRlc3QpO1xyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuaXNJcGhvbmUoKSl7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIioqKioqKioqKioqKioqKioqKioqKioqKirmtYvor5XmjqXlj6MqKioqKioqKioqKioqKioqKioqKioqKioqXCIsdGVzdCk7XHJcbiAgICAgICAgcmV0dXJuIHRlc3Q7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgTGF1bmNoZXI7Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/consts/Global.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4b6a119F4BLSoaDf4DFGUF2', 'Global');
// src/game/consts/Global.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Global = /** @class */ (function () {
    function Global() {
    }
    Global.JSON_SERVER_URL = "";
    Global.JSON_FILE = "allConf";
    //玩家数据配置
    Global.SOUND_SWITCH_OPEN = 1; //音乐开关
    Global.SOUND_SWITCH_CLOSE = 0; //音乐开关
    Global.SOUND_YINXIAO_SWITCH_OPEN = 1; // 音效开关 开
    Global.SOUND_YINXIAO_SWITCH_CLOSE = 0; // 音效开关 关
    Global.PERSONALRECOMM_SWITCH_OPEN = 1; // 个人推荐开关 1
    Global.PERSONALRECOMM_SWITCH_OFF = 0;
    //视频打点
    Global.VIDEO_CONFIG = {
        video1: { ad_id: "client_video_01", ad_source: "client_video_01", ad_type: "reward_video" },
        video2: { ad_id: "client_video_02", ad_source: "client_video_02", ad_type: "reward_video" },
        video3: { ad_id: "client_video_03", ad_source: "client_video_03", ad_type: "reward_video" },
        video4: { ad_id: "client_video_04", ad_source: "client_video_04", ad_type: "reward_video" },
        // video5: { ad_id: "client_video_05", ad_source: "client_video_05", ad_type: "reward_video" },//订单完成领取奖励
        // video6: { ad_id: "client_video_06", ad_source: "client_video_06", ad_type: "reward_video" },//订单完成助力领取
        video7: { ad_id: "client_video_07", ad_source: "client_video_07", ad_type: "reward_video" },
        video8: { ad_id: "client_video_08", ad_source: "client_video_08", ad_type: "reward_video" },
        video9: { ad_id: "client_video_09", ad_source: "client_video_09", ad_type: "reward_video" },
        video10: { ad_id: "client_video_10", ad_source: "client_video_10", ad_type: "reward_video" },
        video11: { ad_id: "client_video_11", ad_source: "client_video_11", ad_type: "reward_video" },
        video12: { ad_id: "client_video_12", ad_source: "client_video_12", ad_type: "reward_video" },
        video13: { ad_id: "client_video_13", ad_source: "client_video_13", ad_type: "reward_video" },
        video14: { ad_id: "client_video_14", ad_source: "client_video_14", ad_type: "reward_video" },
        video15: { ad_id: "client_video_15", ad_source: "client_video_15", ad_type: "reward_video" },
        video16: { ad_id: "client_video_16", ad_source: "client_video_16", ad_type: "reward_video" },
        video17: { ad_id: "client_video_17", ad_source: "client_video_17", ad_type: "reward_video" },
        video18: { ad_id: "client_video_18", ad_source: "client_video_18", ad_type: "reward_video" },
        video19: { ad_id: "client_video_19", ad_source: "client_video_19", ad_type: "reward_video" },
        video20: { ad_id: "client_video_20", ad_source: "client_video_20", ad_type: "reward_video" },
    };
    Global.EVENT_ACTION = {
        client_guide_task: "client_guide_task",
        client_seed: "client_seed",
        client_get_crops: "client_get_crops",
        client_solicit: "client_solicit",
    };
    Global.zl_click_num = 1;
    //用户协议
    Global.URL_USER = "http://gameweb.xiaoshidata.com/haiyanglefantian/pservice.html";
    //隐私政策
    Global.URL_PRIVACY = "http://gameweb.xiaoshidata.com/haiyanglefantian/pprivacy.html";
    //意见反馈
    Global.URL_PROPOSAL = "http://api.center.kumengkeji.cn/msg/index";
    Global.isCeshi_version = false;
    return Global;
}());
exports.default = Global;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9jb25zdHMvR2xvYmFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7SUFBQTtJQTZEQSxDQUFDO0lBNURpQixzQkFBZSxHQUFHLEVBQUUsQ0FBQztJQUVyQixnQkFBUyxHQUFHLFNBQVMsQ0FBQztJQUVwQyxRQUFRO0lBQ00sd0JBQWlCLEdBQUcsQ0FBQyxDQUFDLENBQWlCLE1BQU07SUFDN0MseUJBQWtCLEdBQUcsQ0FBQyxDQUFDLENBQWdCLE1BQU07SUFFN0MsZ0NBQXlCLEdBQUcsQ0FBQyxDQUFDLENBQVEsU0FBUztJQUMvQyxpQ0FBMEIsR0FBRyxDQUFDLENBQUMsQ0FBTyxTQUFTO0lBRS9DLGlDQUEwQixHQUFHLENBQUMsQ0FBQyxDQUFHLFdBQVc7SUFDN0MsZ0NBQXlCLEdBQUcsQ0FBQyxDQUFDO0lBRTVDLE1BQU07SUFDUSxtQkFBWSxHQUFHO1FBQ3pCLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRTtRQUMzRixNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLGlCQUFpQixFQUFFLE9BQU8sRUFBRSxjQUFjLEVBQUU7UUFFM0YsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxPQUFPLEVBQUUsY0FBYyxFQUFFO1FBQzNGLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRTtRQUUzRix5R0FBeUc7UUFDekcseUdBQXlHO1FBRXpHLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRTtRQUMzRixNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLGlCQUFpQixFQUFFLE9BQU8sRUFBRSxjQUFjLEVBQUU7UUFDM0YsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxPQUFPLEVBQUUsY0FBYyxFQUFFO1FBQzNGLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRTtRQUM1RixPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLGlCQUFpQixFQUFFLE9BQU8sRUFBRSxjQUFjLEVBQUU7UUFDNUYsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxPQUFPLEVBQUUsY0FBYyxFQUFFO1FBQzVGLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRTtRQUM1RixPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLGlCQUFpQixFQUFFLE9BQU8sRUFBRSxjQUFjLEVBQUU7UUFDNUYsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxPQUFPLEVBQUUsY0FBYyxFQUFFO1FBQzVGLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRTtRQUM1RixPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLGlCQUFpQixFQUFFLE9BQU8sRUFBRSxjQUFjLEVBQUU7UUFDNUYsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxPQUFPLEVBQUUsY0FBYyxFQUFFO1FBRTVGLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRTtRQUU1RixPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLGlCQUFpQixFQUFFLE9BQU8sRUFBRSxjQUFjLEVBQUU7S0FDL0YsQ0FBQTtJQUVhLG1CQUFZLEdBQUc7UUFDekIsaUJBQWlCLEVBQUUsbUJBQW1CO1FBQ3RDLFdBQVcsRUFBRSxhQUFhO1FBQzFCLGdCQUFnQixFQUFFLGtCQUFrQjtRQUNwQyxjQUFjLEVBQUUsZ0JBQWdCO0tBQ25DLENBQUE7SUFFYSxtQkFBWSxHQUFHLENBQUMsQ0FBQztJQUUvQixNQUFNO0lBQ1EsZUFBUSxHQUFHLCtEQUErRCxDQUFDO0lBQ3pGLE1BQU07SUFDUSxrQkFBVyxHQUFHLCtEQUErRCxDQUFDO0lBQzVGLE1BQU07SUFDUSxtQkFBWSxHQUFHLDJDQUEyQyxDQUFDO0lBRTNELHNCQUFlLEdBQUcsS0FBSyxDQUFDO0lBQzFDLGFBQUM7Q0E3REQsQUE2REMsSUFBQTtrQkE3RG9CLE1BQU0iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBHbG9iYWwge1xyXG4gICAgcHVibGljIHN0YXRpYyBKU09OX1NFUlZFUl9VUkwgPSBcIlwiO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgSlNPTl9GSUxFID0gXCJhbGxDb25mXCI7XHJcblxyXG4gICAgLy/njqnlrrbmlbDmja7phY3nva5cclxuICAgIHB1YmxpYyBzdGF0aWMgU09VTkRfU1dJVENIX09QRU4gPSAxOyAgICAgICAgICAgICAgICAgLy/pn7PkuZDlvIDlhbNcclxuICAgIHB1YmxpYyBzdGF0aWMgU09VTkRfU1dJVENIX0NMT1NFID0gMDsgICAgICAgICAgICAgICAgLy/pn7PkuZDlvIDlhbNcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNPVU5EX1lJTlhJQU9fU1dJVENIX09QRU4gPSAxOyAgICAgICAgLy8g6Z+z5pWI5byA5YWzIOW8gFxyXG4gICAgcHVibGljIHN0YXRpYyBTT1VORF9ZSU5YSUFPX1NXSVRDSF9DTE9TRSA9IDA7ICAgICAgIC8vIOmfs+aViOW8gOWFsyDlhbNcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFBFUlNPTkFMUkVDT01NX1NXSVRDSF9PUEVOID0gMTsgICAvLyDkuKrkurrmjqjojZDlvIDlhbMgMVxyXG4gICAgcHVibGljIHN0YXRpYyBQRVJTT05BTFJFQ09NTV9TV0lUQ0hfT0ZGID0gMDtcclxuXHJcbiAgICAvL+inhumikeaJk+eCuVxyXG4gICAgcHVibGljIHN0YXRpYyBWSURFT19DT05GSUcgPSB7XHJcbiAgICAgICAgdmlkZW8xOiB7IGFkX2lkOiBcImNsaWVudF92aWRlb18wMVwiLCBhZF9zb3VyY2U6IFwiY2xpZW50X3ZpZGVvXzAxXCIsIGFkX3R5cGU6IFwicmV3YXJkX3ZpZGVvXCIgfSwvLyDkuIDplK7mj73lrqJcclxuICAgICAgICB2aWRlbzI6IHsgYWRfaWQ6IFwiY2xpZW50X3ZpZGVvXzAyXCIsIGFkX3NvdXJjZTogXCJjbGllbnRfdmlkZW9fMDJcIiwgYWRfdHlwZTogXCJyZXdhcmRfdmlkZW9cIiB9LC8vICDpooblj5bpkp7npagv6ZKe56Wo5LiN6LazXHJcblxyXG4gICAgICAgIHZpZGVvMzogeyBhZF9pZDogXCJjbGllbnRfdmlkZW9fMDNcIiwgYWRfc291cmNlOiBcImNsaWVudF92aWRlb18wM1wiLCBhZF90eXBlOiBcInJld2FyZF92aWRlb1wiIH0sLy/op6PplIHorqLljZVcclxuICAgICAgICB2aWRlbzQ6IHsgYWRfaWQ6IFwiY2xpZW50X3ZpZGVvXzA0XCIsIGFkX3NvdXJjZTogXCJjbGllbnRfdmlkZW9fMDRcIiwgYWRfdHlwZTogXCJyZXdhcmRfdmlkZW9cIiB9LC8v5Yi35paw6K6i5Y2VXHJcblxyXG4gICAgICAgIC8vIHZpZGVvNTogeyBhZF9pZDogXCJjbGllbnRfdmlkZW9fMDVcIiwgYWRfc291cmNlOiBcImNsaWVudF92aWRlb18wNVwiLCBhZF90eXBlOiBcInJld2FyZF92aWRlb1wiIH0sLy/orqLljZXlrozmiJDpooblj5blpZblirFcclxuICAgICAgICAvLyB2aWRlbzY6IHsgYWRfaWQ6IFwiY2xpZW50X3ZpZGVvXzA2XCIsIGFkX3NvdXJjZTogXCJjbGllbnRfdmlkZW9fMDZcIiwgYWRfdHlwZTogXCJyZXdhcmRfdmlkZW9cIiB9LC8v6K6i5Y2V5a6M5oiQ5Yqp5Yqb6aKG5Y+WXHJcblxyXG4gICAgICAgIHZpZGVvNzogeyBhZF9pZDogXCJjbGllbnRfdmlkZW9fMDdcIiwgYWRfc291cmNlOiBcImNsaWVudF92aWRlb18wN1wiLCBhZF90eXBlOiBcInJld2FyZF92aWRlb1wiIH0sLy/nnIvop4bpopHlv6vpgJ/ojrflj5bkvZznialcclxuICAgICAgICB2aWRlbzg6IHsgYWRfaWQ6IFwiY2xpZW50X3ZpZGVvXzA4XCIsIGFkX3NvdXJjZTogXCJjbGllbnRfdmlkZW9fMDhcIiwgYWRfdHlwZTogXCJyZXdhcmRfdmlkZW9cIiB9LC8v5omp5bu65Zyf5ZywXHJcbiAgICAgICAgdmlkZW85OiB7IGFkX2lkOiBcImNsaWVudF92aWRlb18wOVwiLCBhZF9zb3VyY2U6IFwiY2xpZW50X3ZpZGVvXzA5XCIsIGFkX3R5cGU6IFwicmV3YXJkX3ZpZGVvXCIgfSwvL+aJqeW7uui0p+aetlxyXG4gICAgICAgIHZpZGVvMTA6IHsgYWRfaWQ6IFwiY2xpZW50X3ZpZGVvXzEwXCIsIGFkX3NvdXJjZTogXCJjbGllbnRfdmlkZW9fMTBcIiwgYWRfdHlwZTogXCJyZXdhcmRfdmlkZW9cIiB9LC8v5pS26ZO25Y+w5Yqg6YCfIFxyXG4gICAgICAgIHZpZGVvMTE6IHsgYWRfaWQ6IFwiY2xpZW50X3ZpZGVvXzExXCIsIGFkX3NvdXJjZTogXCJjbGllbnRfdmlkZW9fMTFcIiwgYWRfdHlwZTogXCJyZXdhcmRfdmlkZW9cIiB9LC8v6Kej6ZSB5L2c54mpXHJcbiAgICAgICAgdmlkZW8xMjogeyBhZF9pZDogXCJjbGllbnRfdmlkZW9fMTJcIiwgYWRfc291cmNlOiBcImNsaWVudF92aWRlb18xMlwiLCBhZF90eXBlOiBcInJld2FyZF92aWRlb1wiIH0sLy/kvZznianpq5jkuqfmlLbojrdcclxuICAgICAgICB2aWRlbzEzOiB7IGFkX2lkOiBcImNsaWVudF92aWRlb18xM1wiLCBhZF9zb3VyY2U6IFwiY2xpZW50X3ZpZGVvXzEzXCIsIGFkX3R5cGU6IFwicmV3YXJkX3ZpZGVvXCIgfSwvL+eri+WNs+mZpOiZq1xyXG4gICAgICAgIHZpZGVvMTQ6IHsgYWRfaWQ6IFwiY2xpZW50X3ZpZGVvXzE0XCIsIGFkX3NvdXJjZTogXCJjbGllbnRfdmlkZW9fMTRcIiwgYWRfdHlwZTogXCJyZXdhcmRfdmlkZW9cIiB9LC8v5YWo5L2T5Yqg6YCfXHJcbiAgICAgICAgdmlkZW8xNTogeyBhZF9pZDogXCJjbGllbnRfdmlkZW9fMTVcIiwgYWRfc291cmNlOiBcImNsaWVudF92aWRlb18xNVwiLCBhZF90eXBlOiBcInJld2FyZF92aWRlb1wiIH0sLy/miZPlvIDlm57ppojnuqLljIVcclxuICAgICAgICB2aWRlbzE2OiB7IGFkX2lkOiBcImNsaWVudF92aWRlb18xNlwiLCBhZF9zb3VyY2U6IFwiY2xpZW50X3ZpZGVvXzE2XCIsIGFkX3R5cGU6IFwicmV3YXJkX3ZpZGVvXCIgfSwvL+WFjei0ueWNh+e6p++8iOWcn+WcsO+8jOi0p+aetuiuvuaWve+8iVxyXG4gICAgICAgIHZpZGVvMTc6IHsgYWRfaWQ6IFwiY2xpZW50X3ZpZGVvXzE3XCIsIGFkX3NvdXJjZTogXCJjbGllbnRfdmlkZW9fMTdcIiwgYWRfdHlwZTogXCJyZXdhcmRfdmlkZW9cIiB9LC8v6aKG5Y+W5q+P5pel5Lu75YqhXHJcbiAgICAgICAgdmlkZW8xODogeyBhZF9pZDogXCJjbGllbnRfdmlkZW9fMThcIiwgYWRfc291cmNlOiBcImNsaWVudF92aWRlb18xOFwiLCBhZF90eXBlOiBcInJld2FyZF92aWRlb1wiIH0sLy/miZPlvIDpo57ooYzlrp3nrrFcclxuXHJcbiAgICAgICAgdmlkZW8xOTogeyBhZF9pZDogXCJjbGllbnRfdmlkZW9fMTlcIiwgYWRfc291cmNlOiBcImNsaWVudF92aWRlb18xOVwiLCBhZF90eXBlOiBcInJld2FyZF92aWRlb1wiIH0sLy/miZPlvIDovpvoi6bnuqLljIVcclxuXHJcbiAgICAgICAgdmlkZW8yMDogeyBhZF9pZDogXCJjbGllbnRfdmlkZW9fMjBcIiwgYWRfc291cmNlOiBcImNsaWVudF92aWRlb18yMFwiLCBhZF90eXBlOiBcInJld2FyZF92aWRlb1wiIH0sLy/lv6vpgJ/mj5Dpq5jmtLvot4PluqZcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIEVWRU5UX0FDVElPTiA9IHtcclxuICAgICAgICBjbGllbnRfZ3VpZGVfdGFzazogXCJjbGllbnRfZ3VpZGVfdGFza1wiLC8v5byV5a+85Lu75Yqh5a6M5oiQ5Liq5pWwXHJcbiAgICAgICAgY2xpZW50X3NlZWQ6IFwiY2xpZW50X3NlZWRcIiwvL+enjeS4i+enjeWtkOasoeaVsFxyXG4gICAgICAgIGNsaWVudF9nZXRfY3JvcHM6IFwiY2xpZW50X2dldF9jcm9wc1wiLC8v5pS26I635L2c54mp5qyh5pWwXHJcbiAgICAgICAgY2xpZW50X3NvbGljaXQ6IFwiY2xpZW50X3NvbGljaXRcIiwvL+aLm+aPvemhvuWuouS4quaVsFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgemxfY2xpY2tfbnVtID0gMTtcclxuXHJcbiAgICAvL+eUqOaIt+WNj+iurlxyXG4gICAgcHVibGljIHN0YXRpYyBVUkxfVVNFUiA9IFwiaHR0cDovL2dhbWV3ZWIueGlhb3NoaWRhdGEuY29tL2hhaXlhbmdsZWZhbnRpYW4vcHNlcnZpY2UuaHRtbFwiO1xyXG4gICAgLy/pmpDnp4HmlL/nrZZcclxuICAgIHB1YmxpYyBzdGF0aWMgVVJMX1BSSVZBQ1kgPSBcImh0dHA6Ly9nYW1ld2ViLnhpYW9zaGlkYXRhLmNvbS9oYWl5YW5nbGVmYW50aWFuL3Bwcml2YWN5Lmh0bWxcIjtcclxuICAgIC8v5oSP6KeB5Y+N6aaIXHJcbiAgICBwdWJsaWMgc3RhdGljIFVSTF9QUk9QT1NBTCA9IFwiaHR0cDovL2FwaS5jZW50ZXIua3VtZW5na2VqaS5jbi9tc2cvaW5kZXhcIjtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzQ2VzaGlfdmVyc2lvbiA9IGZhbHNlO1xyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/tools/MkUtils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fb314S0VRBDNq1MwS/BUHoe', 'MkUtils');
// src/framework/tools/MkUtils.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MKUtils = /** @class */ (function () {
    function MKUtils() {
    }
    MKUtils.isNative = function () {
        return (cc.sys.isNative) && (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID);
    };
    MKUtils.isIOS = function () {
        return (cc.sys.isNative) && (cc.sys.os == cc.sys.OS_IOS);
    };
    MKUtils.isWechatGame = function () {
        return (cc.sys.platform == cc.sys.WECHAT_GAME);
    };
    MKUtils.isAndroid = function () {
        return (cc.sys.isNative) && (cc.sys.os == cc.sys.OS_ANDROID);
    };
    MKUtils.findNodeByName = function (root, name) {
        if (root) {
            var widget = root.getChildByName(name);
            if (widget) {
                return widget;
            }
            else {
                var children = root.children;
                for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {
                    var c = children_1[_i];
                    widget = MKUtils.findNodeByName(c, name);
                    if (widget) {
                        return widget;
                    }
                }
                return null;
            }
        }
        return null;
    };
    //获取屏幕显示区域尺寸
    MKUtils.getShowSize = function () {
        var canvasSize = cc.view.getCanvasSize();
        var winSize = cc.winSize;
        var showSize = cc.size(winSize.width, winSize.height);
        var canvasPro = canvasSize.width / canvasSize.height;
        var winPro = winSize.width / winSize.height;
        if (canvasPro > winPro) {
            showSize.width = winSize.height * canvasPro;
        }
        else {
            showSize.height = winSize.width / canvasPro;
        }
        return showSize;
    };
    //获取显示区域和设计尺寸的宽高比例
    MKUtils.getShowScale = function () {
        var showSize = MKUtils.getShowSize();
        var winSize = cc.winSize;
        return cc.v2(showSize.width / winSize.width, showSize.height / winSize.height);
    };
    MKUtils.playScaleAni = function (parent) {
        //界面layout 尺寸从80%到110%再回到100%
        if (!parent) {
            return;
        }
        var preScale = parent.scale;
        parent.scale = preScale * 0.3;
        parent.runAction(cc.scaleTo(0.2, preScale * 1).easing(cc.easeBackOut()));
    };
    MKUtils.playScaleAni2 = function (parent) {
        //界面layout 尺寸从80%到110%再回到100%
        if (!parent) {
            return;
        }
        var preScale = parent.scale;
        parent.scale = preScale * 0.3;
        parent.runAction(cc.sequence(cc.scaleTo(0.3, preScale * 1.3), cc.scaleTo(0.3, preScale * 1).easing(cc.easeBackInOut())));
    };
    MKUtils.playScaleAniBig = function (parent) {
        //界面layout 尺寸从80%到110%再回到100%
        if (!parent) {
            return;
        }
        var preScale = parent.scale;
        parent.scale = preScale * 0.3;
        var scale1 = cc.scaleTo(0.3, preScale * 1.3);
        var scale2 = cc.scaleTo(0.1, preScale * 1);
        parent.runAction(cc.sequence(scale1, scale2));
    };
    MKUtils.playScaleAniSmallToNormal = function (parent) {
        //界面layout 尺寸从80%到110%再回到100%
        if (!parent) {
            return;
        }
        var preScale = parent.scale;
        parent.scale = 0.1;
        var scale1 = cc.scaleTo(0.3, preScale * 1.1);
        var scale2 = cc.scaleTo(0.2, preScale * 1);
        parent.runAction(cc.sequence(scale1, scale2));
    };
    MKUtils.playBlackBgAct = function (blackBg, time) {
        if (!blackBg) {
            return;
        }
        if (time == undefined) {
            time = 0.2;
        }
        var preOpacity = blackBg.opacity;
        blackBg.opacity = 0;
        blackBg.runAction(cc.fadeTo(time, preOpacity));
    };
    MKUtils.playDialogActBig = function (blackBg, baseNode) {
        MKUtils.playBlackBgAct(blackBg, 0.3);
        MKUtils.playScaleAniBig(baseNode);
    };
    MKUtils.playDialogAct = function (blackBg, baseNode) {
        MKUtils.playBlackBgAct(blackBg);
        MKUtils.playScaleAni(baseNode);
    };
    MKUtils.playDialogAct2 = function (blackBg, baseNode) {
        MKUtils.playBlackBgAct(blackBg);
        MKUtils.playScaleAni2(baseNode);
    };
    MKUtils.btnScaleAct = function (btn, scale) {
        if (!btn) {
            return;
        }
        btn.stopAllActions();
        var preScale = scale || btn.scale;
        btn.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(0.2, 1.13 * preScale), cc.scaleTo(0.2, 1 * preScale), cc.delayTime(0.6))));
    };
    MKUtils.btnScaleAct1 = function (btn, scale) {
        if (!btn) {
            return;
        }
        var preScale = scale || btn.scale;
        btn.runAction(cc.repeatForever(cc.sequence(cc.delayTime(0.5), cc.scaleTo(0.18, 1.15 * preScale), cc.scaleTo(0.18, preScale), cc.scaleTo(0.18, 1.15 * preScale), cc.scaleTo(0.18, preScale), cc.delayTime(0.5))));
    };
    //按钮点击缩放，btn为触摸的node，icon为缩放效果node
    MKUtils.addTouch = function (btn, icon, scaleX, scaleY) {
        if (!icon) {
            icon = btn;
        }
        var preScaleX = btn.scaleX;
        var preScaleY = btn.scaleY;
        if (scaleX) {
            preScaleX = scaleX;
        }
        if (scaleY) {
            preScaleY = scaleY;
        }
        btn.on(cc.Node.EventType.TOUCH_START, function (e) {
            icon.runAction(cc.scaleTo(0.1, preScaleX * 1.1, preScaleY * 1.1));
            // icon.setScale(preScaleX*1.1, preScaleY*1.1)
        }.bind(btn), btn);
        btn.on(cc.Node.EventType.TOUCH_END, function (e) {
            icon.runAction(cc.scaleTo(0.2, preScaleX, preScaleY));
            // icon.setScale(preScaleX, preScaleY)
        }.bind(btn), btn);
        btn.on(cc.Node.EventType.TOUCH_CANCEL, function (e) {
            icon.runAction(cc.scaleTo(0.2, preScaleX, preScaleY));
            // icon.setScale(preScaleX, preScaleY)
        }.bind(btn), btn);
    };
    // 名字最大长度截取
    MKUtils.nameMaxCut = function (input, maxLen) {
        var output = "";
        var strlen = 0;
        for (var i = 0; i < input.length; i++) {
            var ch = input[i];
            if (ch.charCodeAt(0) > 255) //如果是汉字，则字符串长度加2
             {
                strlen += 2;
            }
            else {
                strlen++;
            }
            if (strlen <= maxLen) {
                output += ch;
            }
        }
        if (strlen > maxLen) {
            return output += "...";
        }
        return output;
    };
    MKUtils.alertTips = function (str, showTime, closeAct, tipType) {
        var isShow = MKUtils.currentTipsList.filter(function (value, index) {
            return value === str;
        });
        if (isShow.length > 0)
            return;
        if (!showTime) {
            showTime = 1.2;
        }
        var prefabUrl = "prefab/common/AlertTips";
        cc.loader.loadRes(prefabUrl, function (errorMessage, loadedResource) {
            MKUtils.currentTipsList.push(str);
            if (errorMessage) {
                cc.log('载入预制资源失败, 原因:' + errorMessage);
                return;
            }
            if (!(loadedResource instanceof cc.Prefab)) {
                cc.log('你载入的不是预制资源!');
                return;
            }
            var prefab = cc.instantiate(loadedResource);
            prefab.getComponent("AlertTips").setTips(str, tipType);
            cc.director.getScene().addChild(prefab, 9999);
            prefab.setPosition(cc.v2(cc.winSize.width / 2, cc.winSize.height / 2 - 100));
            if (!closeAct) {
                MKUtils.playScaleAni(prefab);
            }
            prefab.runAction(cc.sequence(cc.delayTime(showTime), cc.spawn(cc.moveBy(1, 0, 400), cc.fadeOut(1)), cc.callFunc(function () {
                var str = prefab.getComponent("AlertTips").getTips();
                var idx = -1;
                MKUtils.currentTipsList.filter(function (value, index) {
                    if (value === str)
                        idx = index;
                });
                if (idx >= 0)
                    MKUtils.currentTipsList.splice(idx, 1);
                prefab.removeFromParent();
            })));
        });
    };
    //获取当前系统时间戳(秒)
    MKUtils.getCurOsTime = function () {
        var curTime = new Date();
        return Math.floor(curTime.getTime() / 1000);
    };
    MKUtils.getCurOsMillisecond = function () {
        var curTime = new Date();
        return curTime.getTime();
    };
    //生成n-m随机数  包括n和m
    MKUtils.randomNM = function (n, m) {
        return n + Math.floor(Math.random() * (m - n + 1));
    };
    //生成n-m随机数  包括n和m：浮点数
    MKUtils.randomNMF = function (n, m) {
        return n + Math.random() * (m - n);
    };
    //适配不同版本
    MKUtils.compareVersion = function (v1, v2) {
        v1 = v1.split('.');
        v2 = v2.split('.');
        var len = Math.max(v1.length, v2.length);
        while (v1.length < len) {
            v1.push('0');
        }
        while (v2.length < len) {
            v2.push('0');
        }
        for (var i = 0; i < len; i++) {
            var num1 = parseInt(v1[i]);
            var num2 = parseInt(v2[i]);
            if (num1 > num2) {
                return 1;
            }
            else if (num1 < num2) {
                return -1;
            }
        }
        return 0;
    };
    //显示跑马灯
    MKUtils.showBroad = function (pos, id) {
        var w = MKUtils.getShowSize().width;
        var h = MKUtils.getShowSize().height;
        var prefabUrl = "public/prefabs/CommonBroad";
        cc.loader.loadRes(prefabUrl, function (errorMessage, loadedResource) {
            //检查资源加载
            if (errorMessage) {
                cc.log('载入预制资源失败, 原因:' + errorMessage);
                return;
            }
            if (!(loadedResource instanceof cc.Prefab)) {
                cc.log('你载入的不是预制资源!');
                return;
            }
            //开始实例化预制资源
            var prefab = cc.instantiate(loadedResource);
            if (pos) {
                prefab.setPosition(pos);
            }
            else {
                prefab.setPosition(cc.v2(w, h - 40));
            }
            var broadCom = prefab.getComponent("CommonBroad");
            if (broadCom) {
                if (id == 1) {
                    broadCom.showBroad(id);
                }
                else {
                    broadCom.showBroad();
                }
            }
            cc.director.getScene().addChild(prefab, 999);
        });
    };
    MKUtils.twoPointDistance = function (pos1, pos2) {
        var x1 = pos1.x; // 第一个点的横坐标
        var y1 = pos1.y; // 第一个点的纵坐标
        var x2 = pos2.x; // 第二个点的横坐标
        var y2 = pos2.y; // 第二个点的纵坐标
        var xdiff = x2 - x1; // 计算两个点的横坐标之差
        var ydiff = y2 - y1; // 计算两个点的纵坐标之差
        return Math.pow((xdiff * xdiff + ydiff * ydiff), 0.5); // 计算两点之间的距离，并将结果返回表单元素
    };
    MKUtils.loadPrefab = function (prefabUrl, successCallback, failCallback) {
        var prefab = cc.loader.getRes(prefabUrl, cc.Prefab);
        if (prefab && prefab != null) {
            if (successCallback) {
                successCallback(prefab);
            }
        }
        else {
            cc.loader.loadRes(prefabUrl, function (errorMessage, downPrefab) {
                if (errorMessage) {
                    cc.log("load " + prefabUrl + " error : " + errorMessage);
                    if (failCallback) {
                        failCallback();
                    }
                    return;
                }
                if (successCallback) {
                    successCallback(downPrefab);
                }
            }.bind(this));
        }
    };
    MKUtils.loadDir = function (frameUrl, successCallback, failCallback, type) {
        if (type === void 0) { type = cc.SpriteFrame; }
        cc.resources.loadDir(frameUrl, type, function (err, assets) {
            // ...
            cc.log("===========", assets);
            // if()
        });
    };
    MKUtils.loadSpriteFrame = function (frameUrl, successCallback, failCallback) {
        var spriteFrame = cc.loader.getRes(frameUrl, cc.SpriteFrame);
        if (spriteFrame && spriteFrame != null) {
            if (successCallback) {
                successCallback(spriteFrame);
            }
        }
        else {
            cc.loader.loadRes(frameUrl, cc.SpriteFrame, function (err, downSpriteFrame) {
                if (err) {
                    cc.log("load " + frameUrl + " error : " + err);
                    if (failCallback) {
                        failCallback();
                    }
                    return;
                }
                if (successCallback) {
                    successCallback(downSpriteFrame);
                }
            }.bind(this));
        }
    };
    MKUtils.loadSoundEffect = function (url) {
        var gameloadSound = cc.sys.localStorage.getItem("gameloadSound");
        // if (gameloadSound && gameloadSound == "1") {
        //     DataManager.getInstance().setIsPlaySound(false);
        // } else {
        //     DataManager.getInstance().setIsPlaySound(true);
        // }
        // if (!DataManager.getInstance().getIsPlaySound()) {
        //     return
        // }
        var audioClip = cc.loader.getRes(url, cc.AudioClip);
        if (audioClip) {
            if (!MKUtils.effectIsOpen()) {
                return;
            }
            cc.audioEngine.play(audioClip, false, 1);
        }
        else {
            cc.loader.loadRes(url, function (errorMessage, loadedResource) {
                if (errorMessage) {
                    cc.log('载入预制资源失败, 原因:' + errorMessage);
                    return;
                }
                if (!(loadedResource instanceof cc.AudioClip)) {
                    cc.log('你载入的不是声音资源!');
                    return;
                }
                if (!MKUtils.effectIsOpen()) {
                    return;
                }
                cc.audioEngine.play(loadedResource, false, 1);
            }.bind(this));
        }
    };
    MKUtils.loadSoundMusic = function (url) {
        var gameloadMusic = cc.sys.localStorage.getItem("gameloadMusic");
        // if (gameloadMusic && gameloadMusic == "1") {
        //     DataManager.getInstance().setIsPlayMusic(false);
        // } else {
        //     DataManager.getInstance().setIsPlayMusic(true);
        // }
        // if (!DataManager.getInstance().getIsPlayMusic()) {
        //     return
        // }
        cc.sys.localStorage.setItem("MusicPlayUrl", url);
        var audioClip = cc.loader.getRes(url, cc.AudioClip);
        if (audioClip) {
            if (!MKUtils.musicIsOpen()) {
                return;
            }
            cc.audioEngine.playMusic(audioClip, true);
        }
        else {
            cc.loader.loadRes(url, function (errorMessage, loadedResource) {
                if (errorMessage) {
                    cc.log('载入预制资源失败, 原因:' + errorMessage);
                    return;
                }
                if (!(loadedResource instanceof cc.AudioClip)) {
                    cc.log('你载入的不是声音资源!');
                    return;
                }
                if (!MKUtils.musicIsOpen()) {
                    return;
                }
                cc.audioEngine.playMusic(loadedResource, true);
                // DataManager.getInstance().isNeverPlayMusic = true
            }.bind(this));
        }
    };
    MKUtils.stopMusic = function () {
        cc.sys.localStorage.setItem("MusicPlayUrl", "");
        cc.audioEngine.stopMusic();
    };
    MKUtils.setEffect = function (open) {
        cc.sys.localStorage.setItem("EffectSwitch", (open ? "1" : "0"));
        if (!open) {
            cc.audioEngine.stopAllEffects();
        }
    };
    MKUtils.effectIsOpen = function () {
        return cc.sys.localStorage.getItem("EffectSwitch") != "0";
    };
    MKUtils.setMusic = function (open) {
        if (open == MKUtils.musicIsOpen()) {
            return;
        }
        cc.sys.localStorage.setItem("MusicSwitch", (open ? "1" : "0"));
        if (!open) {
            cc.audioEngine.stopMusic();
        }
        else {
            var MusicPlayUrl = cc.sys.localStorage.getItem("MusicPlayUrl");
            if (MusicPlayUrl && MusicPlayUrl != "") {
                MKUtils.loadSoundMusic(MusicPlayUrl);
            }
        }
    };
    MKUtils.musicIsOpen = function () {
        return cc.sys.localStorage.getItem("MusicSwitch") != "0";
    };
    MKUtils.setSound = function (open) {
        MKUtils.setEffect(open);
        MKUtils.setMusic(open);
    };
    MKUtils.preLoadSoundEffect = function (prefabUrl, successCallback, failCallback) {
        cc.loader.loadRes(prefabUrl, function (errorMessage, loadedResource) {
            if (errorMessage) {
                cc.log('载入预制资源失败, 原因:' + errorMessage);
                failCallback();
                return;
            }
            if (!(loadedResource instanceof cc.AudioClip)) {
                cc.log('你载入的不是声音资源!');
                return;
            }
            successCallback();
        }.bind(this));
    };
    MKUtils.loadSkeletonData = function (url, successCallback, failCallback) {
        console.log("2222222222", url);
        // let res = null;
        var res = cc.loader.getRes(url, sp.SkeletonData);
        console.log(res, "xxxxxxx", url);
        if (res && res != null) {
            if (successCallback) {
                console.log(res, "aaaaaaaaaaaaaaa", url);
                successCallback(res);
            }
        }
        else {
            console.log("33333333333333=", url);
            cc.loader.loadRes(url, sp.SkeletonData, function (errorMessage, res) {
                console.log("44444444444444", res);
                if (errorMessage) {
                    cc.log("load " + url + " error : " + errorMessage);
                    if (failCallback) {
                        failCallback();
                    }
                    return;
                }
                if (successCallback) {
                    successCallback(res);
                }
            }.bind(this));
        }
    };
    //重复利用node
    MKUtils.repeatPrefab = function (prefabUrl, parent, nodeName, successCallback, zIndex) {
        if (zIndex == undefined) {
            zIndex = 0;
        }
        var node = MKUtils.findNodeByName(parent, nodeName);
        if (node) {
            node.stopAllActions();
            node.active = true;
            node.zIndex = zIndex;
            successCallback(node);
        }
        else {
            MKUtils.loadPrefab(prefabUrl, function (prefab) {
                node = cc.instantiate(prefab);
                parent.addChild(node, zIndex, nodeName);
                successCallback(node);
            });
        }
    };
    MKUtils.repeatSpine = function (url, parent, nodeName, successCallback, zIndex) {
        if (zIndex == undefined) {
            zIndex = 0;
        }
        var node = MKUtils.findNodeByName(parent, nodeName);
        if (node) {
            node.stopAllActions();
            node.active = true;
            node.zIndex = zIndex;
            successCallback(node);
        }
        else {
            MKUtils.loadSkeletonData(url, function (spineres) {
                var node = new cc.Node();
                var spine = node.addComponent(sp.Skeleton);
                spine.skeletonData = spineres;
                spine.premultipliedAlpha = false;
                parent.addChild(node, zIndex, nodeName);
                successCallback(node);
            });
        }
    };
    // 顺时针角度
    MKUtils.getAngle = function (from, to) {
        var x = to.x - from.x;
        var y = to.y - from.y;
        var mathAngle = 90; //逆时针
        if (x == 0) {
            if (y >= 0) {
                mathAngle = 90;
            }
            else {
                mathAngle = 270;
            }
        }
        else {
            var tanAngle = Math.atan(y / x) * 180 / Math.PI;
            if (x > 0) {
                if (y >= 0) {
                    mathAngle = tanAngle;
                }
                else {
                    mathAngle = tanAngle + 360;
                }
            }
            else {
                mathAngle = tanAngle + 180;
            }
        }
        // cc.log("mathAngle = ", mathAngle)
        var cocosAngle = (360 - mathAngle + 90) % 360;
        // cc.log("cocosAngle = ", cocosAngle)
        return cocosAngle;
    };
    MKUtils.getUUID = function () {
        var UUIDStr = "game_only_uuid";
        var uuid = cc.sys.localStorage.getItem(UUIDStr);
        if (uuid) {
            return uuid;
        }
        uuid = "uuid_" + MKUtils.getCurOsTime() + "_" + MKUtils.randomNM(0, 999) + "_" + MKUtils.randomNM(0, 999);
        cc.sys.localStorage.setItem(UUIDStr, uuid);
        return uuid;
    };
    // 01:30
    MKUtils.tranTime1 = function (sec) {
        sec = Math.ceil(sec);
        if (sec <= 0) {
            return "00:00";
        }
        var min = Math.floor(sec / 60);
        var s = Math.floor((sec - min * 60));
        return "" + MKUtils.add0(min) + ":" + MKUtils.add0(s);
    };
    //1小时20分
    MKUtils.tranTime2 = function (sec) {
        if (sec <= 0) {
            return "0分";
        }
        var hour = Math.floor(sec / 3600);
        var min = Math.floor((sec - hour * 3600) / 60);
        var str = "";
        if (hour > 0) {
            str += ("" + hour + "小时");
        }
        if (min > 0) {
            str += ("" + min + "分钟");
        }
        return str;
    };
    MKUtils.add0 = function (m) {
        return m < 10 ? '0' + m : m;
    };
    MKUtils.isOneDay = function (time1, time2) {
        var data1 = new Date(time1);
        var data2 = new Date(time2);
        return data1.getFullYear() == data2.getFullYear() && data1.getMonth() == data2.getMonth() && data1.getDate() == data2.getDate();
    };
    MKUtils.tranDateHMS = function (time) {
        var date = new Date(time);
        return {
            hour: date.getHours(),
            min: date.getMinutes(),
            sec: date.getSeconds()
        };
    };
    MKUtils.changeProAct1 = function (sprite, num1, num2, time) {
        time = time || 0.5;
        var speed = (num2 - num1) / time;
        cc.director.getScheduler().unscheduleAllForTarget(sprite);
        cc.director.getScheduler().schedule(function (dt) {
            num1 = num1 + speed * dt;
            if (speed == 0 || (speed > 0 && num1 >= num2) || (speed < 0 && num1 <= num2)) {
                num1 = num2;
                cc.director.getScheduler().unscheduleAllForTarget(sprite);
            }
            sprite.fillRange = num1;
        }, sprite, 0);
    };
    MKUtils.changeNumLabelAct1 = function (label, num1, num2, callback, time) {
        time = time || 1;
        var speed = (num2 - num1) / time;
        cc.director.getScheduler().unscheduleAllForTarget(label);
        cc.director.getScheduler().schedule(function (dt) {
            num1 = num1 + speed * dt;
            if (speed == 0 || (speed > 0 && num1 >= num2) || (speed < 0 && num1 <= num2)) {
                num1 = num2;
                cc.director.getScheduler().unscheduleAllForTarget(label);
            }
            callback(num1);
        }, label, 0);
    };
    //取小数点后几位
    MKUtils.cutPoint = function (num, point) {
        var ten = Math.pow(10, Math.floor(point));
        return Math.floor(num * ten) / ten;
    };
    MKUtils.cutPointCeil = function (num, point) {
        var ten = Math.pow(10, Math.floor(point));
        return Math.ceil(num * ten) / ten;
    };
    MKUtils.tranNumOld = function (num) {
        var str = "";
        var showNum = 0;
        if (num < 0) {
            str = "" + Math.floor(num);
        }
        else if (num <= 9999) {
            str = "" + Math.round(num);
        }
        else if (num < 999500) {
            showNum = Math.round(num / 1000);
            str = "" + showNum + "A";
        }
        else if (num < 999500000) {
            showNum = Math.round(num / 1000000);
            str = "" + showNum + "B";
        }
        else if (num < 999500000000) {
            showNum = Math.round(num / 1000000000);
            str = "" + showNum + "C";
        }
        else {
            showNum = Math.round(num / 1000000000000);
            str = "" + showNum + "D";
        }
        return str;
    };
    MKUtils.tranNum = function (num, isFloat) {
        var str = "";
        var showNum = 0;
        if (num <= 0) {
            if (isFloat) {
                str = "" + num.toFixed(1);
            }
            else {
                str = "" + Math.floor(num);
            }
        }
        else if (num <= 9999) {
            if (isFloat) {
                str = "" + num.toFixed(1);
            }
            else {
                str = "" + Math.round(num);
            }
        }
        else {
            var syms = ['K', 'M', 'B', 'T', 'AA', 'AB', 'AC', 'AD', 'AE', 'AF', 'AG', 'AH', 'AI', 'AJ', 'AK', 'AL', 'AM', 'AN', 'AO', 'AP', 'AQ', 'AR', 'AS', 'AT', 'AU'];
            var maxNum = 999500;
            var cc = 1000;
            var index = -1;
            for (var i = 0; i < syms.length; i++) {
                if (num < maxNum) {
                    showNum = Math.round(num / cc);
                    str = "" + showNum + syms[i];
                    index = i;
                    break;
                }
                else {
                    maxNum *= 1000;
                    cc *= 1000;
                }
            }
            if (index == -1) {
                showNum = Math.round(num / cc);
                str = "" + showNum + "Z";
            }
        }
        return str;
    };
    MKUtils.split = function (str, s1) {
        var arr = str.split(s1);
        if (arr.length == 1 && arr[0] == "") {
            arr = [];
        }
        return arr;
    };
    MKUtils.getWorldPos = function (node) {
        return node.convertToWorldSpaceAR(cc.v2(0, 0)).add(cc.v2(-cc.winSize.width / 2, -cc.winSize.height / 2));
    };
    MKUtils.versionCompare = function (versionA, versionB) {
        var vA = versionA.split('.');
        var vB = versionB.split('.');
        for (var i = 0; i < vA.length; ++i) {
            var a = parseInt(vA[i]);
            var b = parseInt(vB[i] || 0);
            if (a === b) {
                continue;
            }
            else {
                return a - b;
            }
        }
        if (vB.length > vA.length) {
            return -1;
        }
        else {
            return 0;
        }
    };
    MKUtils.subName = function (str) {
        return (str.length > 6 ? (str.substring(0, 6) + "...") : str);
    };
    //scrollview item touchEnd
    MKUtils.itemOnTouchCall = function (node, callback) {
        var enable = false;
        node.on(cc.Node.EventType.TOUCH_START, function (e) {
            enable = true;
        });
        node.on(cc.Node.EventType.TOUCH_MOVE, function (e) {
            var moveY = Math.abs(e.touch._point.y - e.touch._startPoint.y);
            if (moveY > 10) {
                enable = false;
            }
        });
        node.on(cc.Node.EventType.TOUCH_END, function (e) {
            if (enable && callback) {
                callback();
            }
        });
    };
    MKUtils.fixProgress = function (progress) {
        if (progress < 0.05) {
            return 0;
        }
        if (progress < 0.1) {
            return 0.1;
        }
        return progress;
    };
    //时间转换 天时分 传入秒
    MKUtils.sencondsFormat = function (s) {
        if (s < 0) {
            return "0天0時0分";
        }
        var d = 24 * 3600;
        var day = Math.floor(s / d);
        var hour = Math.floor((s - day * d) / 3600);
        var minute = Math.floor((s - day * d - hour * 3600) / 60);
        // const sencond = s - day * d - hour * 3600 - minute * 60;
        var format = day + "天" + hour + "時" + minute + "分";
        return format;
    };
    //js去掉所有空格 \s表示查找空格带上加好表示连续的空格
    MKUtils.trimSpace = function (str) {
        var str1 = str.replace(/\s+/g, "");
        return str1;
    };
    // 计时器
    MKUtils.setNodeDelay = function (baseNode, delayTime, callback) {
        baseNode.runAction(cc.sequence(cc.delayTime(delayTime), cc.callFunc(function () {
            if (callback) {
                callback();
            }
        }.bind(this))));
    };
    //随机数组
    MKUtils.randomSort = function (a, b) {
        return Math.random() > 0.5 ? 1 : -1;
    };
    MKUtils.setStatsColor = function (font, background) {
        if (font === void 0) { font = cc.Color.WHITE; }
        if (background === void 0) { background = cc.color(0, 0, 0, 150); }
        var profiler = cc.find('PROFILER-NODE');
        if (!profiler)
            return cc.warn('未找到统计面板节点！');
        // 文字
        profiler.children.forEach(function (node) {
            // node.color = font;
            // node.getComponent(cc.Label).fontSize = 38
            // node.addComponent(cc.LabelOutline).color = cc.Color.WHITE;
        });
        // 背景
        var node = profiler.getChildByName('BACKGROUND');
        if (!node) {
            node = new cc.Node('BACKGROUND');
            profiler.addChild(node, cc.macro.MIN_ZINDEX);
            node.setContentSize(profiler.getBoundingBoxToWorld());
            node.setPosition(0, 0);
        }
        var graphics = node.getComponent(cc.Graphics) || node.addComponent(cc.Graphics);
        graphics.clear();
        graphics.rect(-5, 12.5, node.width + 10, 120);
        graphics.fillColor = background;
        graphics.fill();
    };
    /** 计算今天的0点时刻对应的时间戳（ms） */
    MKUtils.calculNowDayStartTimeStamp = function () {
        // 1. 获取当前时间戳 - 秒
        var currTs = Date.now() / 1000;
        // 2. 获取日总秒数 = 时*分*秒
        var dayTs = 24 * 60 * 60;
        // 3. 求总天数
        var dayTotal = Math.floor(currTs / dayTs);
        // 4. 求出当日开始时秒数
        var dayZeroTs = dayTotal * dayTs;
        // 5. 去掉时差(返回的是分)，需要转成秒
        var offset = new Date().getTimezoneOffset() * 60; // -480
        var curStartSecond = (dayZeroTs + offset) * 1000;
        return curStartSecond;
    };
    MKUtils.currentTipsList = [];
    return MKUtils;
}());
exports.default = MKUtils;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtJQUFBO0lBbzNCQSxDQUFDO0lBbDNCaUIsZ0JBQVEsR0FBdEI7UUFDSSxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDL0YsQ0FBQztJQUVhLGFBQUssR0FBbkI7UUFDSSxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVhLG9CQUFZLEdBQTFCO1FBQ0ksT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVhLGlCQUFTLEdBQXZCO1FBQ0ksT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFYSxzQkFBYyxHQUE1QixVQUE2QixJQUFJLEVBQUUsSUFBSTtRQUNuQyxJQUFJLElBQUksRUFBRTtZQUNOLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdkMsSUFBSSxNQUFNLEVBQUU7Z0JBQ1IsT0FBTyxNQUFNLENBQUE7YUFD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LFNBQVMsR0FBRyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDakQsT0FBTyxjQUFjLENBQUM7SUFDMUIsQ0FBQztJQXhxQmMsdUJBQWUsR0FBRyxFQUFFLENBQUM7SUF5cUJ4QyxjQUFDO0NBcDNCRCxBQW8zQkMsSUFBQTtrQkFwM0JvQixPQUFPIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTUtVdGlscyB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpc05hdGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gKGNjLnN5cy5pc05hdGl2ZSkgJiYgKGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfSU9TIHx8IGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfQU5EUk9JRCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpc0lPUygpIHtcclxuICAgICAgICByZXR1cm4gKGNjLnN5cy5pc05hdGl2ZSkgJiYgKGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfSU9TKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGlzV2VjaGF0R2FtZSgpIHtcclxuICAgICAgICByZXR1cm4gKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuV0VDSEFUX0dBTUUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaXNBbmRyb2lkKCkge1xyXG4gICAgICAgIHJldHVybiAoY2Muc3lzLmlzTmF0aXZlKSAmJiAoY2Muc3lzLm9zID09IGNjLnN5cy5PU19BTkRST0lEKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZpbmROb2RlQnlOYW1lKHJvb3QsIG5hbWUpIHtcclxuICAgICAgICBpZiAocm9vdCkge1xyXG4gICAgICAgICAgICBsZXQgd2lkZ2V0ID0gcm9vdC5nZXRDaGlsZEJ5TmFtZShuYW1lKTtcclxuICAgICAgICAgICAgaWYgKHdpZGdldCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpZGdldFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkcmVuID0gcm9vdC5jaGlsZHJlblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYyBvZiBjaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZGdldCA9IE1LVXRpbHMuZmluZE5vZGVCeU5hbWUoYywgbmFtZSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3aWRnZXRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgLy/ojrflj5blsY/luZXmmL7npLrljLrln5/lsLrlr7hcclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0U2hvd1NpemUoKSB7XHJcbiAgICAgICAgbGV0IGNhbnZhc1NpemUgPSBjYy52aWV3LmdldENhbnZhc1NpemUoKVxyXG4gICAgICAgIGxldCB3aW5TaXplID0gY2Mud2luU2l6ZVxyXG4gICAgICAgIGxldCBzaG93U2l6ZSA9IGNjLnNpemUod2luU2l6ZS53aWR0aCwgd2luU2l6ZS5oZWlnaHQpXHJcbiAgICAgICAgbGV0IGNhbnZhc1BybyA9IGNhbnZhc1NpemUud2lkdGggLyBjYW52YXNTaXplLmhlaWdodFxyXG4gICAgICAgIGxldCB3aW5Qcm8gPSB3aW5TaXplLndpZHRoIC8gd2luU2l6ZS5oZWlnaHRcclxuICAgICAgICBpZiAoY2FudmFzUHJvID4gd2luUHJvKSB7XHJcbiAgICAgICAgICAgIHNob3dTaXplLndpZHRoID0gd2luU2l6ZS5oZWlnaHQgKiBjYW52YXNQcm9cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzaG93U2l6ZS5oZWlnaHQgPSB3aW5TaXplLndpZHRoIC8gY2FudmFzUHJvXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzaG93U2l6ZVxyXG4gICAgfVxyXG5cclxuICAgIC8v6I635Y+W5pi+56S65Yy65Z+f5ZKM6K6+6K6h5bC65a+455qE5a696auY5q+U5L6LXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFNob3dTY2FsZSgpIHtcclxuICAgICAgICBsZXQgc2hvd1NpemUgPSBNS1V0aWxzLmdldFNob3dTaXplKClcclxuICAgICAgICBsZXQgd2luU2l6ZSA9IGNjLndpblNpemU7XHJcbiAgICAgICAgcmV0dXJuIGNjLnYyKHNob3dTaXplLndpZHRoIC8gd2luU2l6ZS53aWR0aCwgc2hvd1NpemUuaGVpZ2h0IC8gd2luU2l6ZS5oZWlnaHQpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBwbGF5U2NhbGVBbmkocGFyZW50OiBjYy5Ob2RlKSB7XHJcbiAgICAgICAgLy/nlYzpnaJsYXlvdXQg5bC65a+45LuOODAl5YiwMTEwJeWGjeWbnuWIsDEwMCVcclxuICAgICAgICBpZiAoIXBhcmVudCkgeyByZXR1cm4gfVxyXG4gICAgICAgIGxldCBwcmVTY2FsZSA9IHBhcmVudC5zY2FsZTtcclxuICAgICAgICBwYXJlbnQuc2NhbGUgPSBwcmVTY2FsZSAqIDAuMztcclxuICAgICAgICBwYXJlbnQucnVuQWN0aW9uKGNjLnNjYWxlVG8oMC4yLCBwcmVTY2FsZSAqIDEpLmVhc2luZyhjYy5lYXNlQmFja091dCgpKSlcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcGxheVNjYWxlQW5pMihwYXJlbnQ6IGNjLk5vZGUpIHtcclxuICAgICAgICAvL+eVjOmdomxheW91dCDlsLrlr7jku444MCXliLAxMTAl5YaN5Zue5YiwMTAwJVxyXG4gICAgICAgIGlmICghcGFyZW50KSB7IHJldHVybiB9XHJcbiAgICAgICAgbGV0IHByZVNjYWxlID0gcGFyZW50LnNjYWxlO1xyXG4gICAgICAgIHBhcmVudC5zY2FsZSA9IHByZVNjYWxlICogMC4zO1xyXG4gICAgICAgIHBhcmVudC5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4zLCBwcmVTY2FsZSAqIDEuMyksXHJcbiAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4zLCBwcmVTY2FsZSAqIDEpLmVhc2luZyhjYy5lYXNlQmFja0luT3V0KCkpLFxyXG4gICAgICAgICkpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBwbGF5U2NhbGVBbmlCaWcocGFyZW50OiBjYy5Ob2RlKSB7IC8vIOWkp+W5heW6pueahOe8qeaUvlxyXG4gICAgICAgIC8v55WM6Z2ibGF5b3V0IOWwuuWvuOS7jjgwJeWIsDExMCXlho3lm57liLAxMDAlXHJcbiAgICAgICAgaWYgKCFwYXJlbnQpIHsgcmV0dXJuIH1cclxuICAgICAgICBsZXQgcHJlU2NhbGUgPSBwYXJlbnQuc2NhbGU7XHJcbiAgICAgICAgcGFyZW50LnNjYWxlID0gcHJlU2NhbGUgKiAwLjM7XHJcbiAgICAgICAgbGV0IHNjYWxlMSA9IGNjLnNjYWxlVG8oMC4zLCBwcmVTY2FsZSAqIDEuMylcclxuICAgICAgICBsZXQgc2NhbGUyID0gY2Muc2NhbGVUbygwLjEsIHByZVNjYWxlICogMSlcclxuICAgICAgICBwYXJlbnQucnVuQWN0aW9uKGNjLnNlcXVlbmNlKHNjYWxlMSwgc2NhbGUyKSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHBsYXlTY2FsZUFuaVNtYWxsVG9Ob3JtYWwocGFyZW50OiBjYy5Ob2RlKSB7IC8vIOWkp+W5heW6pueahOe8qeaUvlxyXG4gICAgICAgIC8v55WM6Z2ibGF5b3V0IOWwuuWvuOS7jjgwJeWIsDExMCXlho3lm57liLAxMDAlXHJcbiAgICAgICAgaWYgKCFwYXJlbnQpIHsgcmV0dXJuIH1cclxuICAgICAgICBsZXQgcHJlU2NhbGUgPSBwYXJlbnQuc2NhbGU7XHJcbiAgICAgICAgcGFyZW50LnNjYWxlID0gMC4xO1xyXG4gICAgICAgIGxldCBzY2FsZTEgPSBjYy5zY2FsZVRvKDAuMywgcHJlU2NhbGUgKiAxLjEpXHJcbiAgICAgICAgbGV0IHNjYWxlMiA9IGNjLnNjYWxlVG8oMC4yLCBwcmVTY2FsZSAqIDEpXHJcbiAgICAgICAgcGFyZW50LnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShzY2FsZTEsIHNjYWxlMikpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBwbGF5QmxhY2tCZ0FjdChibGFja0JnOiBjYy5Ob2RlLCB0aW1lPzogYW55KSB7XHJcbiAgICAgICAgaWYgKCFibGFja0JnKSB7IHJldHVybiB9XHJcbiAgICAgICAgaWYgKHRpbWUgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRpbWUgPSAwLjJcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHByZU9wYWNpdHkgPSBibGFja0JnLm9wYWNpdHlcclxuICAgICAgICBibGFja0JnLm9wYWNpdHkgPSAwXHJcbiAgICAgICAgYmxhY2tCZy5ydW5BY3Rpb24oY2MuZmFkZVRvKHRpbWUsIHByZU9wYWNpdHkpKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGxheURpYWxvZ0FjdEJpZyhibGFja0JnOiBjYy5Ob2RlLCBiYXNlTm9kZTogY2MuTm9kZSkge1xyXG4gICAgICAgIE1LVXRpbHMucGxheUJsYWNrQmdBY3QoYmxhY2tCZywgMC4zKVxyXG4gICAgICAgIE1LVXRpbHMucGxheVNjYWxlQW5pQmlnKGJhc2VOb2RlKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcGxheURpYWxvZ0FjdChibGFja0JnOiBjYy5Ob2RlLCBiYXNlTm9kZTogY2MuTm9kZSkge1xyXG4gICAgICAgIE1LVXRpbHMucGxheUJsYWNrQmdBY3QoYmxhY2tCZylcclxuICAgICAgICBNS1V0aWxzLnBsYXlTY2FsZUFuaShiYXNlTm9kZSlcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcGxheURpYWxvZ0FjdDIoYmxhY2tCZzogY2MuTm9kZSwgYmFzZU5vZGU6IGNjLk5vZGUpIHtcclxuICAgICAgICBNS1V0aWxzLnBsYXlCbGFja0JnQWN0KGJsYWNrQmcpXHJcbiAgICAgICAgTUtVdGlscy5wbGF5U2NhbGVBbmkyKGJhc2VOb2RlKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYnRuU2NhbGVBY3QoYnRuOiBjYy5Ob2RlLCBzY2FsZT86IGFueSkge1xyXG4gICAgICAgIGlmICghYnRuKSB7IHJldHVybiB9XHJcbiAgICAgICAgYnRuLnN0b3BBbGxBY3Rpb25zKClcclxuICAgICAgICBsZXQgcHJlU2NhbGUgPSBzY2FsZSB8fCBidG4uc2NhbGVcclxuICAgICAgICBidG4ucnVuQWN0aW9uKGNjLnJlcGVhdEZvcmV2ZXIoY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4yLCAxLjEzICogcHJlU2NhbGUpLFxyXG4gICAgICAgICAgICBjYy5zY2FsZVRvKDAuMiwgMSAqIHByZVNjYWxlKSxcclxuICAgICAgICAgICAgY2MuZGVsYXlUaW1lKDAuNilcclxuICAgICAgICApKSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJ0blNjYWxlQWN0MShidG46IGNjLk5vZGUsIHNjYWxlPzogYW55KSB7XHJcbiAgICAgICAgaWYgKCFidG4pIHsgcmV0dXJuIH1cclxuICAgICAgICBsZXQgcHJlU2NhbGUgPSBzY2FsZSB8fCBidG4uc2NhbGVcclxuICAgICAgICBidG4ucnVuQWN0aW9uKGNjLnJlcGVhdEZvcmV2ZXIoY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgIGNjLmRlbGF5VGltZSgwLjUpLFxyXG4gICAgICAgICAgICBjYy5zY2FsZVRvKDAuMTgsIDEuMTUgKiBwcmVTY2FsZSksXHJcbiAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4xOCwgcHJlU2NhbGUpLFxyXG4gICAgICAgICAgICBjYy5zY2FsZVRvKDAuMTgsIDEuMTUgKiBwcmVTY2FsZSksXHJcbiAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4xOCwgcHJlU2NhbGUpLFxyXG4gICAgICAgICAgICBjYy5kZWxheVRpbWUoMC41KVxyXG4gICAgICAgICkpKVxyXG4gICAgfVxyXG5cclxuICAgIC8v5oyJ6ZKu54K55Ye757yp5pS+77yMYnRu5Li66Kem5pG455qEbm9kZe+8jGljb27kuLrnvKnmlL7mlYjmnpxub2RlXHJcbiAgICBwdWJsaWMgc3RhdGljIGFkZFRvdWNoKGJ0bjogY2MuTm9kZSwgaWNvbj86IGFueSwgc2NhbGVYPzogbnVtYmVyLCBzY2FsZVk/OiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoIWljb24pIHtcclxuICAgICAgICAgICAgaWNvbiA9IGJ0blxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHByZVNjYWxlWCA9IGJ0bi5zY2FsZVhcclxuICAgICAgICBsZXQgcHJlU2NhbGVZID0gYnRuLnNjYWxlWVxyXG5cclxuICAgICAgICBpZiAoc2NhbGVYKSB7XHJcbiAgICAgICAgICAgIHByZVNjYWxlWCA9IHNjYWxlWDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzY2FsZVkpIHtcclxuICAgICAgICAgICAgcHJlU2NhbGVZID0gc2NhbGVZO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnRuLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpY29uLnJ1bkFjdGlvbihjYy5zY2FsZVRvKDAuMSwgcHJlU2NhbGVYICogMS4xLCBwcmVTY2FsZVkgKiAxLjEpKVxyXG4gICAgICAgICAgICAvLyBpY29uLnNldFNjYWxlKHByZVNjYWxlWCoxLjEsIHByZVNjYWxlWSoxLjEpXHJcbiAgICAgICAgfS5iaW5kKGJ0biksIGJ0bilcclxuXHJcbiAgICAgICAgYnRuLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWNvbi5ydW5BY3Rpb24oY2Muc2NhbGVUbygwLjIsIHByZVNjYWxlWCwgcHJlU2NhbGVZKSlcclxuICAgICAgICAgICAgLy8gaWNvbi5zZXRTY2FsZShwcmVTY2FsZVgsIHByZVNjYWxlWSlcclxuICAgICAgICB9LmJpbmQoYnRuKSwgYnRuKVxyXG5cclxuICAgICAgICBidG4ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfQ0FOQ0VMLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpY29uLnJ1bkFjdGlvbihjYy5zY2FsZVRvKDAuMiwgcHJlU2NhbGVYLCBwcmVTY2FsZVkpKVxyXG4gICAgICAgICAgICAvLyBpY29uLnNldFNjYWxlKHByZVNjYWxlWCwgcHJlU2NhbGVZKVxyXG4gICAgICAgIH0uYmluZChidG4pLCBidG4pXHJcbiAgICB9XHJcblxyXG4gICAgLy8g5ZCN5a2X5pyA5aSn6ZW/5bqm5oiq5Y+WXHJcbiAgICBwdWJsaWMgc3RhdGljIG5hbWVNYXhDdXQoaW5wdXQ6IHN0cmluZywgbWF4TGVuOiBudW1iZXIpIHtcclxuICAgICAgICB2YXIgb3V0cHV0ID0gXCJcIjtcclxuICAgICAgICB2YXIgc3RybGVuID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjaCA9IGlucHV0W2ldO1xyXG4gICAgICAgICAgICBpZiAoY2guY2hhckNvZGVBdCgwKSA+IDI1NSkgLy/lpoLmnpzmmK/msYnlrZfvvIzliJnlrZfnrKbkuLLplb/luqbliqAyXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0cmxlbiArPSAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3RybGVuKys7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzdHJsZW4gPD0gbWF4TGVuKSB7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gY2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzdHJsZW4gPiBtYXhMZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dCArPSBcIi4uLlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH1cclxuICAgIHByaXZhdGUgc3RhdGljIGN1cnJlbnRUaXBzTGlzdCA9IFtdO1xyXG4gICAgcHVibGljIHN0YXRpYyBhbGVydFRpcHMoc3RyOiBzdHJpbmcsIHNob3dUaW1lPzogbnVtYmVyLCBjbG9zZUFjdD86IGJvb2xlYW4sIHRpcFR5cGU/OiBudW1iZXIpIHtcclxuXHJcbiAgICAgICAgbGV0IGlzU2hvdyA9IE1LVXRpbHMuY3VycmVudFRpcHNMaXN0LmZpbHRlcigodmFsdWUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gc3RyO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKGlzU2hvdy5sZW5ndGggPiAwKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICghc2hvd1RpbWUpIHsgc2hvd1RpbWUgPSAxLjIgfVxyXG4gICAgICAgIGxldCBwcmVmYWJVcmwgPSBcInByZWZhYi9jb21tb24vQWxlcnRUaXBzXCJcclxuICAgICAgICBjYy5sb2FkZXIubG9hZFJlcyhwcmVmYWJVcmwsIGZ1bmN0aW9uIChlcnJvck1lc3NhZ2UsIGxvYWRlZFJlc291cmNlKSB7XHJcbiAgICAgICAgICAgIE1LVXRpbHMuY3VycmVudFRpcHNMaXN0LnB1c2goc3RyKTtcclxuICAgICAgICAgICAgaWYgKGVycm9yTWVzc2FnZSkgeyBjYy5sb2coJ+i9veWFpemihOWItui1hOa6kOWksei0pSwg5Y6f5ZugOicgKyBlcnJvck1lc3NhZ2UpOyByZXR1cm47IH1cclxuICAgICAgICAgICAgaWYgKCEobG9hZGVkUmVzb3VyY2UgaW5zdGFuY2VvZiBjYy5QcmVmYWIpKSB7IGNjLmxvZygn5L2g6L295YWl55qE5LiN5piv6aKE5Yi26LWE5rqQIScpOyByZXR1cm47IH1cclxuICAgICAgICAgICAgdmFyIHByZWZhYiA9IGNjLmluc3RhbnRpYXRlKGxvYWRlZFJlc291cmNlKVxyXG4gICAgICAgICAgICBwcmVmYWIuZ2V0Q29tcG9uZW50KFwiQWxlcnRUaXBzXCIpLnNldFRpcHMoc3RyLCB0aXBUeXBlKVxyXG4gICAgICAgICAgICBjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLmFkZENoaWxkKHByZWZhYiwgOTk5OSlcclxuICAgICAgICAgICAgcHJlZmFiLnNldFBvc2l0aW9uKGNjLnYyKGNjLndpblNpemUud2lkdGggLyAyLCBjYy53aW5TaXplLmhlaWdodCAvIDIgLSAxMDApKVxyXG4gICAgICAgICAgICBpZiAoIWNsb3NlQWN0KSB7XHJcbiAgICAgICAgICAgICAgICBNS1V0aWxzLnBsYXlTY2FsZUFuaShwcmVmYWIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJlZmFiLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoc2hvd1RpbWUpLCBjYy5zcGF3bihjYy5tb3ZlQnkoMSwgMCwgNDAwKSwgY2MuZmFkZU91dCgxKSksIGNjLmNhbGxGdW5jKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzdHIgPSBwcmVmYWIuZ2V0Q29tcG9uZW50KFwiQWxlcnRUaXBzXCIpLmdldFRpcHMoKTtcclxuICAgICAgICAgICAgICAgIGxldCBpZHggPSAtMTtcclxuICAgICAgICAgICAgICAgIE1LVXRpbHMuY3VycmVudFRpcHNMaXN0LmZpbHRlcigodmFsdWUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBzdHIpIGlkeCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGlmIChpZHggPj0gMCkgTUtVdGlscy5jdXJyZW50VGlwc0xpc3Quc3BsaWNlKGlkeCwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJlZmFiLnJlbW92ZUZyb21QYXJlbnQoKVxyXG4gICAgICAgICAgICB9KSkpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvL+iOt+WPluW9k+WJjeezu+e7n+aXtumXtOaIsyjnp5IpXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEN1ck9zVGltZSgpIHtcclxuICAgICAgICBsZXQgY3VyVGltZSA9IG5ldyBEYXRlKClcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihjdXJUaW1lLmdldFRpbWUoKSAvIDEwMDApXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRDdXJPc01pbGxpc2Vjb25kKCkge1xyXG4gICAgICAgIGxldCBjdXJUaW1lID0gbmV3IERhdGUoKVxyXG4gICAgICAgIHJldHVybiBjdXJUaW1lLmdldFRpbWUoKVxyXG4gICAgfVxyXG5cclxuICAgIC8v55Sf5oiQbi1t6ZqP5py65pWwICDljIXmi6xu5ZKMbVxyXG4gICAgcHVibGljIHN0YXRpYyByYW5kb21OTShuOiBudW1iZXIsIG06IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBuICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG0gLSBuICsgMSkpXHJcbiAgICB9XHJcblxyXG4gICAgLy/nlJ/miJBuLW3pmo/mnLrmlbAgIOWMheaLrG7lkoxt77ya5rWu54K55pWwXHJcbiAgICBwdWJsaWMgc3RhdGljIHJhbmRvbU5NRihuOiBudW1iZXIsIG06IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBuICsgTWF0aC5yYW5kb20oKSAqIChtIC0gbilcclxuICAgIH1cclxuXHJcbiAgICAvL+mAgumFjeS4jeWQjOeJiOacrFxyXG4gICAgcHVibGljIHN0YXRpYyBjb21wYXJlVmVyc2lvbih2MSwgdjIpIHtcclxuICAgICAgICB2MSA9IHYxLnNwbGl0KCcuJylcclxuICAgICAgICB2MiA9IHYyLnNwbGl0KCcuJylcclxuICAgICAgICBjb25zdCBsZW4gPSBNYXRoLm1heCh2MS5sZW5ndGgsIHYyLmxlbmd0aClcclxuXHJcbiAgICAgICAgd2hpbGUgKHYxLmxlbmd0aCA8IGxlbikge1xyXG4gICAgICAgICAgICB2MS5wdXNoKCcwJylcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKHYyLmxlbmd0aCA8IGxlbikge1xyXG4gICAgICAgICAgICB2Mi5wdXNoKCcwJylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbnVtMSA9IHBhcnNlSW50KHYxW2ldKVxyXG4gICAgICAgICAgICBjb25zdCBudW0yID0gcGFyc2VJbnQodjJbaV0pXHJcbiAgICAgICAgICAgIGlmIChudW0xID4gbnVtMikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDFcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChudW0xIDwgbnVtMikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDBcclxuICAgIH1cclxuXHJcbiAgICAvL+aYvuekuui3kemprOeBr1xyXG4gICAgcHVibGljIHN0YXRpYyBzaG93QnJvYWQocG9zPzogY2MuVmVjMiwgaWQ/OiBhbnkpIHtcclxuICAgICAgICBsZXQgdyA9IE1LVXRpbHMuZ2V0U2hvd1NpemUoKS53aWR0aDtcclxuICAgICAgICBsZXQgaCA9IE1LVXRpbHMuZ2V0U2hvd1NpemUoKS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIGxldCBwcmVmYWJVcmwgPSBcInB1YmxpYy9wcmVmYWJzL0NvbW1vbkJyb2FkXCI7XHJcbiAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMocHJlZmFiVXJsLCBmdW5jdGlvbiAoZXJyb3JNZXNzYWdlLCBsb2FkZWRSZXNvdXJjZSkge1xyXG4gICAgICAgICAgICAvL+ajgOafpei1hOa6kOWKoOi9vVxyXG4gICAgICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7IGNjLmxvZygn6L295YWl6aKE5Yi26LWE5rqQ5aSx6LSlLCDljp/lm6A6JyArIGVycm9yTWVzc2FnZSk7IHJldHVybjsgfVxyXG4gICAgICAgICAgICBpZiAoIShsb2FkZWRSZXNvdXJjZSBpbnN0YW5jZW9mIGNjLlByZWZhYikpIHsgY2MubG9nKCfkvaDovb3lhaXnmoTkuI3mmK/pooTliLbotYTmupAhJyk7IHJldHVybjsgfVxyXG4gICAgICAgICAgICAvL+W8gOWni+WunuS+i+WMlumihOWItui1hOa6kFxyXG4gICAgICAgICAgICB2YXIgcHJlZmFiID0gY2MuaW5zdGFudGlhdGUobG9hZGVkUmVzb3VyY2UpO1xyXG4gICAgICAgICAgICBpZiAocG9zKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVmYWIuc2V0UG9zaXRpb24ocG9zKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByZWZhYi5zZXRQb3NpdGlvbihjYy52Mih3LCBoIC0gNDApKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgYnJvYWRDb20gPSBwcmVmYWIuZ2V0Q29tcG9uZW50KFwiQ29tbW9uQnJvYWRcIik7XHJcbiAgICAgICAgICAgIGlmIChicm9hZENvbSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlkID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBicm9hZENvbS5zaG93QnJvYWQoaWQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBicm9hZENvbS5zaG93QnJvYWQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLmFkZENoaWxkKHByZWZhYiwgOTk5KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHR3b1BvaW50RGlzdGFuY2UocG9zMSwgcG9zMikge8KgwqDCoMKgwqDCoCAvLyDku45mb3Jt55qE6KGo5Y2V5Lit5YiG5Yir5o+Q5Y+W5Lik5Liq54K555qE5qiq44CB57q15Z2Q5qCHXHJcbiAgICAgICAgbGV0IHgxID0gcG9zMS54O8KgwqAgLy8g56ys5LiA5Liq54K555qE5qiq5Z2Q5qCHXHJcbiAgICAgICAgbGV0IHkxID0gcG9zMS55O8KgwqAgLy8g56ys5LiA5Liq54K555qE57q15Z2Q5qCHXHJcbiAgICAgICAgbGV0IHgyID0gcG9zMi54O8KgwqAgLy8g56ys5LqM5Liq54K555qE5qiq5Z2Q5qCHXHJcbiAgICAgICAgbGV0IHkyID0gcG9zMi55O8KgwqAgLy8g56ys5LqM5Liq54K555qE57q15Z2Q5qCHXHJcbiAgICAgICAgbGV0IHhkaWZmID0geDIgLSB4MTvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIC8vIOiuoeeul+S4pOS4queCueeahOaoquWdkOagh+S5i+W3rlxyXG4gICAgICAgIGxldCB5ZGlmZiA9IHkyIC0geTE7wqDCoMKgwqDCoMKgwqDCoMKgwqDCoCAvLyDorqHnrpfkuKTkuKrngrnnmoTnurXlnZDmoIfkuYvlt65cclxuICAgICAgICByZXR1cm4gTWF0aC5wb3coKHhkaWZmICogeGRpZmYgKyB5ZGlmZiAqIHlkaWZmKSwgMC41KTvCoMKgIC8vIOiuoeeul+S4pOeCueS5i+mXtOeahOi3neemu++8jOW5tuWwhue7k+aenOi/lOWbnuihqOWNleWFg+e0oFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZFByZWZhYihwcmVmYWJVcmwsIHN1Y2Nlc3NDYWxsYmFjaz86IGFueSwgZmFpbENhbGxiYWNrPzogYW55KSB7XHJcbiAgICAgICAgbGV0IHByZWZhYiA9IGNjLmxvYWRlci5nZXRSZXMocHJlZmFiVXJsLCBjYy5QcmVmYWIpXHJcbiAgICAgICAgaWYgKHByZWZhYiAmJiBwcmVmYWIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2socHJlZmFiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMocHJlZmFiVXJsLCBmdW5jdGlvbiAoZXJyb3JNZXNzYWdlLCBkb3duUHJlZmFiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MubG9nKFwibG9hZCBcIiArIHByZWZhYlVybCArIFwiIGVycm9yIDogXCIgKyBlcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWlsQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbENhbGxiYWNrKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3NDYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayhkb3duUHJlZmFiKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZERpcihmcmFtZVVybCwgc3VjY2Vzc0NhbGxiYWNrPzogYW55LCBmYWlsQ2FsbGJhY2s/OiBhbnksIHR5cGUgPSBjYy5TcHJpdGVGcmFtZSkge1xyXG4gICAgICAgIGNjLnJlc291cmNlcy5sb2FkRGlyKGZyYW1lVXJsLCB0eXBlLCBmdW5jdGlvbiAoZXJyLCBhc3NldHMpIHtcclxuICAgICAgICAgICAgLy8gLi4uXHJcbiAgICAgICAgICAgIGNjLmxvZyhcIj09PT09PT09PT09XCIsIGFzc2V0cyk7XHJcbiAgICAgICAgICAgIC8vIGlmKClcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGxvYWRTcHJpdGVGcmFtZShmcmFtZVVybCwgc3VjY2Vzc0NhbGxiYWNrPzogYW55LCBmYWlsQ2FsbGJhY2s/OiBhbnkpIHtcclxuICAgICAgICBsZXQgc3ByaXRlRnJhbWUgPSBjYy5sb2FkZXIuZ2V0UmVzKGZyYW1lVXJsLCBjYy5TcHJpdGVGcmFtZSlcclxuICAgICAgICBpZiAoc3ByaXRlRnJhbWUgJiYgc3ByaXRlRnJhbWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2soc3ByaXRlRnJhbWUpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlcyhmcmFtZVVybCwgY2MuU3ByaXRlRnJhbWUsIGZ1bmN0aW9uIChlcnIsIGRvd25TcHJpdGVGcmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLmxvZyhcImxvYWQgXCIgKyBmcmFtZVVybCArIFwiIGVycm9yIDogXCIgKyBlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWlsQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbENhbGxiYWNrKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3NDYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayhkb3duU3ByaXRlRnJhbWUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbG9hZFNvdW5kRWZmZWN0KHVybCkge1xyXG4gICAgICAgIGxldCBnYW1lbG9hZFNvdW5kID0gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZ2FtZWxvYWRTb3VuZFwiKVxyXG4gICAgICAgIC8vIGlmIChnYW1lbG9hZFNvdW5kICYmIGdhbWVsb2FkU291bmQgPT0gXCIxXCIpIHtcclxuICAgICAgICAvLyAgICAgRGF0YU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJc1BsYXlTb3VuZChmYWxzZSk7XHJcbiAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgRGF0YU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJc1BsYXlTb3VuZCh0cnVlKTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vIGlmICghRGF0YU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRJc1BsYXlTb3VuZCgpKSB7XHJcbiAgICAgICAgLy8gICAgIHJldHVyblxyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgbGV0IGF1ZGlvQ2xpcCA9IGNjLmxvYWRlci5nZXRSZXModXJsLCBjYy5BdWRpb0NsaXApXHJcbiAgICAgICAgaWYgKGF1ZGlvQ2xpcCkge1xyXG4gICAgICAgICAgICBpZiAoIU1LVXRpbHMuZWZmZWN0SXNPcGVuKCkpIHsgcmV0dXJuIH1cclxuICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucGxheShhdWRpb0NsaXAsIGZhbHNlLCAxKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHVybCwgZnVuY3Rpb24gKGVycm9yTWVzc2FnZSwgbG9hZGVkUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYy5sb2coJ+i9veWFpemihOWItui1hOa6kOWksei0pSwg5Y6f5ZugOicgKyBlcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghKGxvYWRlZFJlc291cmNlIGluc3RhbmNlb2YgY2MuQXVkaW9DbGlwKSkgeyBjYy5sb2coJ+S9oOi9veWFpeeahOS4jeaYr+WjsOmfs+i1hOa6kCEnKTsgcmV0dXJuOyB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIU1LVXRpbHMuZWZmZWN0SXNPcGVuKCkpIHsgcmV0dXJuIH1cclxuICAgICAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnBsYXkobG9hZGVkUmVzb3VyY2UsIGZhbHNlLCAxKVxyXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGxvYWRTb3VuZE11c2ljKHVybCkge1xyXG4gICAgICAgIGxldCBnYW1lbG9hZE11c2ljID0gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZ2FtZWxvYWRNdXNpY1wiKVxyXG4gICAgICAgIC8vIGlmIChnYW1lbG9hZE11c2ljICYmIGdhbWVsb2FkTXVzaWMgPT0gXCIxXCIpIHtcclxuICAgICAgICAvLyAgICAgRGF0YU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJc1BsYXlNdXNpYyhmYWxzZSk7XHJcbiAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgRGF0YU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZXRJc1BsYXlNdXNpYyh0cnVlKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gaWYgKCFEYXRhTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldElzUGxheU11c2ljKCkpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuXHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJNdXNpY1BsYXlVcmxcIiwgdXJsKVxyXG4gICAgICAgIGxldCBhdWRpb0NsaXAgPSBjYy5sb2FkZXIuZ2V0UmVzKHVybCwgY2MuQXVkaW9DbGlwKVxyXG4gICAgICAgIGlmIChhdWRpb0NsaXApIHtcclxuICAgICAgICAgICAgaWYgKCFNS1V0aWxzLm11c2ljSXNPcGVuKCkpIHsgcmV0dXJuIH1cclxuICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucGxheU11c2ljKGF1ZGlvQ2xpcCwgdHJ1ZSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlcyh1cmwsIGZ1bmN0aW9uIChlcnJvck1lc3NhZ2UsIGxvYWRlZFJlc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MubG9nKCfovb3lhaXpooTliLbotYTmupDlpLHotKUsIOWOn+WboDonICsgZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIShsb2FkZWRSZXNvdXJjZSBpbnN0YW5jZW9mIGNjLkF1ZGlvQ2xpcCkpIHsgY2MubG9nKCfkvaDovb3lhaXnmoTkuI3mmK/lo7Dpn7PotYTmupAhJyk7IHJldHVybjsgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFNS1V0aWxzLm11c2ljSXNPcGVuKCkpIHsgcmV0dXJuIH1cclxuICAgICAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnBsYXlNdXNpYyhsb2FkZWRSZXNvdXJjZSwgdHJ1ZSlcclxuICAgICAgICAgICAgICAgIC8vIERhdGFNYW5hZ2VyLmdldEluc3RhbmNlKCkuaXNOZXZlclBsYXlNdXNpYyA9IHRydWVcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzdG9wTXVzaWMoKSB7XHJcbiAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiTXVzaWNQbGF5VXJsXCIsIFwiXCIpXHJcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUuc3RvcE11c2ljKClcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldEVmZmVjdChvcGVuOiBib29sZWFuKSB7XHJcbiAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiRWZmZWN0U3dpdGNoXCIsIChvcGVuID8gXCIxXCIgOiBcIjBcIikpXHJcbiAgICAgICAgaWYgKCFvcGVuKSB7XHJcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnN0b3BBbGxFZmZlY3RzKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBlZmZlY3RJc09wZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkVmZmVjdFN3aXRjaFwiKSAhPSBcIjBcIlxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0TXVzaWMob3BlbjogYm9vbGVhbikge1xyXG4gICAgICAgIGlmIChvcGVuID09IE1LVXRpbHMubXVzaWNJc09wZW4oKSkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiTXVzaWNTd2l0Y2hcIiwgKG9wZW4gPyBcIjFcIiA6IFwiMFwiKSlcclxuICAgICAgICBpZiAoIW9wZW4pIHtcclxuICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUuc3RvcE11c2ljKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgTXVzaWNQbGF5VXJsID0gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiTXVzaWNQbGF5VXJsXCIpXHJcbiAgICAgICAgICAgIGlmIChNdXNpY1BsYXlVcmwgJiYgTXVzaWNQbGF5VXJsICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIE1LVXRpbHMubG9hZFNvdW5kTXVzaWMoTXVzaWNQbGF5VXJsKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbXVzaWNJc09wZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIk11c2ljU3dpdGNoXCIpICE9IFwiMFwiXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRTb3VuZChvcGVuOiBib29sZWFuKSB7XHJcbiAgICAgICAgTUtVdGlscy5zZXRFZmZlY3Qob3BlbilcclxuICAgICAgICBNS1V0aWxzLnNldE11c2ljKG9wZW4pXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBwcmVMb2FkU291bmRFZmZlY3QocHJlZmFiVXJsLCBzdWNjZXNzQ2FsbGJhY2s6IGFueSwgZmFpbENhbGxiYWNrPzogYW55KSB7XHJcbiAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMocHJlZmFiVXJsLCBmdW5jdGlvbiAoZXJyb3JNZXNzYWdlLCBsb2FkZWRSZXNvdXJjZSkge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBjYy5sb2coJ+i9veWFpemihOWItui1hOa6kOWksei0pSwg5Y6f5ZugOicgKyBlcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgZmFpbENhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEobG9hZGVkUmVzb3VyY2UgaW5zdGFuY2VvZiBjYy5BdWRpb0NsaXApKSB7IGNjLmxvZygn5L2g6L295YWl55qE5LiN5piv5aOw6Z+z6LWE5rqQIScpOyByZXR1cm47IH1cclxuICAgICAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKCk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGxvYWRTa2VsZXRvbkRhdGEodXJsLCBzdWNjZXNzQ2FsbGJhY2s/OiBhbnksIGZhaWxDYWxsYmFjaz86IGFueSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiMjIyMjIyMjIyMlwiLCB1cmwpO1xyXG4gICAgICAgIC8vIGxldCByZXMgPSBudWxsO1xyXG4gICAgICAgIGxldCByZXMgPSBjYy5sb2FkZXIuZ2V0UmVzKHVybCwgc3AuU2tlbGV0b25EYXRhKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcywgXCJ4eHh4eHh4XCIsIHVybCk7XHJcbiAgICAgICAgaWYgKHJlcyAmJiByZXMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMsIFwiYWFhYWFhYWFhYWFhYWFhXCIsIHVybCk7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2socmVzKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCIzMzMzMzMzMzMzMzMzMz1cIiwgdXJsKTtcclxuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXModXJsLCBzcC5Ta2VsZXRvbkRhdGEsIGZ1bmN0aW9uIChlcnJvck1lc3NhZ2UsIHJlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCI0NDQ0NDQ0NDQ0NDQ0NFwiLCByZXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yTWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLmxvZyhcImxvYWQgXCIgKyB1cmwgKyBcIiBlcnJvciA6IFwiICsgZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmFpbENhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWxDYWxsYmFjaygpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2socmVzKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+mHjeWkjeWIqeeUqG5vZGVcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVwZWF0UHJlZmFiKHByZWZhYlVybCwgcGFyZW50LCBub2RlTmFtZSwgc3VjY2Vzc0NhbGxiYWNrLCB6SW5kZXg/OiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoekluZGV4ID09IHVuZGVmaW5lZCkgeyB6SW5kZXggPSAwIH1cclxuICAgICAgICBsZXQgbm9kZTogY2MuTm9kZSA9IE1LVXRpbHMuZmluZE5vZGVCeU5hbWUocGFyZW50LCBub2RlTmFtZSlcclxuICAgICAgICBpZiAobm9kZSkge1xyXG4gICAgICAgICAgICBub2RlLnN0b3BBbGxBY3Rpb25zKClcclxuICAgICAgICAgICAgbm9kZS5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgICAgIG5vZGUuekluZGV4ID0gekluZGV4XHJcbiAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayhub2RlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIE1LVXRpbHMubG9hZFByZWZhYihwcmVmYWJVcmwsIGZ1bmN0aW9uIChwcmVmYWIpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUgPSBjYy5pbnN0YW50aWF0ZShwcmVmYWIpXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQuYWRkQ2hpbGQobm9kZSwgekluZGV4LCBub2RlTmFtZSlcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayhub2RlKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlcGVhdFNwaW5lKHVybCwgcGFyZW50LCBub2RlTmFtZSwgc3VjY2Vzc0NhbGxiYWNrLCB6SW5kZXg/OiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoekluZGV4ID09IHVuZGVmaW5lZCkgeyB6SW5kZXggPSAwIH1cclxuICAgICAgICBsZXQgbm9kZTogY2MuTm9kZSA9IE1LVXRpbHMuZmluZE5vZGVCeU5hbWUocGFyZW50LCBub2RlTmFtZSlcclxuICAgICAgICBpZiAobm9kZSkge1xyXG4gICAgICAgICAgICBub2RlLnN0b3BBbGxBY3Rpb25zKClcclxuICAgICAgICAgICAgbm9kZS5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgICAgIG5vZGUuekluZGV4ID0gekluZGV4XHJcbiAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayhub2RlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIE1LVXRpbHMubG9hZFNrZWxldG9uRGF0YSh1cmwsIGZ1bmN0aW9uIChzcGluZXJlczogc3AuU2tlbGV0b25EYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IG5ldyBjYy5Ob2RlKClcclxuICAgICAgICAgICAgICAgIGxldCBzcGluZSA9IG5vZGUuYWRkQ29tcG9uZW50KHNwLlNrZWxldG9uKVxyXG4gICAgICAgICAgICAgICAgc3BpbmUuc2tlbGV0b25EYXRhID0gc3BpbmVyZXNcclxuICAgICAgICAgICAgICAgIHNwaW5lLnByZW11bHRpcGxpZWRBbHBoYSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQuYWRkQ2hpbGQobm9kZSwgekluZGV4LCBub2RlTmFtZSlcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayhub2RlKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDpobrml7bpkojop5LluqZcclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QW5nbGUoZnJvbTogY2MuVmVjMiwgdG86IGNjLlZlYzIpIHtcclxuICAgICAgICBsZXQgeCA9IHRvLnggLSBmcm9tLnhcclxuICAgICAgICBsZXQgeSA9IHRvLnkgLSBmcm9tLnlcclxuICAgICAgICBsZXQgbWF0aEFuZ2xlID0gOTAgLy/pgIbml7bpkohcclxuICAgICAgICBpZiAoeCA9PSAwKSB7XHJcbiAgICAgICAgICAgIGlmICh5ID49IDApIHtcclxuICAgICAgICAgICAgICAgIG1hdGhBbmdsZSA9IDkwXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtYXRoQW5nbGUgPSAyNzBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCB0YW5BbmdsZSA9IE1hdGguYXRhbih5IC8geCkgKiAxODAgLyBNYXRoLlBJXHJcbiAgICAgICAgICAgIGlmICh4ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGhBbmdsZSA9IHRhbkFuZ2xlXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGhBbmdsZSA9IHRhbkFuZ2xlICsgMzYwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtYXRoQW5nbGUgPSB0YW5BbmdsZSArIDE4MFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjYy5sb2coXCJtYXRoQW5nbGUgPSBcIiwgbWF0aEFuZ2xlKVxyXG4gICAgICAgIGxldCBjb2Nvc0FuZ2xlID0gKDM2MCAtIG1hdGhBbmdsZSArIDkwKSAlIDM2MFxyXG4gICAgICAgIC8vIGNjLmxvZyhcImNvY29zQW5nbGUgPSBcIiwgY29jb3NBbmdsZSlcclxuICAgICAgICByZXR1cm4gY29jb3NBbmdsZVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VVVJRCgpIHtcclxuICAgICAgICBsZXQgVVVJRFN0ciA9IFwiZ2FtZV9vbmx5X3V1aWRcIlxyXG4gICAgICAgIGxldCB1dWlkID0gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFVVSURTdHIpXHJcbiAgICAgICAgaWYgKHV1aWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHV1aWRcclxuICAgICAgICB9XHJcbiAgICAgICAgdXVpZCA9IFwidXVpZF9cIiArIE1LVXRpbHMuZ2V0Q3VyT3NUaW1lKCkgKyBcIl9cIiArIE1LVXRpbHMucmFuZG9tTk0oMCwgOTk5KSArIFwiX1wiICsgTUtVdGlscy5yYW5kb21OTSgwLCA5OTkpXHJcbiAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFVVSURTdHIsIHV1aWQpXHJcbiAgICAgICAgcmV0dXJuIHV1aWRcclxuICAgIH1cclxuXHJcbiAgICAvLyAwMTozMFxyXG4gICAgcHVibGljIHN0YXRpYyB0cmFuVGltZTEoc2VjKSB7XHJcbiAgICAgICAgc2VjID0gTWF0aC5jZWlsKHNlYylcclxuICAgICAgICBpZiAoc2VjIDw9IDApIHsgcmV0dXJuIFwiMDA6MDBcIiB9XHJcbiAgICAgICAgbGV0IG1pbiA9IE1hdGguZmxvb3Ioc2VjIC8gNjApXHJcbiAgICAgICAgbGV0IHMgPSBNYXRoLmZsb29yKChzZWMgLSBtaW4gKiA2MCkpXHJcbiAgICAgICAgcmV0dXJuIFwiXCIgKyBNS1V0aWxzLmFkZDAobWluKSArIFwiOlwiICsgTUtVdGlscy5hZGQwKHMpXHJcbiAgICB9XHJcblxyXG4gICAgLy8x5bCP5pe2MjDliIZcclxuICAgIHB1YmxpYyBzdGF0aWMgdHJhblRpbWUyKHNlYykge1xyXG4gICAgICAgIGlmIChzZWMgPD0gMCkgeyByZXR1cm4gXCIw5YiGXCIgfVxyXG4gICAgICAgIGxldCBob3VyID0gTWF0aC5mbG9vcihzZWMgLyAzNjAwKVxyXG4gICAgICAgIGxldCBtaW4gPSBNYXRoLmZsb29yKChzZWMgLSBob3VyICogMzYwMCkgLyA2MClcclxuICAgICAgICBsZXQgc3RyID0gXCJcIlxyXG4gICAgICAgIGlmIChob3VyID4gMCkge1xyXG4gICAgICAgICAgICBzdHIgKz0gKFwiXCIgKyBob3VyICsgXCLlsI/ml7ZcIilcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1pbiA+IDApIHtcclxuICAgICAgICAgICAgc3RyICs9IChcIlwiICsgbWluICsgXCLliIbpkp9cIilcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0clxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYWRkMChtOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbSA8IDEwID8gJzAnICsgbSA6IG07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpc09uZURheSh0aW1lMSwgdGltZTIpIHtcclxuICAgICAgICBsZXQgZGF0YTEgPSBuZXcgRGF0ZSh0aW1lMSlcclxuICAgICAgICBsZXQgZGF0YTIgPSBuZXcgRGF0ZSh0aW1lMilcclxuICAgICAgICByZXR1cm4gZGF0YTEuZ2V0RnVsbFllYXIoKSA9PSBkYXRhMi5nZXRGdWxsWWVhcigpICYmIGRhdGExLmdldE1vbnRoKCkgPT0gZGF0YTIuZ2V0TW9udGgoKSAmJiBkYXRhMS5nZXREYXRlKCkgPT0gZGF0YTIuZ2V0RGF0ZSgpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyB0cmFuRGF0ZUhNUyh0aW1lKSB7XHJcbiAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lKVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGhvdXI6IGRhdGUuZ2V0SG91cnMoKSxcclxuICAgICAgICAgICAgbWluOiBkYXRlLmdldE1pbnV0ZXMoKSxcclxuICAgICAgICAgICAgc2VjOiBkYXRlLmdldFNlY29uZHMoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNoYW5nZVByb0FjdDEoc3ByaXRlOiBjYy5TcHJpdGUsIG51bTE6IG51bWJlciwgbnVtMjogbnVtYmVyLCB0aW1lPzogbnVtYmVyKSB7XHJcbiAgICAgICAgdGltZSA9IHRpbWUgfHwgMC41XHJcbiAgICAgICAgbGV0IHNwZWVkID0gKG51bTIgLSBudW0xKSAvIHRpbWVcclxuXHJcbiAgICAgICAgY2MuZGlyZWN0b3IuZ2V0U2NoZWR1bGVyKCkudW5zY2hlZHVsZUFsbEZvclRhcmdldChzcHJpdGUpXHJcbiAgICAgICAgY2MuZGlyZWN0b3IuZ2V0U2NoZWR1bGVyKCkuc2NoZWR1bGUoZnVuY3Rpb24gKGR0KSB7XHJcbiAgICAgICAgICAgIG51bTEgPSBudW0xICsgc3BlZWQgKiBkdFxyXG4gICAgICAgICAgICBpZiAoc3BlZWQgPT0gMCB8fCAoc3BlZWQgPiAwICYmIG51bTEgPj0gbnVtMikgfHwgKHNwZWVkIDwgMCAmJiBudW0xIDw9IG51bTIpKSB7XHJcbiAgICAgICAgICAgICAgICBudW0xID0gbnVtMlxyXG4gICAgICAgICAgICAgICAgY2MuZGlyZWN0b3IuZ2V0U2NoZWR1bGVyKCkudW5zY2hlZHVsZUFsbEZvclRhcmdldChzcHJpdGUpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3ByaXRlLmZpbGxSYW5nZSA9IG51bTFcclxuICAgICAgICB9LCBzcHJpdGUsIDApXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjaGFuZ2VOdW1MYWJlbEFjdDEobGFiZWw6IGNjLkxhYmVsLCBudW0xOiBudW1iZXIsIG51bTI6IG51bWJlciwgY2FsbGJhY2s6IGFueSwgdGltZT86IG51bWJlcikge1xyXG4gICAgICAgIHRpbWUgPSB0aW1lIHx8IDFcclxuICAgICAgICBsZXQgc3BlZWQgPSAobnVtMiAtIG51bTEpIC8gdGltZVxyXG5cclxuICAgICAgICBjYy5kaXJlY3Rvci5nZXRTY2hlZHVsZXIoKS51bnNjaGVkdWxlQWxsRm9yVGFyZ2V0KGxhYmVsKVxyXG4gICAgICAgIGNjLmRpcmVjdG9yLmdldFNjaGVkdWxlcigpLnNjaGVkdWxlKGZ1bmN0aW9uIChkdCkge1xyXG4gICAgICAgICAgICBudW0xID0gbnVtMSArIHNwZWVkICogZHRcclxuICAgICAgICAgICAgaWYgKHNwZWVkID09IDAgfHwgKHNwZWVkID4gMCAmJiBudW0xID49IG51bTIpIHx8IChzcGVlZCA8IDAgJiYgbnVtMSA8PSBudW0yKSkge1xyXG4gICAgICAgICAgICAgICAgbnVtMSA9IG51bTJcclxuICAgICAgICAgICAgICAgIGNjLmRpcmVjdG9yLmdldFNjaGVkdWxlcigpLnVuc2NoZWR1bGVBbGxGb3JUYXJnZXQobGFiZWwpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FsbGJhY2sobnVtMSlcclxuICAgICAgICB9LCBsYWJlbCwgMClcclxuICAgIH1cclxuXHJcbiAgICAvL+WPluWwj+aVsOeCueWQjuWHoOS9jVxyXG4gICAgcHVibGljIHN0YXRpYyBjdXRQb2ludChudW06IG51bWJlciwgcG9pbnQ6IG51bWJlcikge1xyXG4gICAgICAgIGxldCB0ZW4gPSBNYXRoLnBvdygxMCwgTWF0aC5mbG9vcihwb2ludCkpXHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtICogdGVuKSAvIHRlblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3V0UG9pbnRDZWlsKG51bTogbnVtYmVyLCBwb2ludDogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHRlbiA9IE1hdGgucG93KDEwLCBNYXRoLmZsb29yKHBvaW50KSlcclxuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bSAqIHRlbikgLyB0ZW5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHRyYW5OdW1PbGQobnVtOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgc3RyID0gXCJcIlxyXG4gICAgICAgIGxldCBzaG93TnVtID0gMFxyXG4gICAgICAgIGlmIChudW0gPCAwKSB7XHJcbiAgICAgICAgICAgIHN0ciA9IFwiXCIgKyBNYXRoLmZsb29yKG51bSlcclxuICAgICAgICB9IGVsc2UgaWYgKG51bSA8PSA5OTk5KSB7XHJcbiAgICAgICAgICAgIHN0ciA9IFwiXCIgKyBNYXRoLnJvdW5kKG51bSlcclxuICAgICAgICB9IGVsc2UgaWYgKG51bSA8IDk5OTUwMCkge1xyXG4gICAgICAgICAgICBzaG93TnVtID0gTWF0aC5yb3VuZChudW0gLyAxMDAwKVxyXG4gICAgICAgICAgICBzdHIgPSBcIlwiICsgc2hvd051bSArIFwiQVwiXHJcbiAgICAgICAgfSBlbHNlIGlmIChudW0gPCA5OTk1MDAwMDApIHtcclxuICAgICAgICAgICAgc2hvd051bSA9IE1hdGgucm91bmQobnVtIC8gMTAwMDAwMClcclxuICAgICAgICAgICAgc3RyID0gXCJcIiArIHNob3dOdW0gKyBcIkJcIlxyXG4gICAgICAgIH0gZWxzZSBpZiAobnVtIDwgOTk5NTAwMDAwMDAwKSB7XHJcbiAgICAgICAgICAgIHNob3dOdW0gPSBNYXRoLnJvdW5kKG51bSAvIDEwMDAwMDAwMDApXHJcbiAgICAgICAgICAgIHN0ciA9IFwiXCIgKyBzaG93TnVtICsgXCJDXCJcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzaG93TnVtID0gTWF0aC5yb3VuZChudW0gLyAxMDAwMDAwMDAwMDAwKVxyXG4gICAgICAgICAgICBzdHIgPSBcIlwiICsgc2hvd051bSArIFwiRFwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdHJcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHRyYW5OdW0obnVtOiBudW1iZXIsIGlzRmxvYXQ/OiBib29sZWFuKSB7XHJcbiAgICAgICAgbGV0IHN0ciA9IFwiXCJcclxuICAgICAgICBsZXQgc2hvd051bSA9IDBcclxuICAgICAgICBpZiAobnVtIDw9IDApIHtcclxuICAgICAgICAgICAgaWYgKGlzRmxvYXQpIHtcclxuICAgICAgICAgICAgICAgIHN0ciA9IFwiXCIgKyBudW0udG9GaXhlZCgxKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3RyID0gXCJcIiArIE1hdGguZmxvb3IobnVtKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChudW0gPD0gOTk5OSkge1xyXG4gICAgICAgICAgICBpZiAoaXNGbG9hdCkge1xyXG4gICAgICAgICAgICAgICAgc3RyID0gXCJcIiArIG51bS50b0ZpeGVkKDEpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdHIgPSBcIlwiICsgTWF0aC5yb3VuZChudW0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgc3ltcyA9IFsnSycsICdNJywgJ0InLCAnVCcsICdBQScsICdBQicsICdBQycsICdBRCcsICdBRScsICdBRicsICdBRycsICdBSCcsICdBSScsICdBSicsICdBSycsICdBTCcsICdBTScsICdBTicsICdBTycsICdBUCcsICdBUScsICdBUicsICdBUycsICdBVCcsICdBVSddXHJcbiAgICAgICAgICAgIGxldCBtYXhOdW0gPSA5OTk1MDBcclxuICAgICAgICAgICAgbGV0IGNjID0gMTAwMFxyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSAtMVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN5bXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChudW0gPCBtYXhOdW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBzaG93TnVtID0gTWF0aC5yb3VuZChudW0gLyBjYylcclxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBcIlwiICsgc2hvd051bSArIHN5bXNbaV1cclxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGlcclxuICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXhOdW0gKj0gMTAwMFxyXG4gICAgICAgICAgICAgICAgICAgIGNjICo9IDEwMDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHNob3dOdW0gPSBNYXRoLnJvdW5kKG51bSAvIGNjKVxyXG4gICAgICAgICAgICAgICAgc3RyID0gXCJcIiArIHNob3dOdW0gKyBcIlpcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc3RyXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzcGxpdChzdHIsIHMxKSB7XHJcbiAgICAgICAgbGV0IGFyciA9IHN0ci5zcGxpdChzMSlcclxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA9PSAxICYmIGFyclswXSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGFyciA9IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnJcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFdvcmxkUG9zKG5vZGU6IGNjLk5vZGUpIHtcclxuICAgICAgICByZXR1cm4gbm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoMCwgMCkpLmFkZChjYy52MigtY2Mud2luU2l6ZS53aWR0aCAvIDIsIC1jYy53aW5TaXplLmhlaWdodCAvIDIpKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgdmVyc2lvbkNvbXBhcmUodmVyc2lvbkEsIHZlcnNpb25CKSB7XHJcbiAgICAgICAgdmFyIHZBID0gdmVyc2lvbkEuc3BsaXQoJy4nKTtcclxuICAgICAgICB2YXIgdkIgPSB2ZXJzaW9uQi5zcGxpdCgnLicpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdkEubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdmFyIGEgPSBwYXJzZUludCh2QVtpXSk7XHJcbiAgICAgICAgICAgIHZhciBiID0gcGFyc2VJbnQodkJbaV0gfHwgMCk7XHJcbiAgICAgICAgICAgIGlmIChhID09PSBiKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodkIubGVuZ3RoID4gdkEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHN1Yk5hbWUoc3RyOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gKHN0ci5sZW5ndGggPiA2ID8gKHN0ci5zdWJzdHJpbmcoMCwgNikgKyBcIi4uLlwiKSA6IHN0cilcclxuICAgIH1cclxuXHJcbiAgICAvL3Njcm9sbHZpZXcgaXRlbSB0b3VjaEVuZFxyXG4gICAgcHVibGljIHN0YXRpYyBpdGVtT25Ub3VjaENhbGwobm9kZTogY2MuTm9kZSwgY2FsbGJhY2s/OiBhbnkpIHtcclxuICAgICAgICBsZXQgZW5hYmxlID0gZmFsc2VcclxuICAgICAgICBub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlbmFibGUgPSB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgICBub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGxldCBtb3ZlWSA9IE1hdGguYWJzKGUudG91Y2guX3BvaW50LnkgLSBlLnRvdWNoLl9zdGFydFBvaW50LnkpXHJcbiAgICAgICAgICAgIGlmIChtb3ZlWSA+IDEwKSB7IGVuYWJsZSA9IGZhbHNlIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIG5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZW5hYmxlICYmIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZml4UHJvZ3Jlc3MocHJvZ3Jlc3M6IG51bWJlcikge1xyXG4gICAgICAgIGlmIChwcm9ncmVzcyA8IDAuMDUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwcm9ncmVzcyA8IDAuMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gMC4xXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcHJvZ3Jlc3NcclxuICAgIH1cclxuXHJcbiAgICAvL+aXtumXtOi9rOaNoiDlpKnml7bliIYg5Lyg5YWl56eSXHJcbiAgICBwdWJsaWMgc3RhdGljIHNlbmNvbmRzRm9ybWF0KHM6IG51bWJlcikge1xyXG4gICAgICAgIGlmIChzIDwgMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCIw5aSpMOaZgjDliIZcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZCA9IDI0ICogMzYwMDtcclxuICAgICAgICBjb25zdCBkYXkgPSBNYXRoLmZsb29yKHMgLyBkKTtcclxuICAgICAgICBjb25zdCBob3VyID0gTWF0aC5mbG9vcigocyAtIGRheSAqIGQpIC8gMzYwMCk7XHJcbiAgICAgICAgY29uc3QgbWludXRlID0gTWF0aC5mbG9vcigocyAtIGRheSAqIGQgLSBob3VyICogMzYwMCkgLyA2MCk7XHJcbiAgICAgICAgLy8gY29uc3Qgc2VuY29uZCA9IHMgLSBkYXkgKiBkIC0gaG91ciAqIDM2MDAgLSBtaW51dGUgKiA2MDtcclxuICAgICAgICBjb25zdCBmb3JtYXQgPSBkYXkgKyBcIuWkqVwiICsgaG91ciArIFwi5pmCXCIgKyBtaW51dGUgKyBcIuWIhlwiO1xyXG4gICAgICAgIHJldHVybiBmb3JtYXQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy9qc+WOu+aOieaJgOacieepuuagvCBcXHPooajnpLrmn6Xmib7nqbrmoLzluKbkuIrliqDlpb3ooajnpLrov57nu63nmoTnqbrmoLxcclxuICAgIHB1YmxpYyBzdGF0aWMgdHJpbVNwYWNlKHN0cjogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IHN0cjEgPSBzdHIucmVwbGFjZSgvXFxzKy9nLCBcIlwiKVxyXG4gICAgICAgIHJldHVybiBzdHIxXHJcbiAgICB9XHJcblxyXG4gICAgLy8g6K6h5pe25ZmoXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldE5vZGVEZWxheShiYXNlTm9kZSwgZGVsYXlUaW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGJhc2VOb2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoZGVsYXlUaW1lKSwgY2MuY2FsbEZ1bmMoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSkpKVxyXG4gICAgfVxyXG4gICAgLy/pmo/mnLrmlbDnu4RcclxuICAgIHB1YmxpYyBzdGF0aWMgcmFuZG9tU29ydChhLCBiKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgPiAwLjUgPyAxIDogLTE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRTdGF0c0NvbG9yKGZvbnQ6IGNjLkNvbG9yID0gY2MuQ29sb3IuV0hJVEUsIGJhY2tncm91bmQ6IGNjLkNvbG9yID0gY2MuY29sb3IoMCwgMCwgMCwgMTUwKSkge1xyXG4gICAgICAgIGNvbnN0IHByb2ZpbGVyID0gY2MuZmluZCgnUFJPRklMRVItTk9ERScpO1xyXG4gICAgICAgIGlmICghcHJvZmlsZXIpIHJldHVybiBjYy53YXJuKCfmnKrmib7liLDnu5/orqHpnaLmnb/oioLngrnvvIEnKTtcclxuXHJcbiAgICAgICAgLy8g5paH5a2XXHJcbiAgICAgICAgcHJvZmlsZXIuY2hpbGRyZW4uZm9yRWFjaChub2RlID0+IHtcclxuICAgICAgICAgICAgLy8gbm9kZS5jb2xvciA9IGZvbnQ7XHJcbiAgICAgICAgICAgIC8vIG5vZGUuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5mb250U2l6ZSA9IDM4XHJcbiAgICAgICAgICAgIC8vIG5vZGUuYWRkQ29tcG9uZW50KGNjLkxhYmVsT3V0bGluZSkuY29sb3IgPSBjYy5Db2xvci5XSElURTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8g6IOM5pmvXHJcbiAgICAgICAgbGV0IG5vZGUgPSBwcm9maWxlci5nZXRDaGlsZEJ5TmFtZSgnQkFDS0dST1VORCcpO1xyXG4gICAgICAgIGlmICghbm9kZSkge1xyXG4gICAgICAgICAgICBub2RlID0gbmV3IGNjLk5vZGUoJ0JBQ0tHUk9VTkQnKTtcclxuICAgICAgICAgICAgcHJvZmlsZXIuYWRkQ2hpbGQobm9kZSwgY2MubWFjcm8uTUlOX1pJTkRFWCk7XHJcbiAgICAgICAgICAgIG5vZGUuc2V0Q29udGVudFNpemUocHJvZmlsZXIuZ2V0Qm91bmRpbmdCb3hUb1dvcmxkKCkpO1xyXG4gICAgICAgICAgICBub2RlLnNldFBvc2l0aW9uKDAsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBncmFwaGljcyA9IG5vZGUuZ2V0Q29tcG9uZW50KGNjLkdyYXBoaWNzKSB8fCBub2RlLmFkZENvbXBvbmVudChjYy5HcmFwaGljcyk7XHJcbiAgICAgICAgZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICBncmFwaGljcy5yZWN0KC01LCAxMi41LCBub2RlLndpZHRoICsgMTAsIDEyMCk7XHJcbiAgICAgICAgZ3JhcGhpY3MuZmlsbENvbG9yID0gYmFja2dyb3VuZDtcclxuICAgICAgICBncmFwaGljcy5maWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICAvKiog6K6h566X5LuK5aSp55qEMOeCueaXtuWIu+WvueW6lOeahOaXtumXtOaIs++8iG1z77yJICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNhbGN1bE5vd0RheVN0YXJ0VGltZVN0YW1wKCk6IG51bWJlciB7XHJcbiAgICAgICAgLy8gMS4g6I635Y+W5b2T5YmN5pe26Ze05oizIC0g56eSXHJcbiAgICAgICAgbGV0IGN1cnJUcyA9IERhdGUubm93KCkgLyAxMDAwO1xyXG5cclxuICAgICAgICAvLyAyLiDojrflj5bml6XmgLvnp5LmlbAgPSDml7Yq5YiGKuenklxyXG4gICAgICAgIGxldCBkYXlUcyA9IDI0ICogNjAgKiA2MDtcclxuXHJcbiAgICAgICAgLy8gMy4g5rGC5oC75aSp5pWwXHJcbiAgICAgICAgbGV0IGRheVRvdGFsID0gTWF0aC5mbG9vcihjdXJyVHMgLyBkYXlUcyk7XHJcblxyXG4gICAgICAgIC8vIDQuIOaxguWHuuW9k+aXpeW8gOWni+aXtuenkuaVsFxyXG4gICAgICAgIGxldCBkYXlaZXJvVHMgPSBkYXlUb3RhbCAqIGRheVRzO1xyXG5cclxuICAgICAgICAvLyA1LiDljrvmjonml7blt64o6L+U5Zue55qE5piv5YiGKe+8jOmcgOimgei9rOaIkOenklxyXG4gICAgICAgIGxldCBvZmZzZXQgPSBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2MDsgIC8vIC00ODBcclxuXHJcbiAgICAgICAgbGV0IGN1clN0YXJ0U2Vjb25kID0gKGRheVplcm9UcyArIG9mZnNldCkgKiAxMDAwO1xyXG4gICAgICAgIHJldHVybiBjdXJTdGFydFNlY29uZDtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/consts/ActionType.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f2646vcbsZDG69LcSwKcxKe', 'ActionType');
// src/game/consts/ActionType.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 人物行走动作
 */
var ActionType = {
    H_STAND: "bei-zhanli",
    H_STAND_FINISH: "bei-zhanli+daizi",
    H_STAND_BUY: "bei-zhuangdai",
    Q_STAND_LEFT: "zheng-zhanli-zuo",
    Q_STAND_RIGHT: "zheng-zhanli-you",
    Q_STAND_FINISH_LEFT: "zheng-zhanli+daizi-zuo",
    Q_STAND_FINISH_RIGHT: "zheng-zhanli+daizi-you",
    Q_STAND_BUY: "zheng-zhuangdai",
    Q_WALK: "zheng-zoulu",
    Q_WALK_FINISH: "zheng-zoulu+daizi",
    CASHIER_STAND: "bei-zhanli",
    CASHIER_SHOUYIN: "bei-shouyin",
    CASHIER_WALK: "zheng-zoulu",
};
exports.default = ActionType;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9jb25zdHMvQWN0aW9uVHlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztHQUVHO0FBQ0gsSUFBSSxVQUFVLEdBQUc7SUFDYixPQUFPLEVBQUUsWUFBWTtJQUNyQixjQUFjLEVBQUUsa0JBQWtCO0lBQ2xDLFdBQVcsRUFBRSxlQUFlO0lBRTVCLFlBQVksRUFBRSxrQkFBa0I7SUFDaEMsYUFBYSxFQUFFLGtCQUFrQjtJQUNqQyxtQkFBbUIsRUFBRSx3QkFBd0I7SUFDN0Msb0JBQW9CLEVBQUUsd0JBQXdCO0lBQzlDLFdBQVcsRUFBRSxpQkFBaUI7SUFDOUIsTUFBTSxFQUFFLGFBQWE7SUFDckIsYUFBYSxFQUFFLG1CQUFtQjtJQUVsQyxhQUFhLEVBQUUsWUFBWTtJQUMzQixlQUFlLEVBQUUsYUFBYTtJQUM5QixZQUFZLEVBQUUsYUFBYTtDQUM5QixDQUFBO0FBQ0Qsa0JBQWUsVUFBVSxDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOS6uueJqeihjOi1sOWKqOS9nFxyXG4gKi9cclxudmFyIEFjdGlvblR5cGUgPSB7XHJcbiAgICBIX1NUQU5EOiBcImJlaS16aGFubGlcIiwvL+iDjOWQjuermeeri1xyXG4gICAgSF9TVEFORF9GSU5JU0g6IFwiYmVpLXpoYW5saStkYWl6aVwiLC8v6IOM5ZCO56uZ56uLK+aLv+edgOiii+WtkFxyXG4gICAgSF9TVEFORF9CVVk6IFwiYmVpLXpodWFuZ2RhaVwiLC8v6IOM5ZCO56uZ56uLK+ijheiii+WtkFxyXG5cclxuICAgIFFfU1RBTkRfTEVGVDogXCJ6aGVuZy16aGFubGktenVvXCIsLy/mraPpnaLnq5nnq4sg5bemXHJcbiAgICBRX1NUQU5EX1JJR0hUOiBcInpoZW5nLXpoYW5saS15b3VcIiwvL+ato+mdouermeeriyDlj7NcclxuICAgIFFfU1RBTkRfRklOSVNIX0xFRlQ6IFwiemhlbmctemhhbmxpK2RhaXppLXp1b1wiLC8v5q2j6Z2i56uZ56uLK+aLv+edgOiii+WtkFxyXG4gICAgUV9TVEFORF9GSU5JU0hfUklHSFQ6IFwiemhlbmctemhhbmxpK2RhaXppLXlvdVwiLC8v5q2j6Z2i56uZ56uLK+aLv+edgOiii+WtkFxyXG4gICAgUV9TVEFORF9CVVk6IFwiemhlbmctemh1YW5nZGFpXCIsLy/mraPpnaLnq5nnq4sr6LSt5LmwXHJcbiAgICBRX1dBTEs6IFwiemhlbmctem91bHVcIiwvL+ato+mdoi3ooYzotbBcclxuICAgIFFfV0FMS19GSU5JU0g6IFwiemhlbmctem91bHUrZGFpemlcIiwvL+ato+mdoi3mi7/nnYDooovlrZDooYzotbBcclxuXHJcbiAgICBDQVNISUVSX1NUQU5EOiBcImJlaS16aGFubGlcIixcclxuICAgIENBU0hJRVJfU0hPVVlJTjogXCJiZWktc2hvdXlpblwiLFxyXG4gICAgQ0FTSElFUl9XQUxLOiBcInpoZW5nLXpvdWx1XCIsXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgQWN0aW9uVHlwZTsiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/consts/UIType.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fbe8bWphk5MTILAjW/MJXs1', 'UIType');
// src/game/consts/UIType.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LoaderType_1 = require("./LoaderType");
var UIType = /** @class */ (function () {
    function UIType() {
    }
    UIType.init = function () {
        LoaderType_1.default.addUIModule(this.gameView);
        LoaderType_1.default.addUIModule(this.settingView);
        LoaderType_1.default.addUIModule(this.loginDay);
        LoaderType_1.default.addUIModule(this.popView1);
        LoaderType_1.default.addUIModule(this.popGcView);
        LoaderType_1.default.addUIModule(this.popZlView);
        LoaderType_1.default.addUIModule(this.popJsView);
        LoaderType_1.default.addUIModule(this.popRewardView);
        LoaderType_1.default.addUIModule(this.cashierView);
        LoaderType_1.default.addUIModule(this.VegetablesUnlockView);
        LoaderType_1.default.addUIModule(this.VegetablesView);
        LoaderType_1.default.addUIModule(this.WarehouseView);
        LoaderType_1.default.addUIModule(this.LvUpView);
        LoaderType_1.default.addUIModule(this.LvUpPopView);
        LoaderType_1.default.addUIModule(this.LvUpCompleteView);
        LoaderType_1.default.addUIModule(this.clearPestView);
        LoaderType_1.default.addUIModule(this.flyBoxView);
        LoaderType_1.default.addUIModule(this.xfzsView);
        LoaderType_1.default.addUIModule(this.xfzsHelpView);
        LoaderType_1.default.addUIModule(this.orderView);
        LoaderType_1.default.addUIModule(this.orderCurrentView);
        LoaderType_1.default.addUIModule(this.orderQualityView);
        LoaderType_1.default.addUIModule(this.orderGiveUpView);
        LoaderType_1.default.addUIModule(this.orderGetScuessView);
        LoaderType_1.default.addUIModule(this.orderSuccessView);
        LoaderType_1.default.addUIModule(this.orderRewardView);
        LoaderType_1.default.addUIModule(this.orderHbView);
        LoaderType_1.default.addUIModule(this.getCropView);
        LoaderType_1.default.addUIModule(this.taskRewardView);
        LoaderType_1.default.addUIModule(this.levelView);
        LoaderType_1.default.addUIModule(this.levelPopView);
        LoaderType_1.default.addUIModule(this.hardView);
        LoaderType_1.default.addUIModule(this.hardOpenView);
        LoaderType_1.default.addUIModule(this.PopGetCropView);
        LoaderType_1.default.addUIModule(this.TaskView);
    };
    UIType.gameView = { mname: "main", uname: "GameMainView", isRelease: false, url: null, clickClose: false }; //网格
    // setting
    UIType.settingView = { mname: "setting", uname: "SettingView", isRelease: false, url: null, clickClose: false };
    // CashierView
    UIType.cashierView = { mname: "cashier", uname: "CashierView", isRelease: false, url: null, clickClose: false };
    UIType.loginDay = { mname: "loginDay", uname: "LoginDay", isRelease: false, url: null, clickClose: true };
    UIType.popView1 = { mname: "popView", uname: "PopView1", isRelease: false, url: null, clickClose: false };
    UIType.popGcView = { mname: "popView", uname: "PopGcView", isRelease: false, url: null, clickClose: false };
    UIType.popZlView = { mname: "popView", uname: "PopZlView", isRelease: false, url: null, clickClose: false };
    UIType.popJsView = { mname: "popView", uname: "PopJsView", isRelease: false, url: null, clickClose: false };
    UIType.popRewardView = { mname: "popView", uname: "PopRewardView", isRelease: false, url: null, clickClose: false };
    UIType.PopGetCropView = { mname: "popView", uname: "PopGetCropView", isRelease: false, url: null, clickClose: false };
    // vegetables
    UIType.VegetablesView = { mname: "vegetables", uname: "VegetablesView", isRelease: false, url: null, clickClose: false };
    // VegetablesUnlockView 
    UIType.VegetablesUnlockView = { mname: "vegetables", uname: "VegetablesUnlockView", isRelease: false, url: null, clickClose: false };
    // LvUpView
    UIType.LvUpView = { mname: "lvUp", uname: "LvUpView", isRelease: false, url: null, clickClose: false };
    UIType.LvUpPopView = { mname: "lvUp", uname: "LvUpPopView", isRelease: false, url: null, clickClose: false };
    UIType.LvUpCompleteView = { mname: "lvUp", uname: "LvUpCompleteView", isRelease: false, url: null, clickClose: false };
    //clearPest
    UIType.clearPestView = { mname: "clearPest", uname: "ClearPestView", isRelease: false, url: null, clickClose: false };
    //flyBox
    UIType.flyBoxView = { mname: "flyBox", uname: "FlyBoxView", isRelease: false, url: null, clickClose: false };
    //xfzs
    UIType.xfzsView = { mname: "xfzs", uname: "XfzsView", isRelease: false, url: null, clickClose: false };
    UIType.xfzsHelpView = { mname: "xfzs", uname: "XfzsHelpView", isRelease: false, url: null, clickClose: false };
    //order
    UIType.orderView = { mname: "order", uname: "OrderView", isRelease: false, url: null, clickClose: false };
    UIType.orderQualityView = { mname: "order", uname: "OrderQualityView", isRelease: false, url: null, clickClose: false };
    UIType.orderCurrentView = { mname: "order", uname: "OrderCurrentView", isRelease: false, url: null, clickClose: false };
    UIType.orderGiveUpView = { mname: "order", uname: "OrderGiveUpView", isRelease: false, url: null, clickClose: false };
    UIType.orderGetScuessView = { mname: "order", uname: "OrderGetScuessView", isRelease: false, url: null, clickClose: false };
    UIType.orderHbView = { mname: "order", uname: "OrderHbView", isRelease: false, url: null, clickClose: false };
    UIType.orderSuccessView = { mname: "order", uname: "OrderSuccessView", isRelease: false, url: null, clickClose: false };
    UIType.orderRewardView = { mname: "order", uname: "OrderRewardView", isRelease: false, url: null, clickClose: false };
    UIType.getCropView = { mname: "order", uname: "GetCropView", isRelease: false, url: null, clickClose: false };
    UIType.zhaoDaiView = { mname: "order", uname: "ZhaoDaiView", isRelease: false, url: null, clickClose: false };
    //TaskView
    UIType.TaskView = { mname: "task", uname: "TaskView", isRelease: false, url: null, clickClose: false };
    // taskRewardView
    UIType.taskRewardView = { mname: "task", uname: "TaskRewardView", isRelease: false, url: null, clickClose: false };
    // levelView
    UIType.levelView = { mname: "level", uname: "LevelView", isRelease: false, url: null, clickClose: false };
    UIType.levelPopView = { mname: "level", uname: "LevelPopView", isRelease: false, url: null, clickClose: false };
    UIType.hardView = { mname: "hbPop", uname: "HardView", isRelease: false, url: null, clickClose: false };
    UIType.hardOpenView = { mname: "hbPop", uname: "HardOpenView", isRelease: false, url: null, clickClose: false };
    // warehouse
    UIType.WarehouseView = { mname: "warehouse", uname: "WarehouseView", isRelease: false, url: null, clickClose: false };
    return UIType;
}());
exports.default = UIType;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9jb25zdHMvVUlUeXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQXNDO0FBRXRDO0lBQUE7SUFtR0EsQ0FBQztJQXZDVSxXQUFJLEdBQVg7UUFDSSxvQkFBVSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEMsb0JBQVUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3pDLG9CQUFVLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN0QyxvQkFBVSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEMsb0JBQVUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3ZDLG9CQUFVLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN2QyxvQkFBVSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdkMsb0JBQVUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzNDLG9CQUFVLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN6QyxvQkFBVSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUNsRCxvQkFBVSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDNUMsb0JBQVUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzNDLG9CQUFVLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN0QyxvQkFBVSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDekMsb0JBQVUsQ0FBQyxXQUFX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RUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxDQUFDO0lBRXpHLGVBQVEsR0FBRyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxDQUFDO0lBQ2pHLG1CQUFZLEdBQUcsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsQ0FBQztJQUdoSCxZQUFZO0lBQ0wsb0JBQWEsR0FBRyxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFLGVBQWUsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxDQUFDO0lBMkMxSCxhQUFDO0NBbkdELEFBbUdDLElBQUE7a0JBbkdvQixNQUFNIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvYWRlclR5cGUgZnJvbSBcIi4vTG9hZGVyVHlwZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlUeXBlIHtcclxuXHJcblxyXG5cclxuICAgIHN0YXRpYyBnYW1lVmlldyA9IHsgbW5hbWU6IFwibWFpblwiLCB1bmFtZTogXCJHYW1lTWFpblZpZXdcIiwgaXNSZWxlYXNlOiBmYWxzZSwgdXJsOiBudWxsLCBjbGlja0Nsb3NlOiBmYWxzZSB9Ly/nvZHmoLxcclxuICAgIC8vIHNldHRpbmdcclxuICAgIHN0YXRpYyBzZXR0aW5nVmlldyA9IHsgbW5hbWU6IFwic2V0dGluZ1wiLCB1bmFtZTogXCJTZXR0aW5nVmlld1wiLCBpc1JlbGVhc2U6IGZhbHNlLCB1cmw6IG51bGwsIGNsaWNrQ2xvc2U6IGZhbHNlIH07XHJcbiAgICAvLyBDYXNoaWVyVmlld1xyXG4gICAgc3RhdGljIGNhc2hpZXJWaWV3ID0geyBtbmFtZTogXCJjYXNoaWVyXCIsIHVuYW1lOiBcIkNhc2hpZXJWaWV3XCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogZmFsc2UgfTtcclxuXHJcbiAgICBzdGF0aWMgbG9naW5EYXkgPSB7IG1uYW1lOiBcImxvZ2luRGF5XCIsIHVuYW1lOiBcIkxvZ2luRGF5XCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogdHJ1ZSB9O1xyXG4gICAgc3RhdGljIHBvcFZpZXcxID0geyBtbmFtZTogXCJwb3BWaWV3XCIsIHVuYW1lOiBcIlBvcFZpZXcxXCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogZmFsc2UgfTtcclxuICAgIHN0YXRpYyBwb3BHY1ZpZXcgPSB7IG1uYW1lOiBcInBvcFZpZXdcIiwgdW5hbWU6IFwiUG9wR2NWaWV3XCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogZmFsc2UgfTtcclxuICAgIHN0YXRpYyBwb3BabFZpZXcgPSB7IG1uYW1lOiBcInBvcFZpZXdcIiwgdW5hbWU6IFwiUG9wWmxWaWV3XCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogZmFsc2UgfTtcclxuICAgIHN0YXRpYyBwb3BKc1ZpZXcgPSB7IG1uYW1lOiBcInBvcFZpZXdcIiwgdW5hbWU6IFwiUG9wSnNWaWV3XCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogZmFsc2UgfTtcclxuICAgIHN0YXRpYyBwb3BSZXdhcmRWaWV3ID0geyBtbmFtZTogXCJwb3BWaWV3XCIsIHVuYW1lOiBcIlBvcFJld2FyZFZpZXdcIiwgaXNSZWxlYXNlOiBmYWxzZSwgdXJsOiBudWxsLCBjbGlja0Nsb3NlOiBmYWxzZSB9O1xyXG4gICAgc3RhdGljIFBvcEdldENyb3BWaWV3ID0geyBtbmFtZTogXCJwb3BWaWV3XCIsIHVuYW1lOiBcIlBvcEdldENyb3BWaWV3XCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogZmFsc2UgfTtcclxuICAgIC8vIHZlZ2V0YWJsZXNcclxuICAgIHN0YXRpYyBWZWdldGFibGVzVmlldyA9IHsgbW5hbWU6IFwidmVnZXRhYmxlc1wiLCB1bmFtZTogXCJWZWdldGFibGVzVmlld1wiLCBpc1JlbGVhc2U6IGZhbHNlLCB1cmw6IG51bGwsIGNsaWNrQ2xvc2U6IGZhbHNlIH07XHJcbiAgICAvLyBWZWdldGFibGVzVW5sb2NrVmlldyBcclxuICAgIHN0YXRpYyBWZWdldGFibGVzVW5sb2NrVmlldyA9IHsgbW5hbWU6IFwidmVnZXRhYmxlc1wiLCB1bmFtZTogXCJWZWdldGFibGVzVW5sb2NrVmlld1wiLCBpc1JlbGVhc2U6IGZhbHNlLCB1cmw6IG51bGwsIGNsaWNrQ2xvc2U6IGZhbHNlIH07XHJcbiAgICAvLyBMdlVwVmlld1xyXG4gICAgc3RhdGljIEx2VXBWaWV3ID0geyBtbmFtZTogXCJsdlVwXCIsIHVuYW1lOiBcIkx2VXBWaWV3XCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogZmFsc2UgfTtcclxuICAgIHN0YXRpYyBMdlVwUG9wVmlldyA9IHsgbW5hbWU6IFwibHZVcFwiLCB1bmFtZTogXCJMdlVwUG9wVmlld1wiLCBpc1JlbGVhc2U6IGZhbHNlLCB1cmw6IG51bGwsIGNsaWNrQ2xvc2U6IGZhbHNlIH07XHJcbiAgICBzdGF0aWMgTHZVcENvbXBsZXRlVmlldyA9IHsgbW5hbWU6IFwibHZVcFwiLCB1bmFtZTogXCJMdlVwQ29tcGxldGVWaWV3XCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogZmFsc2UgfTtcclxuICAgIC8vY2xlYXJQZXN0XHJcbiAgICBzdGF0aWMgY2xlYXJQZXN0VmlldyA9IHsgbW5hbWU6IFwiY2xlYXJQZXN0XCIsIHVuYW1lOiBcIkNsZWFyUGVzdFZpZXdcIiwgaXNSZWxlYXNlOiBmYWxzZSwgdXJsOiBudWxsLCBjbGlja0Nsb3NlOiBmYWxzZSB9O1xyXG4gICAgLy9mbHlCb3hcclxuICAgIHN0YXRpYyBmbHlCb3hWaWV3ID0geyBtbmFtZTogXCJmbHlCb3hcIiwgdW5hbWU6IFwiRmx5Qm94Vmlld1wiLCBpc1JlbGVhc2U6IGZhbHNlLCB1cmw6IG51bGwsIGNsaWNrQ2xvc2U6IGZhbHNlIH07XHJcbiAgICAvL3hmenNcclxuICAgIHN0YXRpYyB4ZnpzVmlldyA9IHsgbW5hbWU6IFwieGZ6c1wiLCB1bmFtZTogXCJYZnpzVmlld1wiLCBpc1JlbGVhc2U6IGZhbHNlLCB1cmw6IG51bGwsIGNsaWNrQ2xvc2U6IGZhbHNlIH07XHJcbiAgICBzdGF0aWMgeGZ6c0hlbHBWaWV3ID0geyBtbmFtZTogXCJ4ZnpzXCIsIHVuYW1lOiBcIlhmenNIZWxwVmlld1wiLCBpc1JlbGVhc2U6IGZhbHNlLCB1cmw6IG51bGwsIGNsaWNrQ2xvc2U6IGZhbHNlIH07XHJcbiAgICAvL29yZGVyXHJcbiAgICBzdGF0aWMgb3JkZXJWaWV3ID0geyBtbmFtZTogXCJvcmRlclwiLCB1bmFtZTogXCJPcmRlclZpZXdcIiwgaXNSZWxlYXNlOiBmYWxzZSwgdXJsOiBudWxsLCBjbGlja0Nsb3NlOiBmYWxzZSB9O1xyXG4gICAgc3RhdGljIG9yZGVyUXVhbGl0eVZpZXcgPSB7IG1uYW1lOiBcIm9yZGVyXCIsIHVuYW1lOiBcIk9yZGVyUXVhbGl0eVZpZXdcIiwgaXNSZWxlYXNlOiBmYWxzZSwgdXJsOiBudWxsLCBjbGlja0Nsb3NlOiBmYWxzZSB9O1xyXG4gICAgc3RhdGljIG9yZGVyQ3VycmVudFZpZXcgPSB7IG1uYW1lOiBcIm9yZGVyXCIsIHVuYW1lOiBcIk9yZGVyQ3VycmVudFZpZXdcIiwgaXNSZWxlYXNlOiBmYWxzZSwgdXJsOiBudWxsLCBjbGlja0Nsb3NlOiBmYWxzZSB9O1xyXG4gICAgc3RhdGljIG9yZGVyR2l2ZVVwVmlldyA9IHsgbW5hbWU6IFwib3JkZXJcIiwgdW5hbWU6IFwiT3JkZXJHaXZlVXBWaWV3XCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogZmFsc2UgfTtcclxuICAgIHN0YXRpYyBvcmRlckdldFNjdWVzc1ZpZXcgPSB7IG1uYW1lOiBcIm9yZGVyXCIsIHVuYW1lOiBcIk9yZGVyR2V0U2N1ZXNzVmlld1wiLCBpc1JlbGVhc2U6IGZhbHNlLCB1cmw6IG51bGwsIGNsaWNrQ2xvc2U6IGZhbHNlIH07XHJcbiAgICBzdGF0aWMgb3JkZXJIYlZpZXcgPSB7IG1uYW1lOiBcIm9yZGVyXCIsIHVuYW1lOiBcIk9yZGVySGJWaWV3XCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogZmFsc2UgfTtcclxuICAgIHN0YXRpYyBvcmRlclN1Y2Nlc3NWaWV3ID0geyBtbmFtZTogXCJvcmRlclwiLCB1bmFtZTogXCJPcmRlclN1Y2Nlc3NWaWV3XCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogZmFsc2UgfTtcclxuICAgIHN0YXRpYyBvcmRlclJld2FyZFZpZXcgPSB7IG1uYW1lOiBcIm9yZGVyXCIsIHVuYW1lOiBcIk9yZGVyUmV3YXJkVmlld1wiLCBpc1JlbGVhc2U6IGZhbHNlLCB1cmw6IG51bGwsIGNsaWNrQ2xvc2U6IGZhbHNlIH07XHJcbiAgICBzdGF0aWMgZ2V0Q3JvcFZpZXcgPSB7IG1uYW1lOiBcIm9yZGVyXCIsIHVuYW1lOiBcIkdldENyb3BWaWV3XCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogZmFsc2UgfTtcclxuICAgIHN0YXRpYyB6aGFvRGFpVmlldyA9IHsgbW5hbWU6IFwib3JkZXJcIiwgdW5hbWU6IFwiWmhhb0RhaVZpZXdcIiwgaXNSZWxlYXNlOiBmYWxzZSwgdXJsOiBudWxsLCBjbGlja0Nsb3NlOiBmYWxzZSB9O1xyXG4gICAgLy9UYXNrVmlld1xyXG4gICAgc3RhdGljIFRhc2tWaWV3ID0geyBtbmFtZTogXCJ0YXNrXCIsIHVuYW1lOiBcIlRhc2tWaWV3XCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogZmFsc2UgfTtcclxuICAgIC8vIHRhc2tSZXdhcmRWaWV3XHJcbiAgICBzdGF0aWMgdGFza1Jld2FyZFZpZXcgPSB7IG1uYW1lOiBcInRhc2tcIiwgdW5hbWU6IFwiVGFza1Jld2FyZFZpZXdcIiwgaXNSZWxlYXNlOiBmYWxzZSwgdXJsOiBudWxsLCBjbGlja0Nsb3NlOiBmYWxzZSB9O1xyXG4gICAgLy8gbGV2ZWxWaWV3XHJcbiAgICBzdGF0aWMgbGV2ZWxWaWV3ID0geyBtbmFtZTogXCJsZXZlbFwiLCB1bmFtZTogXCJMZXZlbFZpZXdcIiwgaXNSZWxlYXNlOiBmYWxzZSwgdXJsOiBudWxsLCBjbGlja0Nsb3NlOiBmYWxzZSB9O1xyXG4gICAgc3RhdGljIGxldmVsUG9wVmlldyA9IHsgbW5hbWU6IFwibGV2ZWxcIiwgdW5hbWU6IFwiTGV2ZWxQb3BWaWV3XCIsIGlzUmVsZWFzZTogZmFsc2UsIHVybDogbnVsbCwgY2xpY2tDbG9zZTogZmFsc2UgfTtcclxuICAgIFxyXG4gICAgc3RhdGljIGhhcmRWaWV3ID0geyBtbmFtZTogXCJoYlBvcFwiLCB1bmFtZTogXCJIYXJkVmlld1wiLCBpc1JlbGVhc2U6IGZhbHNlLCB1cmw6IG51bGwsIGNsaWNrQ2xvc2U6IGZhbHNlIH07XHJcbiAgICBzdGF0aWMgaGFyZE9wZW5WaWV3ID0geyBtbmFtZTogXCJoYlBvcFwiLCB1bmFtZTogXCJIYXJkT3BlblZpZXdcIiwgaXNSZWxlYXNlOiBmYWxzZSwgdXJsOiBudWxsLCBjbGlja0Nsb3NlOiBmYWxzZSB9O1xyXG5cclxuXHJcbiAgICAvLyB3YXJlaG91c2VcclxuICAgIHN0YXRpYyBXYXJlaG91c2VWaWV3ID0geyBtbmFtZTogXCJ3YXJlaG91c2VcIiwgdW5hbWU6IFwiV2FyZWhvdXNlVmlld1wiLCBpc1JlbGVhc2U6IGZhbHNlLCB1cmw6IG51bGwsIGNsaWNrQ2xvc2U6IGZhbHNlIH07XHJcblxyXG5cclxuXHJcbiAgICBzdGF0aWMgaW5pdCgpIHtcclxuICAgICAgICBMb2FkZXJUeXBlLmFkZFVJTW9kdWxlKHRoaXMuZ2FtZVZpZXcpO1xyXG4gICAgICAgIExvYWRlclR5cGUuYWRkVUlNb2R1bGUodGhpcy5zZXR0aW5nVmlldyk7XHJcbiAgICAgICAgTG9hZGVyVHlwZS5hZGRVSU1vZHVsZSh0aGlzLmxvZ2luRGF5KTtcclxuICAgICAgICBMb2FkZXJUeXBlLmFkZFVJTW9kdWxlKHRoaXMucG9wVmlldzEpO1xyXG4gICAgICAgIExvYWRlclR5cGUuYWRkVUlNb2R1bGUodGhpcy5wb3BHY1ZpZXcpO1xyXG4gICAgICAgIExvYWRlclR5cGUuYWRkVUlNb2R1bGUodGhpcy5wb3BabFZpZXcpO1xyXG4gICAgICAgIExvYWRlclR5cGUuYWRkVUlNb2R1bGUodGhpcy5wb3BKc1ZpZXcpO1xyXG4gICAgICAgIExvYWRlclR5cGUuYWRkVUlNb2R1bGUodGhpcy5wb3BSZXdhcmRWaWV3KTtcclxuICAgICAgICBMb2FkZXJUeXBlLmFkZFVJTW9kdWxlKHRoaXMuY2FzaGllclZpZXcpO1xyXG4gICAgICAgIExvYWRlclR5cGUuYWRkVUlNb2R1bGUodGhpcy5WZWdldGFibGVzVW5sb2NrVmlldyk7XHJcbiAgICAgICAgTG9hZGVyVHlwZS5hZGRVSU1vZHVsZSh0aGlzLlZlZ2V0YWJsZXNWaWV3KTtcclxuICAgICAgICBMb2FkZXJUeXBlLmFkZFVJTW9kdWxlKHRoaXMuV2FyZWhvdXNlVmlldyk7XHJcbiAgICAgICAgTG9hZGVyVHlwZS5hZGRVSU1vZHVsZSh0aGlzLkx2VXBWaWV3KTtcclxuICAgICAgICBMb2FkZXJUeXBlLmFkZFVJTW9kdWxlKHRoaXMuTHZVcFBvcFZpZXcpO1xyXG4gICAgICAgIExvYWRlclR5cGUuYWRkVUlNb2R1bGUodGhpcy5MdlVwQ29tcGxldGVWaWV3KTtcclxuICAgICAgICBMb2FkZXJUeXBlLmFkZFVJTW9kdWxlKHRoaXMuY2xlYXJQZXN0Vmlldyk7XHJcbiAgICAgICAgTG9hZGVyVHlwZS5hZGRVSU1vZHVsZSh0aGlzLmZseUJveFZpZXcpO1xyXG4gICAgICAgIExvYWRlclR5cGUuYWRkVUlNb2R1bGUodGhpcy54ZnpzVmlldyk7XHJcbiAgICAgICAgTG9hZGVyVHlwZS5hZGRVSU1vZHVsZSh0aGlzLnhmenNIZWxwVmlldyk7XHJcbiAgICAgICAgTG9hZGVyVHlwZS5hZGRVSU1vZHVsZSh0aGlzLm9yZGVyVmlldyk7XHJcbiAgICAgICAgTG9hZGVyVHlwZS5hZGRVSU1vZHVsZSh0aGlzLm9yZGVyQ3VycmVudFZpZXcpO1xyXG4gICAgICAgIExvYWRlclR5cGUuYWRkVUlNb2R1bGUodGhpcy5vcmRlclF1YWxpdHlWaWV3KTtcclxuICAgICAgICBMb2FkZXJUeXBlLmFkZFVJTW9kdWxlKHRoaXMub3JkZXJHaXZlVXBWaWV3KTtcclxuICAgICAgICBMb2FkZXJUeXBlLmFkZFVJTW9kdWxlKHRoaXMub3JkZXJHZXRTY3Vlc3NWaWV3KTtcclxuICAgICAgICBMb2FkZXJUeXBlLmFkZFVJTW9kdWxlKHRoaXMub3JkZXJTdWNjZXNzVmlldyk7XHJcbiAgICAgICAgTG9hZGVyVHlwZS5hZGRVSU1vZHVsZSh0aGlzLm9yZGVyUmV3YXJkVmlldyk7XHJcbiAgICAgICAgTG9hZGVyVHlwZS5hZGRVSU1vZHVsZSh0aGlzLm9yZGVySGJWaWV3KTtcclxuICAgICAgICBMb2FkZXJUeXBlLmFkZFVJTW9kdWxlKHRoaXMuZ2V0Q3JvcFZpZXcpO1xyXG4gICAgICAgIExvYWRlclR5cGUuYWRkVUlNb2R1bGUodGhpcy50YXNrUmV3YXJkVmlldyk7XHJcbiAgICAgICAgTG9hZGVyVHlwZS5hZGRVSU1vZHVsZSh0aGlzLmxldmVsVmlldyk7XHJcbiAgICAgICAgTG9hZGVyVHlwZS5hZGRVSU1vZHVsZSh0aGlzLmxldmVsUG9wVmlldyk7XHJcbiAgICAgICAgTG9hZGVyVHlwZS5hZGRVSU1vZHVsZSh0aGlzLmhhcmRWaWV3KTtcclxuICAgICAgICBMb2FkZXJUeXBlLmFkZFVJTW9kdWxlKHRoaXMuaGFyZE9wZW5WaWV3KTtcclxuICAgICAgICBMb2FkZXJUeXBlLmFkZFVJTW9kdWxlKHRoaXMuUG9wR2V0Q3JvcFZpZXcpO1xyXG5cclxuICAgICAgICBMb2FkZXJUeXBlLmFkZFVJTW9kdWxlKHRoaXMuVGFza1ZpZXcpO1xyXG4gICAgfVxyXG5cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/datas/PlayerModel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b6565X/qIRN8Yc8PKbNL1Ju', 'PlayerModel');
// src/game/datas/PlayerModel.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MusicManager_1 = require("../../framework/manager/MusicManager");
var EventDispath_1 = require("../../framework/message/EventDispath");
var EventType_1 = require("../../framework/message/EventType");
var SortUtils_1 = require("../../framework/tools/SortUtils");
var Utils_1 = require("../../framework/tools/Utils");
var PlayerData_1 = require("../datas/PlayerData");
var ConfigManager_1 = require("../manager/ConfigManager");
var EffectManager_1 = require("../manager/EffectManager");
var SDKManager_1 = require("../../framework/manager/SDKManager");
var CConst_1 = require("../consts/CConst");
var PlayerModel = /** @class */ (function () {
    function PlayerModel() {
        this.data = new PlayerData_1.default();
        this.auto_service_max = 30; //自动服务每日上限
        this.once_ripe_max = 30; //立即成熟每日上限
        this.offline_max = 360; //离线收益时长上限(分钟)
        this.offline_min = 10; //离线收益最小时长(分钟)
        this.luckyBg_interval = 3; //每X分钟会判定出现福袋
        this.luckyBg_rate = 1; //出现福袋的概率
        this.luckyBg_live_time = 1; //福袋持续显示分钟数
        this.luckyBg_get_max = 10; //每日福袋领取次数上限
        this.get_one_shopper_click = 5; //每X次点击手动招揽进场1个顾客
        this.one_click_shopper_max = 15; //每次一键招揽进场顾客数
        this.offlineLastTimestamp = 0; // 上次的离线收益时间戳，仅用于在登录时标记，避免被在计算收益之前频繁覆盖
        this.crop_get_num = 0; //收获次数
        this.put_on_crop_list = []; //上架货物信息存储
        this.sheleveList = [];
    }
    PlayerModel.instance = function () {
        if (!this._instance) {
            this._instance = new PlayerModel();
        }
        return this._instance;
    };
    //同步红包余额
    PlayerModel.prototype.getUserAmount = function () {
        SDKManager_1.default.getUserAmount();
    };
    PlayerModel.prototype.loadData = function () {
        this.data.getData();
        this.offlineLastTimestamp = this.data.offlineTimestamp;
        this.initPutCropList();
        if (this.data.orderCacheList.length <= 0)
            this.initOrderList();
    };
    //初始设施
    PlayerModel.prototype.initUiCfg = function () {
        //--------------------------------------货架
        var type = 0;
        if (this.data.shelvesCfgList.length == 0) {
            for (var i = 0; i < ConfigManager_1.default.shelves.length; i++) {
                var item = ConfigManager_1.default.shelves[i];
                var level = item.unlock_state == 1 ? 1 : 0;
                if (item.type != type)
                    this.data.shelvesCfgList.push(level);
                type = item.type;
            }
        }
        //--------------------------------------土地
        var fieldType = 0;
        if (this.data.fieldCfgList.length == 0) {
            for (var i = 0; i < ConfigManager_1.default.field.length; i++) {
                var item = ConfigManager_1.default.field[i];
                var level = item.unlock_state == 1 ? 1 : 0;
                var data = { id: item.id, type: item.type, state: item.unlock_state, cropState: 0, cropId: 0, lastTime: 0, level: level };
                if (item.type != fieldType)
                    this.data.fieldCfgList.push(data);
                fieldType = item.type;
            }
        }
        this.initUnlockCropList();
    };
    PlayerModel.prototype.initOrderList = function () {
        this.data.orderCacheList = ConfigManager_1.default.getOrderList();
    };
    //初始化解锁作物列表
    PlayerModel.prototype.initUnlockCropList = function () {
        if (this.data.unlockCropList.length == 0) {
            for (var i = 0; i < ConfigManager_1.default.crop.length; i++) {
                var crop = ConfigManager_1.default.crop[i];
                if (crop.unlock == 1) {
                    this.data.unlockCropList.push(crop.id);
                }
            }
        }
    };
    PlayerModel.prototype.getLevel = function () {
        return this.data.level;
    };
    PlayerModel.prototype.setLevel = function () {
        this.data.level++;
    };
    /************************仓库*******************************/
    PlayerModel.prototype.setHouseAddCrop = function (id, addNum) {
        var cropList = this.data.WareHouseConfig.cropList;
        var arr = cropList.filter(function (value, index) {
            return value.cropId == id;
        });
        var getNum = 1;
        if (arr.length > 0) {
            arr[0].num += addNum;
        }
        else {
            var cfg = { cropId: id, num: addNum, put_on_num: 0 };
            cropList.push(cfg);
        }
        this.data.saveWareHouseData();
        console.log("*****仓库存储数值*******", this.data.WareHouseConfig);
        EventDispath_1.default.send(EventType_1.EventType.UPDATE_SHELVE);
    };
    //仓库当前信息
    PlayerModel.prototype.getWarerHouseCfg = function () {
        return this.data.WareHouseConfig;
    };
    //仓库中拥有的数量
    PlayerModel.prototype.getHaveNumByID = function (id) {
        var list = this.getWarerHouseCfg().cropList;
        var num = 0;
        var arr = list.filter(function (item) {
            return item.cropId == id;
        });
        if (arr.length > 0)
            return arr[0].num;
        return 0;
    };
    //获取当前仓库存贮总值
    PlayerModel.prototype.getCurrentPutNum = function () {
        var list = this.getWarerHouseCfg().cropList;
        var num = 0;
        list.forEach(function (itme) {
            num += itme.num;
        });
        return num;
    };
    //仓库中作物减少
    PlayerModel.prototype.reduceCrop = function (id) {
        var list = this.getWarerHouseCfg().cropList;
        var arr = list.filter(function (item) {
            return item.cropId == id;
        });
        if (arr.length == 0)
            return;
        var crop = arr[0];
        crop.num--;
        crop.put_on_num--;
        if (crop.num <= 0) {
            var idx_1 = 0;
            list.filter(function (item, index) {
                if (item.cropId == crop.cropId) {
                    idx_1 = index;
                }
            });
            list.splice(idx_1, 1);
        }
        this.data.saveWareHouseData();
        this.updateCurrentOrder(id);
        console.log("*****仓库存储数值*******", this.data.WareHouseConfig);
    };
    //订单完成作物减少
    PlayerModel.prototype.orderReduceCrop = function (id, num) {
        var list = this.getWarerHouseCfg().cropList;
        var arr = list.filter(function (item) {
            return item.cropId == id;
        });
        if (arr.length == 0)
            return;
        var crop = arr[0];
        crop.num -= num;
        if (crop.num < crop.put_on_num) {
            crop.put_on_num = crop.num;
        }
        if (crop.num <= 0) {
            var idx_2 = 0;
            list.filter(function (item, index) {
                if (item.cropId == crop.cropId) {
                    idx_2 = index;
                }
            });
            list.splice(idx_2, 1);
        }
        this.data.saveWareHouseData();
        // this.updateCurrentOrder(id);
        console.log("*****仓库存储数值*******", this.data.WareHouseConfig);
    };
    /************************货架*******************************/
    //改变货架等级
    PlayerModel.prototype.changeShelveSkin = function (index, level) {
        this.data.uiConfig.shelvesList[index] = level;
        this.saveData();
        EventDispath_1.default.send(EventType_1.EventType.SHELVE_LEVEL_UPDATE, index);
    };
    //初始化上架作物列表
    PlayerModel.prototype.initPutCropList = function () {
        var shelveArr = this.data.uiConfig.shelvesList.filter(function (id) {
            return id != 0;
        });
        var list = this.getWarerHouseCfg().cropList;
        list.filter(function (item, index) {
            item.put_on_num = 0;
        });
        var shelveNum = shelveArr.length;
        var cropList = [];
        for (var i = 0; i < shelveNum; i++) {
            cropList.push(this.getRandomCrop(4));
        }
        console.log("上架数据：", cropList);
        this.put_on_crop_list = cropList;
    };
    /**
     * 随机获取仓库中的作物上架数组
     * @param num 所需上架数量
     * @returns
     */
    PlayerModel.prototype.getRandomCrop = function (num) {
        var list = this.getWarerHouseCfg().cropList;
        var arr = list.filter(function (item, index) {
            return item.num - item.put_on_num > 0;
        });
        if (arr.length == 0)
            return [];
        var crop = Utils_1.default.getRandomByArr(arr);
        if (crop.num - crop.put_on_num >= num) {
            var arr1 = [{ cropId: crop.cropId, put_on_num: num }];
            crop.put_on_num += num;
            return arr1;
        }
        var len = crop.num - crop.put_on_num;
        var arr2 = [{ cropId: crop.cropId, put_on_num: crop.num - crop.put_on_num }];
        crop.put_on_num += crop.num - crop.put_on_num;
        return arr2.concat(this.getRandomCrop(num - len));
    };
    /**
     *
     * @returns 获取单独需要上架作物
     */
    PlayerModel.prototype.getOneCrop = function () {
        var list = this.getWarerHouseCfg().cropList;
        var arr = list.filter(function (item, index) {
            return item.num - item.put_on_num > 0;
        });
        if (arr.length == 0)
            return null;
        var crop = Utils_1.default.getRandomByArr(arr);
        crop.put_on_num += 1;
        return crop;
    };
    //根据索引获取对应货架
    PlayerModel.prototype.getSheleveInfoByIndex = function (index) {
        return this.sheleveList[index];
    };
    /************************头部钱，钞票，满意度*******************************/
    PlayerModel.prototype.initMoney = function (value) {
        this.data.money = value;
        EventDispath_1.default.send(EventType_1.EventType.UPDATE_MONEY);
    };
    /**
     *
     * @param value 当前钱数（SDK获取，增加的数值）
     * @param add
     */
    PlayerModel.prototype.setMoney = function (value, add, startPoint) {
        if (startPoint === void 0) { startPoint = cc.v2(cc.winSize.width / 2, cc.winSize.height / 2); }
        this.data.money = value;
        EffectManager_1.default.playCoinFly(startPoint, 1, add);
    };
    PlayerModel.prototype.getMoney = function () {
        return this.data.money;
    };
    //钞票
    PlayerModel.prototype.setGold = function (value, parentType, startPoint) {
        if (parentType === void 0) { parentType = 0; }
        if (value > 0) {
            if (!startPoint)
                startPoint = cc.v2(cc.winSize.width / 2, cc.winSize.height / 2);
            if (parentType)
                EffectManager_1.default.playEffFly(startPoint, 2, value);
            else
                EffectManager_1.default.playCoinFly(startPoint, 2, value);
        }
        else
            EventDispath_1.default.send(EventType_1.EventType.UPDATE_GOLD, value);
    };
    PlayerModel.prototype.changeGold = function (value) {
        this.data.gold += value;
        this.saveData();
    };
    PlayerModel.prototype.getGold = function () {
        return this.data.gold;
    };
    //幸福指数
    PlayerModel.prototype.setXfzs = function (num, startPoint) {
        this.data.xfzs += num;
        if (!startPoint)
            startPoint = cc.v2(cc.winSize.width / 2, cc.winSize.height / 2);
        EffectManager_1.default.playCoinFly(startPoint, 3, num);
        // EventDispath.send(EventType.UPDATE_XFZS, num);
        this.saveData();
    };
    PlayerModel.prototype.getXfzs = function () {
        this.data.xfzs = Number(this.data.xfzs.toFixed(2));
        return this.data.xfzs;
    };
    /*
     * 获取当前最新解锁植物ID
     * @return 如果什么都没解锁，则返回-1；
     */
    PlayerModel.prototype.getNewCrop = function () {
        SortUtils_1.default.insertSort(this.data.unlockCropList);
        // console.log("种菜面板解锁列表", this.data.unlockCropList);
        // let len = this.data.unlockCropList.length;
        // if (len == 0) return -1;
        var order = this.getCurrentOrder();
        if (order) {
            var list = [];
            for (var i = 0; i < order.cropList.length; i++) {
                var item = order.cropList[i];
                if (item.cropId != 100) {
                    list.push(item.cropId);
                }
            }
            return Utils_1.default.getRandomByArr(list);
        }
        return Utils_1.default.getRandomByArr(this.data.unlockCropList);
    };
    //解锁新作物
    PlayerModel.prototype.setNewCrop = function (id) {
        this.data.unlockCropList.push(id);
        this.saveData();
    };
    //获得已解锁作物列表
    PlayerModel.prototype.getUnlockCrop = function () {
        return this.data.unlockCropList;
    };
    //检测是否解锁
    PlayerModel.prototype.checkCropUnlock = function (id) {
        var arr = this.data.unlockCropList.filter(function (idx, index) {
            return id == idx;
        });
        if (arr.length > 0)
            return true;
        return false;
    };
    PlayerModel.prototype.setSoundSwitch = function (val) {
        this.data.soundSwitch = val;
        MusicManager_1.default.initMusic();
        this.saveData();
    };
    PlayerModel.prototype.setSoundYinXiaoSwitch = function (v) {
        this.data.soundYinXiao = v;
        MusicManager_1.default.initMusic();
        this.saveData();
    };
    PlayerModel.prototype.getSoundYinXiaoSwitch = function () {
        return this.data.soundYinXiao;
    };
    PlayerModel.prototype.getPersonRecommSwitch = function () {
        return this.data.personRecommSwitch;
    };
    PlayerModel.prototype.SetPersonRecommSwitch = function (v) {
        this.data.personRecommSwitch = v;
        this.saveData();
    };
    //获取菜地列表
    PlayerModel.prototype.getFieldListCfg = function () {
        return this.data.fieldCfgList;
    };
    //改变菜地等级
    PlayerModel.prototype.changeFieldSkin = function (index, level) {
        var cfg = this.data.fieldCfgList[index];
        cfg.state = 1;
        cfg.level = level;
        cfg.id = cfg.type * 10 + level;
        this.saveData();
        EventDispath_1.default.send(EventType_1.EventType.FIELD_LEVEL_UPDATE, index);
    };
    //作物收获次数
    PlayerModel.prototype.getCropGetNum = function () {
        return this.data.cropGetNum;
    };
    PlayerModel.prototype.setCropGetNum = function (value) {
        this.data.cropGetNum += value;
        this.saveData();
    };
    // 成熟次数
    PlayerModel.prototype.getCropRipetimes = function () {
        return this.data.cropRipetimes;
    };
    PlayerModel.prototype.setCropRipetimes = function () {
        this.data.cropRipetimes++;
        this.saveData();
    };
    //重置成熟次数
    PlayerModel.prototype.resetCropRipeTimes = function () {
        this.data.cropRipetimes = 0;
        this.saveData();
    };
    Object.defineProperty(PlayerModel.prototype, "pestNum", {
        get: function () {
            return this.data.pestNum;
        },
        set: function (value) {
            this.data.pestNum = value;
            if (this.data.pestNum < 2) {
                this.resetCropRipeTimes();
            }
            this.saveData();
        },
        enumerable: false,
        configurable: true
    });
    //更新种植次数
    PlayerModel.prototype.setPlantNumById = function (id) {
        var arr = this.data.plantNumList.filter(function (item) {
            return item.id == id;
        });
        if (arr.length > 0) {
            arr[0].num += 1;
        }
        else {
            this.data.plantNumList.push({ id: id, num: 1 });
        }
        this.data.savePlantNum();
    };
    //获得种植次数
    PlayerModel.prototype.getPlantNumById = function (id) {
        var arr = this.data.plantNumList.filter(function (item) {
            return item.id == id;
        });
        if (arr.length > 0)
            return arr[0].num;
        return 0;
    };
    Object.defineProperty(PlayerModel.prototype, "cashierGold", {
        get: function () {
            return this.data.cashierGold;
        },
        /************************自动结账*******************************/
        //  收银台自动产出
        set: function (value) {
            this.data.cashierGold += value;
            this.data.setCashierGold();
        },
        enumerable: false,
        configurable: true
    });
    //获取收银台加倍剩余时间
    PlayerModel.prototype.getAddLastTime = function () {
        return this.data.cashierAddTime;
    };
    PlayerModel.prototype.setAddLastTime = function (value) {
        this.data.cashierAddTime = value;
        this.saveData();
    };
    //设置自动结账数据
    // setIsAutoSell(autoCfg?) {
    //     if (autoCfg) this.data.autoCfg = autoCfg;
    //     this.data.setIsAuto();
    // }
    // setIsAutoOfflineTime(value) {
    //     this.data.autoCfg.time = value;
    //     this.setIsAutoSell();
    // }
    // setIsAuto(value) {
    //     this.data.autoCfg.isAuto = value;
    //     this.setIsAutoSell();
    // }
    // setAutoLastTime(time) {
    //     this.data.autoCfg.lastTime = time;
    //     this.setIsAutoSell();
    // }
    /************************引导任务*******************************/
    PlayerModel.prototype.getGuideTaskCfg = function () {
        return this.data.guideTaskCfg;
    };
    //引导任务增加
    PlayerModel.prototype.setGuideTaskId = function () {
        // SDKManager.onEvent(Global.EVENT_ACTION.client_guide_task)
        this.data.guideTaskCfg.taskId++;
        this.data.guideTaskCfg.taskState = 0;
        this.saveData();
    };
    PlayerModel.prototype.changeGuideTaskState = function (state) {
        this.data.guideTaskCfg.taskState = state;
        this.saveData();
    };
    PlayerModel.prototype.saveData = function () {
        this.data.saveData();
        this.data.saveUiData();
    };
    PlayerModel.prototype.saveUiData = function () {
        this.data.saveUiData();
    };
    PlayerModel.prototype.resetData = function () {
        this.data.resetData();
    };
    PlayerModel.prototype.getSoundSwitch = function () {
        return this.data.soundSwitch;
    };
    PlayerModel.prototype.getUIConfig = function () {
        return this.data.uiConfig;
    };
    PlayerModel.prototype.setUiLv = function (index) {
        switch (index) {
            case 0:
                this.data.uiConfig.cashierlv++;
                EventDispath_1.default.send(EventType_1.EventType.CHANGE_CASHIER);
                break;
            case 1:
                this.data.uiConfig.pipelv++;
                EventDispath_1.default.send(EventType_1.EventType.CHANGE_PIPE);
                break;
            case 2:
                this.data.uiConfig.walllv++;
                EventDispath_1.default.send(EventType_1.EventType.CHANGE_WALL);
                break;
            case 3:
                this.data.uiConfig.roadlv++;
                EventDispath_1.default.send(EventType_1.EventType.CHANGE_ROAD);
                break;
            case 4:
                this.data.uiConfig.scarecrowlv++;
                EventDispath_1.default.send(EventType_1.EventType.CHANGE_SCARECROW);
                break;
            case 5:
                this.data.uiConfig.warehouselv++;
                EventDispath_1.default.send(EventType_1.EventType.CHANGE_WAREHOUSE);
                break;
            case 6:
                this.data.uiConfig.fencelv++;
                EventDispath_1.default.send(EventType_1.EventType.CHANGE_FENCE);
                break;
        }
        this.saveUiData();
    };
    /** 获取解锁的设施列表 */
    PlayerModel.prototype.getUnlockProps = function () {
        return this.data.hasProps;
    };
    /*
     * 解锁设施 注意这里存的是拼好的完整的id，是唯一的id,不是1、2、3、4、5、6、7
     * @param id: 完整的唯一索引id 如101、201、301
     */
    PlayerModel.prototype.unlockProps = function (id) {
        this.getUnlockProps().push(id);
    };
    /************************设施加成*******************************/
    //护栏行走速度加成
    PlayerModel.prototype.getSpeedAdd = function () {
        var cfg = ConfigManager_1.default.getPropById(CConst_1.propType.fence, this.getUIConfig().fencelv);
        return cfg.add_num / 100;
    };
    //土地加成，减少作物成熟时间
    PlayerModel.prototype.getTimeAdd = function (type, level) {
        if (this.getUIConfig().pipelv == 0)
            return 0;
        var cfg = ConfigManager_1.default.getFieldCfgByType(type, level);
        return cfg.add_num / 100;
    };
    //保存升级看视频次数
    PlayerModel.prototype.saveLvupVideoNum = function (key, num) {
        this.data.lvUp_video_num[key] = num;
        this.data.saveLvupVideoNum();
    };
    PlayerModel.prototype.getLvupVideoNum = function (key) {
        var num = 0;
        if (this.data.lvUp_video_num[key])
            num = this.data.lvUp_video_num[key];
        return num;
    };
    Object.defineProperty(PlayerModel.prototype, "isFirstClearPest", {
        //是否当天第一次除虫
        get: function () {
            return this.data.isFirstClearPest;
        },
        set: function (value) {
            this.data.isFirstClearPest = value;
            this.saveData();
        },
        enumerable: false,
        configurable: true
    });
    /**
    * 用于标记当前的时间，便于下次进行计算离线时长，在心跳方法中进行更新
    * this.offlineLastTimestamp 只要被读取，就唯一作为当前离线收益的计算时间戳了，游戏过程中不会被不小心覆盖，且绝对有值，如果尚未读取上次时间的情况下也不允许刷新覆盖掉上次的历史时间，保证了上次时间的准确使用，进而保证了离线收益时间的计算准确度
    */
    PlayerModel.prototype.setOfflineTimestamp = function () {
        // 防止还没读取上次离线时间 就被心跳更新时间戳的方式给覆盖掉了，导致上次最后的游戏时间戳读取不到了
        if (this.offlineLastTimestamp == -1)
            return;
        var time = SDKManager_1.default.getServerTime();
        this.data.offlineTimestamp = Math.floor(time / 1000);
        this.data.saveOfflineTimestamp();
    };
    /** 读取离线收益时间戳 */
    PlayerModel.prototype.getOfflineTimestamp = function () {
        return this.offlineLastTimestamp;
    };
    //订单中心
    PlayerModel.prototype.getOrderList = function () {
        return this.data.orderCacheList;
    };
    Object.defineProperty(PlayerModel.prototype, "orderLen", {
        get: function () {
            return this.data.orderUnlockLen;
        },
        set: function (value) {
            this.data.orderUnlockLen = value;
            this.setOrder();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(PlayerModel.prototype, "orderVideoNum", {
        get: function () {
            return this.data.orderVideoNum;
        },
        set: function (value) {
            this.data.orderVideoNum = value;
            this.setOrder();
        },
        enumerable: false,
        configurable: true
    });
    PlayerModel.prototype.setOrder = function () {
        this.data.orderCacheList.sort(function (a, b) {
            return b.state - a.state;
        });
        this.data.saveOrder();
    };
    //接单后根据仓库库存更新当前订单数量
    PlayerModel.prototype.updateOrder = function () {
        var order = this.getCurrentOrder();
        var list1 = this.getWarerHouseCfg().cropList;
        for (var i = 0; i < list1.length; i++) {
            var item = list1[i];
            this.checkAddOrder(item.cropId, item.num);
        }
    };
    //卖出物品更新订单
    PlayerModel.prototype.updateCurrentOrder = function (id) {
        var order = this.getCurrentOrder();
        if (order) {
            var list = order.cropList;
            // let stateList = [];
            for (var i = 0; i < list.length; i++) {
                if (list[i].cropId == id) {
                    list[i].num -= 1;
                }
            }
        }
        this.data.saveOrder();
        EventDispath_1.default.send(EventType_1.EventType.ORDER_UPDATE_TOP);
    };
    //增加作物
    PlayerModel.prototype.checkAddOrder = function (id, num, completeFun, callBack) {
        var order = this.getCurrentOrder();
        if (!order) {
            if (callBack)
                callBack();
            return;
        }
        var list = order.cropList;
        // let stateList = [];
        var completeLen = 0;
        for (var i = 0; i < list.length; i++) {
            if (list[i].cropId == id) {
                list[i].num += num;
            }
            if (list[i].num >= list[i].target) {
                // stateList.push(1)
                completeLen += 1;
            }
            else {
                // stateList.push(0)
            }
        }
        EventDispath_1.default.send(EventType_1.EventType.ORDER_UPDATE_TOP);
        this.setOrder();
        if (completeLen == list.length) {
            if (completeFun)
                completeFun();
        }
        else {
            if (callBack)
                callBack();
        }
    };
    //检测订单是否完成
    PlayerModel.prototype.checkOrderComplete = function () {
        var order = this.getCurrentOrder();
        if (order) {
            var list = order.cropList;
            var completeLen = 0;
            for (var i = 0; i < list.length; i++) {
                if (list[i].num >= list[i].target) {
                    completeLen += 1;
                }
            }
            if (completeLen == list.length)
                return true;
        }
        return false;
    };
    PlayerModel.prototype.haveOrder = function () {
        var order = this.getCurrentOrder();
        if (order)
            return true;
        return false;
    };
    //当前订单
    PlayerModel.prototype.getCurrentOrder = function () {
        var order;
        for (var i = 0; i < this.data.orderCacheList.length; i++) {
            var item = this.data.orderCacheList[i];
            if (item.state == 1) {
                order = item;
            }
        }
        return order;
    };
    //当前订单中的随机作物
    PlayerModel.prototype.getCurrentOrderCrop = function () {
        var order = this.getCurrentOrder();
        var cropList = [];
        if (order) {
            var list = order.cropList;
            // let stateList = [];
            for (var i = 0; i < list.length; i++) {
                if (list[i].cropId < 100) {
                    cropList.push(list[i].cropId);
                    if (list[i].num >= list[i].target) {
                        return list[i].cropId;
                    }
                }
            }
        }
        if (cropList.length > 0) {
            return Utils_1.default.getRandomByArr(cropList);
        }
        return Utils_1.default.getRandomByArr(this.data.unlockCropList);
    };
    Object.defineProperty(PlayerModel.prototype, "guideState", {
        get: function () {
            return this.data.guideState;
        },
        set: function (value) {
            this.data.guideState = value;
            this.data.saveGuide();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(PlayerModel.prototype, "guideStep", {
        get: function () {
            return this.data.guideStep;
        },
        set: function (value) {
            this.data.guideStep += value;
        },
        enumerable: false,
        configurable: true
    });
    //每日自动招揽人数
    PlayerModel.prototype.addDayAutoRoleNum = function () {
        this.data.dayAutoRoleNum++;
    };
    //每日自动招揽时间间隔
    PlayerModel.prototype.getAutoRoleTime = function () {
        if (this.data.dayAutoRoleNum < 11) {
            return 10;
        }
        else if (this.data.dayAutoRoleNum < 31) {
            return 15;
        }
        else {
            return 20;
        }
    };
    Object.defineProperty(PlayerModel.prototype, "zdGkNum", {
        get: function () {
            return this.data.zdGkNum;
        },
        set: function (value) {
            this.data.zdGkNum = value;
            this.data.saveZlNum();
        },
        enumerable: false,
        configurable: true
    });
    //手动招揽次数
    PlayerModel.prototype.setZlNum = function (value) {
        this.data.zhaolanNum = value;
        this.data.saveZlNum();
    };
    PlayerModel.prototype.getZlNum = function () {
        return this.data.zhaolanNum;
    };
    return PlayerModel;
}());
exports.default = PlayerModel.instance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9kYXRhcy9QbGF5ZXJNb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFFQUFnRTtBQUNoRSxxRUFBZ0U7QUFDaEUsK0RBQThEO0FBRTlELDZEQUF3RDtBQUN4RCxxREFBZ0Q7QUFDaEQsa0RBQTZEO0FBRTdELDBEQUFxRDtBQUNyRCwwREFBcUQ7QUFHckQsaUVBQTREO0FBQzVELDJDQUFxRjtBQUVyRjtJQUFBO1FBR0ksU0FBSSxHQUFlLElBQUksb0JBQVUsRUFBRSxDQUFDO1FBVTdCLHFCQUFnQixHQUFXLEVBQUUsQ0FBQyxDQUFBLFVBQVU7UUFDeEMsa0JBQWEsR0FBVyxFQUFFLENBQUMsQ0FBQSxVQUFVO1FBQ3JDLGdCQUFXLEdBQVcsR0FBRyxDQUFDLENBQUEsY0FBYztRQUN4QyxnQkFBVyxHQUFXLEVBQUUsQ0FBQyxDQUFBLGNBQWM7UUFFdkMscUJBQWdCLEdBQVcsQ0FBQyxDQUFDLENBQUEsYUFBYTtRQUMxQyxpQkFBWSxHQUFXLENBQUMsQ0FBQyxDQUFBLFNBQVM7UUFDbEMsc0JBQWlCLEdBQVcsQ0FBQyxDQUFDLENBQUEsV0FBVztRQUN6QyxvQkFBZSxHQUFXLEVBQUUsQ0FBQyxDQUFBLFlBQVk7UUFFekMsMEJBQXFCLEdBQVcsQ0FBQyxDQUFDLENBQUEsaUJBQWlCO1FBQ25ELDBCQUFxQixHQUFXLEVBQUUsQ0FBQyxDQUFBLGFBQWE7UUFFaEQseUJBQW9CLEdBQVcsQ0FBQyxDQUFDLENBQUEsc0NBQXNDO1FBRXZFLGlCQUFZLEdBQUcsQ0FBQyxDQUFDLENBQUEsTUFBTTtRQUU5QixxQkFBZ0IsR0FBRyxFQUFFLENBQUMsQ0FBQSxVQUFVO1FBQ2hDLGdCQUFXLEdBQW1CLEVBQUUsQ0FBQztJQWd1QnJDLENBQUM7SUExdkJVLG9CQUFRLEdBQWY7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUVqQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksV0FB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SUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDaEMsQ0FBQztJQUNMLGtCQUFDO0FBQUQsQ0EvdkJBLEFBK3ZCQyxJQUFBO0FBRUQsa0JBQWUsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE11c2ljTWFuYWdlciBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvTXVzaWNNYW5hZ2VyXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgU29ydFV0aWxzIGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvdG9vbHMvU29ydFV0aWxzXCI7XHJcbmltcG9ydCBVdGlscyBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL1V0aWxzXCI7XHJcbmltcG9ydCBQbGF5ZXJEYXRhLCB7IG9yZGVyQ2FjaGUgfSBmcm9tIFwiLi4vZGF0YXMvUGxheWVyRGF0YVwiO1xyXG5pbXBvcnQgR2xvYmFsIGZyb20gXCIuLi9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCBDb25maWdNYW5hZ2VyIGZyb20gXCIuLi9tYW5hZ2VyL0NvbmZpZ01hbmFnZXJcIjtcclxuaW1wb3J0IEVmZmVjdE1hbmFnZXIgZnJvbSBcIi4uL21hbmFnZXIvRWZmZWN0TWFuYWdlclwiO1xyXG5pbXBvcnQgU2hlbHZlUHJlZmFiLCB7IHB1dE9uQ29uZmlnIH0gZnJvbSBcIi4uL3ZpZXcvbWFpbi9TaGVsdmVQcmVmYWJcIjtcclxuaW1wb3J0IHsgc3RvcmVDb25maWcgfSBmcm9tIFwiLi4vdmlldy9tYWluL1dhcmVob3VzZVByZWZhYlwiO1xyXG5pbXBvcnQgU0RLTWFuYWdlciBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvU0RLTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBmaWVsZFR5cGUsIGxldmVsVXBfY29uZmlnLCBsZXZlbF9jb25maWcsIHByb3BUeXBlIH0gZnJvbSBcIi4uL2NvbnN0cy9DQ29uc3RcIjtcclxuXHJcbmNsYXNzIFBsYXllck1vZGVsIHtcclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogUGxheWVyTW9kZWw7XHJcblxyXG4gICAgZGF0YTogUGxheWVyRGF0YSA9IG5ldyBQbGF5ZXJEYXRhKCk7XHJcblxyXG4gICAgc3RhdGljIGluc3RhbmNlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IFBsYXllck1vZGVsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXV0b19zZXJ2aWNlX21heDogbnVtYmVyID0gMzA7Ly/oh6rliqjmnI3liqHmr4/ml6XkuIrpmZBcclxuICAgIHB1YmxpYyBvbmNlX3JpcGVfbWF4OiBudW1iZXIgPSAzMDsvL+eri+WNs+aIkOeGn+avj+aXpeS4iumZkFxyXG4gICAgcHVibGljIG9mZmxpbmVfbWF4OiBudW1iZXIgPSAzNjA7Ly/nprvnur/mlLbnm4rml7bplb/kuIrpmZAo5YiG6ZKfKVxyXG4gICAgcHVibGljIG9mZmxpbmVfbWluOiBudW1iZXIgPSAxMDsvL+emu+e6v+aUtuebiuacgOWwj+aXtumVvyjliIbpkp8pXHJcblxyXG4gICAgcHVibGljIGx1Y2t5QmdfaW50ZXJ2YWw6IG51bWJlciA9IDM7Ly/mr49Y5YiG6ZKf5Lya5Yik5a6a5Ye6546w56aP6KKLXHJcbiAgICBwdWJsaWMgbHVja3lCZ19yYXRlOiBudW1iZXIgPSAxOy8v5Ye6546w56aP6KKL55qE5qaC546HXHJcbiAgICBwdWJsaWMgbHVja3lCZ19saXZlX3RpbWU6IG51bWJlciA9IDE7Ly/npo/ooovmjIHnu63mmL7npLrliIbpkp/mlbBcclxuICAgIHB1YmxpYyBsdWNreUJnX2dldF9tYXg6IG51bWJlciA9IDEwOy8v5q+P5pel56aP6KKL6aKG5Y+W5qyh5pWw5LiK6ZmQXHJcblxyXG4gICAgcHVibGljIGdldF9vbmVfc2hvcHBlcl9jbGljazogbnVtYmVyID0gNTsvL+avj1jmrKHngrnlh7vmiYvliqjmi5vmj73ov5vlnLox5Liq6aG+5a6iXHJcbiAgICBwdWJsaWMgb25lX2NsaWNrX3Nob3BwZXJfbWF4OiBudW1iZXIgPSAxNTsvL+avj+asoeS4gOmUruaLm+aPvei/m+WcuumhvuWuouaVsFxyXG5cclxuICAgIHB1YmxpYyBvZmZsaW5lTGFzdFRpbWVzdGFtcDogbnVtYmVyID0gMDsvLyDkuIrmrKHnmoTnprvnur/mlLbnm4rml7bpl7TmiLPvvIzku4XnlKjkuo7lnKjnmbvlvZXml7bmoIforrDvvIzpgb/lhY3ooqvlnKjorqHnrpfmlLbnm4rkuYvliY3popHnuYHopobnm5ZcclxuXHJcbiAgICBwdWJsaWMgY3JvcF9nZXRfbnVtID0gMDsvL+aUtuiOt+asoeaVsFxyXG5cclxuICAgIHB1dF9vbl9jcm9wX2xpc3QgPSBbXTsvL+S4iuaetui0p+eJqeS/oeaBr+WtmOWCqFxyXG4gICAgc2hlbGV2ZUxpc3Q6IFNoZWx2ZVByZWZhYltdID0gW107XHJcbiAgICAvL+WQjOatpee6ouWMheS9meminVxyXG4gICAgZ2V0VXNlckFtb3VudCgpIHtcclxuICAgICAgICBTREtNYW5hZ2VyLmdldFVzZXJBbW91bnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2FkRGF0YSgpIHtcclxuICAgICAgICB0aGlzLmRhdGEuZ2V0RGF0YSgpO1xyXG4gICAgICAgIHRoaXMub2ZmbGluZUxhc3RUaW1lc3RhbXAgPSB0aGlzLmRhdGEub2ZmbGluZVRpbWVzdGFtcDtcclxuICAgICAgICB0aGlzLmluaXRQdXRDcm9wTGlzdCgpO1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEub3JkZXJDYWNoZUxpc3QubGVuZ3RoIDw9IDApIHRoaXMuaW5pdE9yZGVyTGlzdCgpO1xyXG4gICAgfVxyXG4gICAgLy/liJ3lp4vorr7mlr1cclxuICAgIGluaXRVaUNmZygpIHtcclxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t6LSn5p62XHJcbiAgICAgICAgbGV0IHR5cGUgPSAwO1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEuc2hlbHZlc0NmZ0xpc3QubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDb25maWdNYW5hZ2VyLnNoZWx2ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBpdGVtOiBsZXZlbFVwX2NvbmZpZyA9IENvbmZpZ01hbmFnZXIuc2hlbHZlc1tpXTtcclxuICAgICAgICAgICAgICAgIGxldCBsZXZlbCA9IGl0ZW0udW5sb2NrX3N0YXRlID09IDEgPyAxIDogMDtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgIT0gdHlwZSkgdGhpcy5kYXRhLnNoZWx2ZXNDZmdMaXN0LnB1c2gobGV2ZWwpO1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9IGl0ZW0udHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t5Zyf5ZywXHJcbiAgICAgICAgbGV0IGZpZWxkVHlwZSA9IDA7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5maWVsZENmZ0xpc3QubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDb25maWdNYW5hZ2VyLmZpZWxkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbTogbGV2ZWxVcF9jb25maWcgPSBDb25maWdNYW5hZ2VyLmZpZWxkW2ldO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxldmVsID0gaXRlbS51bmxvY2tfc3RhdGUgPT0gMSA/IDEgOiAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7IGlkOiBpdGVtLmlkLCB0eXBlOiBpdGVtLnR5cGUsIHN0YXRlOiBpdGVtLnVubG9ja19zdGF0ZSwgY3JvcFN0YXRlOiAwLCBjcm9wSWQ6IDAsIGxhc3RUaW1lOiAwLCBsZXZlbDogbGV2ZWwgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSAhPSBmaWVsZFR5cGUpIHRoaXMuZGF0YS5maWVsZENmZ0xpc3QucHVzaChkYXRhKTtcclxuICAgICAgICAgICAgICAgIGZpZWxkVHlwZSA9IGl0ZW0udHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbml0VW5sb2NrQ3JvcExpc3QoKTtcclxuICAgIH1cclxuICAgIGluaXRPcmRlckxpc3QoKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhLm9yZGVyQ2FjaGVMaXN0ID0gQ29uZmlnTWFuYWdlci5nZXRPcmRlckxpc3QoKTtcclxuICAgIH1cclxuICAgIC8v5Yid5aeL5YyW6Kej6ZSB5L2c54mp5YiX6KGoXHJcbiAgICBpbml0VW5sb2NrQ3JvcExpc3QoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS51bmxvY2tDcm9wTGlzdC5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IENvbmZpZ01hbmFnZXIuY3JvcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNyb3AgPSBDb25maWdNYW5hZ2VyLmNyb3BbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY3JvcC51bmxvY2sgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS51bmxvY2tDcm9wTGlzdC5wdXNoKGNyb3AuaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldExldmVsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGV2ZWw7XHJcbiAgICB9XHJcbiAgICBzZXRMZXZlbCgpIHtcclxuICAgICAgICB0aGlzLmRhdGEubGV2ZWwrKztcclxuICAgIH1cclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKirku5PlupMqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgc2V0SG91c2VBZGRDcm9wKGlkLCBhZGROdW0pIHtcclxuICAgICAgICBsZXQgY3JvcExpc3QgPSB0aGlzLmRhdGEuV2FyZUhvdXNlQ29uZmlnLmNyb3BMaXN0O1xyXG4gICAgICAgIGxldCBhcnIgPSBjcm9wTGlzdC5maWx0ZXIoKHZhbHVlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuY3JvcElkID09IGlkO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbGV0IGdldE51bSA9IDE7XHJcbiAgICAgICAgaWYgKGFyci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGFyclswXS5udW0gKz0gYWRkTnVtO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBjZmc6IHN0b3JlQ29uZmlnID0geyBjcm9wSWQ6IGlkLCBudW06IGFkZE51bSwgcHV0X29uX251bTogMCB9O1xyXG4gICAgICAgICAgICBjcm9wTGlzdC5wdXNoKGNmZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGF0YS5zYXZlV2FyZUhvdXNlRGF0YSgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiKioqKirku5PlupPlrZjlgqjmlbDlgLwqKioqKioqXCIsIHRoaXMuZGF0YS5XYXJlSG91c2VDb25maWcpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5VUERBVEVfU0hFTFZFKVxyXG4gICAgfVxyXG4gICAgLy/ku5PlupPlvZPliY3kv6Hmga9cclxuICAgIGdldFdhcmVySG91c2VDZmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5XYXJlSG91c2VDb25maWc7XHJcbiAgICB9XHJcbiAgICAvL+S7k+W6k+S4reaLpeacieeahOaVsOmHj1xyXG4gICAgZ2V0SGF2ZU51bUJ5SUQoaWQpIHtcclxuICAgICAgICBsZXQgbGlzdCA9IHRoaXMuZ2V0V2FyZXJIb3VzZUNmZygpLmNyb3BMaXN0O1xyXG4gICAgICAgIGxldCBudW0gPSAwO1xyXG4gICAgICAgIGxldCBhcnIgPSBsaXN0LmZpbHRlcigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS5jcm9wSWQgPT0gaWQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA+IDApIHJldHVybiBhcnJbMF0ubnVtO1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgLy/ojrflj5blvZPliY3ku5PlupPlrZjotK7mgLvlgLxcclxuICAgIGdldEN1cnJlbnRQdXROdW0oKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLmdldFdhcmVySG91c2VDZmcoKS5jcm9wTGlzdDtcclxuICAgICAgICBsZXQgbnVtID0gMDtcclxuICAgICAgICBsaXN0LmZvckVhY2goKGl0bWUpID0+IHtcclxuICAgICAgICAgICAgbnVtICs9IGl0bWUubnVtO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIG51bTtcclxuICAgIH1cclxuICAgIC8v5LuT5bqT5Lit5L2c54mp5YeP5bCRXHJcbiAgICByZWR1Y2VDcm9wKGlkKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLmdldFdhcmVySG91c2VDZmcoKS5jcm9wTGlzdDtcclxuICAgICAgICBsZXQgYXJyID0gbGlzdC5maWx0ZXIoKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uY3JvcElkID09IGlkO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKGFyci5sZW5ndGggPT0gMCkgcmV0dXJuO1xyXG4gICAgICAgIGxldCBjcm9wID0gYXJyWzBdO1xyXG4gICAgICAgIGNyb3AubnVtLS07XHJcbiAgICAgICAgY3JvcC5wdXRfb25fbnVtLS07XHJcblxyXG4gICAgICAgIGlmIChjcm9wLm51bSA8PSAwKSB7XHJcbiAgICAgICAgICAgIGxldCBpZHggPSAwO1xyXG4gICAgICAgICAgICBsaXN0LmZpbHRlcigoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmNyb3BJZCA9PSBjcm9wLmNyb3BJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkeCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBsaXN0LnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRhdGEuc2F2ZVdhcmVIb3VzZURhdGEoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRPcmRlcihpZCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIqKioqKuS7k+W6k+WtmOWCqOaVsOWAvCoqKioqKipcIiwgdGhpcy5kYXRhLldhcmVIb3VzZUNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICAvL+iuouWNleWujOaIkOS9nOeJqeWHj+WwkVxyXG4gICAgb3JkZXJSZWR1Y2VDcm9wKGlkLCBudW0pIHtcclxuICAgICAgICBsZXQgbGlzdCA9IHRoaXMuZ2V0V2FyZXJIb3VzZUNmZygpLmNyb3BMaXN0O1xyXG4gICAgICAgIGxldCBhcnIgPSBsaXN0LmZpbHRlcigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS5jcm9wSWQgPT0gaWQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA9PSAwKSByZXR1cm47XHJcbiAgICAgICAgbGV0IGNyb3AgPSBhcnJbMF07XHJcbiAgICAgICAgY3JvcC5udW0gLT0gbnVtO1xyXG4gICAgICAgIGlmIChjcm9wLm51bSA8IGNyb3AucHV0X29uX251bSkge1xyXG4gICAgICAgICAgICBjcm9wLnB1dF9vbl9udW0gPSBjcm9wLm51bTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjcm9wLm51bSA8PSAwKSB7XHJcbiAgICAgICAgICAgIGxldCBpZHggPSAwO1xyXG4gICAgICAgICAgICBsaXN0LmZpbHRlcigoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmNyb3BJZCA9PSBjcm9wLmNyb3BJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkeCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBsaXN0LnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRhdGEuc2F2ZVdhcmVIb3VzZURhdGEoKTtcclxuICAgICAgICAvLyB0aGlzLnVwZGF0ZUN1cnJlbnRPcmRlcihpZCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIqKioqKuS7k+W6k+WtmOWCqOaVsOWAvCoqKioqKipcIiwgdGhpcy5kYXRhLldhcmVIb3VzZUNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioq6LSn5p62KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICAvL+aUueWPmOi0p+aetuetiee6p1xyXG4gICAgY2hhbmdlU2hlbHZlU2tpbihpbmRleCwgbGV2ZWwpIHtcclxuICAgICAgICB0aGlzLmRhdGEudWlDb25maWcuc2hlbHZlc0xpc3RbaW5kZXhdID0gbGV2ZWw7XHJcbiAgICAgICAgdGhpcy5zYXZlRGF0YSgpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5TSEVMVkVfTEVWRUxfVVBEQVRFLCBpbmRleClcclxuICAgIH1cclxuICAgIC8v5Yid5aeL5YyW5LiK5p625L2c54mp5YiX6KGoXHJcbiAgICBpbml0UHV0Q3JvcExpc3QoKSB7XHJcbiAgICAgICAgbGV0IHNoZWx2ZUFyciA9IHRoaXMuZGF0YS51aUNvbmZpZy5zaGVsdmVzTGlzdC5maWx0ZXIoKGlkKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpZCAhPSAwO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5nZXRXYXJlckhvdXNlQ2ZnKCkuY3JvcExpc3RcclxuICAgICAgICBsaXN0LmZpbHRlcigoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaXRlbS5wdXRfb25fbnVtID0gMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGxldCBzaGVsdmVOdW0gPSBzaGVsdmVBcnIubGVuZ3RoO1xyXG4gICAgICAgIGxldCBjcm9wTGlzdCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hlbHZlTnVtOyBpKyspIHtcclxuICAgICAgICAgICAgY3JvcExpc3QucHVzaCh0aGlzLmdldFJhbmRvbUNyb3AoNCkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi5LiK5p625pWw5o2u77yaXCIsIGNyb3BMaXN0KTtcclxuICAgICAgICB0aGlzLnB1dF9vbl9jcm9wX2xpc3QgPSBjcm9wTGlzdDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6ZqP5py66I635Y+W5LuT5bqT5Lit55qE5L2c54mp5LiK5p625pWw57uEXHJcbiAgICAgKiBAcGFyYW0gbnVtIOaJgOmcgOS4iuaetuaVsOmHj1xyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIGdldFJhbmRvbUNyb3AobnVtKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLmdldFdhcmVySG91c2VDZmcoKS5jcm9wTGlzdFxyXG5cclxuICAgICAgICBsZXQgYXJyID0gbGlzdC5maWx0ZXIoKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLm51bSAtIGl0ZW0ucHV0X29uX251bSA+IDBcclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChhcnIubGVuZ3RoID09IDApIHJldHVybiBbXTtcclxuICAgICAgICBsZXQgY3JvcCA9IFV0aWxzLmdldFJhbmRvbUJ5QXJyKGFycik7XHJcbiAgICAgICAgaWYgKGNyb3AubnVtIC0gY3JvcC5wdXRfb25fbnVtID49IG51bSkge1xyXG4gICAgICAgICAgICBsZXQgYXJyMTogcHV0T25Db25maWdbXSA9IFt7IGNyb3BJZDogY3JvcC5jcm9wSWQsIHB1dF9vbl9udW06IG51bSB9XVxyXG4gICAgICAgICAgICBjcm9wLnB1dF9vbl9udW0gKz0gbnVtO1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGxlbiA9IGNyb3AubnVtIC0gY3JvcC5wdXRfb25fbnVtO1xyXG4gICAgICAgIGxldCBhcnIyOiBwdXRPbkNvbmZpZ1tdID0gW3sgY3JvcElkOiBjcm9wLmNyb3BJZCwgcHV0X29uX251bTogY3JvcC5udW0gLSBjcm9wLnB1dF9vbl9udW0gfV1cclxuICAgICAgICBjcm9wLnB1dF9vbl9udW0gKz0gY3JvcC5udW0gLSBjcm9wLnB1dF9vbl9udW07XHJcbiAgICAgICAgcmV0dXJuIGFycjIuY29uY2F0KHRoaXMuZ2V0UmFuZG9tQ3JvcChudW0gLSBsZW4pKTtcclxuXHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHJldHVybnMg6I635Y+W5Y2V54us6ZyA6KaB5LiK5p625L2c54mpXHJcbiAgICAgKi9cclxuICAgIGdldE9uZUNyb3AoKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLmdldFdhcmVySG91c2VDZmcoKS5jcm9wTGlzdFxyXG5cclxuICAgICAgICBsZXQgYXJyID0gbGlzdC5maWx0ZXIoKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLm51bSAtIGl0ZW0ucHV0X29uX251bSA+IDBcclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChhcnIubGVuZ3RoID09IDApIHJldHVybiBudWxsO1xyXG4gICAgICAgIGxldCBjcm9wID0gVXRpbHMuZ2V0UmFuZG9tQnlBcnIoYXJyKTtcclxuICAgICAgICBjcm9wLnB1dF9vbl9udW0gKz0gMTtcclxuICAgICAgICByZXR1cm4gY3JvcDtcclxuICAgIH1cclxuICAgIC8v5qC55o2u57Si5byV6I635Y+W5a+55bqU6LSn5p62XHJcbiAgICBnZXRTaGVsZXZlSW5mb0J5SW5kZXgoaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaGVsZXZlTGlzdFtpbmRleF07XHJcbiAgICB9XHJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioq5aS06YOo6ZKx77yM6ZKe56Wo77yM5ruh5oSP5bqmKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIGluaXRNb25leSh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZGF0YS5tb25leSA9IHZhbHVlO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5VUERBVEVfTU9ORVkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB2YWx1ZSDlvZPliY3pkrHmlbDvvIhTREvojrflj5bvvIzlop7liqDnmoTmlbDlgLzvvIlcclxuICAgICAqIEBwYXJhbSBhZGQgXHJcbiAgICAgKi9cclxuICAgIHNldE1vbmV5KHZhbHVlLCBhZGQsIHN0YXJ0UG9pbnQgPSBjYy52MihjYy53aW5TaXplLndpZHRoIC8gMiwgY2Mud2luU2l6ZS5oZWlnaHQgLyAyKSkge1xyXG4gICAgICAgIHRoaXMuZGF0YS5tb25leSA9IHZhbHVlO1xyXG5cclxuICAgICAgICBFZmZlY3RNYW5hZ2VyLnBsYXlDb2luRmx5KHN0YXJ0UG9pbnQsIDEsIGFkZClcclxuICAgIH1cclxuICAgIGdldE1vbmV5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubW9uZXk7XHJcbiAgICB9XHJcbiAgICAvL+mSnuelqFxyXG4gICAgc2V0R29sZCh2YWx1ZSwgcGFyZW50VHlwZSA9IDAsIHN0YXJ0UG9pbnQ/KSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID4gMCkge1xyXG4gICAgICAgICAgICBpZiAoIXN0YXJ0UG9pbnQpIHN0YXJ0UG9pbnQgPSBjYy52MihjYy53aW5TaXplLndpZHRoIC8gMiwgY2Mud2luU2l6ZS5oZWlnaHQgLyAyKTtcclxuICAgICAgICAgICAgaWYgKHBhcmVudFR5cGUpIEVmZmVjdE1hbmFnZXIucGxheUVmZkZseShzdGFydFBvaW50LCAyLCB2YWx1ZSlcclxuICAgICAgICAgICAgZWxzZSBFZmZlY3RNYW5hZ2VyLnBsYXlDb2luRmx5KHN0YXJ0UG9pbnQsIDIsIHZhbHVlKVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuVVBEQVRFX0dPTEQsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIGNoYW5nZUdvbGQodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmRhdGEuZ29sZCArPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnNhdmVEYXRhKCk7XHJcbiAgICB9XHJcbiAgICBnZXRHb2xkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ29sZDtcclxuICAgIH1cclxuICAgIC8v5bm456aP5oyH5pWwXHJcbiAgICBzZXRYZnpzKG51bSwgc3RhcnRQb2ludD8pIHtcclxuICAgICAgICB0aGlzLmRhdGEueGZ6cyArPSBudW07XHJcbiAgICAgICAgaWYgKCFzdGFydFBvaW50KSBzdGFydFBvaW50ID0gY2MudjIoY2Mud2luU2l6ZS53aWR0aCAvIDIsIGNjLndpblNpemUuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgRWZmZWN0TWFuYWdlci5wbGF5Q29pbkZseShzdGFydFBvaW50LCAzLCBudW0pXHJcbiAgICAgICAgLy8gRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlVQREFURV9YRlpTLCBudW0pO1xyXG4gICAgICAgIHRoaXMuc2F2ZURhdGEoKTtcclxuICAgIH1cclxuICAgIGdldFhmenMoKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhLnhmenMgPSBOdW1iZXIodGhpcy5kYXRhLnhmenMudG9GaXhlZCgyKSlcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnhmenM7XHJcbiAgICB9XHJcbiAgICAvKlxyXG4gICAgICog6I635Y+W5b2T5YmN5pyA5paw6Kej6ZSB5qSN54mpSURcclxuICAgICAqIEByZXR1cm4g5aaC5p6c5LuA5LmI6YO95rKh6Kej6ZSB77yM5YiZ6L+U5ZueLTHvvJtcclxuICAgICAqL1xyXG4gICAgZ2V0TmV3Q3JvcCgpIHtcclxuICAgICAgICBTb3J0VXRpbHMuaW5zZXJ0U29ydCh0aGlzLmRhdGEudW5sb2NrQ3JvcExpc3QpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwi56eN6I+c6Z2i5p2/6Kej6ZSB5YiX6KGoXCIsIHRoaXMuZGF0YS51bmxvY2tDcm9wTGlzdCk7XHJcblxyXG4gICAgICAgIC8vIGxldCBsZW4gPSB0aGlzLmRhdGEudW5sb2NrQ3JvcExpc3QubGVuZ3RoO1xyXG4gICAgICAgIC8vIGlmIChsZW4gPT0gMCkgcmV0dXJuIC0xO1xyXG4gICAgICAgIGxldCBvcmRlciA9IHRoaXMuZ2V0Q3VycmVudE9yZGVyKCk7XHJcbiAgICAgICAgaWYgKG9yZGVyKSB7XHJcbiAgICAgICAgICAgIGxldCBsaXN0ID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3JkZXIuY3JvcExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gb3JkZXIuY3JvcExpc3RbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5jcm9wSWQgIT0gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKGl0ZW0uY3JvcElkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gVXRpbHMuZ2V0UmFuZG9tQnlBcnIobGlzdCk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gVXRpbHMuZ2V0UmFuZG9tQnlBcnIodGhpcy5kYXRhLnVubG9ja0Nyb3BMaXN0KTtcclxuICAgIH1cclxuICAgIC8v6Kej6ZSB5paw5L2c54mpXHJcbiAgICBzZXROZXdDcm9wKGlkKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhLnVubG9ja0Nyb3BMaXN0LnB1c2goaWQpO1xyXG4gICAgICAgIHRoaXMuc2F2ZURhdGEoKTtcclxuICAgIH1cclxuICAgIC8v6I635b6X5bey6Kej6ZSB5L2c54mp5YiX6KGoXHJcbiAgICBnZXRVbmxvY2tDcm9wKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudW5sb2NrQ3JvcExpc3Q7XHJcbiAgICB9XHJcbiAgICAvL+ajgOa1i+aYr+WQpuino+mUgVxyXG4gICAgY2hlY2tDcm9wVW5sb2NrKGlkKSB7XHJcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuZGF0YS51bmxvY2tDcm9wTGlzdC5maWx0ZXIoKGlkeCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGlkID09IGlkeDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChhcnIubGVuZ3RoID4gMCkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgc2V0U291bmRTd2l0Y2godmFsKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhLnNvdW5kU3dpdGNoID0gdmFsO1xyXG4gICAgICAgIE11c2ljTWFuYWdlci5pbml0TXVzaWMoKTtcclxuICAgICAgICB0aGlzLnNhdmVEYXRhKCk7XHJcbiAgICB9XHJcbiAgICBzZXRTb3VuZFlpblhpYW9Td2l0Y2godikge1xyXG4gICAgICAgIHRoaXMuZGF0YS5zb3VuZFlpblhpYW8gPSB2O1xyXG4gICAgICAgIE11c2ljTWFuYWdlci5pbml0TXVzaWMoKTtcclxuICAgICAgICB0aGlzLnNhdmVEYXRhKCk7XHJcbiAgICB9XHJcbiAgICBnZXRTb3VuZFlpblhpYW9Td2l0Y2goKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zb3VuZFlpblhpYW87XHJcbiAgICB9XHJcbiAgICBnZXRQZXJzb25SZWNvbW1Td2l0Y2goKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5wZXJzb25SZWNvbW1Td2l0Y2g7XHJcbiAgICB9XHJcbiAgICBTZXRQZXJzb25SZWNvbW1Td2l0Y2godikge1xyXG4gICAgICAgIHRoaXMuZGF0YS5wZXJzb25SZWNvbW1Td2l0Y2ggPSB2O1xyXG4gICAgICAgIHRoaXMuc2F2ZURhdGEoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+iOt+WPluiPnOWcsOWIl+ihqFxyXG4gICAgZ2V0RmllbGRMaXN0Q2ZnKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZmllbGRDZmdMaXN0O1xyXG4gICAgfVxyXG4gICAgLy/mlLnlj5joj5zlnLDnrYnnuqdcclxuICAgIGNoYW5nZUZpZWxkU2tpbihpbmRleCwgbGV2ZWwpIHtcclxuICAgICAgICBsZXQgY2ZnID0gdGhpcy5kYXRhLmZpZWxkQ2ZnTGlzdFtpbmRleF07XHJcbiAgICAgICAgY2ZnLnN0YXRlID0gMTtcclxuICAgICAgICBjZmcubGV2ZWwgPSBsZXZlbDtcclxuICAgICAgICBjZmcuaWQgPSBjZmcudHlwZSAqIDEwICsgbGV2ZWw7XHJcbiAgICAgICAgdGhpcy5zYXZlRGF0YSgpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5GSUVMRF9MRVZFTF9VUERBVEUsIGluZGV4KVxyXG4gICAgfVxyXG4gICAgLy/kvZznianmlLbojrfmrKHmlbBcclxuICAgIGdldENyb3BHZXROdW0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5jcm9wR2V0TnVtO1xyXG4gICAgfVxyXG4gICAgc2V0Q3JvcEdldE51bSh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZGF0YS5jcm9wR2V0TnVtICs9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuc2F2ZURhdGEoKTtcclxuICAgIH1cclxuICAgIC8vIOaIkOeGn+asoeaVsFxyXG4gICAgZ2V0Q3JvcFJpcGV0aW1lcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmNyb3BSaXBldGltZXM7XHJcbiAgICB9XHJcbiAgICBzZXRDcm9wUmlwZXRpbWVzKCkge1xyXG4gICAgICAgIHRoaXMuZGF0YS5jcm9wUmlwZXRpbWVzKys7XHJcbiAgICAgICAgdGhpcy5zYXZlRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgLy/ph43nva7miJDnhp/mrKHmlbBcclxuICAgIHJlc2V0Q3JvcFJpcGVUaW1lcygpIHtcclxuICAgICAgICB0aGlzLmRhdGEuY3JvcFJpcGV0aW1lcyA9IDA7XHJcbiAgICAgICAgdGhpcy5zYXZlRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgZ2V0IHBlc3ROdW0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5wZXN0TnVtO1xyXG4gICAgfVxyXG4gICAgc2V0IHBlc3ROdW0odmFsdWUpIHtcclxuICAgICAgICB0aGlzLmRhdGEucGVzdE51bSA9IHZhbHVlO1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEucGVzdE51bSA8IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldENyb3BSaXBlVGltZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zYXZlRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgLy/mm7TmlrDnp43mpI3mrKHmlbBcclxuICAgIHNldFBsYW50TnVtQnlJZChpZCkge1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmRhdGEucGxhbnROdW1MaXN0LmZpbHRlcigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSBpZDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChhcnIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBhcnJbMF0ubnVtICs9IDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhLnBsYW50TnVtTGlzdC5wdXNoKHsgaWQ6IGlkLCBudW06IDEgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kYXRhLnNhdmVQbGFudE51bSgpO1xyXG5cclxuICAgIH1cclxuICAgIC8v6I635b6X56eN5qSN5qyh5pWwXHJcbiAgICBnZXRQbGFudE51bUJ5SWQoaWQpIHtcclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5kYXRhLnBsYW50TnVtTGlzdC5maWx0ZXIoKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT0gaWQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA+IDApIHJldHVybiBhcnJbMF0ubnVtO1xyXG5cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKiroh6rliqjnu5PotKYqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgLy8gIOaUtumTtuWPsOiHquWKqOS6p+WHulxyXG4gICAgc2V0IGNhc2hpZXJHb2xkKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhLmNhc2hpZXJHb2xkICs9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuZGF0YS5zZXRDYXNoaWVyR29sZCgpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGNhc2hpZXJHb2xkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuY2FzaGllckdvbGQ7XHJcbiAgICB9XHJcbiAgICAvL+iOt+WPluaUtumTtuWPsOWKoOWAjeWJqeS9meaXtumXtFxyXG4gICAgZ2V0QWRkTGFzdFRpbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5jYXNoaWVyQWRkVGltZTtcclxuICAgIH1cclxuICAgIHNldEFkZExhc3RUaW1lKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhLmNhc2hpZXJBZGRUaW1lID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5zYXZlRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgLy/orr7nva7oh6rliqjnu5PotKbmlbDmja5cclxuICAgIC8vIHNldElzQXV0b1NlbGwoYXV0b0NmZz8pIHtcclxuICAgIC8vICAgICBpZiAoYXV0b0NmZykgdGhpcy5kYXRhLmF1dG9DZmcgPSBhdXRvQ2ZnO1xyXG4gICAgLy8gICAgIHRoaXMuZGF0YS5zZXRJc0F1dG8oKTtcclxuICAgIC8vIH1cclxuICAgIC8vIHNldElzQXV0b09mZmxpbmVUaW1lKHZhbHVlKSB7XHJcbiAgICAvLyAgICAgdGhpcy5kYXRhLmF1dG9DZmcudGltZSA9IHZhbHVlO1xyXG4gICAgLy8gICAgIHRoaXMuc2V0SXNBdXRvU2VsbCgpO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gc2V0SXNBdXRvKHZhbHVlKSB7XHJcbiAgICAvLyAgICAgdGhpcy5kYXRhLmF1dG9DZmcuaXNBdXRvID0gdmFsdWU7XHJcbiAgICAvLyAgICAgdGhpcy5zZXRJc0F1dG9TZWxsKCk7XHJcbiAgICAvLyB9XHJcbiAgICAvLyBzZXRBdXRvTGFzdFRpbWUodGltZSkge1xyXG4gICAgLy8gICAgIHRoaXMuZGF0YS5hdXRvQ2ZnLmxhc3RUaW1lID0gdGltZTtcclxuICAgIC8vICAgICB0aGlzLnNldElzQXV0b1NlbGwoKTtcclxuICAgIC8vIH1cclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKirlvJXlr7zku7vliqEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgZ2V0R3VpZGVUYXNrQ2ZnKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ3VpZGVUYXNrQ2ZnO1xyXG4gICAgfVxyXG4gICAgLy/lvJXlr7zku7vliqHlop7liqBcclxuICAgIHNldEd1aWRlVGFza0lkKCkge1xyXG4gICAgICAgIC8vIFNES01hbmFnZXIub25FdmVudChHbG9iYWwuRVZFTlRfQUNUSU9OLmNsaWVudF9ndWlkZV90YXNrKVxyXG4gICAgICAgIHRoaXMuZGF0YS5ndWlkZVRhc2tDZmcudGFza0lkKys7XHJcbiAgICAgICAgdGhpcy5kYXRhLmd1aWRlVGFza0NmZy50YXNrU3RhdGUgPSAwO1xyXG4gICAgICAgIHRoaXMuc2F2ZURhdGEoKTtcclxuICAgIH1cclxuICAgIGNoYW5nZUd1aWRlVGFza1N0YXRlKHN0YXRlKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhLmd1aWRlVGFza0NmZy50YXNrU3RhdGUgPSBzdGF0ZTtcclxuICAgICAgICB0aGlzLnNhdmVEYXRhKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNhdmVEYXRhKCkge1xyXG4gICAgICAgIHRoaXMuZGF0YS5zYXZlRGF0YSgpO1xyXG4gICAgICAgIHRoaXMuZGF0YS5zYXZlVWlEYXRhKCk7XHJcbiAgICB9XHJcbiAgICBzYXZlVWlEYXRhKCkge1xyXG4gICAgICAgIHRoaXMuZGF0YS5zYXZlVWlEYXRhKCk7XHJcbiAgICB9XHJcbiAgICByZXNldERhdGEoKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhLnJlc2V0RGF0YSgpO1xyXG4gICAgfVxyXG4gICAgZ2V0U291bmRTd2l0Y2goKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zb3VuZFN3aXRjaDtcclxuICAgIH1cclxuICAgIGdldFVJQ29uZmlnKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEudWlDb25maWc7XHJcbiAgICB9XHJcbiAgICBzZXRVaUx2KGluZGV4KSB7XHJcbiAgICAgICAgc3dpdGNoIChpbmRleCkge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEudWlDb25maWcuY2FzaGllcmx2Kys7XHJcbiAgICAgICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuQ0hBTkdFX0NBU0hJRVIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS51aUNvbmZpZy5waXBlbHYrKztcclxuICAgICAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5DSEFOR0VfUElQRSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnVpQ29uZmlnLndhbGxsdisrO1xyXG4gICAgICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkNIQU5HRV9XQUxMKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEudWlDb25maWcucm9hZGx2Kys7XHJcbiAgICAgICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuQ0hBTkdFX1JPQUQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS51aUNvbmZpZy5zY2FyZWNyb3dsdisrO1xyXG4gICAgICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkNIQU5HRV9TQ0FSRUNST1cpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS51aUNvbmZpZy53YXJlaG91c2VsdisrO1xyXG4gICAgICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkNIQU5HRV9XQVJFSE9VU0UpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS51aUNvbmZpZy5mZW5jZWx2Kys7XHJcbiAgICAgICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuQ0hBTkdFX0ZFTkNFKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNhdmVVaURhdGEoKTtcclxuICAgIH1cclxuICAgIC8qKiDojrflj5bop6PplIHnmoTorr7mlr3liJfooaggKi9cclxuICAgIGdldFVubG9ja1Byb3BzKCk6IG51bWJlcltdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmhhc1Byb3BzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgKiDop6PplIHorr7mlr0g5rOo5oSP6L+Z6YeM5a2Y55qE5piv5ou85aW955qE5a6M5pW055qEaWTvvIzmmK/llK/kuIDnmoRpZCzkuI3mmK8x44CBMuOAgTPjgIE044CBNeOAgTbjgIE3IFxyXG4gICAgICogQHBhcmFtIGlkOiDlrozmlbTnmoTllK/kuIDntKLlvJVpZCDlpoIxMDHjgIEyMDHjgIEzMDFcclxuICAgICAqL1xyXG4gICAgdW5sb2NrUHJvcHMoaWQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuZ2V0VW5sb2NrUHJvcHMoKS5wdXNoKGlkKTtcclxuICAgIH1cclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKirorr7mlr3liqDmiJAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgLy/miqTmoI/ooYzotbDpgJ/luqbliqDmiJBcclxuICAgIGdldFNwZWVkQWRkKCkge1xyXG4gICAgICAgIGxldCBjZmcgPSBDb25maWdNYW5hZ2VyLmdldFByb3BCeUlkKHByb3BUeXBlLmZlbmNlLCB0aGlzLmdldFVJQ29uZmlnKCkuZmVuY2Vsdik7XHJcbiAgICAgICAgcmV0dXJuIGNmZy5hZGRfbnVtIC8gMTAwO1xyXG4gICAgfVxyXG4gICAgLy/lnJ/lnLDliqDmiJDvvIzlh4/lsJHkvZznianmiJDnhp/ml7bpl7RcclxuICAgIGdldFRpbWVBZGQodHlwZSwgbGV2ZWwpIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRVSUNvbmZpZygpLnBpcGVsdiA9PSAwKSByZXR1cm4gMDtcclxuICAgICAgICBsZXQgY2ZnID0gQ29uZmlnTWFuYWdlci5nZXRGaWVsZENmZ0J5VHlwZSh0eXBlLCBsZXZlbCk7XHJcbiAgICAgICAgcmV0dXJuIGNmZy5hZGRfbnVtIC8gMTAwO1xyXG4gICAgfVxyXG4gICAgLy/kv53lrZjljYfnuqfnnIvop4bpopHmrKHmlbBcclxuICAgIHNhdmVMdnVwVmlkZW9OdW0oa2V5LCBudW0pIHtcclxuICAgICAgICB0aGlzLmRhdGEubHZVcF92aWRlb19udW1ba2V5XSA9IG51bTtcclxuICAgICAgICB0aGlzLmRhdGEuc2F2ZUx2dXBWaWRlb051bSgpO1xyXG4gICAgfVxyXG4gICAgZ2V0THZ1cFZpZGVvTnVtKGtleSkge1xyXG4gICAgICAgIGxldCBudW0gPSAwO1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEubHZVcF92aWRlb19udW1ba2V5XSkgbnVtID0gdGhpcy5kYXRhLmx2VXBfdmlkZW9fbnVtW2tleV07XHJcbiAgICAgICAgcmV0dXJuIG51bTtcclxuICAgIH1cclxuICAgIC8v5piv5ZCm5b2T5aSp56ys5LiA5qyh6Zmk6JmrXHJcbiAgICBnZXQgaXNGaXJzdENsZWFyUGVzdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmlzRmlyc3RDbGVhclBlc3Q7XHJcbiAgICB9XHJcbiAgICBzZXQgaXNGaXJzdENsZWFyUGVzdCh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZGF0YS5pc0ZpcnN0Q2xlYXJQZXN0ID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5zYXZlRGF0YSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiDnlKjkuo7moIforrDlvZPliY3nmoTml7bpl7TvvIzkvr/kuo7kuIvmrKHov5vooYzorqHnrpfnprvnur/ml7bplb/vvIzlnKjlv4Pot7Pmlrnms5XkuK3ov5vooYzmm7TmlrAgXHJcbiAgICAqIHRoaXMub2ZmbGluZUxhc3RUaW1lc3RhbXAg5Y+q6KaB6KKr6K+75Y+W77yM5bCx5ZSv5LiA5L2c5Li65b2T5YmN56a757q/5pS255uK55qE6K6h566X5pe26Ze05oiz5LqG77yM5ri45oiP6L+H56iL5Lit5LiN5Lya6KKr5LiN5bCP5b+D6KaG55uW77yM5LiU57ud5a+55pyJ5YC877yM5aaC5p6c5bCa5pyq6K+75Y+W5LiK5qyh5pe26Ze055qE5oOF5Ya15LiL5Lmf5LiN5YWB6K645Yi35paw6KaG55uW5o6J5LiK5qyh55qE5Y6G5Y+y5pe26Ze077yM5L+d6K+B5LqG5LiK5qyh5pe26Ze055qE5YeG56Gu5L2/55So77yM6L+b6ICM5L+d6K+B5LqG56a757q/5pS255uK5pe26Ze055qE6K6h566X5YeG56Gu5bqmXHJcbiAgICAqL1xyXG4gICAgc2V0T2ZmbGluZVRpbWVzdGFtcCgpIHtcclxuICAgICAgICAvLyDpmLLmraLov5jmsqHor7vlj5bkuIrmrKHnprvnur/ml7bpl7Qg5bCx6KKr5b+D6Lez5pu05paw5pe26Ze05oiz55qE5pa55byP57uZ6KaG55uW5o6J5LqG77yM5a+86Ie05LiK5qyh5pyA5ZCO55qE5ri45oiP5pe26Ze05oiz6K+75Y+W5LiN5Yiw5LqGXHJcbiAgICAgICAgaWYgKHRoaXMub2ZmbGluZUxhc3RUaW1lc3RhbXAgPT0gLTEpIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IHRpbWUgPSBTREtNYW5hZ2VyLmdldFNlcnZlclRpbWUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYXRhLm9mZmxpbmVUaW1lc3RhbXAgPSBNYXRoLmZsb29yKHRpbWUgLyAxMDAwKTtcclxuICAgICAgICB0aGlzLmRhdGEuc2F2ZU9mZmxpbmVUaW1lc3RhbXAoKTtcclxuICAgIH1cclxuICAgIC8qKiDor7vlj5bnprvnur/mlLbnm4rml7bpl7TmiLMgKi9cclxuICAgIGdldE9mZmxpbmVUaW1lc3RhbXAoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vZmZsaW5lTGFzdFRpbWVzdGFtcDtcclxuICAgIH1cclxuICAgIC8v6K6i5Y2V5Lit5b+DXHJcbiAgICBnZXRPcmRlckxpc3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5vcmRlckNhY2hlTGlzdDtcclxuICAgIH1cclxuICAgIGdldCBvcmRlckxlbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLm9yZGVyVW5sb2NrTGVuO1xyXG4gICAgfVxyXG4gICAgc2V0IG9yZGVyTGVuKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhLm9yZGVyVW5sb2NrTGVuID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5zZXRPcmRlcigpO1xyXG4gICAgfVxyXG4gICAgZ2V0IG9yZGVyVmlkZW9OdW0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5vcmRlclZpZGVvTnVtO1xyXG4gICAgfVxyXG4gICAgc2V0IG9yZGVyVmlkZW9OdW0odmFsdWUpIHtcclxuICAgICAgICB0aGlzLmRhdGEub3JkZXJWaWRlb051bSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuc2V0T3JkZXIoKTtcclxuICAgIH1cclxuICAgIHNldE9yZGVyKCkge1xyXG4gICAgICAgIHRoaXMuZGF0YS5vcmRlckNhY2hlTGlzdC5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBiLnN0YXRlIC0gYS5zdGF0ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuZGF0YS5zYXZlT3JkZXIoKTtcclxuICAgIH1cclxuICAgIC8v5o6l5Y2V5ZCO5qC55o2u5LuT5bqT5bqT5a2Y5pu05paw5b2T5YmN6K6i5Y2V5pWw6YePXHJcbiAgICB1cGRhdGVPcmRlcigpIHtcclxuICAgICAgICBsZXQgb3JkZXIgPSB0aGlzLmdldEN1cnJlbnRPcmRlcigpO1xyXG5cclxuICAgICAgICBsZXQgbGlzdDEgPSB0aGlzLmdldFdhcmVySG91c2VDZmcoKS5jcm9wTGlzdDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gbGlzdDFbaV07XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tBZGRPcmRlcihpdGVtLmNyb3BJZCwgaXRlbS5udW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5Y2W5Ye654mp5ZOB5pu05paw6K6i5Y2VXHJcbiAgICB1cGRhdGVDdXJyZW50T3JkZXIoaWQpIHtcclxuICAgICAgICBsZXQgb3JkZXIgPSB0aGlzLmdldEN1cnJlbnRPcmRlcigpO1xyXG4gICAgICAgIGlmIChvcmRlcikge1xyXG4gICAgICAgICAgICBsZXQgbGlzdCA9IG9yZGVyLmNyb3BMaXN0O1xyXG4gICAgICAgICAgICAvLyBsZXQgc3RhdGVMaXN0ID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpc3RbaV0uY3JvcElkID09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdFtpXS5udW0gLT0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRhdGEuc2F2ZU9yZGVyKCk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLk9SREVSX1VQREFURV9UT1ApXHJcbiAgICB9XHJcbiAgICAvL+WinuWKoOS9nOeJqVxyXG4gICAgY2hlY2tBZGRPcmRlcihpZCwgbnVtLCBjb21wbGV0ZUZ1bj8sIGNhbGxCYWNrPykge1xyXG4gICAgICAgIGxldCBvcmRlciA9IHRoaXMuZ2V0Q3VycmVudE9yZGVyKCk7XHJcbiAgICAgICAgaWYgKCFvcmRlcikge1xyXG4gICAgICAgICAgICBpZiAoY2FsbEJhY2spIGNhbGxCYWNrKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGxpc3QgPSBvcmRlci5jcm9wTGlzdDtcclxuICAgICAgICAvLyBsZXQgc3RhdGVMaXN0ID0gW107XHJcbiAgICAgICAgbGV0IGNvbXBsZXRlTGVuID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGxpc3RbaV0uY3JvcElkID09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0W2ldLm51bSArPSBudW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGxpc3RbaV0ubnVtID49IGxpc3RbaV0udGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzdGF0ZUxpc3QucHVzaCgxKVxyXG4gICAgICAgICAgICAgICAgY29tcGxldGVMZW4gKz0gMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHN0YXRlTGlzdC5wdXNoKDApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLk9SREVSX1VQREFURV9UT1ApXHJcbiAgICAgICAgdGhpcy5zZXRPcmRlcigpO1xyXG4gICAgICAgIGlmIChjb21wbGV0ZUxlbiA9PSBsaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAoY29tcGxldGVGdW4pIGNvbXBsZXRlRnVuKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGNhbGxCYWNrKSBjYWxsQmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5qOA5rWL6K6i5Y2V5piv5ZCm5a6M5oiQXHJcbiAgICBjaGVja09yZGVyQ29tcGxldGUoKSB7XHJcbiAgICAgICAgbGV0IG9yZGVyID0gdGhpcy5nZXRDdXJyZW50T3JkZXIoKTtcclxuICAgICAgICBpZiAob3JkZXIpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBsaXN0ID0gb3JkZXIuY3JvcExpc3Q7XHJcbiAgICAgICAgICAgIGxldCBjb21wbGV0ZUxlbiA9IDA7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpc3RbaV0ubnVtID49IGxpc3RbaV0udGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVMZW4gKz0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29tcGxldGVMZW4gPT0gbGlzdC5sZW5ndGgpIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaGF2ZU9yZGVyKCkge1xyXG4gICAgICAgIGxldCBvcmRlciA9IHRoaXMuZ2V0Q3VycmVudE9yZGVyKCk7XHJcbiAgICAgICAgaWYgKG9yZGVyKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy/lvZPliY3orqLljZVcclxuICAgIGdldEN1cnJlbnRPcmRlcigpIHtcclxuICAgICAgICBsZXQgb3JkZXI6IG9yZGVyQ2FjaGU7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEub3JkZXJDYWNoZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLmRhdGEub3JkZXJDYWNoZUxpc3RbaV07XHJcbiAgICAgICAgICAgIGlmIChpdGVtLnN0YXRlID09IDEpIHtcclxuICAgICAgICAgICAgICAgIG9yZGVyID0gaXRlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3JkZXI7XHJcbiAgICB9XHJcbiAgICAvL+W9k+WJjeiuouWNleS4reeahOmaj+acuuS9nOeJqVxyXG4gICAgZ2V0Q3VycmVudE9yZGVyQ3JvcCgpIHtcclxuICAgICAgICBsZXQgb3JkZXIgPSB0aGlzLmdldEN1cnJlbnRPcmRlcigpO1xyXG4gICAgICAgIGxldCBjcm9wTGlzdCA9IFtdO1xyXG4gICAgICAgIGlmIChvcmRlcikge1xyXG4gICAgICAgICAgICBsZXQgbGlzdCA9IG9yZGVyLmNyb3BMaXN0O1xyXG4gICAgICAgICAgICAvLyBsZXQgc3RhdGVMaXN0ID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpc3RbaV0uY3JvcElkIDwgMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JvcExpc3QucHVzaChsaXN0W2ldLmNyb3BJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RbaV0ubnVtID49IGxpc3RbaV0udGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsaXN0W2ldLmNyb3BJZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNyb3BMaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIFV0aWxzLmdldFJhbmRvbUJ5QXJyKGNyb3BMaXN0KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmdldFJhbmRvbUJ5QXJyKHRoaXMuZGF0YS51bmxvY2tDcm9wTGlzdCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldCBndWlkZVN0YXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ3VpZGVTdGF0ZTtcclxuICAgIH1cclxuICAgIHNldCBndWlkZVN0YXRlKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhLmd1aWRlU3RhdGUgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLmRhdGEuc2F2ZUd1aWRlKCk7XHJcbiAgICB9XHJcbiAgICBnZXQgZ3VpZGVTdGVwKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ3VpZGVTdGVwO1xyXG4gICAgfVxyXG4gICAgc2V0IGd1aWRlU3RlcCh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZGF0YS5ndWlkZVN0ZXAgKz0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy/mr4/ml6Xoh6rliqjmi5vmj73kurrmlbBcclxuICAgIGFkZERheUF1dG9Sb2xlTnVtKCkge1xyXG4gICAgICAgIHRoaXMuZGF0YS5kYXlBdXRvUm9sZU51bSsrO1xyXG4gICAgfVxyXG4gICAgLy/mr4/ml6Xoh6rliqjmi5vmj73ml7bpl7Tpl7TpmpRcclxuICAgIGdldEF1dG9Sb2xlVGltZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhLmRheUF1dG9Sb2xlTnVtIDwgMTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDEwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhLmRheUF1dG9Sb2xlTnVtIDwgMzEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE1O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAyMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHpkR2tOdW0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS56ZEdrTnVtO1xyXG4gICAgfVxyXG4gICAgc2V0IHpkR2tOdW0odmFsdWUpIHtcclxuICAgICAgICB0aGlzLmRhdGEuemRHa051bSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuZGF0YS5zYXZlWmxOdW0oKTtcclxuICAgIH1cclxuICAgIC8v5omL5Yqo5oub5o+95qyh5pWwXHJcbiAgICBzZXRabE51bSh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZGF0YS56aGFvbGFuTnVtID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5kYXRhLnNhdmVabE51bSgpO1xyXG4gICAgfVxyXG4gICAgZ2V0WmxOdW0oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS56aGFvbGFuTnVtO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQbGF5ZXJNb2RlbC5pbnN0YW5jZSgpO1xyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/manager/ConfigManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0da7dg7/WBIx6aLD65qJ7hv', 'ConfigManager');
// src/game/manager/ConfigManager.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LoaderManager_1 = require("../../framework/manager/LoaderManager");
var Handler_1 = require("../../framework/base/Handler");
var PlayerModel_1 = require("../datas/PlayerModel");
var NResponer_1 = require("../../framework/message/NResponer");
var Message_1 = require("../view/Message");
var Utils_1 = require("../../framework/tools/Utils");
var Global_1 = require("../consts/Global");
var CConst_1 = require("../consts/CConst");
var SDKManager_1 = require("../../framework/manager/SDKManager");
var MkUtils_1 = require("../../framework/tools/MkUtils");
var ConfigManager = /** @class */ (function () {
    function ConfigManager() {
        this.gameJson = {}; //单个游戏json配置
        this.jsonLoadNum = 0;
        this.cashier_interval = 5; //收银台间隔几秒产出一次
        this.cashier_one = 10; //收银台间一次产出
        this.cashier_add_multiple = 3; //加速倍数
        this.cashier_add_times = 3; //加速分钟数
        this.add_speed_gold = 300; //作物加速所需钞票数
        this.crop_maxGet_interval = 6; //判定高产间隔次数
        this.crop_maxGet_rate = 0.6; //每次判定高产概率
        this.crop_maxGet_num = 5; //高产作物数量
        this.hard_hb_interval = 9; //辛苦红包收获作物数量间隔
        this.order_quality_add = [0, 10, 25, 40, 60, 80];
    }
    ConfigManager.instance = function () {
        if (!this._instance) {
            this._instance = new ConfigManager();
        }
        return this._instance;
    };
    ConfigManager.prototype.init = function () {
        var _this = this;
        LoaderManager_1.default.loaderJson('allConf', Handler_1.default.create(function (res) {
            _this.allConfig = res.json;
            console.log("配置文件：", _this.allConfig);
            _this.crop = _this.allConfig["crop_time"];
            _this.field = _this.allConfig["field"];
            _this.shelves = _this.allConfig["shelves"];
            _this.prop = _this.allConfig["prop"];
            _this.level = _this.allConfig["level"];
            _this.order = _this.allConfig["order"];
            _this.order_weight = _this.allConfig["order_weight"];
            NResponer_1.default.dispatch(Message_1.Message.configComplete);
        }, this), 'config');
    };
    ConfigManager.prototype.loadGameZipJson = function (name, jsonStringArray, callback, isLocalJson, path, isRetry) {
        var _this = this;
        if (this.gameJson[name]) {
            callback();
            return;
        }
        if (isLocalJson) {
            this.jsonLoadNum = jsonStringArray.length;
            // you now have every files contained in the loaded zip
            for (var i = 0; i < jsonStringArray.length; i++) {
                LoaderManager_1.default.loaderJson(jsonStringArray[i], Handler_1.default.create(function (res) {
                    _this.jsonLoadNum--;
                    if (_this.jsonLoadNum == 0) {
                        callback();
                    }
                }, this), 'config');
            }
        }
        else {
            var fullUrl = Global_1.default.JSON_SERVER_URL + name + ".zip";
            if (path) {
                fullUrl = path + name + ".zip";
            }
            // SDKManager.getInstance().sdkZibUtil(fullUrl, jsonStringArray, function (gafFiles) {
            //     cc.log("download file: ", gafFiles)
            //     DataManager.getInstance().jsonLoadNum = jsonStringArray.length
            //     // you now have every files contained in the loaded zip
            //     for (let i = 0; i < jsonStringArray.length; i++) {
            //         let fileString = gafFiles[jsonStringArray[i] + ".json"]
            //         let fileJson = JSON.parse(fileString)
            //         DataManager.getInstance().gameJson[jsonStringArray[i]] = fileJson
            //         DataManager.getInstance().jsonLoadNum --
            //         if (DataManager.getInstance().jsonLoadNum == 0) {
            //             callback()
            //         }
            //     }
            // }.bind(this), function () {
            //     //zip下载失败重新下载
            //     if (isRetry) {return}
            //     DataManager.getInstance().loadGameZipJson(name, jsonStringArray, callback, isLocalJson, path, true)
            // }.bind(this))
        }
    };
    ConfigManager.prototype.getOrderList = function () {
        var orderList = [];
        var len = PlayerModel_1.default.orderLen;
        var time = Math.floor(Utils_1.default.returnTime() / 1000) + 3600;
        if (Global_1.default.isCeshi_version) {
            time = Math.floor(Utils_1.default.returnTime() / 1000) + 60;
        }
        if (SDKManager_1.default.hasNewOrderReward()) {
            // if (!PlayerModel.guideState) {
            var item = this.order[0];
            orderList.push({
                id: item.id, unlock: 1, time: time, index: 0,
                quality: item.quality, state: 0, cropList: [
                    { cropId: item.crop1, target: item.num1, num: 0 },
                    { cropId: item.crop2, target: item.num2, num: 0 },
                ]
            });
            len = PlayerModel_1.default.orderLen - 1;
        }
        var wegitCfg = this.getOrderWegit();
        for (var i = 0; i < len; i++) {
            var order = this.getOrderByWegit(wegitCfg);
            var value = {
                id: order.id, unlock: 1, time: time, index: i + 1,
                quality: order.quality, state: 0, cropList: [
                    { cropId: order.crop1, target: this.getOrderNumBySDK(order.num1), num: 0 },
                    { cropId: order.crop2, target: this.getOrderNumBySDK(order.num2), num: 0 },
                    { cropId: order.crop3, target: this.getOrderNumBySDK(order.num3), num: 0 },
                    { cropId: order.crop4, target: this.getOrderNumBySDK(order.num4), num: 0 },
                ]
            };
            // let random = MKUtils.randomNMF(0, 100);
            // if (random < 50) {
            //     let item = Utils.getRandomByArr(value.cropList);
            //     item.cropId = 100;
            // }
            this.sortCropList(value.cropList);
            orderList.push(value);
        }
        for (var k = 0; k < 5 - PlayerModel_1.default.orderLen; k++) {
            var value = {
                id: -1, unlock: 0, lastTime: -1, index: k + len,
                quality: 0, state: 0, cropList: []
            };
            orderList.push(value);
        }
        return orderList;
    };
    ConfigManager.prototype.getOrder = function () {
        var wegitCfg = this.getOrderWegit();
        var order = this.getOrderByWegit(wegitCfg);
        var time = Math.floor(Utils_1.default.returnTime() / 1000) + 3600;
        if (Global_1.default.isCeshi_version) {
            time = Math.floor(Utils_1.default.returnTime() / 1000) + 60;
        }
        var value = {
            id: order.id, unlock: 1, time: time, index: 1,
            quality: order.quality, state: 0, cropList: [
                { cropId: order.crop1, target: this.getOrderNumBySDK(order.num1), num: 0 },
                { cropId: order.crop2, target: this.getOrderNumBySDK(order.num2), num: 0 },
                { cropId: order.crop3, target: this.getOrderNumBySDK(order.num3), num: 0 },
                { cropId: order.crop4, target: this.getOrderNumBySDK(order.num4), num: 0 },
            ]
        };
        // let random = MKUtils.randomNMF(0, 100);
        // if (random < 50) {
        //     let item = Utils.getRandomByArr(value.cropList);
        //     item.cropId = 100;
        // }
        this.sortCropList(value.cropList);
        return value;
    };
    //
    ConfigManager.prototype.getOrderNumBySDK = function (num) {
        var flag = SDKManager_1.default.getOrderCountAdd();
        var num1 = Math.round((num * flag) / 100);
        return num1;
    };
    ConfigManager.prototype.sortCropList = function (arr) {
        arr.sort(function (a, b) {
            return a.cropId - b.cropId;
        });
    };
    ConfigManager.prototype.getOrderByWegit = function (wegit) {
        var total = 0;
        for (var i = 1; i < 7; i++) {
            total += wegit["lv" + i];
        }
        var random = MkUtils_1.default.randomNMF(0, total);
        var wegitTotal = 0;
        var quality = 0;
        for (var j = 1; j < 7; j++) {
            wegitTotal += wegit["lv" + j];
            if (random < wegitTotal) {
                quality = j;
                break;
            }
        }
        var orderList = this.order.slice(1);
        var arr = orderList.filter(function (value, index) {
            return value.quality == quality;
        });
        var order = Utils_1.default.getRandomByArr(arr);
        return order;
    };
    //获取当前幸福指数对应权重
    ConfigManager.prototype.getOrderWegit = function () {
        var cfgList = this.order_weight;
        var xfzs = PlayerModel_1.default.getXfzs();
        var cfg;
        if (xfzs >= cfgList[cfgList.length - 1].limit) {
            return cfgList[cfgList.length - 1];
        }
        for (var i = 0; i < cfgList.length; i++) {
            if (xfzs < cfgList[i].limit) {
                cfg = cfgList[i - 1];
                break;
            }
        }
        return cfg;
    };
    //获取设施
    ConfigManager.prototype.getPropById = function (type, level) {
        var itemId = type + "0" + level;
        var arr = this.prop.filter(function (item) {
            return item.id == Number(itemId);
        });
        return arr[0];
    };
    ConfigManager.prototype.getPropMaxLv = function (type) {
        var arr = this.prop.filter(function (item) {
            return item.type == type;
        });
        return arr.length;
    };
    //每个货架最多排队X位顾客
    ConfigManager.prototype.getRoleMax = function () {
        var itemId = CConst_1.propType.road + "0" + PlayerModel_1.default.getUIConfig().roadlv;
        var arr = this.prop.filter(function (item) {
            return item.id == Number(itemId);
        });
        return arr[0].add_num;
    };
    /**
     * 地块配置
     * @param id
     * @returns
     */
    ConfigManager.prototype.getFieldCfgByType = function (type, level) {
        var itemId = type + "0" + level;
        var arr = this.field.filter(function (item) {
            return item.id == Number(itemId);
        });
        return arr[0];
    };
    ConfigManager.prototype.getFieldMaxLv = function (type) {
        var arr = this.field.filter(function (item) {
            return item.type == type;
        });
        return arr.length;
    };
    /**
     * 货架配置
     * @returns
     */
    ConfigManager.prototype.getShelveByType = function (type, level) {
        var itemId = type + "0" + level;
        var arr = this.shelves.filter(function (item) {
            return item.id == Number(itemId);
        });
        return arr[0];
    };
    ConfigManager.prototype.getShelveMaxLv = function (type) {
        var arr = this.shelves.filter(function (item) {
            return item.type == type;
        });
        return arr.length;
    };
    /** 通过id索引作物 */
    ConfigManager.prototype.getCropById = function (id) {
        return this.crop.filter(function (x) {
            return id == x.id;
        })[0];
    };
    //收银台每日自动获取钞票上限
    ConfigManager.prototype.getCashierMax = function () {
        var lv = PlayerModel_1.default.getUIConfig().cashierlv;
        var id = Number(CConst_1.propType.cashier + "0" + lv);
        var arr = this.prop.filter(function (item) {
            return item.id == id;
        });
        return arr[0].add_num;
    };
    //获取当前等级配置
    ConfigManager.prototype.getCurrentLvCfg = function () {
        var lv = PlayerModel_1.default.getLevel();
        var arr = this.level.filter(function (cfg) {
            return cfg.level == lv;
        });
        return arr[0];
    };
    /**
     * 获取作物成熟时间
     * @param id
     * @param num 仓库中拥有数量
     * @returns
     */
    ConfigManager.prototype.getCropTime = function (id, num) {
        var numObj = this.crop[0];
        var key;
        var preKey;
        for (var numkey in numObj) {
            var value = numkey.slice(0, 5);
            if (value != "value")
                continue;
            if (!preKey)
                preKey = numkey;
            if (num <= numObj[numkey]) {
                key = preKey;
                break;
            }
            preKey = numkey;
        }
        if (!key)
            key = preKey;
        var timeObj;
        for (var i = 1; i < this.crop.length; i++) {
            if (this.crop[i].id == id) {
                timeObj = this.crop[i];
            }
        }
        return timeObj[key];
    };
    return ConfigManager;
}());
exports.default = ConfigManager.instance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9tYW5hZ2VyL0NvbmZpZ01hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx1RUFBa0U7QUFDbEUsd0RBQW1EO0FBQ25ELG9EQUErQztBQUMvQywrREFBMEQ7QUFDMUQsMkNBQTBDO0FBQzFDLHFEQUFnRDtBQUNoRCwyQ0FBc0M7QUFDdEMsMkNBQTBIO0FBQzFILGlFQUE0RDtBQUM1RCx5REFBb0Q7QUFFcEQ7SUFBQTtRQUlXLGFBQVEsR0FBVyxFQUFFLENBQUMsQ0FBQSxZQUFZO1FBQ3pDLGdCQUFXLEdBQUcsQ0FBQyxDQUFDO1FBRWhCLHFCQUFnQixHQUFHLENBQUMsQ0FBQyxDQUFBLGFBQWE7UUFDbEMsZ0JBQVcsR0FBRyxFQUFFLENBQUMsQ0FBQSxVQUFVO1FBQzNCLHlCQUFvQixHQUFHLENBQUMsQ0FBQyxDQUFBLE1BQU07UUFDL0Isc0JBQWlCLEdBQUcsQ0FBQyxDQUFDLENBQUEsT0FBTztRQUM3QixtQkFBYyxHQUFHLEdBQUcsQ0FBQyxDQUFBLFdBQVc7UUFFaEMseUJBQW9CLEdBQUcsQ0FBQyxDQUFDLENBQUEsVUFBVTtRQUNuQyxxQkFBZ0IsR0FBRyxHQUFHLENBQUMsQ0FBQSxVQUFVO1FBQ2pDLG9CQUFlLEdBQUcsQ0FBQyxDQUFDLENBQUEsUUFBUTtRQUU1QixxQkFBZ0IsR0FBRyxDQUFDLENBQUMsQ0FBQSxjQUFjO1FBRW5DLHNCQUFpQixHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQWdVaEQsQ0FBQztJQXRUVSxzQkFBUSxHQUFmO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDakIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGFBQWEsRUFBRSxDQUFDO1NBQ3hDO1FBQ0QsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRCw0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Q0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDMUI7U0FDSjtRQUVELE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRXhCLENBQUM7SUFDTCxvQkFBQztBQUFELENBblZBLEFBbVZDLElBQUE7QUFFRCxrQkFBZSxhQUFhLENBQUMsUUFBUSxFQUFFLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9hZGVyTWFuYWdlciBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvTG9hZGVyTWFuYWdlclwiO1xyXG5pbXBvcnQgSGFuZGxlciBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL2Jhc2UvSGFuZGxlclwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCBOUmVzcG9uZXIgZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL05SZXNwb25lclwiO1xyXG5pbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSBcIi4uL3ZpZXcvTWVzc2FnZVwiO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSBcIi4uLy4uL2ZyYW1ld29yay90b29scy9VdGlsc1wiO1xyXG5pbXBvcnQgR2xvYmFsIGZyb20gXCIuLi9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCB7IGNyb3BfY29uZmlnLCBsZXZlbFVwX2NvbmZpZywgbGV2ZWxfY29uZmlnLCBvcmRlcl9jb25maWcsIG9yZGVyX3dlaWdodF9jb25maWcsIHByb3BUeXBlIH0gZnJvbSBcIi4uL2NvbnN0cy9DQ29uc3RcIjtcclxuaW1wb3J0IFNES01hbmFnZXIgZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1NES01hbmFnZXJcIjtcclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uLy4uL2ZyYW1ld29yay90b29scy9Na1V0aWxzXCI7XHJcblxyXG5jbGFzcyBDb25maWdNYW5hZ2VyIHtcclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogQ29uZmlnTWFuYWdlcjtcclxuXHJcbiAgICBwcml2YXRlIGFsbENvbmZpZzogYW55O1xyXG4gICAgcHVibGljIGdhbWVKc29uOiBvYmplY3QgPSB7fTsvL+WNleS4qua4uOaIj2pzb27phY3nva5cclxuICAgIGpzb25Mb2FkTnVtID0gMDtcclxuXHJcbiAgICBjYXNoaWVyX2ludGVydmFsID0gNTsvL+aUtumTtuWPsOmXtOmalOWHoOenkuS6p+WHuuS4gOasoVxyXG4gICAgY2FzaGllcl9vbmUgPSAxMDsvL+aUtumTtuWPsOmXtOS4gOasoeS6p+WHulxyXG4gICAgY2FzaGllcl9hZGRfbXVsdGlwbGUgPSAzOy8v5Yqg6YCf5YCN5pWwXHJcbiAgICBjYXNoaWVyX2FkZF90aW1lcyA9IDM7Ly/liqDpgJ/liIbpkp/mlbBcclxuICAgIGFkZF9zcGVlZF9nb2xkID0gMzAwOy8v5L2c54mp5Yqg6YCf5omA6ZyA6ZKe56Wo5pWwXHJcblxyXG4gICAgY3JvcF9tYXhHZXRfaW50ZXJ2YWwgPSA2Oy8v5Yik5a6a6auY5Lqn6Ze06ZqU5qyh5pWwXHJcbiAgICBjcm9wX21heEdldF9yYXRlID0gMC42Oy8v5q+P5qyh5Yik5a6a6auY5Lqn5qaC546HXHJcbiAgICBjcm9wX21heEdldF9udW0gPSA1Oy8v6auY5Lqn5L2c54mp5pWw6YePXHJcblxyXG4gICAgaGFyZF9oYl9pbnRlcnZhbCA9IDk7Ly/ovpvoi6bnuqLljIXmlLbojrfkvZznianmlbDph4/pl7TpmpRcclxuXHJcbiAgICBvcmRlcl9xdWFsaXR5X2FkZCA9IFswLCAxMCwgMjUsIDQwLCA2MCwgODBdO1xyXG5cclxuICAgIGNyb3A6IGNyb3BfY29uZmlnW107XHJcbiAgICBmaWVsZDogbGV2ZWxVcF9jb25maWdbXTtcclxuICAgIHNoZWx2ZXM6IGxldmVsVXBfY29uZmlnW107XHJcbiAgICBwcm9wOiBsZXZlbFVwX2NvbmZpZ1tdO1xyXG4gICAgbGV2ZWw6IGxldmVsX2NvbmZpZ1tdO1xyXG4gICAgb3JkZXI6IG9yZGVyX2NvbmZpZ1tdO1xyXG4gICAgb3JkZXJfd2VpZ2h0OiBvcmRlcl93ZWlnaHRfY29uZmlnW107XHJcblxyXG4gICAgc3RhdGljIGluc3RhbmNlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgQ29uZmlnTWFuYWdlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBMb2FkZXJNYW5hZ2VyLmxvYWRlckpzb24oJ2FsbENvbmYnLCBIYW5kbGVyLmNyZWF0ZSgocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxsQ29uZmlnID0gcmVzLmpzb247XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6YWN572u5paH5Lu277yaXCIsIHRoaXMuYWxsQ29uZmlnKTtcclxuICAgICAgICAgICAgdGhpcy5jcm9wID0gdGhpcy5hbGxDb25maWdbXCJjcm9wX3RpbWVcIl07XHJcbiAgICAgICAgICAgIHRoaXMuZmllbGQgPSB0aGlzLmFsbENvbmZpZ1tcImZpZWxkXCJdO1xyXG4gICAgICAgICAgICB0aGlzLnNoZWx2ZXMgPSB0aGlzLmFsbENvbmZpZ1tcInNoZWx2ZXNcIl07XHJcbiAgICAgICAgICAgIHRoaXMucHJvcCA9IHRoaXMuYWxsQ29uZmlnW1wicHJvcFwiXTtcclxuICAgICAgICAgICAgdGhpcy5sZXZlbCA9IHRoaXMuYWxsQ29uZmlnW1wibGV2ZWxcIl07XHJcbiAgICAgICAgICAgIHRoaXMub3JkZXIgPSB0aGlzLmFsbENvbmZpZ1tcIm9yZGVyXCJdO1xyXG4gICAgICAgICAgICB0aGlzLm9yZGVyX3dlaWdodCA9IHRoaXMuYWxsQ29uZmlnW1wib3JkZXJfd2VpZ2h0XCJdO1xyXG5cclxuICAgICAgICAgICAgTlJlc3BvbmVyLmRpc3BhdGNoKE1lc3NhZ2UuY29uZmlnQ29tcGxldGUpO1xyXG5cclxuICAgICAgICB9LCB0aGlzKSwgJ2NvbmZpZycpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2FkR2FtZVppcEpzb24obmFtZSwganNvblN0cmluZ0FycmF5LCBjYWxsYmFjazogRnVuY3Rpb24sIGlzTG9jYWxKc29uLCBwYXRoPzogU3RyaW5nLCBpc1JldHJ5PzogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVKc29uW25hbWVdKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKClcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNMb2NhbEpzb24pIHtcclxuICAgICAgICAgICAgdGhpcy5qc29uTG9hZE51bSA9IGpzb25TdHJpbmdBcnJheS5sZW5ndGhcclxuICAgICAgICAgICAgLy8geW91IG5vdyBoYXZlIGV2ZXJ5IGZpbGVzIGNvbnRhaW5lZCBpbiB0aGUgbG9hZGVkIHppcFxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGpzb25TdHJpbmdBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgTG9hZGVyTWFuYWdlci5sb2FkZXJKc29uKGpzb25TdHJpbmdBcnJheVtpXSwgSGFuZGxlci5jcmVhdGUoKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuanNvbkxvYWROdW0tLVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmpzb25Mb2FkTnVtID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpLCAnY29uZmlnJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBmdWxsVXJsID0gR2xvYmFsLkpTT05fU0VSVkVSX1VSTCArIG5hbWUgKyBcIi56aXBcIlxyXG4gICAgICAgICAgICBpZiAocGF0aCkge1xyXG4gICAgICAgICAgICAgICAgZnVsbFVybCA9IHBhdGggKyBuYW1lICsgXCIuemlwXCJcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU0RLTWFuYWdlci5nZXRJbnN0YW5jZSgpLnNka1ppYlV0aWwoZnVsbFVybCwganNvblN0cmluZ0FycmF5LCBmdW5jdGlvbiAoZ2FmRmlsZXMpIHtcclxuICAgICAgICAgICAgLy8gICAgIGNjLmxvZyhcImRvd25sb2FkIGZpbGU6IFwiLCBnYWZGaWxlcylcclxuICAgICAgICAgICAgLy8gICAgIERhdGFNYW5hZ2VyLmdldEluc3RhbmNlKCkuanNvbkxvYWROdW0gPSBqc29uU3RyaW5nQXJyYXkubGVuZ3RoXHJcbiAgICAgICAgICAgIC8vICAgICAvLyB5b3Ugbm93IGhhdmUgZXZlcnkgZmlsZXMgY29udGFpbmVkIGluIHRoZSBsb2FkZWQgemlwXHJcbiAgICAgICAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGpzb25TdHJpbmdBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGxldCBmaWxlU3RyaW5nID0gZ2FmRmlsZXNbanNvblN0cmluZ0FycmF5W2ldICsgXCIuanNvblwiXVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIGxldCBmaWxlSnNvbiA9IEpTT04ucGFyc2UoZmlsZVN0cmluZylcclxuICAgICAgICAgICAgLy8gICAgICAgICBEYXRhTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdhbWVKc29uW2pzb25TdHJpbmdBcnJheVtpXV0gPSBmaWxlSnNvblxyXG5cclxuICAgICAgICAgICAgLy8gICAgICAgICBEYXRhTWFuYWdlci5nZXRJbnN0YW5jZSgpLmpzb25Mb2FkTnVtIC0tXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgaWYgKERhdGFNYW5hZ2VyLmdldEluc3RhbmNlKCkuanNvbkxvYWROdW0gPT0gMCkge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBjYWxsYmFjaygpXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyB9LmJpbmQodGhpcyksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gICAgIC8vemlw5LiL6L295aSx6LSl6YeN5paw5LiL6L29XHJcbiAgICAgICAgICAgIC8vICAgICBpZiAoaXNSZXRyeSkge3JldHVybn1cclxuICAgICAgICAgICAgLy8gICAgIERhdGFNYW5hZ2VyLmdldEluc3RhbmNlKCkubG9hZEdhbWVaaXBKc29uKG5hbWUsIGpzb25TdHJpbmdBcnJheSwgY2FsbGJhY2ssIGlzTG9jYWxKc29uLCBwYXRoLCB0cnVlKVxyXG4gICAgICAgICAgICAvLyB9LmJpbmQodGhpcykpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldE9yZGVyTGlzdCgpIHtcclxuICAgICAgICBsZXQgb3JkZXJMaXN0ID0gW107XHJcbiAgICAgICAgbGV0IGxlbiA9IFBsYXllck1vZGVsLm9yZGVyTGVuO1xyXG4gICAgICAgIGxldCB0aW1lID0gTWF0aC5mbG9vcihVdGlscy5yZXR1cm5UaW1lKCkgLyAxMDAwKSArIDM2MDA7XHJcbiAgICAgICAgaWYgKEdsb2JhbC5pc0Nlc2hpX3ZlcnNpb24pIHtcclxuICAgICAgICAgICAgdGltZSA9IE1hdGguZmxvb3IoVXRpbHMucmV0dXJuVGltZSgpIC8gMTAwMCkgKyA2MDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChTREtNYW5hZ2VyLmhhc05ld09yZGVyUmV3YXJkKCkpIHtcclxuICAgICAgICAgICAgLy8gaWYgKCFQbGF5ZXJNb2RlbC5ndWlkZVN0YXRlKSB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5vcmRlclswXTtcclxuICAgICAgICAgICAgb3JkZXJMaXN0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsIHVubG9jazogMSwgdGltZTogdGltZSwgaW5kZXg6IDAsXHJcbiAgICAgICAgICAgICAgICBxdWFsaXR5OiBpdGVtLnF1YWxpdHksIHN0YXRlOiAwLCBjcm9wTGlzdDogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgY3JvcElkOiBpdGVtLmNyb3AxLCB0YXJnZXQ6IGl0ZW0ubnVtMSwgbnVtOiAwIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBjcm9wSWQ6IGl0ZW0uY3JvcDIsIHRhcmdldDogaXRlbS5udW0yLCBudW06IDAgfSxcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgbGVuID0gUGxheWVyTW9kZWwub3JkZXJMZW4gLSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgd2VnaXRDZmcgPSB0aGlzLmdldE9yZGVyV2VnaXQoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBvcmRlciA9IHRoaXMuZ2V0T3JkZXJCeVdlZ2l0KHdlZ2l0Q2ZnKTtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IG9yZGVyLmlkLCB1bmxvY2s6IDEsIHRpbWU6IHRpbWUsIGluZGV4OiBpICsgMSxcclxuICAgICAgICAgICAgICAgIHF1YWxpdHk6IG9yZGVyLnF1YWxpdHksIHN0YXRlOiAwLCBjcm9wTGlzdDogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgY3JvcElkOiBvcmRlci5jcm9wMSwgdGFyZ2V0OiB0aGlzLmdldE9yZGVyTnVtQnlTREsob3JkZXIubnVtMSksIG51bTogMCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgY3JvcElkOiBvcmRlci5jcm9wMiwgdGFyZ2V0OiB0aGlzLmdldE9yZGVyTnVtQnlTREsob3JkZXIubnVtMiksIG51bTogMCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgY3JvcElkOiBvcmRlci5jcm9wMywgdGFyZ2V0OiB0aGlzLmdldE9yZGVyTnVtQnlTREsob3JkZXIubnVtMyksIG51bTogMCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgY3JvcElkOiBvcmRlci5jcm9wNCwgdGFyZ2V0OiB0aGlzLmdldE9yZGVyTnVtQnlTREsob3JkZXIubnVtNCksIG51bTogMCB9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGxldCByYW5kb20gPSBNS1V0aWxzLnJhbmRvbU5NRigwLCAxMDApO1xyXG4gICAgICAgICAgICAvLyBpZiAocmFuZG9tIDwgNTApIHtcclxuICAgICAgICAgICAgLy8gICAgIGxldCBpdGVtID0gVXRpbHMuZ2V0UmFuZG9tQnlBcnIodmFsdWUuY3JvcExpc3QpO1xyXG4gICAgICAgICAgICAvLyAgICAgaXRlbS5jcm9wSWQgPSAxMDA7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgdGhpcy5zb3J0Q3JvcExpc3QodmFsdWUuY3JvcExpc3QpO1xyXG4gICAgICAgICAgICBvcmRlckxpc3QucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgNSAtIFBsYXllck1vZGVsLm9yZGVyTGVuOyBrKyspIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IC0xLCB1bmxvY2s6IDAsIGxhc3RUaW1lOiAtMSwgaW5kZXg6IGsgKyBsZW4sXHJcbiAgICAgICAgICAgICAgICBxdWFsaXR5OiAwLCBzdGF0ZTogMCwgY3JvcExpc3Q6IFtcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcmRlckxpc3QucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvcmRlckxpc3Q7XHJcblxyXG4gICAgfVxyXG4gICAgZ2V0T3JkZXIoKSB7XHJcbiAgICAgICAgbGV0IHdlZ2l0Q2ZnID0gdGhpcy5nZXRPcmRlcldlZ2l0KCk7XHJcbiAgICAgICAgbGV0IG9yZGVyID0gdGhpcy5nZXRPcmRlckJ5V2VnaXQod2VnaXRDZmcpO1xyXG4gICAgICAgIGxldCB0aW1lID0gTWF0aC5mbG9vcihVdGlscy5yZXR1cm5UaW1lKCkgLyAxMDAwKSArIDM2MDA7XHJcbiAgICAgICAgaWYgKEdsb2JhbC5pc0Nlc2hpX3ZlcnNpb24pIHtcclxuICAgICAgICAgICAgdGltZSA9IE1hdGguZmxvb3IoVXRpbHMucmV0dXJuVGltZSgpIC8gMTAwMCkgKyA2MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHZhbHVlID0ge1xyXG4gICAgICAgICAgICBpZDogb3JkZXIuaWQsIHVubG9jazogMSwgdGltZTogdGltZSwgaW5kZXg6IDEsXHJcbiAgICAgICAgICAgIHF1YWxpdHk6IG9yZGVyLnF1YWxpdHksIHN0YXRlOiAwLCBjcm9wTGlzdDogW1xyXG4gICAgICAgICAgICAgICAgeyBjcm9wSWQ6IG9yZGVyLmNyb3AxLCB0YXJnZXQ6IHRoaXMuZ2V0T3JkZXJOdW1CeVNESyhvcmRlci5udW0xKSwgbnVtOiAwIH0sXHJcbiAgICAgICAgICAgICAgICB7IGNyb3BJZDogb3JkZXIuY3JvcDIsIHRhcmdldDogdGhpcy5nZXRPcmRlck51bUJ5U0RLKG9yZGVyLm51bTIpLCBudW06IDAgfSxcclxuICAgICAgICAgICAgICAgIHsgY3JvcElkOiBvcmRlci5jcm9wMywgdGFyZ2V0OiB0aGlzLmdldE9yZGVyTnVtQnlTREsob3JkZXIubnVtMyksIG51bTogMCB9LFxyXG4gICAgICAgICAgICAgICAgeyBjcm9wSWQ6IG9yZGVyLmNyb3A0LCB0YXJnZXQ6IHRoaXMuZ2V0T3JkZXJOdW1CeVNESyhvcmRlci5udW00KSwgbnVtOiAwIH0sXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbGV0IHJhbmRvbSA9IE1LVXRpbHMucmFuZG9tTk1GKDAsIDEwMCk7XHJcbiAgICAgICAgLy8gaWYgKHJhbmRvbSA8IDUwKSB7XHJcbiAgICAgICAgLy8gICAgIGxldCBpdGVtID0gVXRpbHMuZ2V0UmFuZG9tQnlBcnIodmFsdWUuY3JvcExpc3QpO1xyXG4gICAgICAgIC8vICAgICBpdGVtLmNyb3BJZCA9IDEwMDtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgdGhpcy5zb3J0Q3JvcExpc3QodmFsdWUuY3JvcExpc3QpO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIC8vXHJcbiAgICBnZXRPcmRlck51bUJ5U0RLKG51bSkge1xyXG4gICAgICAgIGxldCBmbGFnID0gU0RLTWFuYWdlci5nZXRPcmRlckNvdW50QWRkKCk7XHJcbiAgICAgICAgbGV0IG51bTEgPSBNYXRoLnJvdW5kKChudW0gKiBmbGFnKSAvIDEwMCk7XHJcbiAgICAgICAgcmV0dXJuIG51bTE7XHJcbiAgICB9XHJcbiAgICBzb3J0Q3JvcExpc3QoYXJyOiBhbnlbXSkge1xyXG4gICAgICAgIGFyci5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLmNyb3BJZCAtIGIuY3JvcElkO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBnZXRPcmRlckJ5V2VnaXQod2VnaXQpIHtcclxuICAgICAgICBsZXQgdG90YWwgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgNzsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRvdGFsICs9IHdlZ2l0W1wibHZcIiArIGldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmFuZG9tID0gTUtVdGlscy5yYW5kb21OTUYoMCwgdG90YWwpO1xyXG4gICAgICAgIGxldCB3ZWdpdFRvdGFsID0gMDtcclxuICAgICAgICBsZXQgcXVhbGl0eSA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDE7IGogPCA3OyBqKyspIHtcclxuICAgICAgICAgICAgd2VnaXRUb3RhbCArPSB3ZWdpdFtcImx2XCIgKyBqXTtcclxuICAgICAgICAgICAgaWYgKHJhbmRvbSA8IHdlZ2l0VG90YWwpIHtcclxuICAgICAgICAgICAgICAgIHF1YWxpdHkgPSBqO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG9yZGVyTGlzdCA9IHRoaXMub3JkZXIuc2xpY2UoMSlcclxuICAgICAgICBsZXQgYXJyID0gb3JkZXJMaXN0LmZpbHRlcigodmFsdWUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5xdWFsaXR5ID09IHF1YWxpdHk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgbGV0IG9yZGVyID0gVXRpbHMuZ2V0UmFuZG9tQnlBcnIoYXJyKTtcclxuICAgICAgICByZXR1cm4gb3JkZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ojrflj5blvZPliY3lubjnpo/mjIfmlbDlr7nlupTmnYPph41cclxuICAgIGdldE9yZGVyV2VnaXQoKSB7XHJcbiAgICAgICAgbGV0IGNmZ0xpc3QgPSB0aGlzLm9yZGVyX3dlaWdodDtcclxuICAgICAgICBsZXQgeGZ6cyA9IFBsYXllck1vZGVsLmdldFhmenMoKTtcclxuICAgICAgICBsZXQgY2ZnOiBvcmRlcl93ZWlnaHRfY29uZmlnO1xyXG4gICAgICAgIGlmICh4ZnpzID49IGNmZ0xpc3RbY2ZnTGlzdC5sZW5ndGggLSAxXS5saW1pdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2ZnTGlzdFtjZmdMaXN0Lmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNmZ0xpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHhmenMgPCBjZmdMaXN0W2ldLmxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICBjZmcgPSBjZmdMaXN0W2kgLSAxXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjZmc7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ojrflj5borr7mlr1cclxuICAgIGdldFByb3BCeUlkKHR5cGUsIGxldmVsKTogbGV2ZWxVcF9jb25maWcge1xyXG4gICAgICAgIGxldCBpdGVtSWQgPSB0eXBlICsgXCIwXCIgKyBsZXZlbDtcclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5wcm9wLmZpbHRlcigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSBOdW1iZXIoaXRlbUlkKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBhcnJbMF07XHJcbiAgICB9XHJcbiAgICBnZXRQcm9wTWF4THYodHlwZSkge1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLnByb3AuZmlsdGVyKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnR5cGUgPT0gdHlwZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBhcnIubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgLy/mr4/kuKrotKfmnrbmnIDlpJrmjpLpmJ9Y5L2N6aG+5a6iXHJcbiAgICBnZXRSb2xlTWF4KCkge1xyXG4gICAgICAgIGxldCBpdGVtSWQgPSBwcm9wVHlwZS5yb2FkICsgXCIwXCIgKyBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLnJvYWRsdjtcclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5wcm9wLmZpbHRlcigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSBOdW1iZXIoaXRlbUlkKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBhcnJbMF0uYWRkX251bVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Zyw5Z2X6YWN572uXHJcbiAgICAgKiBAcGFyYW0gaWQgXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgZ2V0RmllbGRDZmdCeVR5cGUodHlwZSwgbGV2ZWwpIHtcclxuICAgICAgICBsZXQgaXRlbUlkID0gdHlwZSArIFwiMFwiICsgbGV2ZWw7XHJcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuZmllbGQuZmlsdGVyKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09IE51bWJlcihpdGVtSWQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGFyclswXTtcclxuICAgIH1cclxuICAgIGdldEZpZWxkTWF4THYodHlwZSkge1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmZpZWxkLmZpbHRlcigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS50eXBlID09IHR5cGU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gYXJyLmxlbmd0aDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6LSn5p626YWN572uXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgZ2V0U2hlbHZlQnlUeXBlKHR5cGUsIGxldmVsKSB7XHJcbiAgICAgICAgbGV0IGl0ZW1JZCA9IHR5cGUgKyBcIjBcIiArIGxldmVsO1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLnNoZWx2ZXMuZmlsdGVyKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09IE51bWJlcihpdGVtSWQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGFyclswXTtcclxuICAgIH1cclxuICAgIGdldFNoZWx2ZU1heEx2KHR5cGUpIHtcclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5zaGVsdmVzLmZpbHRlcigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS50eXBlID09IHR5cGU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gYXJyLmxlbmd0aDtcclxuICAgIH1cclxuICAgIC8qKiDpgJrov4dpZOe0ouW8leS9nOeJqSAqL1xyXG4gICAgZ2V0Q3JvcEJ5SWQoaWQ6IG51bWJlcik6IGNyb3BfY29uZmlnIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jcm9wLmZpbHRlcih4ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGlkID09IHguaWQ7XHJcbiAgICAgICAgfSlbMF07XHJcbiAgICB9XHJcbiAgICAvL+aUtumTtuWPsOavj+aXpeiHquWKqOiOt+WPlumSnuelqOS4iumZkFxyXG4gICAgZ2V0Q2FzaGllck1heCgpIHtcclxuICAgICAgICBsZXQgbHYgPSBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLmNhc2hpZXJsdjtcclxuICAgICAgICBsZXQgaWQgPSBOdW1iZXIocHJvcFR5cGUuY2FzaGllciArIFwiMFwiICsgbHYpO1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLnByb3AuZmlsdGVyKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09IGlkO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGFyclswXS5hZGRfbnVtO1xyXG4gICAgfVxyXG4gICAgLy/ojrflj5blvZPliY3nrYnnuqfphY3nva5cclxuICAgIGdldEN1cnJlbnRMdkNmZygpIHtcclxuICAgICAgICBsZXQgbHYgPSBQbGF5ZXJNb2RlbC5nZXRMZXZlbCgpO1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmxldmVsLmZpbHRlcigoY2ZnKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBjZmcubGV2ZWwgPT0gbHY7XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gYXJyWzBdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5bkvZznianmiJDnhp/ml7bpl7RcclxuICAgICAqIEBwYXJhbSBpZCBcclxuICAgICAqIEBwYXJhbSBudW0g5LuT5bqT5Lit5oul5pyJ5pWw6YePXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgZ2V0Q3JvcFRpbWUoaWQsIG51bSkge1xyXG4gICAgICAgIGxldCBudW1PYmogPSB0aGlzLmNyb3BbMF07XHJcbiAgICAgICAgbGV0IGtleTtcclxuICAgICAgICBsZXQgcHJlS2V5O1xyXG4gICAgICAgIGZvciAobGV0IG51bWtleSBpbiBudW1PYmopIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gbnVta2V5LnNsaWNlKDAsIDUpO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgIT0gXCJ2YWx1ZVwiKSBjb250aW51ZTtcclxuICAgICAgICAgICAgaWYgKCFwcmVLZXkpIHByZUtleSA9IG51bWtleTtcclxuICAgICAgICAgICAgaWYgKG51bSA8PSBudW1PYmpbbnVta2V5XSkge1xyXG4gICAgICAgICAgICAgICAga2V5ID0gcHJlS2V5O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJlS2V5ID0gbnVta2V5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFrZXkpIGtleSA9IHByZUtleTtcclxuXHJcbiAgICAgICAgbGV0IHRpbWVPYmo6IGNyb3BfY29uZmlnO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5jcm9wLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNyb3BbaV0uaWQgPT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIHRpbWVPYmogPSB0aGlzLmNyb3BbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aW1lT2JqW2tleV07XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb25maWdNYW5hZ2VyLmluc3RhbmNlKCk7XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/manager/MessageCenter.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '93247Ots3NPOK1jdeqqFIkL', 'MessageCenter');
// src/game/manager/MessageCenter.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MessageCenter = /** @class */ (function () {
    function MessageCenter(type) {
        if (type === void 0) { type = null; }
        var key = type;
        this._TAG = '[' + key + '/MessageCenter]';
        this.events = new Map();
        this.isRunning = false;
        this.launch();
    }
    MessageCenter.prototype.getScopeName = function (scope) {
        if (scope === void 0) { scope = null; }
        try {
            if (scope) {
                return (scope._TAG ? scope._TAG : (scope.name ? scope.name : "unknow")).toString();
            }
            else {
                return "unknow";
            }
        }
        catch (e) {
            return "unknow";
        }
    };
    MessageCenter.prototype.addListener = function (eventName, handler, scope, isOnce) {
        if (handler === void 0) { handler = null; }
        if (scope === void 0) { scope = null; }
        if (isOnce === void 0) { isOnce = false; }
        if (typeof eventName != 'string' || typeof handler !== 'function') {
            cc.log(this._TAG, ' listen err: eName :' + eventName + 'handler:' + handler);
            return;
        }
        var observers = this.events.get(eventName) || [];
        for (var i = 0; i < observers.length; i++) {
            var obs = observers[i];
            //func.toString() 判断匿名函数的情况
            if (obs.scope == scope && (obs.handler == handler || obs.handler.toString() == handler.toString())) {
                cc.log(this._TAG, '消息重复注册:' + eventName + ' function:' + handler.name);
                return;
            }
        }
        var observer = { handler: handler, scope: scope, isOnce: isOnce };
        observers.push(observer);
        this.events.set(eventName, observers);
    };
    MessageCenter.prototype.removeListener = function (eventName, handler, scope) {
        if (handler === void 0) { handler = null; }
        if (scope === void 0) { scope = null; }
        if (typeof eventName != 'string') {
            cc.log("-----eventName----" + eventName);
            this.ignoreScope(arguments[0]);
            return;
        }
        if (typeof eventName != 'string' || typeof handler != 'function') {
            cc.log(this._TAG, 'NotifierCenter remove err: eName :' + eventName + 'scope:' + scope._TAG);
            return;
        }
        var observers = this.events.get(eventName);
        if (!observers || observers.length === 0) {
            return;
        }
        scope = scope || this;
        var idx = -1; //同一个消息可能有多个节点注册
        for (var i = 0; i < observers.length; ++i) {
            var observer = observers[i];
            if (observer.scope == scope && (observer.handler == handler || observer.handler.toString() == handler.toString())) {
                idx = i;
            }
        }
        if (idx > -1) {
            observers.splice(idx, 1);
        }
        if (observers.length <= 0) {
            this.events.delete(eventName);
        }
        else {
            this.events.set(eventName, observers);
        }
        console.log("remove eventName " + eventName + " current Events length " + observers.length);
    };
    MessageCenter.prototype.trigger = function (eventName, params) {
        if (params === void 0) { params = null; }
        if (!this.isRunning) {
            return;
        }
        if (typeof eventName != 'string') {
            cc.log(this._TAG, ' trigger err: eventName :' + eventName);
            return;
        }
        var obs = this.events.get(eventName);
        if (!obs) {
            return;
        }
        // if(CC_DEBUG && -1 == LogFilterArray.indexOf(eventName)){
        //     cc.log(this._TAG,'trigger '+eventName+', observers: '+obs.length);
        // }
        var args = Array.prototype.slice.call(arguments, 1);
        var self = this;
        //发送
        for (var i = 0; i < obs.length; i++) {
            var ob = obs[i];
            if (ob.scope && ob.scope instanceof cc.Component && !cc.isValid(ob.scope.node)) {
                continue;
            }
            ob.handler.apply(ob.scope, args);
            if (ob.isOnce) {
                cc.log(self._TAG, 'trigger and remove once listener', eventName);
            }
        }
        //移除 once和不合法的
        var tempEvents = obs.filter(function (ob) {
            if (ob.scope && ob.scope instanceof cc.Component && !cc.isValid(ob.scope.node)) {
                return false;
            }
            return !ob.isOnce;
        });
        this.events.set(eventName, tempEvents);
    };
    MessageCenter.prototype.ignoreScope = function (scope) {
        var _this = this;
        if (scope === void 0) { scope = null; }
        var ignoreMsgs = ":";
        this.events.forEach(function (obs, eventName) {
            var retainEvents = obs.filter(function (ob) {
                if (ob.scope != scope) {
                    return true;
                }
                else {
                    ignoreMsgs = ignoreMsgs + eventName + ',';
                    return false;
                }
            });
            _this.events.set(eventName, retainEvents);
        });
    };
    MessageCenter.prototype.destroy = function () {
        console.log(this._TAG, 'destroy');
        this.events.clear();
    };
    MessageCenter.prototype.shut = function () {
        console.log(this._TAG, '--------shut');
        this.isRunning = false;
    };
    MessageCenter.prototype.launch = function () {
        console.log(this._TAG, '--------launch');
        this.isRunning = true;
    };
    MessageCenter.getInstance = function () {
        if (!this._instance) {
            this._instance = new MessageCenter("..");
        }
        return this._instance;
    };
    MessageCenter._instance = null;
    return MessageCenter;
}());
exports.default = MessageCenter.getInstance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9tYW5hZ2VyL01lc3NhZ2VDZW50ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLQTtJQU1JLHVCQUFZLElBQW9CO1FBQXBCLHFCQUFBLEVBQUEsV0FBb0I7UUFDNUIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDO1FBQ2YsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLGlCQUFpQixDQUFDO1FBQzFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxHQUFHLEVBQStCLENBQUM7UUFDckQsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdkIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxvQ0FBWSxHQUFaLFVBQWEsS0FBa0I7UUFBbEIsc0JBQUEsRUFBQSxZQUFrQjtRQUMzQixJQUFJO1lBQ0EsSUFBSSxLQUFLLEVBQUU7Z0JBQ1AsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQzthQUN0RjtpQkFBTTtnQkFDSCxPQUFPLFFBQVEsQ0FBQzthQUNuQjtTQUNKO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixPQUFPLFFBQVEsQ0FBQztTQUNuQjtJQUNMLENBQUM7SUFFRCxtQ0FBVyxHQUFYLFVBQVksU0FBa0IsRUFBRSxPQUF5QixFQUFFLEtBQWtCLEVBQUUsTUFBd0I7UUFBdkUsd0JBQUEsRUFBQSxjQUF5QjtRQUFFLHNCQUFBLEVBQUEsWUFBa0I7UUFBRSx1QkFBQSxFQUFBLGNBQXdCO1FBRW5HLElBQUksT0FBTyxTQUFTLElBQUksUUFBUSxJQUFJLE9BQU8sT0FBTyxLQUFL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VyxFQUFFLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbnRlcmZhY2UgcmVnaXN0ZXJFdmVudCB7XHJcbiAgICBoYW5kbGVyOkZ1bmN0aW9uLFxyXG4gICAgc2NvcGU6YW55LFxyXG4gICAgaXNPbmNlOmJvb2xlYW5cclxufVxyXG5jbGFzcyBNZXNzYWdlQ2VudGVyIHsgICAgXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2UgOiBNZXNzYWdlQ2VudGVyID0gbnVsbDtcclxuICAgIFxyXG4gICAgX1RBRyA6IHN0cmluZztcclxuICAgIGlzUnVubmluZyA6IGJvb2xlYW47XHJcbiAgICBldmVudHMgOiBNYXA8c3RyaW5nLEFycmF5PHJlZ2lzdGVyRXZlbnQ+PjtcclxuICAgIGNvbnN0cnVjdG9yKHR5cGUgOiBzdHJpbmcgPSBudWxsKSB7XHJcbiAgICAgICAgbGV0IGtleSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5fVEFHID0gJ1snICsga2V5ICsgJy9NZXNzYWdlQ2VudGVyXSc7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBuZXcgTWFwPHN0cmluZyxBcnJheTxyZWdpc3RlckV2ZW50Pj4oKTtcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlOyBcclxuICAgICAgICB0aGlzLmxhdW5jaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNjb3BlTmFtZShzY29wZSA6IGFueSA9IG51bGwpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoc2NvcGUuX1RBRyA/IHNjb3BlLl9UQUcgOiAoc2NvcGUubmFtZSA/IHNjb3BlLm5hbWUgOiBcInVua25vd1wiKSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcInVua25vd1wiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJ1bmtub3dcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkTGlzdGVuZXIoZXZlbnROYW1lIDogc3RyaW5nLCBoYW5kbGVyIDogRnVuY3Rpb24gPSBudWxsLCBzY29wZSA6IGFueSA9IG51bGwsIGlzT25jZSA6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGV2ZW50TmFtZSAhPSAnc3RyaW5nJyB8fCB0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjYy5sb2codGhpcy5fVEFHLCAnIGxpc3RlbiBlcnI6IGVOYW1lIDonICsgZXZlbnROYW1lICsgJ2hhbmRsZXI6JyArIGhhbmRsZXIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLmV2ZW50cy5nZXQoZXZlbnROYW1lKSB8fCBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9ic2VydmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgb2JzID0gb2JzZXJ2ZXJzW2ldO1xyXG4gICAgICAgICAgICAvL2Z1bmMudG9TdHJpbmcoKSDliKTmlq3ljL/lkI3lh73mlbDnmoTmg4XlhrVcclxuICAgICAgICAgICAgaWYgKG9icy5zY29wZSA9PSBzY29wZSAmJiAob2JzLmhhbmRsZXIgPT0gaGFuZGxlciB8fCBvYnMuaGFuZGxlci50b1N0cmluZygpID09IGhhbmRsZXIudG9TdHJpbmcoKSkpIHtcclxuICAgICAgICAgICAgICAgIGNjLmxvZyh0aGlzLl9UQUcsICfmtojmga/ph43lpI3ms6jlhow6JyArIGV2ZW50TmFtZSArICcgZnVuY3Rpb246JyArIGhhbmRsZXIubmFtZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9ic2VydmVyID0geyBoYW5kbGVyOiBoYW5kbGVyLCBzY29wZTogc2NvcGUsIGlzT25jZTogaXNPbmNlIH07XHJcbiAgICAgICAgb2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLnNldChldmVudE5hbWUsb2JzZXJ2ZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVMaXN0ZW5lcihldmVudE5hbWUgOiBzdHJpbmcsIGhhbmRsZXIgOiBGdW5jdGlvbiA9IG51bGwsIHNjb3BlIDogYW55ID0gbnVsbCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnROYW1lICE9ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGNjLmxvZyhcIi0tLS0tZXZlbnROYW1lLS0tLVwiICsgZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5pZ25vcmVTY29wZShhcmd1bWVudHNbMF0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnROYW1lICE9ICdzdHJpbmcnIHx8IHR5cGVvZiBoYW5kbGVyICE9ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgY2MubG9nKHRoaXMuX1RBRywgJ05vdGlmaWVyQ2VudGVyIHJlbW92ZSBlcnI6IGVOYW1lIDonICsgZXZlbnROYW1lICsgJ3Njb3BlOicgKyBzY29wZS5fVEFHKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMuZXZlbnRzLmdldChldmVudE5hbWUpO1xyXG4gICAgICAgIGlmICghb2JzZXJ2ZXJzIHx8IG9ic2VydmVycy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzY29wZSA9IHNjb3BlIHx8IHRoaXM7XHJcbiAgICAgICAgdmFyIGlkeCA9IC0xOyAvL+WQjOS4gOS4qua2iOaBr+WPr+iDveacieWkmuS4quiKgueCueazqOWGjFxyXG4gICAgICAgIGZvcih2YXIgaSA9MDsgaSA8IG9ic2VydmVycy5sZW5ndGg7KytpKXtcclxuICAgICAgICAgICAgdmFyIG9ic2VydmVyID0gb2JzZXJ2ZXJzW2ldO1xyXG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXIuc2NvcGUgPT0gc2NvcGUgJiYgKG9ic2VydmVyLmhhbmRsZXIgPT0gaGFuZGxlciB8fCBvYnNlcnZlci5oYW5kbGVyLnRvU3RyaW5nKCkgPT0gaGFuZGxlci50b1N0cmluZygpKSkge1xyXG4gICAgICAgICAgICAgICAgaWR4ID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpZHggPiAtMSl7XHJcbiAgICAgICAgICAgIG9ic2VydmVycy5zcGxpY2UoaWR4LDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihvYnNlcnZlcnMubGVuZ3RoIDw9IDApe1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5kZWxldGUoZXZlbnROYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMuc2V0KGV2ZW50TmFtZSxvYnNlcnZlcnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcInJlbW92ZSBldmVudE5hbWUgXCIrZXZlbnROYW1lICsgXCIgY3VycmVudCBFdmVudHMgbGVuZ3RoIFwiK29ic2VydmVycy5sZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRyaWdnZXIoZXZlbnROYW1lIDogc3RyaW5nLCBwYXJhbXMgOiBhbnkgPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzUnVubmluZykgeyByZXR1cm47IH1cclxuICAgICAgICBpZiAodHlwZW9mIGV2ZW50TmFtZSAhPSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBjYy5sb2codGhpcy5fVEFHLCAnIHRyaWdnZXIgZXJyOiBldmVudE5hbWUgOicgKyBldmVudE5hbWUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvYnMgPSB0aGlzLmV2ZW50cy5nZXQoZXZlbnROYW1lKTtcclxuICAgICAgICBpZiAoIW9icykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmKENDX0RFQlVHICYmIC0xID09IExvZ0ZpbHRlckFycmF5LmluZGV4T2YoZXZlbnROYW1lKSl7XHJcbiAgICAgICAgLy8gICAgIGNjLmxvZyh0aGlzLl9UQUcsJ3RyaWdnZXIgJytldmVudE5hbWUrJywgb2JzZXJ2ZXJzOiAnK29icy5sZW5ndGgpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIC8v5Y+R6YCBXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IG9iID0gb2JzW2ldO1xyXG4gICAgICAgICAgICBpZiAob2Iuc2NvcGUgJiYgb2Iuc2NvcGUgaW5zdGFuY2VvZiBjYy5Db21wb25lbnQgJiYgIWNjLmlzVmFsaWQob2Iuc2NvcGUubm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9iLmhhbmRsZXIuYXBwbHkob2Iuc2NvcGUsIGFyZ3MpO1xyXG4gICAgICAgICAgICBpZiAob2IuaXNPbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBjYy5sb2coc2VsZi5fVEFHLCAndHJpZ2dlciBhbmQgcmVtb3ZlIG9uY2UgbGlzdGVuZXInLCBldmVudE5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8v56e76ZmkIG9uY2XlkozkuI3lkIjms5XnmoRcclxuICAgICAgICB2YXIgdGVtcEV2ZW50cyA9IG9icy5maWx0ZXIoZnVuY3Rpb24gKG9iKSB7XHJcbiAgICAgICAgICAgIGlmIChvYi5zY29wZSAmJiBvYi5zY29wZSBpbnN0YW5jZW9mIGNjLkNvbXBvbmVudCAmJiAhY2MuaXNWYWxpZChvYi5zY29wZS5ub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAhb2IuaXNPbmNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLnNldChldmVudE5hbWUsdGVtcEV2ZW50cyk7IFxyXG4gICAgfVxyXG5cclxuICAgIGlnbm9yZVNjb3BlKHNjb3BlIDogYW55ID0gbnVsbCkge1xyXG4gICAgICAgIGxldCBpZ25vcmVNc2dzID0gXCI6XCI7XHJcbiAgICAgICAgdGhpcy5ldmVudHMuZm9yRWFjaCgob2JzLGV2ZW50TmFtZSk9PntcclxuICAgICAgICAgICAgdmFyIHJldGFpbkV2ZW50cyA9IG9icy5maWx0ZXIoZnVuY3Rpb24gKG9iKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2Iuc2NvcGUgIT0gc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWdub3JlTXNncyA9IGlnbm9yZU1zZ3MgKyBldmVudE5hbWUgKyAnLCc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMuc2V0KGV2ZW50TmFtZSxyZXRhaW5FdmVudHMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLl9UQUcsICdkZXN0cm95Jyk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMuY2xlYXIoKTtcclxuICAgIH1cclxuICAgIHNodXQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5fVEFHLCAnLS0tLS0tLS1zaHV0Jyk7XHJcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGxhdW5jaCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLl9UQUcsICctLS0tLS0tLWxhdW5jaCcpO1xyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKXtcclxuICAgICAgICBpZighdGhpcy5faW5zdGFuY2Upe1xyXG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBNZXNzYWdlQ2VudGVyKFwiLi5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBNZXNzYWdlQ2VudGVyLmdldEluc3RhbmNlKCk7XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/consts/EventConst.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'eb45685w5lF4JSh8kV3XE+D', 'EventConst');
// src/game/consts/EventConst.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var EventConst = {
    //返回标识
    REQUEST_SUCCESS: 0,
    //合成消息redUIType
    FLOATLAYER_REWARD: 1,
    COMPLETE_REWARD: 2,
    GUEST_REWARD: 3,
    BUFFER_REWARD: 4,
    BUFFER_RWEARD_FAIL: 0,
    TASK_CLAIMOVER: 1,
    TASK_CANCLAIM: 2,
    //动作状态
    ANIMAL_SPAWN: 0,
    ANIMAL_COMPOSE: 1,
    ANIMAL_BEREBORN: 2,
    //游戏视图状态
    VIEW_STATE_NORMAL: 0,
    VIEW_STATE_COMPOSE: 1,
};
exports.default = EventConst;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9jb25zdHMvRXZlbnRDb25zdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUksVUFBVSxHQUFHO0lBQ1QsTUFBTTtJQUNOLGVBQWUsRUFBRyxDQUFDO0lBRW5CLGVBQWU7SUFDZixpQkFBaUIsRUFBRyxDQUFDO0lBQ3JCLGVBQWUsRUFBRyxDQUFDO0lBQ25CLFlBQVksRUFBRyxDQUFDO0lBQ2hCLGFBQWEsRUFBRyxDQUFDO0lBRWpCLGtCQUFrQixFQUFHLENBQUM7SUFFdEIsY0FBYyxFQUFHLENBQUM7SUFDbEIsYUFBYSxFQUFHLENBQUM7SUFFakIsTUFBTTtJQUNOLFlBQVksRUFBRyxDQUFDO0lBQ2hCLGNBQWMsRUFBRyxDQUFDO0lBQ2xCLGVBQWUsRUFBRSxDQUFDO0lBQ2xCLFFBQVE7SUFDUixpQkFBaUIsRUFBRyxDQUFDO0lBQ3JCLGtCQUFrQixFQUFHLENBQUM7Q0FDN0IsQ0FBQztBQUNGLGtCQUFlLFVBQVUsQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBFdmVudENvbnN0ID0ge1xyXG4gICAgICAgIC8v6L+U5Zue5qCH6K+GXHJcbiAgICAgICAgUkVRVUVTVF9TVUNDRVNTIDogMCxcclxuXHJcbiAgICAgICAgLy/lkIjmiJDmtojmga9yZWRVSVR5cGVcclxuICAgICAgICBGTE9BVExBWUVSX1JFV0FSRCA6IDEsICAgICAgICAgICAgICAgICAgICAgICAgICAvL+a1ruWxguWlluWKsVxyXG4gICAgICAgIENPTVBMRVRFX1JFV0FSRCA6IDIsICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6Zev5YWz57qi5YyFXHJcbiAgICAgICAgR1VFU1RfUkVXQVJEIDogMywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/mlrDmiYvnuqLljIVcclxuICAgICAgICBCVUZGRVJfUkVXQVJEIDogNCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+e8k+WGsuWMuumXtOe6ouWMhVxyXG5cclxuICAgICAgICBCVUZGRVJfUldFQVJEX0ZBSUwgOiAwLCAgICAgICAgICAgICAgICAgICAgICAgICAvL+e8k+WGsuWMuumXtOe6ouWMhemHkemineS4ujBcclxuXHJcbiAgICAgICAgVEFTS19DTEFJTU9WRVIgOiAxLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lt7Lnu4/pooblj5ZcclxuICAgICAgICBUQVNLX0NBTkNMQUlNIDogMiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WPr+mihuWPliAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8v5Yqo5L2c54q25oCBXHJcbiAgICAgICAgQU5JTUFMX1NQQVdOIDogMCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lh7rnlJ/liqjkvZxcclxuICAgICAgICBBTklNQUxfQ09NUE9TRSA6IDEsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WQiOaIkOWKqOS9nFxyXG4gICAgICAgIEFOSU1BTF9CRVJFQk9STiA6MiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6YeN55Sf5Yqo5L2cXHJcbiAgICAgICAgLy/muLjmiI/op4blm77nirbmgIFcclxuICAgICAgICBWSUVXX1NUQVRFX05PUk1BTCA6IDAsICAgICAgICAgICAgICAgICAgICAgICAgICAvL+inhuWbvuato+W4uOeKtuaAgVxyXG4gICAgICAgIFZJRVdfU1RBVEVfQ09NUE9TRSA6IDEsICAgICAgICAgICAgICAgICAgICAgICAgIC8v6KeG5Zu+5pS26ZuG54q25oCBXHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IEV2ZW50Q29uc3Q7Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/Message.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8101c4KuydNh6e28tXaWE2g', 'Message');
// src/game/view/Message.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Message = void 0;
var Message;
(function (Message) {
    Message[Message["configComplete"] = 1] = "configComplete";
})(Message = exports.Message || (exports.Message = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L01lc3NhZ2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBWSxPQUlYO0FBSkQsV0FBWSxPQUFPO0lBRWYseURBQWdCLENBQUE7QUFFcEIsQ0FBQyxFQUpXLE9BQU8sR0FBUCxlQUFPLEtBQVAsZUFBTyxRQUlsQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIE1lc3NhZ2Vcclxue1xyXG4gICAgY29uZmlnQ29tcGxldGU9MSwvL+mFjee9ruaWh+S7tuWKoOi9veWujOaIkFxyXG4gICAgXHJcbn1cclxuXHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/level/LevelItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '17df3dJHX5EtY+funkCWXCL', 'LevelItem');
// src/game/view/level/LevelItem.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var AItemRenerer_1 = require("../task/AItemRenerer");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LevelItem = /** @class */ (function (_super) {
    __extends(LevelItem, _super);
    function LevelItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn1 = null;
        _this.btn2 = null;
        _this.targetLb = null;
        _this.moneyLb = null;
        _this.lvLb = null;
        _this.proLb = null;
        _this.pro = null;
        return _this;
    }
    // onLoad () {}
    LevelItem.prototype.start = function () {
    };
    LevelItem.prototype.dataChanged = function () {
        // console.log(this.data);
        this.initUI();
    };
    LevelItem.prototype.initUI = function () {
        this.btn1.active = this.btn2.active = false;
        if (this.data.userOrderNum >= this.data.orderNum && this.data.isFirst) {
            this.btn1.active = true;
            this.proLb.string = this.data.orderNum + "/" + this.data.orderNum;
            this.targetLb.string = "\u53EF\u5347\u7EA7";
        }
        else {
            this.btn2.active = true;
            this.proLb.string = this.data.userOrderNum + "/" + this.data.orderNum;
            if (this.data.userOrderNum >= this.data.orderNum) {
                this.targetLb.string = "\u53EF\u5347\u7EA7";
            }
            else {
                this.targetLb.string = "\u518D\u5B8C\u6210" + (this.data.orderNum - this.data.userOrderNum) + "\u4E2A\u8BA2\u5355\u53EF\u5347\u7EA7";
            }
        }
        this.pro.progress = this.data.userOrderNum / this.data.orderNum;
        this.lvLb.string = this.data.level;
        this.moneyLb.string = this.data.amount + "元";
    };
    // "userOrderNum": 10,//用户订单数量
    // "jsLevel": 6,//集市等级
    // "jsTaskInfos": [
    //     {
    //         "level": 1,//集市等级
    //         "orderNum": 10,//集市订单数量
    //         "amount": 5,//奖励金额
    //         "tx_mu": "1%",//提现比例
    //     },
    LevelItem.prototype.onGet = function () {
        SDKManager_1.default.upJSLevel();
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_LEVEL_UP, this.onVideoBack, this);
        // SDKManager.showAd(Global.VIDEO_CONFIG.video17)
    };
    LevelItem.prototype.onVideoBack = function () {
        EventDispath_1.default.removeByEvent(EventType_1.EventType.SDK_LEVEL_UP, this.onVideoBack, this);
        EventDispath_1.default.send(EventType_1.EventType.LEVEL_UPDATE);
    };
    __decorate([
        property(cc.Node)
    ], LevelItem.prototype, "btn1", void 0);
    __decorate([
        property(cc.Node)
    ], LevelItem.prototype, "btn2", void 0);
    __decorate([
        property(cc.Label)
    ], LevelItem.prototype, "targetLb", void 0);
    __decorate([
        property(cc.Label)
    ], LevelItem.prototype, "moneyLb", void 0);
    __decorate([
        property(cc.Label)
    ], LevelItem.prototype, "lvLb", void 0);
    __decorate([
        property(cc.Label)
    ], LevelItem.prototype, "proLb", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], LevelItem.prototype, "pro", void 0);
    LevelItem = __decorate([
        ccclass
    ], LevelItem);
    return LevelItem;
}(AItemRenerer_1.default));
exports.default = LevelItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L2xldmVsL0xldmVsSXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRixvRUFBK0Q7QUFHL0Qsd0VBQW1FO0FBQ25FLGtFQUFpRTtBQUtqRSxxREFBaUQ7QUFFM0MsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFFNUM7SUFBdUMsNkJBQXFCO0lBQTVEO1FBQUEscUVBZ0VDO1FBN0RHLFVBQUksR0FBWSxJQUFJLENBQUM7UUFFckIsVUFBSSxHQUFZLElBQUksQ0FBQztRQUVyQixjQUFRLEdBQWEsSUFBSSxDQUFDO1FBRTFCLGFBQU8sR0FBYSxJQUFJLENBQUM7UUFFekIsVUFBSSxHQUFhLElBQUksQ0FBQztRQUV0QixXQUFLLEdBQWEsSUFBSSxDQUFDO1FBRXZCLFNBQUcsR0FBbUIsSUFBSSxDQUFDOztJQWlEL0IsQ0FBQztJQWhERyxlQUFlO0lBRWYseUJBQUssR0FBTDtJQUVBLENBQUM7SUFFUywrQkFBVyxHQUFyQjtRQUNJLDBCQUEwQjtRQUMxQixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUNELDBCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDNUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNuRSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ2xFLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLG9CQUFLLENBQUE7U0FDL0I7YUFBTTtZQUNILElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUN4QixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDdEUsSUFBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksSUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDM0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsb0JBQUssQ0FBQTthQUMvQjtpQkFBSztnQkFDRixJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyx3QkFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksMENBQVEsQ0FBQTthQUNuRjtTQUNKO1FBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDaEUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDbkMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUMsR0FBRyxDQUFDO0lBQy9DLENBQUM7SUFDRCw4QkFBOEI7SUFDOUIsc0JBQXNCO0lBQ3RCLG1CQUFtQjtJQUNuQixRQUFRO0lBQ1IsNEJBQTRCO0lBQzVCLGtDQUFrQztJQUNsQyw2QkFBNkI7SUFDN0IsK0JBQStCO0lBQy9CLFNBQVM7SUFDVCx5QkFBSyxHQUFMO1FBQ0ksb0JBQVUsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUN2QixzQkFBWSxDQUFDLGdCQUFnQixDQUFDLHFCQUFTLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDOUUsaURBQWlEO0lBRXJELENBQUM7SUFDRCwrQkFBVyxHQUFYO1FBQ0ksc0JBQVksQ0FBQyxhQUFhLENBQUMscUJBQVMsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMzRSxzQkFBWSxDQUFDLElBQUksQ0FBQyxxQkFBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUE1REQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsyQ0FDRztJQUVyQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzJDQUNHO0lBRXJCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7K0NBQ087SUFFMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs4Q0FDTTtJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzJDQUNHO0lBRXRCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7NENBQ0k7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzswQ0FDRTtJQWZWLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0FnRTdCO0lBQUQsZ0JBQUM7Q0FoRUQsQUFnRUMsQ0FoRXNDLHNCQUFhLEdBZ0VuRDtrQkFoRW9CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgU0RLTWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvU0RLTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBVSUVmZmVjdFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlFZmZlY3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBVSU1hbmFuZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBDb21wb25lbnRIZWxwZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Db21wb25lbnRIZWxwZXJcIjtcclxuaW1wb3J0IEdsb2JhbCBmcm9tIFwiLi4vLi4vY29uc3RzL0dsb2JhbFwiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IEFJdGVtUmVuZGVyZXIgZnJvbSBcIi4uL3Rhc2svQUl0ZW1SZW5lcmVyXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZXZlbEl0ZW0gZXh0ZW5kcyBBSXRlbVJlbmRlcmVyPHN0cmluZz4ge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuMTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bjI6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgdGFyZ2V0TGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG1vbmV5TGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGx2TGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHByb0xiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJvZ3Jlc3NCYXIpXHJcbiAgICBwcm86IGNjLlByb2dyZXNzQmFyID0gbnVsbDtcclxuICAgIC8vIG9uTG9hZCAoKSB7fVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZGF0YUNoYW5nZWQoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5kYXRhKTtcclxuICAgICAgICB0aGlzLmluaXRVSSgpO1xyXG4gICAgfVxyXG4gICAgaW5pdFVJKCkge1xyXG4gICAgICAgIHRoaXMuYnRuMS5hY3RpdmUgPSB0aGlzLmJ0bjIuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS51c2VyT3JkZXJOdW0gPj0gdGhpcy5kYXRhLm9yZGVyTnVtICYmIHRoaXMuZGF0YS5pc0ZpcnN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuMS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnByb0xiLnN0cmluZyA9IHRoaXMuZGF0YS5vcmRlck51bSArIFwiL1wiICsgdGhpcy5kYXRhLm9yZGVyTnVtO1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldExiLnN0cmluZyA9IGDlj6/ljYfnuqdgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5idG4yLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucHJvTGIuc3RyaW5nID0gdGhpcy5kYXRhLnVzZXJPcmRlck51bSArIFwiL1wiICsgdGhpcy5kYXRhLm9yZGVyTnVtO1xyXG4gICAgICAgICAgICBpZih0aGlzLmRhdGEudXNlck9yZGVyTnVtPj10aGlzLmRhdGEub3JkZXJOdW0gKXtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0TGIuc3RyaW5nID0gYOWPr+WNh+e6p2BcclxuICAgICAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRMYi5zdHJpbmcgPSBg5YaN5a6M5oiQJHt0aGlzLmRhdGEub3JkZXJOdW0gLSB0aGlzLmRhdGEudXNlck9yZGVyTnVtfeS4quiuouWNleWPr+WNh+e6p2BcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnByby5wcm9ncmVzcyA9IHRoaXMuZGF0YS51c2VyT3JkZXJOdW0gLyB0aGlzLmRhdGEub3JkZXJOdW07XHJcbiAgICAgICAgdGhpcy5sdkxiLnN0cmluZyA9IHRoaXMuZGF0YS5sZXZlbDtcclxuICAgICAgICB0aGlzLm1vbmV5TGIuc3RyaW5nID0gdGhpcy5kYXRhLmFtb3VudCtcIuWFg1wiO1xyXG4gICAgfVxyXG4gICAgLy8gXCJ1c2VyT3JkZXJOdW1cIjogMTAsLy/nlKjmiLforqLljZXmlbDph49cclxuICAgIC8vIFwianNMZXZlbFwiOiA2LC8v6ZuG5biC562J57qnXHJcbiAgICAvLyBcImpzVGFza0luZm9zXCI6IFtcclxuICAgIC8vICAgICB7XHJcbiAgICAvLyAgICAgICAgIFwibGV2ZWxcIjogMSwvL+mbhuW4guetiee6p1xyXG4gICAgLy8gICAgICAgICBcIm9yZGVyTnVtXCI6IDEwLC8v6ZuG5biC6K6i5Y2V5pWw6YePXHJcbiAgICAvLyAgICAgICAgIFwiYW1vdW50XCI6IDUsLy/lpZblirHph5Hpop1cclxuICAgIC8vICAgICAgICAgXCJ0eF9tdVwiOiBcIjElXCIsLy/mj5DnjrDmr5TkvotcclxuICAgIC8vICAgICB9LFxyXG4gICAgb25HZXQoKSB7XHJcbiAgICAgICAgU0RLTWFuYWdlci51cEpTTGV2ZWwoKTtcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuU0RLX0xFVkVMX1VQLCB0aGlzLm9uVmlkZW9CYWNrLCB0aGlzKTtcclxuICAgICAgICAvLyBTREtNYW5hZ2VyLnNob3dBZChHbG9iYWwuVklERU9fQ09ORklHLnZpZGVvMTcpXHJcblxyXG4gICAgfVxyXG4gICAgb25WaWRlb0JhY2soKSB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUJ5RXZlbnQoRXZlbnRUeXBlLlNES19MRVZFTF9VUCwgdGhpcy5vblZpZGVvQmFjaywgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkxFVkVMX1VQREFURSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/level/LevelView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9a7693uzghL9pkmrJdI/foI', 'LevelView');
// src/game/view/level/LevelView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var UIType_1 = require("../../consts/UIType");
var AVirtualScrollView_1 = require("../task/AVirtualScrollView");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 升级界面
 * TODO:
 * initPropHasList这个方法可以移至更早的登录初始化环节
 */
var LevelView = /** @class */ (function (_super) {
    __extends(LevelView, _super);
    function LevelView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_close = null;
        _this.titleLb = null;
        _this.moneyLb = null;
        _this.descLb1 = null;
        _this.descLb2 = null;
        _this.scroller = null;
        _this.scrollerData = [];
        return _this;
    }
    LevelView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.LEVEL_UPDATE, this.updateData, this);
        this.initUI();
    };
    LevelView.prototype.onLoad = function () {
    };
    LevelView.prototype.start = function () {
    };
    LevelView.prototype.startShow = function () {
        this.mData = SDKManager_1.default.getBazaarLevelInfo();
        this.scrollerData = this.mData.jsTaskInfos;
    };
    LevelView.prototype.updateData = function () {
        this.mData = SDKManager_1.default.getBazaarLevelInfo();
        this.scrollerData = this.mData.jsTaskInfos;
        this.initUI();
        UIMananger_1.default.showPanel(UIType_1.default.levelPopView, null, null, UIEffectManager_1.UIEffectType.SCALE, { currentData: this.currentItemData, nextData: this.nextItemData });
    };
    LevelView.prototype.initUI = function () {
        this.titleLb.string = "\u96C6\u5E02" + this.mData.jsLevel + "\u7EA7";
        this.moneyLb.string = this.mData.jsAmount + "元";
        if (this.mData.jsAmount >= 500) {
            this.descLb1.string = "<color=#708FCC>本次活动已结束，现已为您升级为</c><color=#ED522B>5%红包提现比例</color>";
        }
        else {
            this.descLb1.string = "<color=#708FCC>每满</c><color=#ED522B>500元<color=#708FCC>后自动打款至微信钱包</color>";
        }
        var num = 0;
        var isFirst = 1;
        for (var i = 0; i < this.scrollerData.length; i++) {
            var data = this.scrollerData[i];
            data.userOrderNum = this.mData.userOrderNum;
            if (data.userOrderNum >= data.orderNum) {
                this.scrollerData[i]["isFirst"] = isFirst;
                if (isFirst) {
                    this.currentItemData = this.scrollerData[i];
                    if (this.scrollerData[i + 1])
                        this.nextItemData = this.scrollerData[i + 1];
                }
                isFirst = 0;
            }
            num += data.amount;
        }
        this.descLb2.string = "<color=#708FCC>\u7B49\u7EA7\u8D8A\u9AD8\uFF0C\u5956\u52B1\u8D8A\u9AD8\uFF0C\u7D2F\u8BA1\u53EF\u5F97</c><color=#ED522B>" + 1120 + "<color=#708FCC>\u5143</color>";
        this.scroller.refreshData(this.scrollerData);
    };
    /** 仅用于关闭操作 */
    LevelView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], LevelView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Label)
    ], LevelView.prototype, "titleLb", void 0);
    __decorate([
        property(cc.Label)
    ], LevelView.prototype, "moneyLb", void 0);
    __decorate([
        property(cc.RichText)
    ], LevelView.prototype, "descLb1", void 0);
    __decorate([
        property(cc.RichText)
    ], LevelView.prototype, "descLb2", void 0);
    __decorate([
        property(AVirtualScrollView_1.default)
    ], LevelView.prototype, "scroller", void 0);
    LevelView = __decorate([
        ccclass
    ], LevelView);
    return LevelView;
}(BasePanel_1.default));
exports.default = LevelView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L2xldmVsL0xldmVsVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRixvRUFBK0Q7QUFDL0QsOEVBQTBFO0FBQzFFLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBR2pFLDZEQUF3RDtBQUN4RCw4Q0FBeUM7QUFHekMsaUVBQTREO0FBRXRELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRTVDOzs7O0dBSUc7QUFFSDtJQUF1Qyw2QkFBUztJQUFoRDtRQUFBLHFFQWtGQztRQS9FRyxlQUFTLEdBQVksSUFBSSxDQUFDO1FBRTFCLGFBQU8sR0FBYSxJQUFJLENBQUM7UUFFekIsYUFBTyxHQUFhLElBQUksQ0FBQztRQUV6QixhQUFPLEdBQWdCLElBQUksQ0FBQztRQUU1QixhQUFPLEdBQWdCLElBQUksQ0FBQztRQUc1QixjQUFRLEdBQXVCLElBQUksQ0FBQztRQUdwQyxrQkFBWSxHQUFHLEVBQUUsQ0FBQzs7SUFpRXRCLENBQUM7SUE5REcsNEJBQVEsR0FBUjtRQUNJLEtBQUs7UUFDTCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM3RCxzQkFBWSxDQUFDLGdCQUFnQixDQUFDLHFCQUFTLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDN0UsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFDUywwQkFBTSxHQUFoQjtJQUVBLENBQUM7SUFDUyx5QkFBSyxHQUFmO0lBQ0EsQ0FBQztJQUVELDZCQUFTLEdBQVQ7UUFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLG9CQUFVLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUU3QyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDO0lBQy9DLENBQUM7SUFFRCw4QkFBVSxHQUFWO1FBQ0ksSUFBSSxDQUFDLEtBQUssR0FBRyxvQkFBVSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFFN0MsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQztRQUMzQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDZCxvQkFBVSxDQUFDLFNBQVMsQ0FBQyxnQkFBTSxDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLDhCQUFZLENBQUMsS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxlQUFlLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFBO0lBQ2pKLENBQUM7SUFDRCwwQkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsaUJBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLFdBQUcsQ0FBQTtRQUNoRCxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7UUFDaEQsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsSUFBSSxHQUFHLEVBQUU7WUFDNUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsbUVBQW1FLENBQUE7U0FDNUY7YUFBTTtZQUNILElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLDJFQUEyRSxDQUFBO1NBQ3BHO1FBRUQsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ1osSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUMvQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUM7WUFFNUMsSUFBSSxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ3BDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsT0FBTyxDQUFDO2dCQUMxQyxJQUFJLE9BQU8sRUFBRTtvQkFDVCxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQzVDLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUFFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7aUJBQzdFO2dCQUNELE9BQU8sR0FBRyxDQUFDLENBQUM7YUFDZjtZQUVELEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDO1NBQ3RCO1FBRUQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsMkhBQW1ELElBQUksa0NBQTBCLENBQUE7UUFFdkcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFHRCxjQUFjO0lBQ2Qsb0NBQWdCLEdBQWhCO1FBQ0ksaUJBQU0sS0FBSyxXQUFFLENBQUM7SUFDbEIsQ0FBQztJQTlFRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2dEQUNRO0lBRTFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7OENBQ007SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs4Q0FDTTtJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDOzhDQUNNO0lBRTVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7OENBQ007SUFHNUI7UUFEQyxRQUFRLENBQUMsNEJBQWtCLENBQUM7K0NBQ087SUFkbkIsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQWtGN0I7SUFBRCxnQkFBQztDQWxGRCxBQWtGQyxDQWxGc0MsbUJBQVMsR0FrRi9DO2tCQWxGb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IFNvcnRVdGlscyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL1NvcnRVdGlsc1wiO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9VdGlsc1wiO1xyXG5pbXBvcnQgQmFzZVBhbmVsIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdWkvQmFzZVBhbmVsXCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0cy9VSVR5cGVcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcbmltcG9ydCBBVmlydHVhbFNjcm9sbFZpZXcgZnJvbSBcIi4uL3Rhc2svQVZpcnR1YWxTY3JvbGxWaWV3XCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuLyoqXHJcbiAqIOWNh+e6p+eVjOmdolxyXG4gKiBUT0RPOlxyXG4gKiBpbml0UHJvcEhhc0xpc3Tov5nkuKrmlrnms5Xlj6/ku6Xnp7voh7Pmm7Tml6nnmoTnmbvlvZXliJ3lp4vljJbnjq/oioJcclxuICovXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsVmlldyBleHRlbmRzIEJhc2VQYW5lbCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgdGl0bGVMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbW9uZXlMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlJpY2hUZXh0KVxyXG4gICAgZGVzY0xiMTogY2MuUmljaFRleHQgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlJpY2hUZXh0KVxyXG4gICAgZGVzY0xiMjogY2MuUmljaFRleHQgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShBVmlydHVhbFNjcm9sbFZpZXcpXHJcbiAgICBzY3JvbGxlcjogQVZpcnR1YWxTY3JvbGxWaWV3ID0gbnVsbDtcclxuXHJcbiAgICBtRGF0YTtcclxuICAgIHNjcm9sbGVyRGF0YSA9IFtdO1xyXG4gICAgY3VycmVudEl0ZW1EYXRhO1xyXG4gICAgbmV4dEl0ZW1EYXRhO1xyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8g6YCA5Ye6XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2Nsb3NlLCB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5MRVZFTF9VUERBVEUsIHRoaXMudXBkYXRlRGF0YSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBvbkxvYWQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0U2hvdygpIHtcclxuICAgICAgICB0aGlzLm1EYXRhID0gU0RLTWFuYWdlci5nZXRCYXphYXJMZXZlbEluZm8oKTtcclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGxlckRhdGEgPSB0aGlzLm1EYXRhLmpzVGFza0luZm9zO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZURhdGEoKSB7XHJcbiAgICAgICAgdGhpcy5tRGF0YSA9IFNES01hbmFnZXIuZ2V0QmF6YWFyTGV2ZWxJbmZvKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zY3JvbGxlckRhdGEgPSB0aGlzLm1EYXRhLmpzVGFza0luZm9zO1xyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLmxldmVsUG9wVmlldywgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCB7IGN1cnJlbnREYXRhOiB0aGlzLmN1cnJlbnRJdGVtRGF0YSwgbmV4dERhdGE6IHRoaXMubmV4dEl0ZW1EYXRhIH0pXHJcbiAgICB9XHJcbiAgICBpbml0VUkoKSB7XHJcbiAgICAgICAgdGhpcy50aXRsZUxiLnN0cmluZyA9IGDpm4bluIIke3RoaXMubURhdGEuanNMZXZlbH3nuqdgXHJcbiAgICAgICAgdGhpcy5tb25leUxiLnN0cmluZyA9IHRoaXMubURhdGEuanNBbW91bnQgKyBcIuWFg1wiO1xyXG4gICAgICAgIGlmICh0aGlzLm1EYXRhLmpzQW1vdW50ID49IDUwMCkge1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NMYjEuc3RyaW5nID0gXCI8Y29sb3I9IzcwOEZDQz7mnKzmrKHmtLvliqjlt7Lnu5PmnZ/vvIznjrDlt7LkuLrmgqjljYfnuqfkuLo8L2M+PGNvbG9yPSNFRDUyMkI+NSXnuqLljIXmj5DnjrDmr5Tkvos8L2NvbG9yPlwiXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kZXNjTGIxLnN0cmluZyA9IFwiPGNvbG9yPSM3MDhGQ0M+5q+P5ruhPC9jPjxjb2xvcj0jRUQ1MjJCPjUwMOWFgzxjb2xvcj0jNzA4RkNDPuWQjuiHquWKqOaJk+asvuiHs+W+ruS/oemSseWMhTwvY29sb3I+XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBudW0gPSAwO1xyXG4gICAgICAgIGxldCBpc0ZpcnN0ID0gMTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2Nyb2xsZXJEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5zY3JvbGxlckRhdGFbaV07XHJcbiAgICAgICAgICAgIGRhdGEudXNlck9yZGVyTnVtID0gdGhpcy5tRGF0YS51c2VyT3JkZXJOdW07XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YS51c2VyT3JkZXJOdW0gPj0gZGF0YS5vcmRlck51bSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlckRhdGFbaV1bXCJpc0ZpcnN0XCJdID0gaXNGaXJzdDtcclxuICAgICAgICAgICAgICAgIGlmIChpc0ZpcnN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SXRlbURhdGEgPSB0aGlzLnNjcm9sbGVyRGF0YVtpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zY3JvbGxlckRhdGFbaSArIDFdKSB0aGlzLm5leHRJdGVtRGF0YSA9IHRoaXMuc2Nyb2xsZXJEYXRhW2kgKyAxXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaXNGaXJzdCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG51bSArPSBkYXRhLmFtb3VudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZGVzY0xiMi5zdHJpbmcgPSBgPGNvbG9yPSM3MDhGQ0M+562J57qn6LaK6auY77yM5aWW5Yqx6LaK6auY77yM57Sv6K6h5Y+v5b6XPC9jPjxjb2xvcj0jRUQ1MjJCPiR7MTEyMH08Y29sb3I9IzcwOEZDQz7lhYM8L2NvbG9yPmBcclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGxlci5yZWZyZXNoRGF0YSh0aGlzLnNjcm9sbGVyRGF0YSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKiDku4XnlKjkuo7lhbPpl63mk43kvZwgKi9cclxuICAgIG9uQnRuQ2xvc2VIYW5kbGUoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/lvUp/LvUpItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '455dbl4vxlIopwZwmYneyhu', 'LvUpItem');
// src/game/view/lvUp/LvUpItem.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var UIType_1 = require("../../consts/UIType");
var PopView1_1 = require("../popView/PopView1");
var AItemRenerer_1 = require("../task/AItemRenerer");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/** 单个元素的详细条目 */
var LvUpItem = /** @class */ (function (_super) {
    __extends(LvUpItem, _super);
    function LvUpItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.icon = null; // 物品图标
        _this.lvNode = null;
        _this.btn_lvUp = null;
        _this.btn_build = null;
        _this.maxLv = null; // 是否最高级
        _this.addLb = null; //加成描述
        _this.nameLb = null;
        _this.lvLb = null;
        return _this;
    }
    LvUpItem.prototype.onLoad = function () {
    };
    LvUpItem.prototype.dataChanged = function () {
        // console.log(this.data);
        this.initUI();
    };
    LvUpItem.prototype.initUI = function () {
        var _this = this;
        this.btn_build.active = false;
        this.btn_lvUp.active = false;
        this.maxLv.active = false;
        switch (this.data.tabIndex) {
            case 1:
                MkUtils_1.default.loadSpriteFrame("texture/prop/field/icon/" + ("0" + this.data["level"]), function (res) {
                    _this.icon.spriteFrame = res;
                });
                break;
            case 2:
                MkUtils_1.default.loadSpriteFrame("texture/prop/shelves/icon/" + ("0" + this.data["level"]), function (res) {
                    _this.icon.spriteFrame = res;
                });
                break;
            case 3:
                MkUtils_1.default.loadSpriteFrame("texture/prop/cashier/icon/" + ("0" + this.data["level"]), function (res) {
                    _this.icon.spriteFrame = res;
                });
                break;
            case 4:
                MkUtils_1.default.loadSpriteFrame("texture/prop/pipe/icon/" + ("0" + this.data["level"]), function (res) {
                    _this.icon.spriteFrame = res;
                });
                break;
            case 5:
                MkUtils_1.default.loadSpriteFrame("texture/prop/wall/icon/" + ("0" + this.data["level"]), function (res) {
                    _this.icon.spriteFrame = res;
                });
                break;
            case 6:
                MkUtils_1.default.loadSpriteFrame("texture/prop/road/icon/" + ("0" + this.data["level"]), function (res) {
                    _this.icon.spriteFrame = res;
                });
                break;
            case 7:
                MkUtils_1.default.loadSpriteFrame("texture/prop/scarecrow/icon/" + ("0" + this.data["level"]), function (res) {
                    _this.icon.spriteFrame = res;
                });
                break;
            case 8:
                MkUtils_1.default.loadSpriteFrame("texture/prop/warehouse/icon/" + ("0" + this.data["level"]), function (res) {
                    _this.icon.spriteFrame = res;
                });
                break;
            case 9:
                MkUtils_1.default.loadSpriteFrame("texture/prop/fence/icon/" + ("0" + this.data["level"]), function (res) {
                    _this.icon.spriteFrame = res;
                });
                break;
        }
        this.nameLb.string = "" + this.data.name;
        if (this.data.level == 0) {
            this.lvLb.node.active = false;
            this.lvNode.active = false;
            this.btn_build.active = true;
            this.addLb.string = "未扩建";
        }
        else {
            this.addLb.string = this.data.addDesc;
            if (this.data.isMaxLv) {
                this.maxLv.active = true;
            }
            else {
                this.btn_lvUp.active = true;
            }
            this.lvLb.node.active = true;
            this.lvNode.active = true;
            this.lvLb.string = this.data.level + "级";
        }
        // this.isLock = this.data.isLock;
        // this.uImgLock.enabled = this.isLock ? true : false;
        // this.uImgMask.enabled = this.uImgLock.enabled;
    };
    LvUpItem.prototype.onBuild = function () {
        var _this = this;
        // MKUtils.alertTips("扩建")
        if (this.data.tabIndex == 1) {
            EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onBuildBack, this);
            // let id = this.config.id + "01"
            // SDKManager.getUnlockConfig(7, Number(id));
            UIMananger_1.default.showPanel(UIType_1.default.popView1, null, function () {
                EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, _this.onBuildBack, _this);
            }, UIEffectManager_1.UIEffectType.SCALE, PopView1_1.PopType.FIELD);
        }
        else if (this.data.tabIndex == 2) {
            EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onBuildBack, this);
            // let id = this.config.id + "01"
            // SDKManager.getUnlockConfig(7, Number(id));
            UIMananger_1.default.showPanel(UIType_1.default.popView1, null, function () {
                EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, _this.onBuildBack, _this);
            }, UIEffectManager_1.UIEffectType.SCALE, PopView1_1.PopType.SHELVE);
        }
    };
    LvUpItem.prototype.onLvUp = function () {
        // MKUtils.alertTips("升级")
        UIMananger_1.default.showPanel(UIType_1.default.LvUpPopView, null, function () {
        }, UIEffectManager_1.UIEffectType.SCALE, this.data);
        // EventDispath.addEventListener(EventType.PROP_INFO, this.selectBack, this);
    };
    LvUpItem.prototype.onBuildBack = function () {
        if (this.data.tabIndex == 1) {
            EventDispath_1.default.send(EventType_1.EventType.FIELD_BUILD, this.data.index);
        }
        else if (this.data.tabIndex == 2) {
            EventDispath_1.default.send(EventType_1.EventType.SHELVE_BUILD, this.data.index);
        }
        EventDispath_1.default.send(EventType_1.EventType.LVUP_UPDATE);
        // EventDispath.removeByEvent(EventType.PROP_INFO, this.selectBack, this);
    };
    LvUpItem.prototype.onDestroy = function () {
        EventDispath_1.default.removeEventListeners(this);
    };
    __decorate([
        property(cc.Sprite)
    ], LvUpItem.prototype, "icon", void 0);
    __decorate([
        property(cc.Node)
    ], LvUpItem.prototype, "lvNode", void 0);
    __decorate([
        property(cc.Node)
    ], LvUpItem.prototype, "btn_lvUp", void 0);
    __decorate([
        property(cc.Node)
    ], LvUpItem.prototype, "btn_build", void 0);
    __decorate([
        property(cc.Node)
    ], LvUpItem.prototype, "maxLv", void 0);
    __decorate([
        property(cc.Label)
    ], LvUpItem.prototype, "addLb", void 0);
    __decorate([
        property(cc.Label)
    ], LvUpItem.prototype, "nameLb", void 0);
    __decorate([
        property(cc.Label)
    ], LvUpItem.prototype, "lvLb", void 0);
    LvUpItem = __decorate([
        ccclass
    ], LvUpItem);
    return LvUpItem;
}(AItemRenerer_1.default));
exports.default = LvUpItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L2x2VXAvTHZVcEl0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHbEYsOEVBQTBFO0FBQzFFLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDREQUF1RDtBQUN2RCw4Q0FBeUM7QUFFekMsZ0RBQThDO0FBQzlDLHFEQUFpRDtBQUUzQyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1QyxnQkFBZ0I7QUFFaEI7SUFBc0MsNEJBQXFCO0lBQTNEO1FBQUEscUVBK0lDO1FBNUlHLFVBQUksR0FBYyxJQUFJLENBQUMsQ0FBSyxPQUFPO1FBR25DLFlBQU0sR0FBWSxJQUFJLENBQUM7UUFFdkIsY0FBUSxHQUFZLElBQUksQ0FBQztRQUV6QixlQUFTLEdBQVksSUFBSSxDQUFDO1FBRTFCLFdBQUssR0FBWSxJQUFJLENBQUMsQ0FBTSxRQUFRO1FBR3BDLFdBQUssR0FBYSxJQUFJLENBQUMsQ0FBSSxNQUFNO1FBRWpDLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsVUFBSSxHQUFhLElBQUksQ0FBQzs7SUE0SDFCLENBQUM7SUF6SEcseUJBQU0sR0FBTjtJQUNBLENBQUM7SUFDUyw4QkFBVyxHQUFyQjtRQUNJLDBCQUEwQjtRQUMxQixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUNELHlCQUFNLEdBQU47UUFBQSxpQkF5RUM7UUF4RUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQzlCLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUM3QixJ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U2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgU0RLTWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvU0RLTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBVSUVmZmVjdFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlFZmZlY3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBVSU1hbmFuZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IHsgUG9wVHlwZSB9IGZyb20gXCIuLi9wb3BWaWV3L1BvcFZpZXcxXCI7XHJcbmltcG9ydCBBSXRlbVJlbmRlcmVyIGZyb20gXCIuLi90YXNrL0FJdGVtUmVuZXJlclwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbi8qKiDljZXkuKrlhYPntKDnmoTor6bnu4bmnaHnm64gKi9cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTHZVcEl0ZW0gZXh0ZW5kcyBBSXRlbVJlbmRlcmVyPHN0cmluZz4ge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBpY29uOiBjYy5TcHJpdGUgPSBudWxsOyAgICAgLy8g54mp5ZOB5Zu+5qCHXHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBsdk5vZGU6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fbHZVcDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9idWlsZDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIG1heEx2OiBjYy5Ob2RlID0gbnVsbDsgICAgICAvLyDmmK/lkKbmnIDpq5jnuqdcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBhZGRMYjogY2MuTGFiZWwgPSBudWxsOyAgICAvL+WKoOaIkOaPj+i/sFxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbmFtZUxiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBsdkxiOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG5cclxuICAgIG9uTG9hZCgpIHtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBkYXRhQ2hhbmdlZCgpOiB2b2lkIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmRhdGEpO1xyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9XHJcbiAgICBpbml0VUkoKSB7XHJcbiAgICAgICAgdGhpcy5idG5fYnVpbGQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5idG5fbHZVcC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm1heEx2LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5kYXRhLnRhYkluZGV4KSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9wcm9wL2ZpZWxkL2ljb24vXCIgKyBgMCR7dGhpcy5kYXRhW1wibGV2ZWxcIl19YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWNvbi5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9wcm9wL3NoZWx2ZXMvaWNvbi9cIiArIGAwJHt0aGlzLmRhdGFbXCJsZXZlbFwiXX1gLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pY29uLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgTUtVdGlscy5sb2FkU3ByaXRlRnJhbWUoXCJ0ZXh0dXJlL3Byb3AvY2FzaGllci9pY29uL1wiICsgYDAke3RoaXMuZGF0YVtcImxldmVsXCJdfWAsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmljb24uc3ByaXRlRnJhbWUgPSByZXM7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICBNS1V0aWxzLmxvYWRTcHJpdGVGcmFtZShcInRleHR1cmUvcHJvcC9waXBlL2ljb24vXCIgKyBgMCR7dGhpcy5kYXRhW1wibGV2ZWxcIl19YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWNvbi5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9wcm9wL3dhbGwvaWNvbi9cIiArIGAwJHt0aGlzLmRhdGFbXCJsZXZlbFwiXX1gLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pY29uLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICAgICAgTUtVdGlscy5sb2FkU3ByaXRlRnJhbWUoXCJ0ZXh0dXJlL3Byb3Avcm9hZC9pY29uL1wiICsgYDAke3RoaXMuZGF0YVtcImxldmVsXCJdfWAsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmljb24uc3ByaXRlRnJhbWUgPSByZXM7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICBNS1V0aWxzLmxvYWRTcHJpdGVGcmFtZShcInRleHR1cmUvcHJvcC9zY2FyZWNyb3cvaWNvbi9cIiArIGAwJHt0aGlzLmRhdGFbXCJsZXZlbFwiXX1gLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pY29uLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgTUtVdGlscy5sb2FkU3ByaXRlRnJhbWUoXCJ0ZXh0dXJlL3Byb3Avd2FyZWhvdXNlL2ljb24vXCIgKyBgMCR7dGhpcy5kYXRhW1wibGV2ZWxcIl19YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWNvbi5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9wcm9wL2ZlbmNlL2ljb24vXCIgKyBgMCR7dGhpcy5kYXRhW1wibGV2ZWxcIl19YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWNvbi5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubmFtZUxiLnN0cmluZyA9IGAke3RoaXMuZGF0YS5uYW1lfWA7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5sZXZlbCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubHZMYi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmx2Tm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5idG5fYnVpbGQuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5hZGRMYi5zdHJpbmcgPSBcIuacquaJqeW7ulwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTGIuc3RyaW5nID0gdGhpcy5kYXRhLmFkZERlc2M7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuaXNNYXhMdikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhMdi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5fbHZVcC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubHZMYi5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubHZOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubHZMYi5zdHJpbmcgPSB0aGlzLmRhdGEubGV2ZWwgKyBcIue6p1wiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdGhpcy5pc0xvY2sgPSB0aGlzLmRhdGEuaXNMb2NrO1xyXG4gICAgICAgIC8vIHRoaXMudUltZ0xvY2suZW5hYmxlZCA9IHRoaXMuaXNMb2NrID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIC8vIHRoaXMudUltZ01hc2suZW5hYmxlZCA9IHRoaXMudUltZ0xvY2suZW5hYmxlZDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgb25CdWlsZCgpIHtcclxuICAgICAgICAvLyBNS1V0aWxzLmFsZXJ0VGlwcyhcIuaJqeW7ulwiKVxyXG4gICAgICAgIGlmICh0aGlzLmRhdGEudGFiSW5kZXggPT0gMSkge1xyXG4gICAgICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5vbkJ1aWxkQmFjaywgdGhpcyk7XHJcbiAgICAgICAgICAgIC8vIGxldCBpZCA9IHRoaXMuY29uZmlnLmlkICsgXCIwMVwiXHJcbiAgICAgICAgICAgIC8vIFNES01hbmFnZXIuZ2V0VW5sb2NrQ29uZmlnKDcsIE51bWJlcihpZCkpO1xyXG4gICAgICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUucG9wVmlldzEsIG51bGwsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5yZW1vdmVCeUV2ZW50KEV2ZW50VHlwZS5WSURFT19CQUNLLCB0aGlzLm9uQnVpbGRCYWNrLCB0aGlzKTtcclxuICAgICAgICAgICAgfSwgVUlFZmZlY3RUeXBlLlNDQUxFLCBQb3BUeXBlLkZJRUxEKTtcclxuICAgICAgICB9ZWxzZSBpZiAodGhpcy5kYXRhLnRhYkluZGV4ID09IDIpIHtcclxuICAgICAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlZJREVPX0JBQ0ssIHRoaXMub25CdWlsZEJhY2ssIHRoaXMpO1xyXG4gICAgICAgICAgICAvLyBsZXQgaWQgPSB0aGlzLmNvbmZpZy5pZCArIFwiMDFcIlxyXG4gICAgICAgICAgICAvLyBTREtNYW5hZ2VyLmdldFVubG9ja0NvbmZpZyg3LCBOdW1iZXIoaWQpKTtcclxuICAgICAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLnBvcFZpZXcxLCBudWxsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBFdmVudERpc3BhdGgucmVtb3ZlQnlFdmVudChFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5vbkJ1aWxkQmFjaywgdGhpcyk7XHJcbiAgICAgICAgICAgIH0sIFVJRWZmZWN0VHlwZS5TQ0FMRSwgUG9wVHlwZS5TSEVMVkUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkx2VXAoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gTUtVdGlscy5hbGVydFRpcHMoXCLljYfnuqdcIilcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUuTHZVcFBvcFZpZXcsIG51bGwsICgpID0+IHtcclxuICAgICAgICB9LCBVSUVmZmVjdFR5cGUuU0NBTEUsIHRoaXMuZGF0YSk7XHJcbiAgICAgICAgLy8gRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlBST1BfSU5GTywgdGhpcy5zZWxlY3RCYWNrLCB0aGlzKTtcclxuICAgIH1cclxuICAgIG9uQnVpbGRCYWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEudGFiSW5kZXggPT0gMSkge1xyXG4gICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuRklFTERfQlVJTEQsIHRoaXMuZGF0YS5pbmRleCk7XHJcbiAgICAgICAgfWVsc2UgaWYgKHRoaXMuZGF0YS50YWJJbmRleCA9PSAyKSB7XHJcbiAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5TSEVMVkVfQlVJTEQsIHRoaXMuZGF0YS5pbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5MVlVQX1VQREFURSk7XHJcbiAgICAgICAgLy8gRXZlbnREaXNwYXRoLnJlbW92ZUJ5RXZlbnQoRXZlbnRUeXBlLlBST1BfSU5GTywgdGhpcy5zZWxlY3RCYWNrLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/lvUp/LvUpCompleteView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '68988jvIUZHzLNLFixtgY/r', 'LvUpCompleteView');
// src/game/view/lvUp/LvUpCompleteView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var PlayerModel_1 = require("../../datas/PlayerModel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 自助服务界面
 * TODO:
 * 需要才成功观看广告后，监听FINISH_AD_AUTOSERVICE事件，并将主界面的自助服务时间延长当前等级对应的时长
 */
var LvUpCompleteView = /** @class */ (function (_super) {
    __extends(LvUpCompleteView, _super);
    function LvUpCompleteView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_lvUp = null;
        _this.btn_close = null;
        _this.currentIcon = null;
        _this.currentLv = null;
        _this.cDescLb = null;
        _this.xingfuLb = null;
        _this.resList = ["field", "shelves", "cashier", "pipe", "wall", "road", "scarecrow", "warehouse", "fence"];
        return _this;
    }
    LvUpCompleteView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_lvUp, this.onLvUp, this);
        this.initUI();
    };
    LvUpCompleteView.prototype.onDisable = function () {
    };
    LvUpCompleteView.prototype.startShow = function () {
        this.mData = this.inData[0];
        this.config = this.inData[1];
        this.preConfig = this.inData[2];
    };
    LvUpCompleteView.prototype.initUI = function () {
        var _this = this;
        this.currentLv.string = this.preConfig.name + "\u6210\u529F\u5347\u81F3" + (this.mData.level + 1) + "\u7EA7";
        this.cDescLb.string = this.config.add_desc;
        this.xingfuLb.string = "x" + this.preConfig.reward;
        MkUtils_1.default.loadSpriteFrame("texture/prop/" + this.resList[this.mData.tabIndex - 1] + "/icon/" + ("0" + (this.mData.level + 1)), function (res) {
            _this.currentIcon.spriteFrame = res;
        });
    };
    LvUpCompleteView.prototype.onLvUp = function () {
        PlayerModel_1.default.setXfzs(this.preConfig.reward);
        this.onBtnCloseHandle();
    };
    LvUpCompleteView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], LvUpCompleteView.prototype, "btn_lvUp", void 0);
    __decorate([
        property(cc.Node)
    ], LvUpCompleteView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Sprite)
    ], LvUpCompleteView.prototype, "currentIcon", void 0);
    __decorate([
        property(cc.Label)
    ], LvUpCompleteView.prototype, "currentLv", void 0);
    __decorate([
        property(cc.Label)
    ], LvUpCompleteView.prototype, "cDescLb", void 0);
    __decorate([
        property(cc.Label)
    ], LvUpCompleteView.prototype, "xingfuLb", void 0);
    LvUpCompleteView = __decorate([
        ccclass
    ], LvUpCompleteView);
    return LvUpCompleteView;
}(BasePanel_1.default));
exports.default = LvUpCompleteView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L2x2VXAvTHZVcENvbXBsZXRlVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdsRix3RUFBbUU7QUFHbkUsNERBQXVEO0FBQ3ZELDZEQUF3RDtBQUd4RCx1REFBa0Q7QUFJNUMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFFNUM7Ozs7R0FJRztBQUVIO0lBQThDLG9DQUFTO0lBQXZEO1FBQUEscUVBeURDO1FBdkRHLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFFekIsZUFBUyxHQUFZLElBQUksQ0FBQztRQUUxQixpQkFBVyxHQUFjLElBQUksQ0FBQztRQUU5QixlQUFTLEdBQWEsSUFBSSxDQUFDO1FBRTNCLGFBQU8sR0FBYSxJQUFJLENBQUM7UUFHekIsY0FBUSxHQUFhLElBQUksQ0FBQztRQU0xQixhQUFPLEdBQUcsQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFBOztJQXNDeEcsQ0FBQztJQXJDRyxtQ0FBUSxHQUFSO1FBQ0ksS0FBSztRQUNMLHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdELHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUdsRCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUNELG9DQUFTLEdBQVQ7SUFDQSxDQUFDO0lBRUQsb0NBQVMsR0FBVDtRQUNJLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxpQ0FBTSxHQUFOO1FBQUEsaUJBVUM7UUFURyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBTSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksaUNBQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxZQUFHLENBQUM7UUFFN0UsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFFM0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO1FBRW5ELGlCQUFPLENBQUMsZUFBZSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLFFBQVEsSUFBRyxPQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBRSxDQUFBLEVBQUUsVUFBQyxHQUFHO1lBQ3pILEtBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztRQUN2QyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFDRCxpQ0FBTSxHQUFOO1FBQ0kscUJBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBRUQsMkNBQWdCLEdBQWhCO1FBQ0ksaUJBQU0sS0FBSyxXQUFFLENBQUM7SUFDbEIsQ0FBQztJQXRERDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3NEQUNPO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7dURBQ1E7SUFFMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzt5REFDVTtJQUU5QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO3VEQUNRO0lBRTNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7cURBQ007SUFHekI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztzREFDTztJQWJULGdCQUFnQjtRQURwQyxPQUFPO09BQ2EsZ0JBQWdCLENBeURwQztJQUFELHVCQUFDO0NBekRELEFBeURDLENBekQ2QyxtQkFBUyxHQXlEdEQ7a0JBekRvQixnQkFBZ0IiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgU0RLTWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvU0RLTWFuYWdlclwiO1xyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50VHlwZVwiO1xyXG5pbXBvcnQgQ29tcG9uZW50SGVscGVyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvQ29tcG9uZW50SGVscGVyXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgQmFzZVBhbmVsIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdWkvQmFzZVBhbmVsXCI7XHJcbmltcG9ydCB7IGxldmVsVXBfY29uZmlnIH0gZnJvbSBcIi4uLy4uL2NvbnN0cy9DQ29uc3RcIjtcclxuaW1wb3J0IEdsb2JhbCBmcm9tIFwiLi4vLi4vY29uc3RzL0dsb2JhbFwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCBDb25maWdNYW5hZ2VyIGZyb20gXCIuLi8uLi9tYW5hZ2VyL0NvbmZpZ01hbmFnZXJcIjtcclxuaW1wb3J0IHsgTHZ1cF9UeXBlIH0gZnJvbSBcIi4vTHZVcFZpZXdcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG4vKipcclxuICog6Ieq5Yqp5pyN5Yqh55WM6Z2iXHJcbiAqIFRPRE86XHJcbiAqIOmcgOimgeaJjeaIkOWKn+ingueci+W5v+WRiuWQju+8jOebkeWQrEZJTklTSF9BRF9BVVRPU0VSVklDReS6i+S7tu+8jOW5tuWwhuS4u+eVjOmdoueahOiHquWKqeacjeWKoeaXtumXtOW7tumVv+W9k+WJjeetiee6p+WvueW6lOeahOaXtumVv1xyXG4gKi9cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTHZVcENvbXBsZXRlVmlldyBleHRlbmRzIEJhc2VQYW5lbCB7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9sdlVwOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2Nsb3NlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBjdXJyZW50SWNvbjogY2MuU3ByaXRlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGN1cnJlbnRMdjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgY0Rlc2NMYjogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHhpbmdmdUxiOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG5cclxuICAgIG1EYXRhOiBMdnVwX1R5cGU7XHJcbiAgICBwcmVDb25maWc6IGxldmVsVXBfY29uZmlnO1xyXG4gICAgY29uZmlnOiBsZXZlbFVwX2NvbmZpZztcclxuICAgIHJlc0xpc3QgPSBbXCJmaWVsZFwiLCBcInNoZWx2ZXNcIiwgXCJjYXNoaWVyXCIsIFwicGlwZVwiLCBcIndhbGxcIiwgXCJyb2FkXCIsIFwic2NhcmVjcm93XCIsIFwid2FyZWhvdXNlXCIsIFwiZmVuY2VcIl1cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOmAgOWHulxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9jbG9zZSwgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2x2VXAsIHRoaXMub25MdlVwLCB0aGlzKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9XHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRTaG93KCkge1xyXG4gICAgICAgIHRoaXMubURhdGEgPSB0aGlzLmluRGF0YVswXTtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHRoaXMuaW5EYXRhWzFdO1xyXG4gICAgICAgIHRoaXMucHJlQ29uZmlnID0gdGhpcy5pbkRhdGFbMl07XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFVJKCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEx2LnN0cmluZyA9IGAke3RoaXMucHJlQ29uZmlnLm5hbWV95oiQ5Yqf5Y2H6IezJHt0aGlzLm1EYXRhLmxldmVsICsgMX3nuqdgO1xyXG5cclxuICAgICAgICB0aGlzLmNEZXNjTGIuc3RyaW5nID0gdGhpcy5jb25maWcuYWRkX2Rlc2M7XHJcblxyXG4gICAgICAgIHRoaXMueGluZ2Z1TGIuc3RyaW5nID0gXCJ4XCIgKyB0aGlzLnByZUNvbmZpZy5yZXdhcmQ7XHJcblxyXG4gICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9wcm9wL1wiICsgdGhpcy5yZXNMaXN0W3RoaXMubURhdGEudGFiSW5kZXggLSAxXSArIFwiL2ljb24vXCIgKyBgMCR7dGhpcy5tRGF0YS5sZXZlbCArIDF9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJY29uLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgb25MdlVwKCkge1xyXG4gICAgICAgIFBsYXllck1vZGVsLnNldFhmenModGhpcy5wcmVDb25maWcucmV3YXJkKTtcclxuICAgICAgICB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkJ0bkNsb3NlSGFuZGxlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/lvUp/LvUpView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fd733VPK61Hd5ZKasDxYkAj', 'LvUpView');
// src/game/view/lvUp/LvUpView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var CConst_1 = require("../../consts/CConst");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var AVirtualScrollView_1 = require("../task/AVirtualScrollView");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 升级界面
 * TODO:
 * initPropHasList这个方法可以移至更早的登录初始化环节
 */
var LvUpView = /** @class */ (function (_super) {
    __extends(LvUpView, _super);
    function LvUpView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_close = null;
        _this.tabBtn = null;
        _this.scroller = null;
        _this.toggleLb1_1 = null;
        _this.toggleLb1_2 = null;
        _this.toggleLb2_1 = null;
        _this.toggleLb2_2 = null;
        _this.toggleLb3_1 = null;
        _this.toggleLb3_2 = null;
        _this.fieldList = [];
        _this.shelveList = [];
        _this.propList = [];
        _this.mTab = "1";
        return _this;
    }
    LvUpView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        // 使用成功
        EventDispath_1.default.addEventListener(EventType_1.EventType.LVUP_UPDATE, this.onUpdate, this);
        this.tabBtn.toggleItems[Number(this.mTab) - 1].isChecked = true;
        this.onUpdate();
        this.changeTab();
        this.changeData();
    };
    LvUpView.prototype.onTab = function (toggle) {
        if (toggle.checkEvents.length > 0) {
            var item = toggle.checkEvents[0];
            this.mTab = item.customEventData;
        }
        this.changeTab();
        this.changeData();
    };
    LvUpView.prototype.changeTab = function () {
        if (this.mTab == "1") {
            this.toggleLb1_1.active = true;
            this.toggleLb1_2.active = false;
            this.toggleLb2_1.active = false;
            this.toggleLb2_2.active = true;
            this.toggleLb3_1.active = false;
            this.toggleLb3_2.active = true;
        }
        else if (this.mTab == "2") {
            this.toggleLb1_1.active = false;
            this.toggleLb1_2.active = true;
            this.toggleLb2_1.active = true;
            this.toggleLb2_2.active = false;
            this.toggleLb3_1.active = false;
            this.toggleLb3_2.active = true;
        }
        else if (this.mTab == "3") {
            this.toggleLb1_1.active = false;
            this.toggleLb1_2.active = true;
            this.toggleLb3_1.active = true;
            this.toggleLb3_2.active = false;
            this.toggleLb2_1.active = false;
            this.toggleLb2_2.active = true;
        }
    };
    LvUpView.prototype.changeData = function () {
        this.scroller.clearItem();
        if (this.mTab == "1") {
            if (this.fieldList.length == 0)
                this.updateList();
            this.scroller.refreshData(this.fieldList);
        }
        else if (this.mTab == "2") {
            if (this.shelveList.length == 0)
                this.getShleveData();
            this.scroller.refreshData(this.shelveList);
        }
        else if (this.mTab == "3") {
            if (this.propList.length == 0)
                this.getPropData();
            this.scroller.refreshData(this.propList);
        }
        this.scroller.scrollToTop();
    };
    LvUpView.prototype.startShow = function () {
        this.fieldList = [];
        this.shelveList = [];
        this.propList = [];
        this.mTab = this.inData[0];
    };
    LvUpView.prototype.onUpdate = function () {
        // this.tabBtn.sec
        if (this.mTab == "1") {
            this.updateList();
        }
        else if (this.mTab == "2") {
            this.getShleveData();
        }
        else {
            this.getPropData();
        }
        this.changeData();
    };
    LvUpView.prototype.getShleveData = function () {
        this.shelveList = [];
        var list2 = PlayerModel_1.default.getUIConfig().shelvesList;
        for (var i = 0; i < list2.length; i++) {
            var level = list2[i];
            var type = 2 + ("" + (i + 1));
            var baseCfg = ConfigManager_1.default.getShelveByType(type, level);
            if (level == 0)
                baseCfg = ConfigManager_1.default.getShelveByType(type, 1);
            var maxLv = ConfigManager_1.default.getShelveMaxLv(type);
            var isMaxLv = level == maxLv;
            var cfg = { tabIndex: 2, index: i, level: level, id: i + 1, type: type, name: baseCfg.name, addDesc: baseCfg.add_desc, isMaxLv: isMaxLv };
            this.shelveList.push(cfg);
        }
    };
    LvUpView.prototype.getPropData = function () {
        this.propList = [];
        var uicfg = PlayerModel_1.default.getUIConfig();
        var cashierCfg = ConfigManager_1.default.getPropById(CConst_1.propType.cashier, uicfg.cashierlv);
        var maxLv = ConfigManager_1.default.getPropMaxLv(CConst_1.propType.cashier);
        var isMaxLv = uicfg.cashierlv == maxLv;
        this.propList.push({ tabIndex: 3, index: 0, level: uicfg.cashierlv, id: uicfg.cashierlv, type: CConst_1.propType.cashier, name: cashierCfg.name, addDesc: cashierCfg.add_desc, isMaxLv: isMaxLv });
        var pipeCfg = ConfigManager_1.default.getPropById(CConst_1.propType.pipe, uicfg.pipelv);
        maxLv = ConfigManager_1.default.getPropMaxLv(CConst_1.propType.pipe);
        isMaxLv = uicfg.pipelv == maxLv;
        this.propList.push({ tabIndex: 4, index: 1, level: uicfg.pipelv, id: uicfg.pipelv, type: CConst_1.propType.pipe, name: pipeCfg.name, addDesc: pipeCfg.add_desc, isMaxLv: isMaxLv });
        var wallCfg = ConfigManager_1.default.getPropById(CConst_1.propType.wall, uicfg.walllv);
        maxLv = ConfigManager_1.default.getPropMaxLv(CConst_1.propType.wall);
        isMaxLv = uicfg.walllv == maxLv;
        this.propList.push({ tabIndex: 5, index: 2, level: uicfg.walllv, id: uicfg.walllv, type: CConst_1.propType.wall, name: wallCfg.name, addDesc: wallCfg.add_desc, isMaxLv: isMaxLv });
        var roadCfg = ConfigManager_1.default.getPropById(CConst_1.propType.road, uicfg.roadlv);
        maxLv = ConfigManager_1.default.getPropMaxLv(CConst_1.propType.road);
        isMaxLv = uicfg.roadlv == maxLv;
        this.propList.push({ tabIndex: 6, index: 3, level: uicfg.roadlv, id: uicfg.roadlv, type: CConst_1.propType.road, name: roadCfg.name, addDesc: roadCfg.add_desc, isMaxLv: isMaxLv });
        var scarecrowCfg = ConfigManager_1.default.getPropById(CConst_1.propType.scarecrow, uicfg.scarecrowlv);
        maxLv = ConfigManager_1.default.getPropMaxLv(CConst_1.propType.scarecrow);
        isMaxLv = uicfg.scarecrowlv == maxLv;
        this.propList.push({ tabIndex: 7, index: 4, level: uicfg.scarecrowlv, id: uicfg.scarecrowlv, type: CConst_1.propType.scarecrow, name: scarecrowCfg.name, addDesc: scarecrowCfg.add_desc, isMaxLv: isMaxLv });
        var warehouseCfg = ConfigManager_1.default.getPropById(CConst_1.propType.warehouse, uicfg.warehouselv);
        maxLv = ConfigManager_1.default.getPropMaxLv(CConst_1.propType.warehouse);
        isMaxLv = uicfg.warehouselv == maxLv;
        this.propList.push({ tabIndex: 8, index: 5, level: uicfg.warehouselv, id: uicfg.warehouselv, type: CConst_1.propType.warehouse, name: warehouseCfg.name, addDesc: warehouseCfg.add_desc, isMaxLv: isMaxLv });
        var fenceCfg = ConfigManager_1.default.getPropById(CConst_1.propType.fence, uicfg.fencelv);
        maxLv = ConfigManager_1.default.getPropMaxLv(CConst_1.propType.fence);
        isMaxLv = uicfg.fencelv == maxLv;
        this.propList.push({ tabIndex: 9, index: 6, level: uicfg.fencelv, id: uicfg.fencelv, type: CConst_1.propType.fence, name: fenceCfg.name, addDesc: fenceCfg.add_desc, isMaxLv: isMaxLv });
    };
    /** 重新加载列表中的显示条目 */
    LvUpView.prototype.updateList = function () {
        this.fieldList = [];
        var list1 = PlayerModel_1.default.getFieldListCfg();
        for (var i = 0; i < list1.length; i++) {
            var data = list1[i];
            var baseCfg = ConfigManager_1.default.getFieldCfgByType(data.type, data.level);
            if (data.level == 0)
                baseCfg = ConfigManager_1.default.getFieldCfgByType(data.type, 1);
            var maxLv = ConfigManager_1.default.getFieldMaxLv(data.type);
            var isMaxLv = data.level == maxLv;
            var cfg = { tabIndex: 1, index: i, level: data.level, id: data.id, type: data.type, name: baseCfg.name, addDesc: baseCfg.add_desc, isMaxLv: isMaxLv };
            this.fieldList.push(cfg);
        }
    };
    LvUpView.prototype.update = function (dt) {
        // let offset = this.uScrollView.getScrollOffset();
        // let height = this.uScrollView.content.height;
        // for (let i = 0; i < this.uScrollView.content.children.length; i++) {
        //     let node = this.uScrollView.content.children[i];
        //     if (node.y <= height - offset.y + 200 && node.y >= height - offset.y - 1280 - 200) {
        //         node.opacity = 255;
        //     } else {
        //         node.opacity = 0;
        //     }
        // }
    };
    /** 仅用于关闭操作 */
    LvUpView.prototype.onBtnCloseHandle = function () {
        // this.uScrollView.content.removeAllChildren(true);
        _super.prototype.close.call(this);
    };
    LvUpView.prototype.getGuidePoint = function () {
        // let p = this.guideItem.getComponent(LvUpItem1).getGuidePoint();
        // return p;
    };
    __decorate([
        property(cc.Node)
    ], LvUpView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.ToggleContainer)
    ], LvUpView.prototype, "tabBtn", void 0);
    __decorate([
        property(AVirtualScrollView_1.default)
    ], LvUpView.prototype, "scroller", void 0);
    __decorate([
        property(cc.Node)
    ], LvUpView.prototype, "toggleLb1_1", void 0);
    __decorate([
        property(cc.Node)
    ], LvUpView.prototype, "toggleLb1_2", void 0);
    __decorate([
        property(cc.Node)
    ], LvUpView.prototype, "toggleLb2_1", void 0);
    __decorate([
        property(cc.Node)
    ], LvUpView.prototype, "toggleLb2_2", void 0);
    __decorate([
        property(cc.Node)
    ], LvUpView.prototype, "toggleLb3_1", void 0);
    __decorate([
        property(cc.Node)
    ], LvUpView.prototype, "toggleLb3_2", void 0);
    LvUpView = __decorate([
        ccclass
    ], LvUpView);
    return LvUpView;
}(BasePanel_1.default));
exports.default = LvUpView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L2x2VXAvTHZVcFZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsd0VBQW1FO0FBQ25FLGtFQUFpRTtBQUNqRSw2REFBd0Q7QUFDeEQsOENBQStEO0FBQy9ELHVEQUFrRDtBQUNsRCw2REFBd0Q7QUFDeEQsaUVBQTREO0FBRXRELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBVzVDOzs7O0dBSUc7QUFFSDtJQUFzQyw0QkFBUztJQUEvQztRQUFBLHFFQTZNQztRQTFNRyxlQUFTLEdBQVksSUFBSSxDQUFDO1FBRTFCLFlBQU0sR0FBdUIsSUFBSSxDQUFDO1FBR2xDLGNBQVEsR0FBdUIsSUFBSSxDQUFDO1FBR3BDLGlCQUFXLEdBQVksSUFBSSxDQUFDO1FBRTVCLGlCQUFXLEdBQVksSUFBSSxDQUFDO1FBRTVCLGlCQUFXLEdBQVksSUFBSSxDQUFDO1FBRTVCLGlCQUFXLEdBQVksSUFBSSxDQUFDO1FBRTVCLGlCQUFXLEdBQVksSUFBSSxDQUFDO1FBRTVCLGlCQUFXLEdBQVksSUFBSSxDQUFDO1FBRTVCLGVBQVMsR0FBVSxFQUFFLENBQUM7UUFDdEIsZ0JBQVUsR0FBVSxFQUFFLENBQUM7UUFDdkIsY0FBUSxHQUFVLEVBQUUsQ0FBQztRQUVyQixVQUFJLEdBQUcsR0FBRyxDQUFDOztJQWtMZixDQUFDO0lBakxHLDJCQUFRLEdBQVI7UUFDSSxLQUFLO1FBQ0wsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFN0QsT0FBTztRQUNQLHNCQUFZ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RSxPQUFPLEVBQUUsQ0FBQyxDQUFBO1FBRTFLLElBQUksT0FBTyxHQUFHLHVCQUFhLENBQUMsV0FBVyxDQUFDLGlCQUFRLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNyRSxLQUFLLEdBQUcsdUJBQWEsQ0FBQyxZQUFZLENBQUMsaUJBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsRCxPQUFPLEdBQUcsS0FBSyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUM7UUFDaEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLGlCQUFRLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFBO1FBRTFLLElBQUksT0FBTyxHQUFHLHVCQUFhLENBQUMsV0FBVyxDQUFDLGlCQUFRLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNyRSxLQUFLLEdBQUcsdUJBQWEsQ0FBQyxZQUFZLENBQUMsaUJBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsRCxPQUFPLEdBQUcsS0FBSyxDQUFDLE1BQU0sSUFBSSxLQUFLLENBQUM7UUFDaEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLGlCQUFRLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFBO1FBRTFLLElBQUksWUFBWSxHQUFHLHVCQUFhLENBQUMsV0FBVyxDQUFDLGlCQUFRLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNwRixLQUFLLEdBQUcsdUJBQWEsQ0FBQyxZQUFZLENBQUMsaUJBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN2RCxPQUFPLEdBQUcsS0FBSyxDQUFDLFdBQVcsSUFBSSxLQUFLLENBQUM7UUFDckMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxXQUFXLEVBQUUsSUFBSSxFQUFFLGlCQUFRLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxZQUFZLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxZQUFZLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFBO1FBRW5NLElBQUksWUFBWSxHQUFHLHVCQUFhLENBQUMsV0FBVyxDQUFDLGlCQUFRLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNwRixLQUFLLEdBQUcsdUJBQWEsQ0FBQyxZQUFZLENBQUMsaUJBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN2RCxPQUFPLEdBQUcsS0FBSyxDQUFDLFdBQVcsSUFBSSxLQUFLLENBQUM7UUFDckMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxXQUFXLEVBQUUsSUFBSSxFQUFFLGlCQUFRLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxZQUFZLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxZQUFZLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFBO1FBRW5NLElBQUksUUFBUSxHQUFHLHVCQUFhLENBQUMsV0FBVyxDQUFDLGlCQUFRLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN4RSxLQUFLLEdBQUcsdUJBQWEsQ0FBQyxZQUFZLENBQUMsaUJBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRCxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sSUFBSSxLQUFLLENBQUM7UUFDakMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLGlCQUFRLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFBO0lBQ25MLENBQUM7SUFDRCxtQkFBbUI7SUFDWCw2QkFBVSxHQUFsQjtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLElBQUksS0FBSyxHQUFHLHFCQUFXLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDMUMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDbkMsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLElBQUksT0FBTyxHQUFHLHVCQUFhLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDckUsSUFBSSxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUM7Z0JBQUUsT0FBTyxHQUFHLHVCQUFhLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM3RSxJQUFJLEtBQUssR0FBRyx1QkFBYSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbkQsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUM7WUFDbEMsSUFBSSxHQUFHLEdBQWMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxRQUFRLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFBO1lBQ2hLLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzVCO0lBRUwsQ0FBQztJQUVTLHlCQUFNLEdBQWhCLFVBQWlCLEVBQVU7UUFDdkIsbURBQW1EO1FBQ25ELGdEQUFnRDtRQUNoRCx1RUFBdUU7UUFDdkUsdURBQXVEO1FBQ3ZELDJGQUEyRjtRQUMzRiw4QkFBOEI7UUFDOUIsZUFBZTtRQUNmLDRCQUE0QjtRQUM1QixRQUFRO1FBQ1IsSUFBSTtJQUNSLENBQUM7SUFFRCxjQUFjO0lBQ2QsbUNBQWdCLEdBQWhCO1FBQ0ksb0RBQW9EO1FBQ3BELGlCQUFNLEtBQUssV0FBRSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxnQ0FBYSxHQUFiO1FBQ0ksa0VBQWtFO1FBQ2xFLFlBQVk7SUFDaEIsQ0FBQztJQXpNRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOytDQUNRO0lBRTFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxlQUFlLENBQUM7NENBQ0s7SUFHbEM7UUFEQyxRQUFRLENBQUMsNEJBQWtCLENBQUM7OENBQ087SUFHcEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztpREFDVTtJQUU1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2lEQUNVO0lBRTVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7aURBQ1U7SUFFNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztpREFDVTtJQUU1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2lEQUNVO0lBRTVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7aURBQ1U7SUFyQlgsUUFBUTtRQUQ1QixPQUFPO09BQ2EsUUFBUSxDQTZNNUI7SUFBRCxlQUFDO0NBN01ELEFBNk1DLENBN01xQyxtQkFBUyxHQTZNOUM7a0JBN01vQixRQUFRIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IEJhc2VQYW5lbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3VpL0Jhc2VQYW5lbFwiO1xyXG5pbXBvcnQgeyBsZXZlbFVwX2NvbmZpZywgcHJvcFR5cGUgfSBmcm9tIFwiLi4vLi4vY29uc3RzL0NDb25zdFwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCBDb25maWdNYW5hZ2VyIGZyb20gXCIuLi8uLi9tYW5hZ2VyL0NvbmZpZ01hbmFnZXJcIjtcclxuaW1wb3J0IEFWaXJ0dWFsU2Nyb2xsVmlldyBmcm9tIFwiLi4vdGFzay9BVmlydHVhbFNjcm9sbFZpZXdcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcbmV4cG9ydCBpbnRlcmZhY2UgTHZ1cF9UeXBlIHtcclxuICAgIHRhYkluZGV4LFxyXG4gICAgaW5kZXgsXHJcbiAgICBsZXZlbCxcclxuICAgIGlkLFxyXG4gICAgbmFtZSxcclxuICAgIGFkZERlc2MsXHJcbiAgICB0eXBlLFxyXG4gICAgaXNNYXhMdlxyXG59XHJcbi8qKlxyXG4gKiDljYfnuqfnlYzpnaJcclxuICogVE9ETzpcclxuICogaW5pdFByb3BIYXNMaXN06L+Z5Liq5pa55rOV5Y+v5Lul56e76Iez5pu05pep55qE55m75b2V5Yid5aeL5YyW546v6IqCXHJcbiAqL1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMdlVwVmlldyBleHRlbmRzIEJhc2VQYW5lbCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlRvZ2dsZUNvbnRhaW5lcilcclxuICAgIHRhYkJ0bjogY2MuVG9nZ2xlQ29udGFpbmVyID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoQVZpcnR1YWxTY3JvbGxWaWV3KVxyXG4gICAgc2Nyb2xsZXI6IEFWaXJ0dWFsU2Nyb2xsVmlldyA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICB0b2dnbGVMYjFfMTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHRvZ2dsZUxiMV8yOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdG9nZ2xlTGIyXzE6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICB0b2dnbGVMYjJfMjogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHRvZ2dsZUxiM18xOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdG9nZ2xlTGIzXzI6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIGZpZWxkTGlzdDogYW55W10gPSBbXTtcclxuICAgIHNoZWx2ZUxpc3Q6IGFueVtdID0gW107XHJcbiAgICBwcm9wTGlzdDogYW55W10gPSBbXTtcclxuXHJcbiAgICBtVGFiID0gXCIxXCI7XHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyDpgIDlh7pcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5fY2xvc2UsIHRoaXMub25CdG5DbG9zZUhhbmRsZSwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIOS9v+eUqOaIkOWKn1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5MVlVQX1VQREFURSwgdGhpcy5vblVwZGF0ZSwgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMudGFiQnRuLnRvZ2dsZUl0ZW1zW051bWJlcih0aGlzLm1UYWIpLTFdLmlzQ2hlY2tlZCA9dHJ1ZVxyXG4gICAgICAgIHRoaXMub25VcGRhdGUoKTtcclxuICAgICAgICB0aGlzLmNoYW5nZVRhYigpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgb25UYWIodG9nZ2xlOiBjYy5Ub2dnbGUpIHtcclxuICAgICAgICBpZiAodG9nZ2xlLmNoZWNrRXZlbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0b2dnbGUuY2hlY2tFdmVudHNbMF07XHJcbiAgICAgICAgICAgIHRoaXMubVRhYiA9IGl0ZW0uY3VzdG9tRXZlbnREYXRhO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VUYWIoKTtcclxuICAgICAgICB0aGlzLmNoYW5nZURhdGEoKTtcclxuXHJcbiAgICB9XHJcbiAgICBjaGFuZ2VUYWIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubVRhYiA9PSBcIjFcIikge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUxiMV8xLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTGIxXzIuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUxiMl8xLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUxiMl8yLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUxiM18xLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUxiM18yLmFjdGl2ZSA9IHRydWVcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubVRhYiA9PSBcIjJcIikge1xyXG5cclxuICAgICAgICAgICAgdGhpcy50b2dnbGVMYjFfMS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVMYjFfMi5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50b2dnbGVMYjJfMS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUxiMl8yLmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50b2dnbGVMYjNfMS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVMYjNfMi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tVGFiID09IFwiM1wiKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTGIxXzEuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTGIxXzIuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTGIzXzEuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVMYjNfMi5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTGIyXzEuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTGIyXzIuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjaGFuZ2VEYXRhKCkge1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsZXIuY2xlYXJJdGVtKCk7XHJcbiAgICAgICAgaWYgKHRoaXMubVRhYiA9PSBcIjFcIikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5maWVsZExpc3QubGVuZ3RoID09IDApIHRoaXMudXBkYXRlTGlzdCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVyLnJlZnJlc2hEYXRhKHRoaXMuZmllbGRMaXN0KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubVRhYiA9PSBcIjJcIikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaGVsdmVMaXN0Lmxlbmd0aCA9PSAwKSB0aGlzLmdldFNobGV2ZURhdGEoKVxyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVyLnJlZnJlc2hEYXRhKHRoaXMuc2hlbHZlTGlzdCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1UYWIgPT0gXCIzXCIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcExpc3QubGVuZ3RoID09IDApIHRoaXMuZ2V0UHJvcERhdGEoKVxyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVyLnJlZnJlc2hEYXRhKHRoaXMucHJvcExpc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjcm9sbGVyLnNjcm9sbFRvVG9wKCk7XHJcbiAgICB9XHJcbiAgICBzdGFydFNob3coKSB7XHJcbiAgICAgICAgdGhpcy5maWVsZExpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLnNoZWx2ZUxpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLnByb3BMaXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5tVGFiID0gdGhpcy5pbkRhdGFbMF07XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKSB7XHJcbiAgICAgICAgLy8gdGhpcy50YWJCdG4uc2VjXHJcbiAgICAgICAgaWYgKHRoaXMubVRhYiA9PSBcIjFcIikge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpc3QoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubVRhYiA9PSBcIjJcIikge1xyXG4gICAgICAgICAgICB0aGlzLmdldFNobGV2ZURhdGEoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdldFByb3BEYXRhKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hhbmdlRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgZ2V0U2hsZXZlRGF0YSgpIHtcclxuICAgICAgICB0aGlzLnNoZWx2ZUxpc3QgPSBbXTtcclxuICAgICAgICBsZXQgbGlzdDIgPSBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLnNoZWx2ZXNMaXN0O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdDIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGxldmVsID0gbGlzdDJbaV07XHJcbiAgICAgICAgICAgIGxldCB0eXBlID0gMiArIGAke2kgKyAxfWA7XHJcbiAgICAgICAgICAgIGxldCBiYXNlQ2ZnID0gQ29uZmlnTWFuYWdlci5nZXRTaGVsdmVCeVR5cGUodHlwZSwgbGV2ZWwpO1xyXG4gICAgICAgICAgICBpZiAobGV2ZWwgPT0gMCkgYmFzZUNmZyA9IENvbmZpZ01hbmFnZXIuZ2V0U2hlbHZlQnlUeXBlKHR5cGUsIDEpO1xyXG4gICAgICAgICAgICBsZXQgbWF4THYgPSBDb25maWdNYW5hZ2VyLmdldFNoZWx2ZU1heEx2KHR5cGUpO1xyXG4gICAgICAgICAgICBsZXQgaXNNYXhMdiA9IGxldmVsID09IG1heEx2O1xyXG4gICAgICAgICAgICBsZXQgY2ZnOiBMdnVwX1R5cGUgPSB7IHRhYkluZGV4OiAyLCBpbmRleDogaSwgbGV2ZWw6IGxldmVsLCBpZDogaSArIDEsIHR5cGU6IHR5cGUsIG5hbWU6IGJhc2VDZmcubmFtZSwgYWRkRGVzYzogYmFzZUNmZy5hZGRfZGVzYywgaXNNYXhMdjogaXNNYXhMdiB9XHJcbiAgICAgICAgICAgIHRoaXMuc2hlbHZlTGlzdC5wdXNoKGNmZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0UHJvcERhdGEoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucHJvcExpc3QgPSBbXTtcclxuICAgICAgICBsZXQgdWljZmcgPSBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpO1xyXG4gICAgICAgIGxldCBjYXNoaWVyQ2ZnID0gQ29uZmlnTWFuYWdlci5nZXRQcm9wQnlJZChwcm9wVHlwZS5jYXNoaWVyLCB1aWNmZy5jYXNoaWVybHYpO1xyXG4gICAgICAgIGxldCBtYXhMdiA9IENvbmZpZ01hbmFnZXIuZ2V0UHJvcE1heEx2KHByb3BUeXBlLmNhc2hpZXIpO1xyXG4gICAgICAgIGxldCBpc01heEx2ID0gdWljZmcuY2FzaGllcmx2ID09IG1heEx2O1xyXG4gICAgICAgIHRoaXMucHJvcExpc3QucHVzaCh7IHRhYkluZGV4OiAzLCBpbmRleDogMCwgbGV2ZWw6IHVpY2ZnLmNhc2hpZXJsdiwgaWQ6IHVpY2ZnLmNhc2hpZXJsdiwgdHlwZTogcHJvcFR5cGUuY2FzaGllciwgbmFtZTogY2FzaGllckNmZy5uYW1lLCBhZGREZXNjOiBjYXNoaWVyQ2ZnLmFkZF9kZXNjLCBpc01heEx2OiBpc01heEx2IH0pXHJcblxyXG4gICAgICAgIGxldCBwaXBlQ2ZnID0gQ29uZmlnTWFuYWdlci5nZXRQcm9wQnlJZChwcm9wVHlwZS5waXBlLCB1aWNmZy5waXBlbHYpO1xyXG4gICAgICAgIG1heEx2ID0gQ29uZmlnTWFuYWdlci5nZXRQcm9wTWF4THYocHJvcFR5cGUucGlwZSk7XHJcbiAgICAgICAgaXNNYXhMdiA9IHVpY2ZnLnBpcGVsdiA9PSBtYXhMdjtcclxuICAgICAgICB0aGlzLnByb3BMaXN0LnB1c2goeyB0YWJJbmRleDogNCwgaW5kZXg6IDEsIGxldmVsOiB1aWNmZy5waXBlbHYsIGlkOiB1aWNmZy5waXBlbHYsIHR5cGU6IHByb3BUeXBlLnBpcGUsIG5hbWU6IHBpcGVDZmcubmFtZSwgYWRkRGVzYzogcGlwZUNmZy5hZGRfZGVzYywgaXNNYXhMdjogaXNNYXhMdiB9KVxyXG5cclxuICAgICAgICBsZXQgd2FsbENmZyA9IENvbmZpZ01hbmFnZXIuZ2V0UHJvcEJ5SWQocHJvcFR5cGUud2FsbCwgdWljZmcud2FsbGx2KTtcclxuICAgICAgICBtYXhMdiA9IENvbmZpZ01hbmFnZXIuZ2V0UHJvcE1heEx2KHByb3BUeXBlLndhbGwpO1xyXG4gICAgICAgIGlzTWF4THYgPSB1aWNmZy53YWxsbHYgPT0gbWF4THY7XHJcbiAgICAgICAgdGhpcy5wcm9wTGlzdC5wdXNoKHsgdGFiSW5kZXg6IDUsIGluZGV4OiAyLCBsZXZlbDogdWljZmcud2FsbGx2LCBpZDogdWljZmcud2FsbGx2LCB0eXBlOiBwcm9wVHlwZS53YWxsLCBuYW1lOiB3YWxsQ2ZnLm5hbWUsIGFkZERlc2M6IHdhbGxDZmcuYWRkX2Rlc2MsIGlzTWF4THY6IGlzTWF4THYgfSlcclxuXHJcbiAgICAgICAgbGV0IHJvYWRDZmcgPSBDb25maWdNYW5hZ2VyLmdldFByb3BCeUlkKHByb3BUeXBlLnJvYWQsIHVpY2ZnLnJvYWRsdik7XHJcbiAgICAgICAgbWF4THYgPSBDb25maWdNYW5hZ2VyLmdldFByb3BNYXhMdihwcm9wVHlwZS5yb2FkKTtcclxuICAgICAgICBpc01heEx2ID0gdWljZmcucm9hZGx2ID09IG1heEx2O1xyXG4gICAgICAgIHRoaXMucHJvcExpc3QucHVzaCh7IHRhYkluZGV4OiA2LCBpbmRleDogMywgbGV2ZWw6IHVpY2ZnLnJvYWRsdiwgaWQ6IHVpY2ZnLnJvYWRsdiwgdHlwZTogcHJvcFR5cGUucm9hZCwgbmFtZTogcm9hZENmZy5uYW1lLCBhZGREZXNjOiByb2FkQ2ZnLmFkZF9kZXNjLCBpc01heEx2OiBpc01heEx2IH0pXHJcblxyXG4gICAgICAgIGxldCBzY2FyZWNyb3dDZmcgPSBDb25maWdNYW5hZ2VyLmdldFByb3BCeUlkKHByb3BUeXBlLnNjYXJlY3JvdywgdWljZmcuc2NhcmVjcm93bHYpO1xyXG4gICAgICAgIG1heEx2ID0gQ29uZmlnTWFuYWdlci5nZXRQcm9wTWF4THYocHJvcFR5cGUuc2NhcmVjcm93KTtcclxuICAgICAgICBpc01heEx2ID0gdWljZmcuc2NhcmVjcm93bHYgPT0gbWF4THY7XHJcbiAgICAgICAgdGhpcy5wcm9wTGlzdC5wdXNoKHsgdGFiSW5kZXg6IDcsIGluZGV4OiA0LCBsZXZlbDogdWljZmcuc2NhcmVjcm93bHYsIGlkOiB1aWNmZy5zY2FyZWNyb3dsdiwgdHlwZTogcHJvcFR5cGUuc2NhcmVjcm93LCBuYW1lOiBzY2FyZWNyb3dDZmcubmFtZSwgYWRkRGVzYzogc2NhcmVjcm93Q2ZnLmFkZF9kZXNjLCBpc01heEx2OiBpc01heEx2IH0pXHJcblxyXG4gICAgICAgIGxldCB3YXJlaG91c2VDZmcgPSBDb25maWdNYW5hZ2VyLmdldFByb3BCeUlkKHByb3BUeXBlLndhcmVob3VzZSwgdWljZmcud2FyZWhvdXNlbHYpO1xyXG4gICAgICAgIG1heEx2ID0gQ29uZmlnTWFuYWdlci5nZXRQcm9wTWF4THYocHJvcFR5cGUud2FyZWhvdXNlKTtcclxuICAgICAgICBpc01heEx2ID0gdWljZmcud2FyZWhvdXNlbHYgPT0gbWF4THY7XHJcbiAgICAgICAgdGhpcy5wcm9wTGlzdC5wdXNoKHsgdGFiSW5kZXg6IDgsIGluZGV4OiA1LCBsZXZlbDogdWljZmcud2FyZWhvdXNlbHYsIGlkOiB1aWNmZy53YXJlaG91c2VsdiwgdHlwZTogcHJvcFR5cGUud2FyZWhvdXNlLCBuYW1lOiB3YXJlaG91c2VDZmcubmFtZSwgYWRkRGVzYzogd2FyZWhvdXNlQ2ZnLmFkZF9kZXNjLCBpc01heEx2OiBpc01heEx2IH0pXHJcblxyXG4gICAgICAgIGxldCBmZW5jZUNmZyA9IENvbmZpZ01hbmFnZXIuZ2V0UHJvcEJ5SWQocHJvcFR5cGUuZmVuY2UsIHVpY2ZnLmZlbmNlbHYpO1xyXG4gICAgICAgIG1heEx2ID0gQ29uZmlnTWFuYWdlci5nZXRQcm9wTWF4THYocHJvcFR5cGUuZmVuY2UpO1xyXG4gICAgICAgIGlzTWF4THYgPSB1aWNmZy5mZW5jZWx2ID09IG1heEx2O1xyXG4gICAgICAgIHRoaXMucHJvcExpc3QucHVzaCh7IHRhYkluZGV4OiA5LCBpbmRleDogNiwgbGV2ZWw6IHVpY2ZnLmZlbmNlbHYsIGlkOiB1aWNmZy5mZW5jZWx2LCB0eXBlOiBwcm9wVHlwZS5mZW5jZSwgbmFtZTogZmVuY2VDZmcubmFtZSwgYWRkRGVzYzogZmVuY2VDZmcuYWRkX2Rlc2MsIGlzTWF4THY6IGlzTWF4THYgfSlcclxuICAgIH1cclxuICAgIC8qKiDph43mlrDliqDovb3liJfooajkuK3nmoTmmL7npLrmnaHnm64gKi9cclxuICAgIHByaXZhdGUgdXBkYXRlTGlzdCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmZpZWxkTGlzdCA9IFtdO1xyXG4gICAgICAgIGxldCBsaXN0MSA9IFBsYXllck1vZGVsLmdldEZpZWxkTGlzdENmZygpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdDEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSBsaXN0MVtpXTtcclxuICAgICAgICAgICAgbGV0IGJhc2VDZmcgPSBDb25maWdNYW5hZ2VyLmdldEZpZWxkQ2ZnQnlUeXBlKGRhdGEudHlwZSwgZGF0YS5sZXZlbCk7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmxldmVsID09IDApIGJhc2VDZmcgPSBDb25maWdNYW5hZ2VyLmdldEZpZWxkQ2ZnQnlUeXBlKGRhdGEudHlwZSwgMSk7XHJcbiAgICAgICAgICAgIGxldCBtYXhMdiA9IENvbmZpZ01hbmFnZXIuZ2V0RmllbGRNYXhMdihkYXRhLnR5cGUpO1xyXG4gICAgICAgICAgICBsZXQgaXNNYXhMdiA9IGRhdGEubGV2ZWwgPT0gbWF4THY7XHJcbiAgICAgICAgICAgIGxldCBjZmc6IEx2dXBfVHlwZSA9IHsgdGFiSW5kZXg6IDEsIGluZGV4OiBpLCBsZXZlbDogZGF0YS5sZXZlbCwgaWQ6IGRhdGEuaWQsIHR5cGU6IGRhdGEudHlwZSwgbmFtZTogYmFzZUNmZy5uYW1lLCBhZGREZXNjOiBiYXNlQ2ZnLmFkZF9kZXNjLCBpc01heEx2OiBpc01heEx2IH1cclxuICAgICAgICAgICAgdGhpcy5maWVsZExpc3QucHVzaChjZmcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHVwZGF0ZShkdDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgLy8gbGV0IG9mZnNldCA9IHRoaXMudVNjcm9sbFZpZXcuZ2V0U2Nyb2xsT2Zmc2V0KCk7XHJcbiAgICAgICAgLy8gbGV0IGhlaWdodCA9IHRoaXMudVNjcm9sbFZpZXcuY29udGVudC5oZWlnaHQ7XHJcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnVTY3JvbGxWaWV3LmNvbnRlbnQuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyAgICAgbGV0IG5vZGUgPSB0aGlzLnVTY3JvbGxWaWV3LmNvbnRlbnQuY2hpbGRyZW5baV07XHJcbiAgICAgICAgLy8gICAgIGlmIChub2RlLnkgPD0gaGVpZ2h0IC0gb2Zmc2V0LnkgKyAyMDAgJiYgbm9kZS55ID49IGhlaWdodCAtIG9mZnNldC55IC0gMTI4MCAtIDIwMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgbm9kZS5vcGFjaXR5ID0gMjU1O1xyXG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgbm9kZS5vcGFjaXR5ID0gMDtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiog5LuF55So5LqO5YWz6Zet5pON5L2cICovXHJcbiAgICBvbkJ0bkNsb3NlSGFuZGxlKCkge1xyXG4gICAgICAgIC8vIHRoaXMudVNjcm9sbFZpZXcuY29udGVudC5yZW1vdmVBbGxDaGlsZHJlbih0cnVlKTtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG4gICAgZ3VpZGVJdGVtOiBjYy5Ob2RlO1xyXG4gICAgZ2V0R3VpZGVQb2ludCgpIHtcclxuICAgICAgICAvLyBsZXQgcCA9IHRoaXMuZ3VpZGVJdGVtLmdldENvbXBvbmVudChMdlVwSXRlbTEpLmdldEd1aWRlUG9pbnQoKTtcclxuICAgICAgICAvLyByZXR1cm4gcDtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/CashierPrefab.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '00f65fwzFlMhotDBSOU35PL', 'CashierPrefab');
// src/game/view/main/CashierPrefab.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var ActionType_1 = require("../../consts/ActionType");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var CashierManager_1 = require("./CashierManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var CashierPrefab = /** @class */ (function (_super) {
    __extends(CashierPrefab, _super);
    function CashierPrefab() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.img = null;
        _this.moeyBg = null;
        _this.descLb = null;
        _this.pro = null;
        _this.lvUpEff = null;
        // onLoad () {}
        _this.roleList = [];
        _this.roleLength = 0;
        _this.auto_interval = 0;
        _this.auto_one_time = 2; //自动卖出间隔
        _this.isAuto = true;
        _this.mId = -1;
        _this.startPoint = cc.v2(-340, -230);
        _this.endPoint = cc.v2(66, -90);
        _this.firstPoint = cc.v2(-370, -280);
        _this.rolePoints = [];
        _this.dayMax = 0;
        _this.pro_one = 0.1; //每半秒增加进度
        _this.pro_one_time = 0.5;
        _this.pro_interval = 0;
        _this.isAutoAddGold = false;
        _this.addTotalTime = 0;
        _this.addMultiple = ConfigManager_1.default.cashier_add_multiple;
        _this.outPut = 0; //每秒产出
        _this.flyPoint = cc.v2();
        return _this;
    }
    CashierPrefab.prototype.start = function () {
        this.lvUpEff.node.active = false;
        CashierManager_1.default.init(this);
        this.flyPoint = this.node.convertToWorldSpaceAR(this.pro.node.getPosition());
        var lastTime = ConfigManager_1.default.cashier_add_times * 60 - Math.floor((new Date().getTime()) / 1000 - PlayerModel_1.default.getAddLastTime());
        if (lastTime > 0) {
            this.addTotalTime = lastTime;
            this.isAutoAddGold = true;
            this.outPut = ConfigManager_1.default.cashier_one * ConfigManager_1.default.cashier_add_multiple;
        }
        else {
            this.outPut = ConfigManager_1.default.cashier_one;
        }
    };
    CashierPrefab.prototype.onEnable = function () {
        EventDispath_1.default.addEventListener(EventType_1.EventType.ADD_CAHIER_ROLE, this.addRole, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.UPDATE_CAHIER_ROLE, this.updateRole, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.CHANGE_CASHIER, this.changeSkin, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.CASHIER_ADD_MULTIPLE, this.onMultiple, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.GUIDE_COMPLETE, this.changeState, this);
        EventDispath_1.default.on(this.node, this.showAuto, this);
        this.changeState();
    };
    CashierPrefab.prototype.update = function (dt) {
        CashierManager_1.default.update(dt);
        if (this.isAuto) {
            this.auto_interval += dt;
            if (this.auto_interval >= this.auto_one_time && this.roleList.length > 0) {
                this.auto_interval = 0;
                this.roleList[0].onSell();
                // PlayerModel.setIsAutoOfflineTime(new Date().getTime() / 1000)
            }
        }
        if (this.isAutoAddGold) {
            this.addTotalTime -= dt;
            if (this.addTotalTime <= 0) {
                this.isAutoAddGold = false;
            }
        }
        else {
            this.outPut = ConfigManager_1.default.cashier_one;
        }
        if (PlayerModel_1.default.cashierGold < this.dayMax && PlayerModel_1.default.guideState) {
            this.descLb.string = "营业中";
            if (this.isAutoAddGold)
                this.descLb.string = "加速中";
            this.pro_interval += dt;
            if (this.pro_interval >= this.pro_one_time) {
                this.pro.progress += this.pro_one;
                this.pro_interval = 0;
                if (this.pro.progress >= 1) {
                    this.pro.progress = 0;
                    PlayerModel_1.default.setGold(this.outPut, 1, this.flyPoint);
                    PlayerModel_1.default.cashierGold = this.outPut;
                }
            }
        }
        else {
            if (!PlayerModel_1.default.guideState)
                this.descLb.string = "营业中";
            else
                this.descLb.string = "今日上限";
        }
    };
    CashierPrefab.prototype.changeState = function () {
        if (!PlayerModel_1.default.guideState) {
            this.moeyBg.active = false;
            this.pro.node.active = false;
            this.descLb.node.active = false;
        }
        else {
            this.moeyBg.active = true;
            this.pro.node.active = true;
            this.descLb.node.active = true;
        }
    };
    CashierPrefab.prototype.onMultiple = function () {
        this.isAutoAddGold = true;
        this.addTotalTime = ConfigManager_1.default.cashier_add_times * 60;
        this.outPut = ConfigManager_1.default.cashier_one * ConfigManager_1.default.cashier_add_multiple;
        PlayerModel_1.default.setAddLastTime(Math.floor(new Date().getTime() / 1000));
    };
    CashierPrefab.prototype.showAuto = function () {
        // if (isFirst) {
        //     let cfg: prop_config = ConfigManager.getPropById(propType.cashier, this.mId);
        //     this.auto_time2 = this.auto_time = cfg.other_reward;
        // }
        // PlayerModel.setIsAutoSell({ isAuto: true, lastTime: this.auto_time2, time: new Date().getTime() / 1000 });
        // let action = cc.sequence(cc.moveTo(3, this.endPoint), cc.callFunc(() => {
        //     if (this.roleList.length > 0) this.roleList[0].onSell();
        // this.isAuto = true;
        // }));
        UIMananger_1.default.showPanel(UIType_1.default.cashierView);
    };
    CashierPrefab.prototype.onAutoSell = function () {
        // this.cashier.animation = ActionType.CASHIER_SHOUYIN;
        // this.cashier.setCompleteListener((trackEntry, loopCount) => {
        //     this.cashier.setCompleteListener(null);
        //     this.cashier.animation = ActionType.CASHIER_STAND;
        // })
    };
    CashierPrefab.prototype.addRole = function (role) {
        if (this.roleList.length == 0) {
            role.showSell();
        }
        this.roleList.push(role);
        role.jiezhangIndx = this.roleList.length - 1;
    };
    CashierPrefab.prototype.updateRole = function () {
        this.roleList.splice(0, 1);
        this.roleLength--;
        var len = this.roleList.length;
        var prePoint = this.firstPoint;
        for (var i = 0; i < len; i++) {
            this.roleList[i].changeAction(ActionType_1.default.Q_WALK_FINISH);
            var p = void 0;
            if (i < 6) {
                p = CashierManager_1.default.pointLit[i];
            }
            else {
                p = CashierManager_1.default.pointLit[5];
            }
            // let p = this.roleList[i].node.getPosition();
            this.move(this.roleList[i], p);
            // prePoint = p;
        }
        CashierManager_1.default.updateRole();
        // for (let i = len; i >= 0; i--) {
        //     this.roleList[i].changeAction(ActionType.Q_WALK_FINISH)
        //     if (i == 0) this.move(this.roleList[i], this.firstPoint)
        //     else {
        //         let p = this.roleList[i - 1].node.getPosition();
        //         this.move(this.roleList[i], p)
        //     }
        // }
        if (this.roleList.length > 0) {
            this.roleList[0].showSell();
        }
        var arr = [];
        for (var i = 0; i < this.roleList.length; i++) {
            arr.push(this.roleList[i].jiezhangIndx);
        }
        console.log("=================", arr);
    };
    CashierPrefab.prototype.move = function (role, p) {
        role.node.runAction(cc.sequence(cc.moveTo(0.5, p), cc.callFunc(function () {
            role.changeAction(ActionType_1.default.Q_STAND_FINISH_RIGHT);
        })));
    };
    Object.defineProperty(CashierPrefab.prototype, "roleLen", {
        get: function () {
            return this.roleLength - 1;
        },
        set: function (value) {
            this.roleLength++;
        },
        enumerable: false,
        configurable: true
    });
    CashierPrefab.prototype.setData = function (id) {
        if (id === void 0) { id = 1; }
        if (id == 0)
            return;
        this.changeSkin(0);
    };
    CashierPrefab.prototype.changeSkin = function (isLvUp) {
        var _this = this;
        if (isLvUp === void 0) { isLvUp = 1; }
        this.mId = PlayerModel_1.default.getUIConfig().cashierlv;
        if (this.mId > 0) {
            // let cfg: prop_config = ConfigManager.getPropById(propType.cashier, this.mId);
            // this.auto_time2 = this.auto_time = cfg.other_reward;
            MkUtils_1.default.loadSpriteFrame("texture/prop/cashier/" + ("0" + this.mId), function (res) {
                _this.img.spriteFrame = res;
                if (isLvUp) {
                    _this.lvUpEff.node.active = true;
                    _this.lvUpEff.animation = "animation";
                }
                _this.dayMax = ConfigManager_1.default.getCashierMax();
            });
        }
        else {
        }
    };
    __decorate([
        property(cc.Sprite)
    ], CashierPrefab.prototype, "img", void 0);
    __decorate([
        property(cc.Node)
    ], CashierPrefab.prototype, "moeyBg", void 0);
    __decorate([
        property(cc.Label)
    ], CashierPrefab.prototype, "descLb", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], CashierPrefab.prototype, "pro", void 0);
    __decorate([
        property(sp.Skeleton)
    ], CashierPrefab.prototype, "lvUpEff", void 0);
    CashierPrefab = __decorate([
        ccclass
    ], CashierPrefab);
    return CashierPrefab;
}(cc.Component));
exports.default = CashierPrefab;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vQ2FzaGllclByZWZhYi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdsRixvRUFBK0Q7QUFDL0Qsd0VBQW1FO0FBQ25FLGtFQUFpRTtBQUNqRSw0REFBdUQ7QUFFdkQsc0RBQWlEO0FBQ2pELDhDQUF5QztBQUN6Qyx1REFBa0Q7QUFDbEQsNkRBQXdEO0FBQ3hELG1EQUE4QztBQUd4QyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUEyQyxpQ0FBWTtJQUF2RDtRQUFBLHFFQTJPQztRQXhPRyxTQUFHLEdBQWMsSUFBSSxDQUFDO1FBRXRCLFlBQU0sR0FBWSxJQUFJLENBQUM7UUFFdkIsWUFBTSxHQUFhLElBQUksQ0FBQztRQUV4QixTQUFHLEdBQW1CLElBQUksQ0FBQztRQUUzQixhQUFPLEdBQWdCLElBQUksQ0FBQztRQUc1QixlQUFlO1FBQ2YsY0FBUSxHQUFpQixFQUFFLENBQUM7UUFFNUIsZ0JBQVUsR0FBRyxDQUFDLENBQUM7UUFFZixtQkFBYSxHQUFHLENBQUMsQ0FBQztRQUNsQixtQkFBYSxHQUFHLENBQUMsQ0FBQyxDQUFBLFFBQVE7UUFDMUIsWUFBTSxHQUFHLElBQUksQ0FBQztRQUNkLFNBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVULGdCQUFVLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzlCLGNBQVEsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBRXpCLGdCQUFVLEdBQUcsRUFB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Q0FBQztJQXZPRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzhDQUNFO0lBRXRCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7aURBQ0s7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztpREFDSztJQUV4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDOzhDQUNFO0lBRTNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7a0RBQ007SUFYWCxhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBMk9qQztJQUFELG9CQUFDO0NBM09ELEFBMk9DLENBM08wQyxFQUFFLENBQUMsU0FBUyxHQTJPdEQ7a0JBM09vQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IEpTSGVscGVyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvaGVscGVyL0pTSGVscGVyXCI7XHJcbmltcG9ydCBVSU1hbmFuZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgU29ydFV0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvU29ydFV0aWxzXCI7XHJcbmltcG9ydCBBY3Rpb25UeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvQWN0aW9uVHlwZVwiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IENvbmZpZ01hbmFnZXIgZnJvbSBcIi4uLy4uL21hbmFnZXIvQ29uZmlnTWFuYWdlclwiO1xyXG5pbXBvcnQgQ2FzaGllck1hbmFnZXIgZnJvbSBcIi4vQ2FzaGllck1hbmFnZXJcIjtcclxuaW1wb3J0IFJvbGVQcmVmYWIgZnJvbSBcIi4vUm9sZVByZWZhYlwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhc2hpZXJQcmVmYWIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBpbWc6IGNjLlNwcml0ZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIG1vZXlCZzogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBkZXNjTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Qcm9ncmVzc0JhcilcclxuICAgIHBybzogY2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KHNwLlNrZWxldG9uKVxyXG4gICAgbHZVcEVmZjogc3AuU2tlbGV0b24gPSBudWxsO1xyXG5cclxuXHJcbiAgICAvLyBvbkxvYWQgKCkge31cclxuICAgIHJvbGVMaXN0OiBSb2xlUHJlZmFiW10gPSBbXTtcclxuXHJcbiAgICByb2xlTGVuZ3RoID0gMDtcclxuXHJcbiAgICBhdXRvX2ludGVydmFsID0gMDtcclxuICAgIGF1dG9fb25lX3RpbWUgPSAyOy8v6Ieq5Yqo5Y2W5Ye66Ze06ZqUXHJcbiAgICBpc0F1dG8gPSB0cnVlO1xyXG4gICAgbUlkID0gLTE7XHJcblxyXG4gICAgc3RhcnRQb2ludCA9IGNjLnYyKC0zNDAsIC0yMzApXHJcbiAgICBlbmRQb2ludCA9IGNjLnYyKDY2LCAtOTApXHJcblxyXG4gICAgZmlyc3RQb2ludCA9IGNjLnYyKC0zNzAsIC0yODApXHJcbiAgICByb2xlUG9pbnRzID0gW107XHJcbiAgICBkYXlNYXggPSAwO1xyXG5cclxuICAgIHByb19vbmUgPSAwLjE7Ly/mr4/ljYrnp5Llop7liqDov5vluqZcclxuICAgIHByb19vbmVfdGltZSA9IDAuNTtcclxuICAgIHByb19pbnRlcnZhbCA9IDA7XHJcbiAgICBpc0F1dG9BZGRHb2xkID0gZmFsc2U7XHJcblxyXG4gICAgYWRkVG90YWxUaW1lID0gMDtcclxuICAgIGFkZE11bHRpcGxlID0gQ29uZmlnTWFuYWdlci5jYXNoaWVyX2FkZF9tdWx0aXBsZTtcclxuXHJcbiAgICBvdXRQdXQgPSAwOy8v5q+P56eS5Lqn5Ye6XHJcblxyXG4gICAgZmx5UG9pbnQgPSBjYy52MigpO1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5sdlVwRWZmLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgQ2FzaGllck1hbmFnZXIuaW5pdCh0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5mbHlQb2ludCA9IHRoaXMubm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIodGhpcy5wcm8ubm9kZS5nZXRQb3NpdGlvbigpKTtcclxuXHJcbiAgICAgICAgbGV0IGxhc3RUaW1lID0gQ29uZmlnTWFuYWdlci5jYXNoaWVyX2FkZF90aW1lcyAqIDYwIC0gTWF0aC5mbG9vcigobmV3IERhdGUoKS5nZXRUaW1lKCkpIC8gMTAwMCAtIFBsYXllck1vZGVsLmdldEFkZExhc3RUaW1lKCkpO1xyXG4gICAgICAgIGlmIChsYXN0VGltZSA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRUb3RhbFRpbWUgPSBsYXN0VGltZTtcclxuICAgICAgICAgICAgdGhpcy5pc0F1dG9BZGRHb2xkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5vdXRQdXQgPSBDb25maWdNYW5hZ2VyLmNhc2hpZXJfb25lICogQ29uZmlnTWFuYWdlci5jYXNoaWVyX2FkZF9tdWx0aXBsZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vdXRQdXQgPSBDb25maWdNYW5hZ2VyLmNhc2hpZXJfb25lO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5BRERfQ0FISUVSX1JPTEUsIHRoaXMuYWRkUm9sZSwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlVQREFURV9DQUhJRVJfUk9MRSwgdGhpcy51cGRhdGVSb2xlLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFX0NBU0hJRVIsIHRoaXMuY2hhbmdlU2tpbiwgdGhpcyk7XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DQVNISUVSX0FERF9NVUxUSVBMRSwgdGhpcy5vbk11bHRpcGxlLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuR1VJREVfQ09NUExFVEUsIHRoaXMuY2hhbmdlU3RhdGUsIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5ub2RlLCB0aGlzLnNob3dBdXRvLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKCk7XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgdXBkYXRlKGR0OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBDYXNoaWVyTWFuYWdlci51cGRhdGUoZHQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0F1dG8pIHtcclxuICAgICAgICAgICAgdGhpcy5hdXRvX2ludGVydmFsICs9IGR0O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdXRvX2ludGVydmFsID49IHRoaXMuYXV0b19vbmVfdGltZSAmJiB0aGlzLnJvbGVMaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXV0b19pbnRlcnZhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGVMaXN0WzBdLm9uU2VsbCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gUGxheWVyTW9kZWwuc2V0SXNBdXRvT2ZmbGluZVRpbWUobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0F1dG9BZGRHb2xkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG90YWxUaW1lIC09IGR0O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hZGRUb3RhbFRpbWUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0F1dG9BZGRHb2xkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm91dFB1dCA9IENvbmZpZ01hbmFnZXIuY2FzaGllcl9vbmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoUGxheWVyTW9kZWwuY2FzaGllckdvbGQgPCB0aGlzLmRheU1heCAmJiBQbGF5ZXJNb2RlbC5ndWlkZVN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzY0xiLnN0cmluZyA9IFwi6JCl5Lia5LitXCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQXV0b0FkZEdvbGQpIHRoaXMuZGVzY0xiLnN0cmluZyA9IFwi5Yqg6YCf5LitXCI7XHJcbiAgICAgICAgICAgIHRoaXMucHJvX2ludGVydmFsICs9IGR0O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9faW50ZXJ2YWwgPj0gdGhpcy5wcm9fb25lX3RpbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvLnByb2dyZXNzICs9IHRoaXMucHJvX29uZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvX2ludGVydmFsID0gMDtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByby5wcm9ncmVzcyA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm8ucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIFBsYXllck1vZGVsLnNldEdvbGQodGhpcy5vdXRQdXQsIDEsIHRoaXMuZmx5UG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIFBsYXllck1vZGVsLmNhc2hpZXJHb2xkID0gdGhpcy5vdXRQdXQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCFQbGF5ZXJNb2RlbC5ndWlkZVN0YXRlKSB0aGlzLmRlc2NMYi5zdHJpbmcgPSBcIuiQpeS4muS4rVwiO1xyXG4gICAgICAgICAgICBlbHNlIHRoaXMuZGVzY0xiLnN0cmluZyA9IFwi5LuK5pel5LiK6ZmQXCJcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgY2hhbmdlU3RhdGUoKSB7XHJcbiAgICAgICAgaWYgKCFQbGF5ZXJNb2RlbC5ndWlkZVN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9leUJnLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnByby5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NMYi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9leUJnLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucHJvLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5kZXNjTGIubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbk11bHRpcGxlKCkge1xyXG4gICAgICAgIHRoaXMuaXNBdXRvQWRkR29sZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hZGRUb3RhbFRpbWUgPSBDb25maWdNYW5hZ2VyLmNhc2hpZXJfYWRkX3RpbWVzICogNjA7XHJcbiAgICAgICAgdGhpcy5vdXRQdXQgPSBDb25maWdNYW5hZ2VyLmNhc2hpZXJfb25lICogQ29uZmlnTWFuYWdlci5jYXNoaWVyX2FkZF9tdWx0aXBsZTtcclxuICAgICAgICBQbGF5ZXJNb2RlbC5zZXRBZGRMYXN0VGltZShNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dBdXRvKCkge1xyXG4gICAgICAgIC8vIGlmIChpc0ZpcnN0KSB7XHJcbiAgICAgICAgLy8gICAgIGxldCBjZmc6IHByb3BfY29uZmlnID0gQ29uZmlnTWFuYWdlci5nZXRQcm9wQnlJZChwcm9wVHlwZS5jYXNoaWVyLCB0aGlzLm1JZCk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuYXV0b190aW1lMiA9IHRoaXMuYXV0b190aW1lID0gY2ZnLm90aGVyX3Jld2FyZDtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gUGxheWVyTW9kZWwuc2V0SXNBdXRvU2VsbCh7IGlzQXV0bzogdHJ1ZSwgbGFzdFRpbWU6IHRoaXMuYXV0b190aW1lMiwgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwIH0pO1xyXG4gICAgICAgIC8vIGxldCBhY3Rpb24gPSBjYy5zZXF1ZW5jZShjYy5tb3ZlVG8oMywgdGhpcy5lbmRQb2ludCksIGNjLmNhbGxGdW5jKCgpID0+IHtcclxuICAgICAgICAvLyAgICAgaWYgKHRoaXMucm9sZUxpc3QubGVuZ3RoID4gMCkgdGhpcy5yb2xlTGlzdFswXS5vblNlbGwoKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5pc0F1dG8gPSB0cnVlO1xyXG4gICAgICAgIC8vIH0pKTtcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUuY2FzaGllclZpZXcpO1xyXG4gICAgfVxyXG4gICAgb25BdXRvU2VsbCgpIHtcclxuICAgICAgICAvLyB0aGlzLmNhc2hpZXIuYW5pbWF0aW9uID0gQWN0aW9uVHlwZS5DQVNISUVSX1NIT1VZSU47XHJcbiAgICAgICAgLy8gdGhpcy5jYXNoaWVyLnNldENvbXBsZXRlTGlzdGVuZXIoKHRyYWNrRW50cnksIGxvb3BDb3VudCkgPT4ge1xyXG4gICAgICAgIC8vICAgICB0aGlzLmNhc2hpZXIuc2V0Q29tcGxldGVMaXN0ZW5lcihudWxsKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5jYXNoaWVyLmFuaW1hdGlvbiA9IEFjdGlvblR5cGUuQ0FTSElFUl9TVEFORDtcclxuICAgICAgICAvLyB9KVxyXG4gICAgfVxyXG4gICAgYWRkUm9sZShyb2xlOiBSb2xlUHJlZmFiKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucm9sZUxpc3QubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgcm9sZS5zaG93U2VsbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJvbGVMaXN0LnB1c2gocm9sZSk7XHJcbiAgICAgICAgcm9sZS5qaWV6aGFuZ0luZHggPSB0aGlzLnJvbGVMaXN0Lmxlbmd0aCAtIDE7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVSb2xlKCkge1xyXG4gICAgICAgIHRoaXMucm9sZUxpc3Quc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgIHRoaXMucm9sZUxlbmd0aC0tO1xyXG4gICAgICAgIGxldCBsZW4gPSB0aGlzLnJvbGVMaXN0Lmxlbmd0aDtcclxuICAgICAgICBsZXQgcHJlUG9pbnQgPSB0aGlzLmZpcnN0UG9pbnQ7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yb2xlTGlzdFtpXS5jaGFuZ2VBY3Rpb24oQWN0aW9uVHlwZS5RX1dBTEtfRklOSVNIKVxyXG4gICAgICAgICAgICBsZXQgcDtcclxuICAgICAgICAgICAgaWYgKGkgPCA2KSB7XHJcbiAgICAgICAgICAgICAgICBwID0gQ2FzaGllck1hbmFnZXIucG9pbnRMaXRbaV1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICBwID0gQ2FzaGllck1hbmFnZXIucG9pbnRMaXRbNV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBsZXQgcCA9IHRoaXMucm9sZUxpc3RbaV0ubm9kZS5nZXRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLm1vdmUodGhpcy5yb2xlTGlzdFtpXSwgcClcclxuICAgICAgICAgICAgLy8gcHJlUG9pbnQgPSBwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBDYXNoaWVyTWFuYWdlci51cGRhdGVSb2xlKCk7XHJcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IGxlbjsgaSA+PSAwOyBpLS0pIHtcclxuXHJcbiAgICAgICAgLy8gICAgIHRoaXMucm9sZUxpc3RbaV0uY2hhbmdlQWN0aW9uKEFjdGlvblR5cGUuUV9XQUxLX0ZJTklTSClcclxuICAgICAgICAvLyAgICAgaWYgKGkgPT0gMCkgdGhpcy5tb3ZlKHRoaXMucm9sZUxpc3RbaV0sIHRoaXMuZmlyc3RQb2ludClcclxuICAgICAgICAvLyAgICAgZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICBsZXQgcCA9IHRoaXMucm9sZUxpc3RbaSAtIDFdLm5vZGUuZ2V0UG9zaXRpb24oKTtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMubW92ZSh0aGlzLnJvbGVMaXN0W2ldLCBwKVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGlmICh0aGlzLnJvbGVMaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5yb2xlTGlzdFswXS5zaG93U2VsbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGFyciA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yb2xlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBhcnIucHVzaCh0aGlzLnJvbGVMaXN0W2ldLmppZXpoYW5nSW5keClcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09PT09PT09PT09PVwiLCBhcnIpXHJcbiAgICB9XHJcbiAgICBtb3ZlKHJvbGUsIHApIHtcclxuICAgICAgICByb2xlLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLm1vdmVUbygwLjUsIHApLCBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgIHJvbGUuY2hhbmdlQWN0aW9uKEFjdGlvblR5cGUuUV9TVEFORF9GSU5JU0hfUklHSFQpXHJcbiAgICAgICAgfSkpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcm9sZUxlbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb2xlTGVuZ3RoIC0gMTtcclxuICAgIH1cclxuICAgIHNldCByb2xlTGVuKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5yb2xlTGVuZ3RoKys7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGF0YShpZCA9IDEpIHtcclxuICAgICAgICBpZiAoaWQgPT0gMCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlU2tpbigwKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlU2tpbihpc0x2VXAgPSAxKSB7XHJcbiAgICAgICAgdGhpcy5tSWQgPSBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLmNhc2hpZXJsdjtcclxuICAgICAgICBpZiAodGhpcy5tSWQgPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIGxldCBjZmc6IHByb3BfY29uZmlnID0gQ29uZmlnTWFuYWdlci5nZXRQcm9wQnlJZChwcm9wVHlwZS5jYXNoaWVyLCB0aGlzLm1JZCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuYXV0b190aW1lMiA9IHRoaXMuYXV0b190aW1lID0gY2ZnLm90aGVyX3Jld2FyZDtcclxuXHJcbiAgICAgICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9wcm9wL2Nhc2hpZXIvXCIgKyBgMCR7dGhpcy5tSWR9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWcuc3ByaXRlRnJhbWUgPSByZXM7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNMdlVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sdlVwRWZmLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmx2VXBFZmYuYW5pbWF0aW9uID0gXCJhbmltYXRpb25cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZGF5TWF4ID0gQ29uZmlnTWFuYWdlci5nZXRDYXNoaWVyTWF4KCk7XHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/GameMainView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e8501OjIe9ECZm+UxIscUF3', 'GameMainView');
// src/game/view/main/GameMainView.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var GamePoolManager_1 = require("../../../framework/manager/GamePoolManager");
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var ComponentHelper_1 = require("../../../framework/tools/ComponentHelper");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var Utils_1 = require("../../../framework/tools/Utils");
var BaseView_1 = require("../../../framework/ui/BaseView");
var CConst_1 = require("../../consts/CConst");
var Global_1 = require("../../consts/Global");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var CashierPrefab_1 = require("./CashierPrefab");
var FencePrefab_1 = require("./FencePrefab");
var FieldPrefab_1 = require("./FieldPrefab");
var PipePrefab_1 = require("./PipePrefab");
var RoadPrefab_1 = require("./RoadPrefab");
var RolePrefab_1 = require("./RolePrefab");
var ScarecrowPrefab_1 = require("./ScarecrowPrefab");
var ShelvePrefab_1 = require("./ShelvePrefab");
var WallPrefab_1 = require("./WallPrefab");
var WarehousePrefab_1 = require("./WarehousePrefab");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GameMainView = /** @class */ (function (_super) {
    __extends(GameMainView, _super);
    function GameMainView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.roadPrefab = null;
        _this.wallPrefab = null;
        _this.cashierPrefab = null;
        _this.pipePrefab = null;
        _this.shelvePrefab = null;
        _this.fieldPrefab = null;
        _this.fencePrefab = null;
        _this.warehousePrefab = null;
        _this.scarecrowPrefab = null;
        _this.rolePrefab = null;
        _this.barragePrefab = null;
        _this.btn_lvUp = null;
        _this.btn_task = null;
        _this.btn_zlgk = null;
        _this.btn_ljcs = null;
        _this.btn_order = null;
        _this.shouTips = null;
        _this.lock = null;
        _this.btn_test1 = null;
        _this.btn_test2 = null;
        _this.btn_test3 = null;
        _this.jx_sc = null;
        _this.shelvesPfbList = [];
        _this.fieldPfbList = [];
        _this.roleIdList = [];
        _this.cloneRoleIdList = [];
        _this.roleList = [];
        _this.zl_guideTime = 20;
        _this.zl_guideState = 0;
        _this.zl_guideInterval = 0;
        _this.zl_state = 0; //0：手动招揽，1：自动招揽，2：自动招揽中
        _this.zlClcikNum = 0; //招揽顾客按钮点击次数
        _this.zl_roleNum = 0;
        _this.zl_auto_num = 0; //自动招揽人数
        _this.isAutoSolicit = false;
        _this.createTime = 3; //自动招揽时间间隔
        _this.currentTime = 0;
        _this.n = 1;
        _this.arr = [];
        _this.zl_max = 0;
        _this.guideZl = 0;
        _this.actionNUm = 0;
        _this.barragePool = new cc.NodePool();
        return _this;
    }
    GameMainView.prototype.onLoad = function () {
        this._initComponet();
        this.bottom.y = -cc.winSize.height / 2;
        this.roleIdList = Utils_1.default.createArr(1, 11);
        GamePoolManager_1.default.initRolePool(this.rolePrefab);
        this.changeZlBtn();
        // SDKManager.getTaskRewardCount();
    };
    GameMainView.prototype.update = function (dt) {
        if (PlayerModel_1.default.guideStep >= 0)
            return;
        this.currentTime += dt;
        if (this.zl_state == 2) {
            // this.zl_pro.progress = this.currentTime / 2;
            // if (this.currentTime > 2) {
            //     this.createRole();
            //     this.currentTime = 0;
            // }
        }
        else {
            if (this.currentTime > PlayerModel_1.default.getAutoRoleTime()) {
                this.createRole();
                this.currentTime = 0;
            }
        }
    };
    GameMainView.prototype.filedTips = function () {
        // this.shouTips.stopAllActions();
        // this.shouTips.active = false;
        // if (!this.shouTips.active) {
        //     let node: cc.Node;
        //     for (let i = 0; i < this.fieldPfbList.length; i++) {
        //         let item = this.fieldPfbList[i];
        //         if (item.config.cropId == 0 && item.config.state > 0) {
        //             node = item.node;
        //             break;
        //         }
        //     }
        //     if (node) {
        //         this.shouTips.active = true;
        //         let p = Utils.convertNodeToNodeSpace(node, this.node)
        //         this.shouTips.setPosition(p.x, p.y + 150);
        //         ComponentHelper.setHeartAction(this.shouTips);
        //     }
        // }
    };
    GameMainView.prototype.start = function () {
        var _this = this;
        // if (PlayerModel.guideStep >= 0) return;
        if (PlayerModel_1.default.guideState)
            this.createRole();
        // MKUtils.setNodeDelay(this.node, 2, () => {
        //     this.createRole();
        // })
        this.zl_roleNum = PlayerModel_1.default.getZlNum();
        var max = ConfigManager_1.default.getCurrentLvCfg().sdzl; //单次最大招揽人数
        this.zlClcikNum = 0;
        if (this.zl_roleNum >= max) {
            this.zl_state = 1;
            this.zl_roleNum = 0;
            this.changeZlBtn();
        }
        MkUtils_1.default.setNodeDelay(this.node, 2, function () {
            _this.initBarrage();
            _this.filedTips();
            _this.flyBox();
        });
        // this.testEffect();
        this.updateHkHb();
        ComponentHelper_1.default.setUpDownAction(this.addSpeedTips);
    };
    GameMainView.prototype.onEnable = function () {
        EventDispath_1.default.on(this.btn_lvUp, this.onLvUp, this);
        EventDispath_1.default.on(this.btn_task, this.onTask, this);
        EventDispath_1.default.on(this.btn_zlgk, this.onZlgk, this, 0);
        EventDispath_1.default.on(this.btn_ljcs, this.onLjcs, this);
        EventDispath_1.default.on(this.btn_order, this.onOrder, this);
        EventDispath_1.default.on(this.warehousePfb, this.onShowHouse, this);
        // EventDispath.on(this.box, this.onOpenBox, this);
        EventDispath_1.default.on(this.hkhb, this.onOpenHkHb, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.CROP_GET, this.getCrop, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.UPDATE_SHELVE, this.updateShelve, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.UPDATE_SHELVE_ORDER, this.orderUpdateShelve, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.ONE_SOLICIT, this.createFifteen, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.FIELD_LEVEL_UPDATE, this.changeFieldByIndex, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SHELVE_LEVEL_UPDATE, this.changeShelveByIndex, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.CHANGE_PIPE, this.changePipe, this);
        // EventDispath.addEventListener(EventType.TASK_INFO_COUNT, this.updateTaskHd, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.UPDATE_FIELD_TIPS, this.filedTips, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.JX_SC, this.jxOrSc, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.CROP_PLANT_GET, this.onPlant, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.HKHB_UPDATE, this.updateHkHb, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.CHANGE_WALL, this.changeZlBtn, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.MAIN_LOCK, this.onLock, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.GUIDE_COMPLETE, this.guidComplete, this);
    };
    GameMainView.prototype.onLvUp = function () {
        console.log("升级");
        UIMananger_1.default.showPanel(UIType_1.default.LvUpView, null, null, UIEffectManager_1.UIEffectType.SCALE, 1);
    };
    GameMainView.prototype.onTask = function () {
        UIMananger_1.default.showPanel(UIType_1.default.TaskView);
        console.log("任务");
        // PlayerModel.setAcceptDegree(10, cc.v2(cc.winSize.width / 2, cc.winSize.height / 2))
    };
    //招揽顾客
    GameMainView.prototype.onZlgk = function () {
        if (this.zl_state == 2)
            return;
        if (this.zl_state == 0) {
            // this.zlClcikNum++;
            // if (this.zlClcikNum >= Global.zl_click_num) {
            this.zl_roleNum++;
            // SDKManager.onEvent(Global.EVENT_ACTION.client_solicit, { "count": 1 })
            this.addOneLb();
            this.createRole();
            PlayerModel_1.default.setZlNum(this.zl_roleNum);
            // let max = PlayerModel.getAcceptBaseCfg().solicit_num;
            var max = ConfigManager_1.default.getCurrentLvCfg().sdzl; //单次最大招揽人数
            this.zlClcikNum = 0;
            if (this.zl_roleNum >= max) {
                this.zl_state = 1;
                this.zl_roleNum = 0;
                this.changeZlBtn();
            }
            // }
        }
        else {
            //打开招揽页面
            UIMananger_1.default.showPanel(UIType_1.default.popZlView);
        }
        this.zl_guideState = 0;
        this.zl_guideInterval = 0;
        // this.n++;
    };
    //新增飘字
    GameMainView.prototype.addOneLb = function () {
        console.log("手动添加：", this.zl_roleNum);
        var lb = cc.instantiate(this.zl_addOne);
        lb.parent = this.btn_zlgk;
        // this.arr.push(lb);
        lb.y = 137;
        lb.opacity = 255;
        lb.runAction(cc.sequence(cc.moveTo(0.8, 0, 250), cc.fadeOut(1.0), cc.callFunc(function () {
            lb.destroy();
        })));
    };
    //一键招揽15个
    GameMainView.prototype.createFifteen = function () {
        this.zl_state = 2;
        this.changeZlBtn();
        MkUtils_1.default.alertTips("一键招揽进行中");
        this.zl_guideInterval = 0;
        this.zl_guideState = 0;
        this.isAutoSolicit = true;
        this.zl_max = ConfigManager_1.default.getPropById(CConst_1.propType.wall, PlayerModel_1.default.getUIConfig().walllv).add_num;
        PlayerModel_1.default.setZlNum(0);
        this.autoSolicit();
    };
    //自动招揽
    GameMainView.prototype.autoSolicit = function () {
        var _this = this;
        cc.tween(this.zl_pro).to(2, { progress: 1 }).call(function () {
            _this.zl_pro.progress = 0;
            _this.createRole();
            _this.zl_auto_num++;
            _this.addOneLb();
            if (_this.zl_auto_num >= _this.zl_max) {
                _this.zl_state = 0;
                _this.zl_auto_num = 0;
                _this.isAutoSolicit = false;
                _this.changeZlBtn();
            }
            else {
                _this.autoSolicit();
            }
        }).start();
    };
    GameMainView.prototype.changeZlBtn = function () {
        this.zl_pro.node.active = false;
        this.zl_desc.node.active = true;
        this.zl_descBg.active = true;
        if (this.zl_state == 0) {
            this.zl_pro.node.active = false;
            this.zl.active = true;
            this.zl_one.active = false;
            this.zl_desc.string = "顾客+1";
        }
        else if (this.zl_state == 1) {
            this.zl.active = false;
            this.zl_one.active = true;
            this.zl_desc.string = "顾客+" + ConfigManager_1.default.getPropById(CConst_1.propType.wall, PlayerModel_1.default.getUIConfig().walllv).add_num;
        }
        else {
            this.zl_descBg.active = false;
            this.zl_pro.node.active = true;
            this.zl_pro.progress = 0;
            this.zl_desc.node.active = false;
            this.zl.active = false;
            this.zl_one.active = true;
        }
    };
    //立即成熟
    GameMainView.prototype.onLjcs = function () {
        var _this = this;
        console.log("全体加速");
        if (PlayerModel_1.default.guideStep >= 0) {
            EventDispath_1.default.send(EventType_1.EventType.GUIDE_Hide);
            EventDispath_1.default.send(EventType_1.EventType.CROP_ADD_SPEED);
            this.lock.active = true;
            MkUtils_1.default.setNodeDelay(this.node, 4, function () {
                EventDispath_1.default.send(EventType_1.EventType.GUIDE_UPDATE);
                _this.lock.active = false;
            });
        }
        else {
            UIMananger_1.default.showPanel(UIType_1.default.popJsView);
        }
    };
    GameMainView.prototype.onLock = function (data) {
        this.lock.active = data;
    };
    //订单
    GameMainView.prototype.onOrder = function () {
        UIMananger_1.default.showPanel(UIType_1.default.orderView, null, null, null);
    };
    GameMainView.prototype.onShowHouse = function () {
        UIMananger_1.default.showPanel(UIType_1.default.WarehouseView);
    };
    //打开飞行红包
    GameMainView.prototype.onOpenBox = function () {
        var _this = this;
        this.box.stopAllActions();
        this.box.active = false;
        UIMananger_1.default.showPanel(UIType_1.default.flyBoxView, null, function () {
            _this.scheduleOnce(_this.flyBox, SDKManager_1.default.getFlightTime());
        });
    };
    //打开回馈红包
    GameMainView.prototype.onOpenHkHb = function () {
        if (this.hkPro.progress < 1) {
            var lv = ConfigManager_1.default.getCurrentLvCfg();
            MkUtils_1.default.alertTips("\u518D\u62DB\u5F85" + (lv.gks - PlayerModel_1.default.zdGkNum) + "\u987E\u5BA2\u83B7\u5F97\u7EA2\u5305");
            return;
        }
        UIMananger_1.default.showPanel(UIType_1.default.hardView, null, null, UIEffectManager_1.UIEffectType.SCALE, 1);
    };
    //收获作物进入仓库，仓库动效
    GameMainView.prototype.getCrop = function () {
        this.warehousePfb.runAction(cc.sequence(cc.scaleTo(0.2, 1.05), cc.scaleTo(0.2, 1), cc.scaleTo(0.2, 1.05), cc.scaleTo(0.2, 1), cc.callFunc(function () {
            // this.lock.active = false;
        })));
    };
    //仓库有新增，刷新货架
    GameMainView.prototype.updateShelve = function () {
        var _this = this;
        MkUtils_1.default.setNodeDelay(this.node, 2, function () {
            for (var i = 0; i < _this.shelvesPfbList.length; i++) {
                var shelve = _this.shelvesPfbList[i];
                var script = shelve.getComponent(ShelvePrefab_1.default);
                if (script.currentNum < 4) {
                    script.addCrop();
                }
            }
        });
    };
    //订单完成后更新
    GameMainView.prototype.orderUpdateShelve = function () {
        PlayerModel_1.default.initPutCropList();
        var putOnList = PlayerModel_1.default.put_on_crop_list;
        for (var i = 0; i < this.shelvesPfbList.length; i++) {
            var shelve = this.shelvesPfbList[i];
            var cfg = void 0;
            if (i < putOnList.length) {
                cfg = putOnList[i];
            }
            shelve.resetCrop(cfg);
        }
    };
    GameMainView.prototype.createRole = function () {
        var role = this.getRole();
        if (this.cloneRoleIdList.length == 0)
            Utils_1.default.arrayCopy(this.roleIdList, this.cloneRoleIdList);
        this.cloneRoleIdList.sort(MkUtils_1.default.randomSort);
        var id = this.cloneRoleIdList.splice(0, 1)[0];
        this.roleList.push(role);
        var shelvePrefab = this.checkShelve();
        if (PlayerModel_1.default.guideStep == 6) {
            role.speed = 3;
            role.setRole(3);
        }
        else {
            // role.speed = 5;
            // role.speed = 1.5;
            role.setRole(1.5);
        }
        role.create(id, shelvePrefab, this.cashierPfb);
        PlayerModel_1.default.addDayAutoRoleNum();
        this.roleNode.addChild(role.node, 100);
    };
    GameMainView.prototype.getRole = function () {
        var item = GamePoolManager_1.default.createRole(this.rolePrefab);
        var roleItem = item.getComponent(RolePrefab_1.default);
        return roleItem;
    };
    /**
     * 检测那个摊位可以上人
     */
    GameMainView.prototype.checkShelve = function () {
        if (this.isShelveRoleFull1())
            return;
        var arr = [];
        for (var i = 0; i < this.shelvesPfbList.length; i++) {
            var src = this.shelvesPfbList[i];
            if (src.mId > 0) {
                // if (this.isShelveRoleFull1()) {
                //     if (src.roleNum < PlayerModel.one_shelves_shopper_max) {
                //         arr.push(src);
                //     }
                // } 
                // else {
                if (src.roleNum + src.walkLen < ConfigManager_1.default.getRoleMax()) {
                    arr.push(src);
                }
                // }
            }
        }
        if (arr.length == 0)
            return null;
        var arr1 = arr.filter(function (item) {
            return item.currentNum > 0;
        });
        var pfb;
        if (arr1.length > 0) {
            pfb = Utils_1.default.getRandomByArr(arr1);
        }
        else {
            pfb = arr[0];
        }
        return pfb;
    };
    // //检测是否货架没有解锁
    // isShelveUnlock(shelve) {
    //     let arr = this.shelvesPfbList.filter((item) => {
    //         return item.mId == 0;
    //     })
    //     if (arr.length < 5) return false;
    //     return true;
    // }
    //检测是否所有货架为空
    GameMainView.prototype.isShelveEmpty = function () {
        var arr = this.shelvesPfbList.filter(function (item) {
            return item.currentNum == 0;
        });
        if (arr.length < 5)
            return false;
        return true;
    };
    //检测是否所有摊位前都已经达到初始人数
    GameMainView.prototype.isShelveRoleFull1 = function () {
        var arr = this.shelvesPfbList.filter(function (item) {
            var t1 = item.roleNum < ConfigManager_1.default.getRoleMax();
            var t2 = item.mId > 0;
            return t1 && t2;
        });
        if (arr.length > 0)
            return false;
        return true;
    };
    /**
     * 加速或者杀虫
     * @param type 1加速2杀虫
     */
    GameMainView.prototype.jxOrSc = function (data) {
        var _this = this;
        this.jx_sc.node.active = true;
        var p = Utils_1.default.convertNodeToNodeSpace(data.point, this.node);
        this.jx_sc.node.setPosition(p);
        if (data.type == 1) {
            this.jx_sc.animation = "jiasu";
        }
        else {
            this.jx_sc.animation = "shachong";
        }
        this.jx_sc.setCompleteListener(function (trackEntry, loopCount) {
            _this.jx_sc.setCompleteListener(null);
            _this.jx_sc.node.active = false;
            console.log(data.type, "杀虫或者加速");
            if (data.type == 1) {
                EventDispath_1.default.send(EventType_1.EventType.JIASU);
            }
            else {
                EventDispath_1.default.send(EventType_1.EventType.SHACHONG);
            }
        });
    };
    GameMainView.prototype.onPlant = function (id) {
        var arr = this.fieldPfbList.filter(function (value, index) {
            return value.config.state == 1 && value.config.cropId == 0;
        });
        if (arr.length > 0) {
            var cfg = ConfigManager_1.default.getCropById(id);
            MkUtils_1.default.alertTips(cfg.name + "\u5DF2\u6210\u529F\u79CD\u4E0B ");
            EventDispath_1.default.send(EventType_1.EventType.GET_CROP_CLOSE);
            arr[0].onPlant(id);
        }
        else {
            MkUtils_1.default.alertTips("没有空闲土地可以种植了");
        }
    };
    //切换货架皮肤
    GameMainView.prototype.changeShelveByIndex = function (index) {
        this.shelvesPfbList[index].changeSkin();
        this.updateShelve();
    };
    //切换地块皮肤
    GameMainView.prototype.changeFieldByIndex = function (index) {
        this.fieldPfbList[index].changeSkin();
    };
    //切换水管皮肤
    GameMainView.prototype.changePipe = function (data) {
        var water = this.node.getChildByName('water');
        water.active = true;
    };
    //更新回馈红包
    GameMainView.prototype.updateHkHb = function () {
        this.hkIcon.stopAllActions();
        var lv = ConfigManager_1.default.getCurrentLvCfg();
        if (PlayerModel_1.default.zdGkNum >= lv.gks) {
            ComponentHelper_1.default.setHeartAction(this.hkIcon);
            this.hkLb.string = lv.gks + "/" + lv.gks;
            this.hkDesc.string = "<color=#000000>\u8BF7\u9886\u53D6</c><color=#EC5454>\u56DE\u9988\u7EA2\u5305</c></color>";
        }
        else {
            this.hkLb.string = PlayerModel_1.default.zdGkNum + "/" + lv.gks;
            this.hkDesc.string = "<color=#000000>\u518D\u62DB\u5F85</c><color=#EC5454>" + (lv.gks - PlayerModel_1.default.zdGkNum) + "\u4F4D<color=#000000>\u987E\u5BA2\u83B7\u5F97<color=#EC5454>\u7EA2\u5305</c></color>";
        }
        this.hkPro.progress = PlayerModel_1.default.zdGkNum / lv.gks;
    };
    // updateTaskHd(data) {
    //     if (data.allCount > 0) {
    //         this.taskHd.active = true;
    //         this.taskHdLab.string = data.allCount;
    //     } else {
    //         this.taskHdLab.string = "0";
    //         this.taskHd.active = false;
    //     }
    // }
    // update (dt) {}
    //初始化场景中的节点
    GameMainView.prototype._initComponet = function () {
        this.bottom = this.node.getChildByName('bottom');
        this.box = this.node.getChildByName('box');
        this.guide_task = this.bottom.getChildByName('guide_task');
        this.zl_addOne = this.btn_zlgk.getChildByName("addOne");
        this.hkhb = this.bottom.getChildByName('hkhb');
        this.hkIcon = this.hkhb.getChildByName("hkHbIcon");
        this.hkDesc = this.hkhb.getChildByName("hkDeacLb").getComponent(cc.RichText);
        ;
        this.hkLb = this.hkhb.getChildByName("hkLb").getComponent(cc.Label);
        ;
        this.hkPro = this.hkhb.getChildByName("hkPro").getComponent(cc.ProgressBar);
        ;
        this.addSpeedTips = this.btn_ljcs.getChildByName("tips");
        this.zl = this.btn_zlgk.getChildByName("zl");
        this.zl_one = this.btn_zlgk.getChildByName("zl_one");
        this.zl_descBg = this.btn_zlgk.getChildByName("zl_descBg");
        this.zl_pro = this.btn_zlgk.getChildByName("pro").getComponent(cc.ProgressBar);
        this.zl_desc = this.btn_zlgk.getChildByName("addDesc").getComponent(cc.Label);
        var road = this.node.getChildByName('road');
        var wall = this.node.getChildByName('wall');
        var cashier = this.node.getChildByName('cashier');
        var pipe = this.node.getChildByName('pipe');
        var shelvesGp = this.node.getChildByName('shelvesGp');
        var shelvesList = shelvesGp.children;
        var field = this.node.getChildByName('field');
        var fence = this.node.getChildByName('fence');
        var warehouse = this.node.getChildByName('warehouse');
        var scarecrow = this.node.getChildByName('scarecrow');
        this.roleNode = this.node.getChildByName('role');
        this.taskHd = this.btn_task.getChildByName("taskHongdian");
        this.taskHdLab = this.taskHd.getChildByName("taskHd").getComponent(cc.Label);
        var uiCfg = PlayerModel_1.default.getUIConfig();
        this.roadPfb = cc.instantiate(this.roadPrefab);
        road.addChild(this.roadPfb);
        // this.roadPfb.parent = this.node;
        // let roadP = road.convertToWorldSpaceAR(cc.v2(0,0));
        // this.roadPfb.setPosition(this.node.convertToNodeSpaceAR(roadP))
        this.roadPfb.getComponent(RoadPrefab_1.default).setData(uiCfg.roadlv);
        this.wallPfb = cc.instantiate(this.wallPrefab);
        wall.addChild(this.wallPfb);
        // this.wallPfb.parent = this.node;
        // let wallP = wall.convertToWorldSpaceAR(cc.v2(0,0));
        // this.wallPfb.setPosition(this.node.convertToNodeSpaceAR(wallP))
        this.wallPfb.getComponent(WallPrefab_1.default).setData(uiCfg.walllv);
        this.pipePfb = cc.instantiate(this.pipePrefab);
        pipe.addChild(this.pipePfb);
        this.pipePfb.getComponent(PipePrefab_1.default).setData(uiCfg.pipelv);
        if (uiCfg.pipelv > 0) {
            var water = this.node.getChildByName('water');
            water.active = true;
        }
        this.fencePfb = cc.instantiate(this.fencePrefab);
        fence.addChild(this.fencePfb);
        this.fencePfb.getComponent(FencePrefab_1.default).setData(uiCfg.fencelv);
        this.warehousePfb = cc.instantiate(this.warehousePrefab);
        warehouse.addChild(this.warehousePfb);
        this.warehousePfb.getComponent(WarehousePrefab_1.default).setData(uiCfg.warehouselv);
        this.scarecrowPfb = cc.instantiate(this.scarecrowPrefab);
        scarecrow.addChild(this.scarecrowPfb);
        this.scarecrowPfb.getComponent(ScarecrowPrefab_1.default).setData(uiCfg.scarecrowlv);
        var putOnList = PlayerModel_1.default.put_on_crop_list;
        for (var i = 0; i < shelvesList.length; i++) {
            var shelve = cc.instantiate(this.shelvePrefab);
            shelvesList[i].addChild(shelve);
            var src = shelve.getComponent(ShelvePrefab_1.default);
            this.shelvesPfbList.push(src);
            PlayerModel_1.default.sheleveList.push(src);
            var cfg = void 0;
            if (i < putOnList.length) {
                cfg = putOnList[i];
            }
            src.setData(uiCfg.shelvesList[i], i, cfg);
            src.initPoint();
        }
        var fieldList = field.children;
        for (var i = 0; i < fieldList.length; i++) {
            var field_1 = cc.instantiate(this.fieldPrefab);
            fieldList[i].addChild(field_1);
            // field.addChild(field);
            // field.setPosition(fieldList[i].getPosition())
            var src = field_1.getComponent(FieldPrefab_1.default);
            src.setData(i);
            this.fieldPfbList.push(src);
        }
        // MKUtils.setNodeDelay(this.node, 0.1, () => {
        var cashierPrefab = cc.instantiate(this.cashierPrefab);
        cashier.addChild(cashierPrefab);
        this.cashierPfb = cashierPrefab.getComponent(CashierPrefab_1.default);
        this.cashierPfb.setData(uiCfg.cashierlv);
        // })
    };
    //新手引导第一个地块位置
    GameMainView.prototype.getGuidePoint = function () {
        var point = this.fieldPfbList[0].node.convertToWorldSpaceAR(cc.v2(0.0));
        return point;
    };
    GameMainView.prototype.getGuidePoint1 = function () {
        var point = this.fieldPfbList[1].node.convertToWorldSpaceAR(cc.v2(0.0));
        return point;
    };
    GameMainView.prototype.getGuideJsPoint = function () {
        var point = this.btn_ljcs.convertToWorldSpaceAR(cc.v2(0.0));
        return point;
    };
    //新手引导收获
    GameMainView.prototype.getGuideCrop = function () {
        this.fieldPfbList[0].getCrop(1);
    };
    GameMainView.prototype.getRolePoint = function () {
        var p = this.roleList[0].getGuidePoint();
        return p;
    };
    GameMainView.prototype.guideBuy = function () {
        this.roleList[0].guideBuy();
    };
    GameMainView.prototype.guideSell = function () {
        this.roleList[0].onSell();
    };
    GameMainView.prototype.getZlPoint = function () {
        return this.btn_zlgk.convertToWorldSpaceAR(cc.v2(0, 0));
    };
    GameMainView.prototype.guideClickZL = function (callBack) {
        this.guideZl++;
        this.onZlgk();
        if (this.guideZl >= Global_1.default.zl_click_num) {
            this.guideZl = 0;
            if (callBack)
                callBack();
        }
    };
    GameMainView.prototype.getGuideTaskPoint = function () {
        return this.guide_task.convertToWorldSpaceAR(cc.v2(0, 0));
    };
    GameMainView.prototype.guideTaskClick = function () {
        this.initBarrage();
    };
    /**
     * 弹幕
     */
    GameMainView.prototype.initBarrage = function () {
        var _this = this;
        var barrage = this.barragePool.get();
        if (!barrage) {
            barrage = cc.instantiate(this.barragePrefab);
        }
        barrage.getComponent("BarragePrefab").setData();
        UIMananger_1.default.effLayer.addChild(barrage);
        var y1 = cc.winSize.height / 2 - 460;
        var p = cc.v2(1080, y1);
        barrage.setPosition(p);
        barrage.runAction(cc.sequence(cc.moveTo(10, -750, barrage.y), cc.callFunc(function () {
            _this.barragePool.put(barrage);
            _this.initBarrage();
        })));
    };
    GameMainView.prototype.flyBox = function () {
        var _this = this;
        this.box.active = true;
        var w = cc.winSize.width;
        var y = cc.winSize.height / 2;
        this.box.setPosition(700, 0);
        var time = SDKManager_1.default.getFlightTime();
        this.box.runAction(cc.sequence(cc.moveTo(2, w / 4 + w / 8, 0), cc.moveTo(4, (w / 4) - w / 8, 200), cc.moveTo(2, 0, 100), cc.moveTo(4, cc.v2(-w / 4 + 100, 300)), cc.moveTo(2, cc.v2(-w / 4, 100)), cc.moveTo(5, cc.v2(-w / 3 - 50, y / 2)), cc.moveTo(4, cc.v2(-w / 2 - 250, y / 2 + 100)), cc.callFunc(function () {
            _this.scheduleOnce(_this.flyBox, time);
        })));
    };
    GameMainView.prototype.guidComplete = function () {
        this.createRole();
    };
    GameMainView.prototype.addGold = function () {
        PlayerModel_1.default.setGold(1000);
    };
    GameMainView.prototype.addXfzs = function () {
        PlayerModel_1.default.setXfzs(100);
    };
    GameMainView.prototype.hideTest = function () {
        this.btn_test1.active = false;
        this.btn_test2.active = false;
        this.btn_test3.active = false;
    };
    __decorate([
        property(cc.Prefab)
    ], GameMainView.prototype, "roadPrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameMainView.prototype, "wallPrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameMainView.prototype, "cashierPrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameMainView.prototype, "pipePrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameMainView.prototype, "shelvePrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameMainView.prototype, "fieldPrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameMainView.prototype, "fencePrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameMainView.prototype, "warehousePrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameMainView.prototype, "scarecrowPrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameMainView.prototype, "rolePrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], GameMainView.prototype, "barragePrefab", void 0);
    __decorate([
        property(cc.Node)
    ], GameMainView.prototype, "btn_lvUp", void 0);
    __decorate([
        property(cc.Node)
    ], GameMainView.prototype, "btn_task", void 0);
    __decorate([
        property(cc.Node)
    ], GameMainView.prototype, "btn_zlgk", void 0);
    __decorate([
        property(cc.Node)
    ], GameMainView.prototype, "btn_ljcs", void 0);
    __decorate([
        property(cc.Node)
    ], GameMainView.prototype, "btn_order", void 0);
    __decorate([
        property(cc.Node)
    ], GameMainView.prototype, "shouTips", void 0);
    __decorate([
        property(cc.Node)
    ], GameMainView.prototype, "lock", void 0);
    __decorate([
        property(cc.Node)
    ], GameMainView.prototype, "btn_test1", void 0);
    __decorate([
        property(cc.Node)
    ], GameMainView.prototype, "btn_test2", void 0);
    __decorate([
        property(cc.Node)
    ], GameMainView.prototype, "btn_test3", void 0);
    __decorate([
        property(sp.Skeleton)
    ], GameMainView.prototype, "jx_sc", void 0);
    GameMainView = __decorate([
        ccclass
    ], GameMainView);
    return GameMainView;
}(BaseView_1.default));
exports.default = GameMainView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vR2FtZU1haW5WaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDhFQUF5RTtBQUN6RSxvRUFBK0Q7QUFDL0QsOEVBQTBFO0FBQzFFLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDRFQUF1RTtBQUN2RSw0REFBdUQ7QUFDdkQsd0RBQW1EO0FBQ25ELDJEQUFzRDtBQUN0RCw4Q0FBNkU7QUFDN0UsOENBQXlDO0FBQ3pDLDhDQUF5QztBQUN6Qyx1REFBa0Q7QUFDbEQsNkRBQXdEO0FBSXhELGlEQUE0QztBQUM1Qyw2Q0FBd0M7QUFDeEMsNkNBQXdDO0FBQ3hDLDJDQUFzQztBQUN0QywyQ0FBc0M7QUFDdEMsMkNBQXNDO0FBQ3RDLHFEQUFnRDtBQUNoRCwrQ0FBMkQ7QUFDM0QsMkNBQXNDO0FBQ3RDLHFEQUFnRDtBQUcxQyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUEwQyxnQ0FBUTtJQUFsRDtRQUFBLHFFQWt6QkM7UUEveUJHLGdCQUFVLEdBQWMsSUFBSSxDQUFDO1FBRTdCLGdCQUFVLEdBQWMsSUFBSSxDQUFDO1FBRTdCLG1CQUFhLEdBQWMsSUFBSSxDQUFDO1FBRWhDLGdCQUFVLEdBQWMsSUFBSSxDQUFDO1FBRTdCLGtCQUFZLEdBQWMsSUFBSSxDQUFDO1FBRS9CLGlCQUFXLEdBQWMsSUFBSSxDQUFDO1FBRTlCLGlCQUFXLEdBQWMsSUFBSSxDQUFDO1FBRTlCLHFCQUFlLEdBQWMsSUFBSSxDQUFDO1FBRWxDLHFCQUFlLEdBQWMsSUFBSSxDQUFDO1FBRWxDLGdCQUFVLEdBQWMsSUFBSSxDQUFDO1FBRTdCLG1CQUFhLEdBQWMsSUFBSSxDQUFDO1FBR2hDLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFFekIsY0FBUSxHQUFZLElBQUksQ0FBQztRQUV6QixjQUFRLEdBQVksSUFBSSxDQUFDO1FBRXpCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFFekIsZUFBUyxHQUFZLElBQUksQ0FBQztRQUUxQixjQUFRLEdBQVksSUFBSSxDQUFDO1FBRXpCLFVBQUksR0FBWSxJQUFJLENBQUM7UUFHckIsZUFBUyxHQUFZLElBQUksQ0FBQztRQUUxQixlQUFTLEdBQVksSUFBSSxDQUFDO1FBRTFCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFHMUIsV0FBSyxHQUFnQixJQUFJLENBQUM7UUF1QjFCLG9CQUFjLEdBQW1CLEVBQUUsQ0FBQztRQUNwQyxrQkFBWSxHQUFrQixFQUFFLENBQUM7UUFJakMsZ0JBQVUsR0FBRyxFQUFFLENBQUM7UUFDaEIscUJBQWUsR0FBRyxFQUFFLENBQUM7UUFDckIsY0FBUSxHQUFpQixFQUFFLENBQUM7UUFlNUIsa0JBQVksR0FBRyxFQUFFLENBQUM7UUFDbEIsbUJBQWEsR0FBRyxDQUFDLENBQUM7UUFDbEIsc0JBQWdCLEdBQUcsQ0FBQyxDQUFDO1FBQ3JCLGNBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQSx1QkFBdUI7UUFDcEMsZ0JBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQSxZQUFZO1FBQzNCLGdCQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsaUJBQVcsR0FBRyxDQUFDLENBQUMsQ0FBQSxRQUFRO1FBQ3hCLG1CQUFhLEdBQUcsS0FBSyxDQUFDO1FBRXRCLGdCQUFVLEdBQVcsQ0FBQyxDQUFDLENBQUEsVUFBVTtRQUNqQyxpQkFBVyxHQUFXLENBQUMsQ0FBQztRQWdJeEIsT0FBQyxHQUFHLENBQUMsQ0FBQztRQWtDTixTQUFHLEdBQUcsRUFBRSxDQUFDO1FBK0NULFlBQU0sR0FBRyxDQUFDLENBQUM7UUE0YVgsYUFBTyxHQUFHLENBQUMsQ0FBQztRQWlCWixlQUFTLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsaUJBQVcsR0FBZ0IsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7O0lBNERqRCxDQUFDO0lBenNCRyw2QkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBRXZDLElBQUksQ0FBQyxVQUFVLEdBQUcsZUFBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFekMseUJBQWUsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRTlDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUVuQixtQ0FBbUM7SUFHdkMsQ0FBQztJQUVTLDZCQUFNLEdBQWhCLFVBQWlCLEVBQVU7UUFFdkIsSUFBSSxxQkFBVyxDQUFDLFNBQVMsSUFBSSxDQUFDO1lBQUUsT0FBTztRQUN2QyxJQUFJLENBQUMsV0FBVyxJQUFJLEVBQUUsQ0FBQztRQUN2QixJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxFQUFFO1lBQ3BCLCtDQUErQztZQUMvQyw4QkFBOEI7WUFDOUIseUJBQXlCO1lBQ3pCLDRCQUE0QjtZQUM1QixJQUFJO1NBQ1A7YUFBTTtZQUNILElBQUksSUFBSSxDQUFDLFdBQVcsR0FBRyxxQkFBVyxDQUFDLGVBQWUsRUFBRSxFQUFFO2dCQUNsRCxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7Z0JBQ2xCLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO2FBQ3hCO1NBQ0o7SUFDTCxDQUFDO0lBQ0QsZ0NBQVMsR0FBVDtRQUNJLGtDQUFrQztRQUNsQyxnQ0FBZ0M7UUFDaEMsK0JBQStCO1FBQy9CLHlCQUF5QjtRQUN6QiwyREFBMkQ7UUFDM0QsMkNBQTJDO1FBQzNDLGtFQUFrRTtRQUNsRSxnQ0FBZ0M7UUFDaEMscUJBQXFCO1FBQ3JCLFlBQVk7UUFDWixRQUFRO1FBQ1Isa0JBQWtCO1FBQ2xCLHVDQUF1QztRQUN2QyxnRUFBZ0U7UUFDaEUscURBQXFEO1FBQ3JELHlEQUF5RDtRQUN6RCxRQUFRO1FBQ1IsSUFBSTtJQUNSLENBQUM7SUFFRCw0QkFBSyxHQUFMO1FBQUEsaUJBNEJDO1FBMUJHLDBDQUEwQztRQUMxQyxJQUFJLHFCQUFXLENBQUMsVUFBVTtZQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUM5Qyw2Q0FBNkM7UUFDN0MseUJBQXlCO1FBQ3pCLEtBQUs7UUFFTCxJQUFJLENBQUMsVUFBVSxHQUFHLHFCQUFXLENBQUMsUUFBUSxFQUFFLENBQUM7UUFFekMsSUFBSSxHQUFHLEdBQUcsdUJBQWEsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQSxVQUFVO1FBRXpELElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxHQUFHLEVBQUU7WUFDeEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7WUFDbEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7WUFDcEIsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQ3RCO1FBRUQsaUJBQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUU7WUFDL0IsS0FBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ25CLEtBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNqQixLQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDbEIsQ0FBQyxDQUFDLENBQUE7UUFDRixxQkFBcUI7UUFDckIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBRWxCLHlCQUFlLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQTtJQUN0RCxDQUFDO0lBQ0QsK0JBQVEsR0FBUjtRQUNJLHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbEQsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNyRCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbEQsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3BELHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMzRCxtREFBbUQ7UUFDbkQsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xELHNCQUFZLENBQUMsZ0JBQWdCLENBQUMscUJBQVMsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0RSxzQkFBWSxDQUFDLGdCQUFnQixDQUFDLHFCQUFTLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEYsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUUzRixzQkFBWSxDQUFDLGdCQUFnQixDQUFDLHFCQUFTLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFL0Usc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUMxRixzQkFBWSxDQUFDLGdCQUFnQixDQUFDLHFCQUFTLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxDQUFBO1FBRTVGLHNCQUFZLENBQUMsZ0JBQWdCLENBQUMscUJBQVMsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM1RSxxRkFBcUY7UUFFckYsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDakYsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRWxFLHNCQUFZLENBQUMsZ0JBQWdCLENBQUMscUJBQVMsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU1RSxzQkFBWSxDQUFDLGdCQUFnQixDQUFDLHFCQUFTLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFNUUsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdFLHNCQUFZLENBQUMsZ0JBQWdCLENBQUMscUJBQVMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUV0RSxzQkFBWSxDQUFDLGdCQUFnQixDQUFDLHFCQUFTLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDckYsQ0FBQztJQUNELDZCQUFNLEdBQU47UUFDSSxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xCLG9CQUFVLENBQUMsU0FBUyxDQUFDLGdCQUFNLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsOEJBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFFN0UsQ0FBQztJQUNELDZCQUFNLEdBQU47UUFDSSxvQkFBVSxDQUFDLFNBQVMsQ0FBQyxnQkFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3RDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEIsc0ZBQXNGO0lBQzFGLENBQUM7SUFFRCxNQUFNO0lBQ04sNkJBQU0sR0FBTjtRQUNJLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDO1lBQUUsT0FBTztRQUMvQixJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxFQUFFO1lBRXBCLHFCQUFxQjtZQUNyQixnREFBZ0Q7WUFDaEQsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ2xCLHlFQUF5RTtZQUN6RSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDaEIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ2xCLHFCQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUN0Qyx3REFBd0Q7WUFDeEQsSUFBSSxHQUFHLEdBQUcsdUJBQWEsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQSxVQUFVO1lBR3pELElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO1lBQ3BCLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxHQUFHLEVBQUU7Z0JBQ3hCLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO2dCQUNsQixJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztnQkFDcEIsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO2FBQ3RCO1lBQ0QsSUFBSTtTQUNQO2FBQU07WUFDSCxRQUFRO1lBQ1Isb0JBQVUsQ0FBQyxTQUFTLENBQUMsZ0JBQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUMxQztRQUVELElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7UUFFMUIsWUFBWTtJQUNoQixDQUFDO0lBRUQsTUFBTTtJQUNOLCtCQUFRLEdBQVI7UUFDSSxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFdEMsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDeEMsRUFBRSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQzFCLHFCQUFxQjtRQUNyQixFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUNYLEVBQUUsQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDO1FBQ2pCLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDO1lBQzFFLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNqQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDUixDQUFDO0lBQ0QsU0FBUztJQUNULG9DQUFhLEdBQWI7UUFDSSxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkIsaUJBQU8sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDNUIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQztRQUN2QixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztRQUMxQixJQUFJLENBQUMsTUFBTSxHQUFHLHVCQUFhLENBQUMsV0FBVyxDQUFDLGlCQUFRLENBQUMsSUFBSSxFQUFFLHFCQUFXLENBQUMsV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQ2pHLHFCQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBQ0QsTUFBTTtJQUNOLGtDQUFXLEdBQVg7UUFBQSxpQkFpQkM7UUFoQkcsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FDMUMsQ0FBQyxJQUFJLENBQUM7WUFDSCxLQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7WUFDekIsS0FBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ2xCLEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNuQixLQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFaEIsSUFBSSxLQUFJLENBQUMsV0FBVyxJQUFJLEtBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ2pDLEtBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO2dCQUNsQixLQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQztnQkFDckIsS0FBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7Z0JBQzNCLEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQzthQUN0QjtpQkFBTTtnQkFDSCxLQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7YUFDdEI7UUFDTCxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNmLENBQUM7SUFLRCxrQ0FBVyxHQUFYO1FBQ0ksSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNoQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ2hDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUM3QixJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxFQUFFO1lBQ3BCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDaEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUMzQixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7U0FDL0I7YUFBTSxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxFQUFFO1lBRTNCLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUN2QixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDMUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsS0FBSyxHQUFHLHVCQUFhLENBQUMsV0FBVyxDQUFDLGlCQUFRLENBQUMsSUFBSSxFQUFFLHFCQUFXLENBQUMsV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFBO1NBQ25IO2FBQU07WUFDSCxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDOUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUMvQixJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUNqQyxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDdkIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQzdCO0lBQ0wsQ0FBQztJQUNELE1BQU07SUFDTiw2QkFBTSxHQUFOO1FBQUEsaUJBY0M7UUFiRyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BCLElBQUkscUJBQVcsQ0FBQyxTQUFTLElBQUksQ0FBQyxFQUFFO1lBQzVCLHNCQUFZLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsVUFBVSxDQUFDLENBQUE7WUFDdkMsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDeEIsaUJBQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUU7Z0JBQy9CLHNCQUFZLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsWUFBWSxDQUFDLENBQUE7Z0JBQ3pDLEtBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUM3QixDQUFDLENBQUMsQ0FBQTtTQUNMO2FBQU07WUFDSCxvQkFBVSxDQUFDLFNBQVMsQ0FBQyxnQkFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1NBQ3pDO0lBRUwsQ0FBQztJQUNELDZCQUFNLEdBQU4sVUFBTyxJQUFJO1FBQ1AsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQzVCLENBQUM7SUFDRCxJQUFJO0lBQ0osOEJBQU8sR0FBUDtRQUNJLG9CQUFVLENBQUMsU0FBUyxDQUFDLGdCQUFNLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUNELGtDQUFXLEdBQVg7UUFDSSxvQkFBVSxDQUFDLFNBQVMsQ0FBQyxnQkFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFDRCxRQUFRO0lBQ1IsZ0NBQVMsR0FBVDtRQUFBLGlCQU1DO1FBTEcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDeEIsb0JBQVUsQ0FBQyxTQUFTLENBQUMsZ0JBQU0sQ0FBQyxVQUFVLEVBQUUsSUFBSSxFQUFFO1lBQzFDLEtBQUksQ0FBQyxZQUFZLENBQUMsS0FBSSxDQUFDLE1BQU0sRUFBRSxvQkFBVSxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUM7UUFDL0QsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0QsUUFBUTtJQUNSLGlDQUFVLEdBQVY7UUFFSSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLENBQUMsRUFBRTtZQUN6QixJQUFJLEVBQUUsR0FBRyx1QkFBYSxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ3pDLGlCQUFPLENBQUMsU0FBUyxDQUFDLHdCQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcscUJBQVcsQ0FBQyxPQUFPLDBDQUFRLENBQUMsQ0FBQTtZQUM3RCxPQUFPO1NBQ1Y7UUFFRCxvQkFBVSxDQUFDLFNBQVMsQ0FBQyxnQkFBTSxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLDhCQUFZLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzdFLENBQUM7SUFDRCxlQUFlO0lBQ2YsOEJBQU8sR0FBUDtRQUNJLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQ3pELEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUNsQixFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFDckIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQ2xCLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFDUiw0QkFBNEI7UUFDaEMsQ0FBQyxDQUFDLENBQ0wsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUNELFlBQVk7SUFDWixtQ0FBWSxHQUFaO1FBQUEsaUJBVUM7UUFURyxpQkFBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRTtZQUMvQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2pELElBQUksTUFBTSxHQUFHLEtBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BDLElBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsc0JBQVksQ0FBQyxDQUFDO2dCQUMvQyxJQUFJLE1BQU0sQ0FBQyxVQUFVLEdBQUcsQ0FBQyxFQUFFO29CQUN2QixNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7aUJBQ3BCO2FBQ0o7UUFDTCxDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFDRCxTQUFTO0lBQ1Qsd0NBQWlCLEdBQWpCO1FBQ0kscUJBQVcsQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUM5QixJQUFJLFNBQVMsR0FBRyxxQkFBVyxDQUFDLGdCQUFnQixDQUFDO1FBRTdDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNqRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLElBQUksR0FBRyxTQUFhLENBQUM7WUFDckIsSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRTtnQkFDdEIsR0FBRyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUN0QjtZQUNELE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUE7U0FDeEI7SUFDTCxDQUFDO0lBRUQsaUNBQVUsR0FBVjtRQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUMxQixJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxJQUFJLENBQUM7WUFBRSxlQUFLLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQzdGLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGlCQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDOUMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQzdDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pCLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUN0QyxJQUFJLHFCQUFXLENBQUMsU0FBUyxJQUFJLENBQUMsRUFBRTtZQUM1QixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUNmLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbkI7YUFBTTtZQUNILGtCQUFrQjtZQUNsQixvQkFBb0I7WUFDcEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNyQjtRQUNELElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLFlBQVksRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFL0MscUJBQVcsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ2hDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUE7SUFFMUMsQ0FBQztJQUVELDhCQUFPLEdBQVA7UUFDSSxJQUFJLElBQUksR0FBWSx5QkFBZSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDaEUsSUFBSSxRQUFRLEdBQWUsSUFBSSxDQUFDLFlBQVksQ0FBQyxvQkFBVSxDQUFDLENBQUM7UUFDekQsT0FBTyxRQUFRLENBQUM7SUFDcEIsQ0FBQztJQUNEOztPQUVHO0lBQ0gsa0NBQVcsR0FBWDtRQUNJLElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFO1lBQUUsT0FBTztRQUNyQyxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFDYixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDakQsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFO2dCQUNiLGtDQUFrQztnQkFDbEMsK0RBQStEO2dCQUMvRCx5QkFBeUI7Z0JBQ3pCLFFBQVE7Z0JBQ1IsS0FBSztnQkFDTCxTQUFTO2dCQUNULElBQUksR0FBRyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUMsT0FBTyxHQUFHLHVCQUFhLENBQUMsVUFBVSxFQUFFLEVBQUU7b0JBQ3hELEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7aUJBQ2pCO2dCQUNELElBQUk7YUFDUDtTQUNKO1FBQ0QsSUFBSSxHQUFHLENBQUMsTUFBTSxJQUFJLENBQUM7WUFBRSxPQUFPLElBQUksQ0FBQztRQUVqQyxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLFVBQUMsSUFBSTtZQUN2QixPQUFPLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQy9CLENBQUMsQ0FBQyxDQUFBO1FBQ0YsSUFBSSxHQUFHLENBQUM7UUFDUixJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ2pCLEdBQUcsR0FBRyxlQUFLLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3BDO2FBQU07WUFDSCxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2hCO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDO0lBQ0QsZUFBZTtJQUNmLDJCQUEyQjtJQUMzQix1REFBdUQ7SUFDdkQsZ0NBQWdDO0lBQ2hDLFNBQVM7SUFDVCx3Q0FBd0M7SUFDeEMsbUJBQW1CO0lBQ25CLElBQUk7SUFDSixZQUFZO0lBQ1osb0NBQWEsR0FBYjtRQUNJLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLFVBQUMsSUFBSTtZQUN0QyxPQUFPLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxDQUFDO1FBQ2hDLENBQUMsQ0FBQyxDQUFBO1FBQ0YsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUM7WUFBRSxPQUFPLEtBQUssQ0FBQztRQUNqQyxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0Qsb0JBQW9CO0lBQ3BCLHdDQUFpQixHQUFqQjtRQUNJLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLFVBQUMsSUFBSTtZQUN0QyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLHVCQUFhLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDbkQsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDdEIsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO1FBQ0YsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUM7WUFBRSxPQUFPLEtBQUssQ0FBQztRQUNqQyxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0Q7OztPQUdHO0lBQ0gsNkJBQU0sR0FBTixVQUFPLElBQUk7UUFBWCxpQkFxQkM7UUFwQkcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUM5QixJQUFJLENBQUMsR0FBRyxlQUFLLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDM0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9CLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEVBQUU7WUFDaEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDO1NBQ2xDO2FBQ0k7WUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxVQUFVLENBQUM7U0FDckM7UUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLFVBQUMsVUFBVSxFQUFFLFNBQVM7WUFDakQsS0FBSSxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNyQyxLQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQy9CLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNqQyxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFO2dCQUNoQixzQkFBWSxDQUFDLElBQUksQ0FBQyxxQkFBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ3RDO2lCQUFNO2dCQUNILHNCQUFZLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDekM7UUFFTCxDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRCw4QkFBTyxHQUFQLFVBQVEsRUFBRTtRQUNOLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLFVBQUMsS0FBSyxFQUFFLEtBQUs7WUFDNUMsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDO1FBQy9ELENBQUMsQ0FBQyxDQUFBO1FBR0YsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUNoQixJQUFJLEdBQUcsR0FBRyx1QkFBYSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN4QyxpQkFBTyxDQUFDLFNBQVMsQ0FBSSxHQUFHLENBQUMsSUFBSSxvQ0FBUSxDQUFDLENBQUE7WUFDdEMsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQTtZQUMzQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQ3RCO2FBQ0k7WUFDRCxpQkFBTyxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQTtTQUNuQztJQUNMLENBQUM7SUFFRCxRQUFRO0lBQ1IsMENBQW1CLEdBQW5CLFVBQW9CLEtBQUs7UUFDckIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN4QyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUNELFFBQVE7SUFDUix5Q0FBa0IsR0FBbEIsVUFBbUIsS0FBSztRQUNwQixJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQzFDLENBQUM7SUFDRCxRQUFRO0lBQ1IsaUNBQVUsR0FBVixVQUFXLElBQUk7UUFDWCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM5QyxLQUFLLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztJQUN4QixDQUFDO0lBQ0QsUUFBUTtJQUNSLGlDQUFVLEdBQVY7UUFDSSxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQzdCLElBQUksRUFBRSxHQUFHLHVCQUFhLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDekMsSUFBSSxxQkFBVyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFO1lBQy9CLHlCQUFlLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDO1lBQ3pDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLDBGQUF1RCxDQUFBO1NBQy9FO2FBQU07WUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxxQkFBVyxDQUFDLE9BQU8sR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQztZQUN0RCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRywwREFBd0MsRUFBRSxDQUFDLEdBQUcsR0FBRyxxQkFBVyxDQUFDLE9BQU8sMEZBQW1ELENBQUE7U0FDL0k7UUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxxQkFBVyxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDO0lBQ3ZELENBQUM7SUFFRCx1QkFBdUI7SUFDdkIsK0JBQStCO0lBQy9CLHFDQUFxQztJQUNyQyxpREFBaUQ7SUFDakQsZUFBZTtJQUNmLHVDQUF1QztJQUN2QyxzQ0FBc0M7SUFDdEMsUUFBUTtJQUNSLElBQUk7SUFFSixpQkFBaUI7SUFDakIsV0FBVztJQUNYLG9DQUFhLEdBQWI7UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2pELElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUUzRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRXhELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7UUFBQSxDQUFDO1FBQzlFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUFBLENBQUM7UUFDckUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQUEsQ0FBQztRQUc3RSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRXpELElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUMvRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFOUUsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDNUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDNUMsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsU0FB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RSxDQUFDLElBQUksQ0FBQzttREFDUTtJQUUxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO21EQUNRO0lBRzFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7K0NBQ0k7SUFoRFQsWUFBWTtRQURoQyxPQUFPO09BQ2EsWUFBWSxDQWt6QmhDO0lBQUQsbUJBQUM7Q0FsekJELEFBa3pCQyxDQWx6QnlDLGtCQUFRLEdBa3pCakQ7a0JBbHpCb0IsWUFBWSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKU0hlbHBlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2hlbHBlci9KU0hlbHBlclwiO1xyXG5pbXBvcnQgR2FtZVBvb2xNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9HYW1lUG9vbE1hbmFnZXJcIjtcclxuaW1wb3J0IFNES01hbmFnZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1NES01hbmFnZXJcIjtcclxuaW1wb3J0IHsgVUlFZmZlY3RUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJRWZmZWN0TWFuYWdlclwiO1xyXG5pbXBvcnQgVUlNYW5hbmdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlNYW5hbmdlclwiO1xyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50VHlwZVwiO1xyXG5pbXBvcnQgQ29tcG9uZW50SGVscGVyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvQ29tcG9uZW50SGVscGVyXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9VdGlsc1wiO1xyXG5pbXBvcnQgQmFzZVZpZXcgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay91aS9CYXNlVmlld1wiO1xyXG5pbXBvcnQgeyBDVVJSRU5DWSwgQ1VSUkVOQ1lfRkxZX0NPVU5ULCBwcm9wVHlwZSB9IGZyb20gXCIuLi8uLi9jb25zdHMvQ0NvbnN0XCI7XHJcbmltcG9ydCBHbG9iYWwgZnJvbSBcIi4uLy4uL2NvbnN0cy9HbG9iYWxcIjtcclxuaW1wb3J0IFVJVHlwZSBmcm9tIFwiLi4vLi4vY29uc3RzL1VJVHlwZVwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCBDb25maWdNYW5hZ2VyIGZyb20gXCIuLi8uLi9tYW5hZ2VyL0NvbmZpZ01hbmFnZXJcIjtcclxuaW1wb3J0IEVmZmVjdE1hbmFnZXIgZnJvbSBcIi4uLy4uL21hbmFnZXIvRWZmZWN0TWFuYWdlclwiO1xyXG5pbXBvcnQgTWVzc2FnZUNlbnRlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9NZXNzYWdlQ2VudGVyXCI7XHJcbmltcG9ydCB7IFBvcFR5cGUgfSBmcm9tIFwiLi4vcG9wVmlldy9Qb3BWaWV3MVwiO1xyXG5pbXBvcnQgQ2FzaGllclByZWZhYiBmcm9tIFwiLi9DYXNoaWVyUHJlZmFiXCI7XHJcbmltcG9ydCBGZW5jZVByZWZhYiBmcm9tIFwiLi9GZW5jZVByZWZhYlwiO1xyXG5pbXBvcnQgRmllbGRQcmVmYWIgZnJvbSBcIi4vRmllbGRQcmVmYWJcIjtcclxuaW1wb3J0IFBpcGVQcmVmYWIgZnJvbSBcIi4vUGlwZVByZWZhYlwiO1xyXG5pbXBvcnQgUm9hZFByZWZhYiBmcm9tIFwiLi9Sb2FkUHJlZmFiXCI7XHJcbmltcG9ydCBSb2xlUHJlZmFiIGZyb20gXCIuL1JvbGVQcmVmYWJcIjtcclxuaW1wb3J0IFNjYXJlY3Jvd1ByZWZhYiBmcm9tIFwiLi9TY2FyZWNyb3dQcmVmYWJcIjtcclxuaW1wb3J0IFNoZWx2ZVByZWZhYiwgeyBwdXRPbkNvbmZpZyB9IGZyb20gXCIuL1NoZWx2ZVByZWZhYlwiO1xyXG5pbXBvcnQgV2FsbFByZWZhYiBmcm9tIFwiLi9XYWxsUHJlZmFiXCI7XHJcbmltcG9ydCBXYXJlaG91c2VQcmVmYWIgZnJvbSBcIi4vV2FyZWhvdXNlUHJlZmFiXCI7XHJcblxyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVNYWluVmlldyBleHRlbmRzIEJhc2VWaWV3IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgcm9hZFByZWZhYjogY2MuUHJlZmFiID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICB3YWxsUHJlZmFiOiBjYy5QcmVmYWIgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIGNhc2hpZXJQcmVmYWI6IGNjLlByZWZhYiA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgcGlwZVByZWZhYjogY2MuUHJlZmFiID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBzaGVsdmVQcmVmYWI6IGNjLlByZWZhYiA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgZmllbGRQcmVmYWI6IGNjLlByZWZhYiA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgZmVuY2VQcmVmYWI6IGNjLlByZWZhYiA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgd2FyZWhvdXNlUHJlZmFiOiBjYy5QcmVmYWIgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHNjYXJlY3Jvd1ByZWZhYjogY2MuUHJlZmFiID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICByb2xlUHJlZmFiOiBjYy5QcmVmYWIgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIGJhcnJhZ2VQcmVmYWI6IGNjLlByZWZhYiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fbHZVcDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl90YXNrOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX3psZ2s6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fbGpjczogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9vcmRlcjogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHNob3VUaXBzOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgbG9jazogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fdGVzdDE6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fdGVzdDI6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fdGVzdDM6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShzcC5Ta2VsZXRvbilcclxuICAgIGp4X3NjOiBzcC5Ta2VsZXRvbiA9IG51bGw7XHJcblxyXG4gICAgLy8gcHJpdmF0ZSByb2FkOiBjYy5Ob2RlOy8v6YGT6LevXHJcbiAgICAvLyBwcml2YXRlIHdhbGw6IGNjLk5vZGU7Ly/loplcclxuICAgIC8vIHByaXZhdGUgY2FzaGllcjogY2MuTm9kZTsvL+aUtumTtuWPsFxyXG4gICAgLy8gcHJpdmF0ZSBwaXBlOiBjYy5Ob2RlOy8v5rC0566hXHJcbiAgICAvLyBwcml2YXRlIHNoZWx2ZXNHcDogY2MuTm9kZTsvL+i0p+aetlxyXG4gICAgLy8gcHJpdmF0ZSBzaGVsdmVzTGlzdDogY2MuTm9kZVtdOy8v6LSn5p625YiX6KGoXHJcbiAgICAvLyBwcml2YXRlIGZpZWxkOiBjYy5Ob2RlOy8v6I+c5ZywXHJcbiAgICAvLyBwcml2YXRlIGZpZWxkTGlzdDogY2MuTm9kZVtdOy8v6I+c5Zyw5YiX6KGoXHJcbiAgICAvLyBwcml2YXRlIGZlbmNlOiBjYy5Ob2RlOy8v6I+c5Zyw5Zu05qCPXHJcbiAgICAvLyBwcml2YXRlIHdhcmVob3VzZTogY2MuTm9kZTsvL+S7k+W6k1xyXG4gICAgLy8gcHJpdmF0ZSBzY2FyZWNyb3c6IGNjLk5vZGU7Ly/oo4XppbDnqLvojYnkurpcclxuICAgIGFkZFNwZWVkVGlwczogY2MuTm9kZTtcclxuXHJcbiAgICByb2xlTm9kZTogY2MuTm9kZTtcclxuICAgIGJvdHRvbTogY2MuTm9kZTtcclxuXHJcbiAgICByb2xlUGZiOiBjYy5Ob2RlO1xyXG4gICAgcm9hZFBmYjogY2MuTm9kZTtcclxuICAgIHdhbGxQZmI6IGNjLk5vZGU7XHJcbiAgICBjYXNoaWVyUGZiOiBDYXNoaWVyUHJlZmFiO1xyXG4gICAgcGlwZVBmYjogY2MuTm9kZTtcclxuICAgIHNoZWx2ZXNQZmJMaXN0OiBTaGVsdmVQcmVmYWJbXSA9IFtdO1xyXG4gICAgZmllbGRQZmJMaXN0OiBGaWVsZFByZWZhYltdID0gW107XHJcbiAgICBmZW5jZVBmYjogY2MuTm9kZTtcclxuICAgIHdhcmVob3VzZVBmYjogY2MuTm9kZTtcclxuICAgIHNjYXJlY3Jvd1BmYjogY2MuTm9kZTtcclxuICAgIHJvbGVJZExpc3QgPSBbXTtcclxuICAgIGNsb25lUm9sZUlkTGlzdCA9IFtdO1xyXG4gICAgcm9sZUxpc3Q6IFJvbGVQcmVmYWJbXSA9IFtdO1xyXG4gICAgYm94OiBjYy5Ob2RlO1xyXG5cclxuICAgIGhraGI6IGNjLk5vZGU7XHJcbiAgICBoa0ljb246IGNjLk5vZGU7XHJcbiAgICBoa0Rlc2M6IGNjLlJpY2hUZXh0O1xyXG4gICAgaGtMYjogY2MuTGFiZWw7XHJcbiAgICBoa1BybzogY2MuUHJvZ3Jlc3NCYXI7XHJcblxyXG4gICAgdGFza0hkOiBjYy5Ob2RlO1xyXG4gICAgdGFza0hkTGFiOiBjYy5MYWJlbDtcclxuXHJcbiAgICB6bF9hZGRPbmU6IGNjLk5vZGU7XHJcbiAgICB6bDogY2MuTm9kZTtcclxuICAgIHpsX29uZTogY2MuTm9kZTtcclxuICAgIHpsX2d1aWRlVGltZSA9IDIwO1xyXG4gICAgemxfZ3VpZGVTdGF0ZSA9IDA7XHJcbiAgICB6bF9ndWlkZUludGVydmFsID0gMDtcclxuICAgIHpsX3N0YXRlID0gMDsvLzDvvJrmiYvliqjmi5vmj73vvIwx77ya6Ieq5Yqo5oub5o+977yMMu+8muiHquWKqOaLm+aPveS4rVxyXG4gICAgemxDbGNpa051bSA9IDA7Ly/mi5vmj73pob7lrqLmjInpkq7ngrnlh7vmrKHmlbBcclxuICAgIHpsX3JvbGVOdW0gPSAwO1xyXG4gICAgemxfYXV0b19udW0gPSAwOy8v6Ieq5Yqo5oub5o+95Lq65pWwXHJcbiAgICBpc0F1dG9Tb2xpY2l0ID0gZmFsc2U7XHJcblxyXG4gICAgY3JlYXRlVGltZTogbnVtYmVyID0gMzsvL+iHquWKqOaLm+aPveaXtumXtOmXtOmalFxyXG4gICAgY3VycmVudFRpbWU6IG51bWJlciA9IDA7XHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIHRoaXMuX2luaXRDb21wb25ldCgpO1xyXG4gICAgICAgIHRoaXMuYm90dG9tLnkgPSAtY2Mud2luU2l6ZS5oZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICB0aGlzLnJvbGVJZExpc3QgPSBVdGlscy5jcmVhdGVBcnIoMSwgMTEpO1xyXG5cclxuICAgICAgICBHYW1lUG9vbE1hbmFnZXIuaW5pdFJvbGVQb29sKHRoaXMucm9sZVByZWZhYik7XHJcblxyXG4gICAgICAgIHRoaXMuY2hhbmdlWmxCdG4oKTtcclxuXHJcbiAgICAgICAgLy8gU0RLTWFuYWdlci5nZXRUYXNrUmV3YXJkQ291bnQoKTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCB1cGRhdGUoZHQ6IG51bWJlcik6IHZvaWQge1xyXG5cclxuICAgICAgICBpZiAoUGxheWVyTW9kZWwuZ3VpZGVTdGVwID49IDApIHJldHVybjtcclxuICAgICAgICB0aGlzLmN1cnJlbnRUaW1lICs9IGR0O1xyXG4gICAgICAgIGlmICh0aGlzLnpsX3N0YXRlID09IDIpIHtcclxuICAgICAgICAgICAgLy8gdGhpcy56bF9wcm8ucHJvZ3Jlc3MgPSB0aGlzLmN1cnJlbnRUaW1lIC8gMjtcclxuICAgICAgICAgICAgLy8gaWYgKHRoaXMuY3VycmVudFRpbWUgPiAyKSB7XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLmNyZWF0ZVJvbGUoKTtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMuY3VycmVudFRpbWUgPSAwO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFRpbWUgPiBQbGF5ZXJNb2RlbC5nZXRBdXRvUm9sZVRpbWUoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVSb2xlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUaW1lID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZpbGVkVGlwcygpIHtcclxuICAgICAgICAvLyB0aGlzLnNob3VUaXBzLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgLy8gdGhpcy5zaG91VGlwcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAvLyBpZiAoIXRoaXMuc2hvdVRpcHMuYWN0aXZlKSB7XHJcbiAgICAgICAgLy8gICAgIGxldCBub2RlOiBjYy5Ob2RlO1xyXG4gICAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmllbGRQZmJMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBsZXQgaXRlbSA9IHRoaXMuZmllbGRQZmJMaXN0W2ldO1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKGl0ZW0uY29uZmlnLmNyb3BJZCA9PSAwICYmIGl0ZW0uY29uZmlnLnN0YXRlID4gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIG5vZGUgPSBpdGVtLm5vZGU7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMuc2hvdVRpcHMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAvLyAgICAgICAgIGxldCBwID0gVXRpbHMuY29udmVydE5vZGVUb05vZGVTcGFjZShub2RlLCB0aGlzLm5vZGUpXHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnNob3VUaXBzLnNldFBvc2l0aW9uKHAueCwgcC55ICsgMTUwKTtcclxuICAgICAgICAvLyAgICAgICAgIENvbXBvbmVudEhlbHBlci5zZXRIZWFydEFjdGlvbih0aGlzLnNob3VUaXBzKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpIHtcclxuXHJcbiAgICAgICAgLy8gaWYgKFBsYXllck1vZGVsLmd1aWRlU3RlcCA+PSAwKSByZXR1cm47XHJcbiAgICAgICAgaWYgKFBsYXllck1vZGVsLmd1aWRlU3RhdGUpIHRoaXMuY3JlYXRlUm9sZSgpO1xyXG4gICAgICAgIC8vIE1LVXRpbHMuc2V0Tm9kZURlbGF5KHRoaXMubm9kZSwgMiwgKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICB0aGlzLmNyZWF0ZVJvbGUoKTtcclxuICAgICAgICAvLyB9KVxyXG5cclxuICAgICAgICB0aGlzLnpsX3JvbGVOdW0gPSBQbGF5ZXJNb2RlbC5nZXRabE51bSgpO1xyXG5cclxuICAgICAgICBsZXQgbWF4ID0gQ29uZmlnTWFuYWdlci5nZXRDdXJyZW50THZDZmcoKS5zZHpsOy8v5Y2V5qyh5pyA5aSn5oub5o+95Lq65pWwXHJcblxyXG4gICAgICAgIHRoaXMuemxDbGNpa051bSA9IDA7XHJcbiAgICAgICAgaWYgKHRoaXMuemxfcm9sZU51bSA+PSBtYXgpIHtcclxuICAgICAgICAgICAgdGhpcy56bF9zdGF0ZSA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMuemxfcm9sZU51bSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlWmxCdG4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIE1LVXRpbHMuc2V0Tm9kZURlbGF5KHRoaXMubm9kZSwgMiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRCYXJyYWdlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsZWRUaXBzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmx5Qm94KCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvLyB0aGlzLnRlc3RFZmZlY3QoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUhrSGIoKTtcclxuXHJcbiAgICAgICAgQ29tcG9uZW50SGVscGVyLnNldFVwRG93bkFjdGlvbih0aGlzLmFkZFNwZWVkVGlwcylcclxuICAgIH1cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9sdlVwLCB0aGlzLm9uTHZVcCwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX3Rhc2ssIHRoaXMub25UYXNrLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5femxnaywgdGhpcy5vblpsZ2ssIHRoaXMsIDApO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9samNzLCB0aGlzLm9uTGpjcywgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX29yZGVyLCB0aGlzLm9uT3JkZXIsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLndhcmVob3VzZVBmYiwgdGhpcy5vblNob3dIb3VzZSwgdGhpcyk7XHJcbiAgICAgICAgLy8gRXZlbnREaXNwYXRoLm9uKHRoaXMuYm94LCB0aGlzLm9uT3BlbkJveCwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuaGtoYiwgdGhpcy5vbk9wZW5Ia0hiLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ1JPUF9HRVQsIHRoaXMuZ2V0Q3JvcCwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlVQREFURV9TSEVMVkUsIHRoaXMudXBkYXRlU2hlbHZlLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVVBEQVRFX1NIRUxWRV9PUkRFUiwgdGhpcy5vcmRlclVwZGF0ZVNoZWx2ZSwgdGhpcyk7XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5PTkVfU09MSUNJVCwgdGhpcy5jcmVhdGVGaWZ0ZWVuLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkZJRUxEX0xFVkVMX1VQREFURSwgdGhpcy5jaGFuZ2VGaWVsZEJ5SW5kZXgsIHRoaXMpXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlNIRUxWRV9MRVZFTF9VUERBVEUsIHRoaXMuY2hhbmdlU2hlbHZlQnlJbmRleCwgdGhpcylcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRV9QSVBFLCB0aGlzLmNoYW5nZVBpcGUsIHRoaXMpO1xyXG4gICAgICAgIC8vIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5UQVNLX0lORk9fQ09VTlQsIHRoaXMudXBkYXRlVGFza0hkLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlVQREFURV9GSUVMRF9USVBTLCB0aGlzLmZpbGVkVGlwcywgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkpYX1NDLCB0aGlzLmp4T3JTYywgdGhpcyk7XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DUk9QX1BMQU5UX0dFVCwgdGhpcy5vblBsYW50LCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkhLSEJfVVBEQVRFLCB0aGlzLnVwZGF0ZUhrSGIsIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFX1dBTEwsIHRoaXMuY2hhbmdlWmxCdG4sIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuTUFJTl9MT0NLLCB0aGlzLm9uTG9jaywgdGhpcyk7XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5HVUlERV9DT01QTEVURSwgdGhpcy5ndWlkQ29tcGxldGUsIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgb25MdlVwKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi5Y2H57qnXCIpO1xyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5MdlVwVmlldywgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCAxKTtcclxuXHJcbiAgICB9XHJcbiAgICBvblRhc2soKSB7XHJcbiAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLlRhc2tWaWV3KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuS7u+WKoVwiKTtcclxuICAgICAgICAvLyBQbGF5ZXJNb2RlbC5zZXRBY2NlcHREZWdyZWUoMTAsIGNjLnYyKGNjLndpblNpemUud2lkdGggLyAyLCBjYy53aW5TaXplLmhlaWdodCAvIDIpKVxyXG4gICAgfVxyXG4gICAgbiA9IDE7XHJcbiAgICAvL+aLm+aPvemhvuWuolxyXG4gICAgb25abGdrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnpsX3N0YXRlID09IDIpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy56bF9zdGF0ZSA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAvLyB0aGlzLnpsQ2xjaWtOdW0rKztcclxuICAgICAgICAgICAgLy8gaWYgKHRoaXMuemxDbGNpa051bSA+PSBHbG9iYWwuemxfY2xpY2tfbnVtKSB7XHJcbiAgICAgICAgICAgIHRoaXMuemxfcm9sZU51bSsrO1xyXG4gICAgICAgICAgICAvLyBTREtNYW5hZ2VyLm9uRXZlbnQoR2xvYmFsLkVWRU5UX0FDVElPTi5jbGllbnRfc29saWNpdCwgeyBcImNvdW50XCI6IDEgfSlcclxuICAgICAgICAgICAgdGhpcy5hZGRPbmVMYigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJvbGUoKTtcclxuICAgICAgICAgICAgUGxheWVyTW9kZWwuc2V0WmxOdW0odGhpcy56bF9yb2xlTnVtKTtcclxuICAgICAgICAgICAgLy8gbGV0IG1heCA9IFBsYXllck1vZGVsLmdldEFjY2VwdEJhc2VDZmcoKS5zb2xpY2l0X251bTtcclxuICAgICAgICAgICAgbGV0IG1heCA9IENvbmZpZ01hbmFnZXIuZ2V0Q3VycmVudEx2Q2ZnKCkuc2R6bDsvL+WNleasoeacgOWkp+aLm+aPveS6uuaVsFxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuemxDbGNpa051bSA9IDA7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnpsX3JvbGVOdW0gPj0gbWF4KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnpsX3N0YXRlID0gMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuemxfcm9sZU51bSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVpsQnRuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8v5omT5byA5oub5o+96aG16Z2iXHJcbiAgICAgICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5wb3BabFZpZXcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy56bF9ndWlkZVN0YXRlID0gMDtcclxuICAgICAgICB0aGlzLnpsX2d1aWRlSW50ZXJ2YWwgPSAwO1xyXG5cclxuICAgICAgICAvLyB0aGlzLm4rKztcclxuICAgIH1cclxuICAgIGFyciA9IFtdO1xyXG4gICAgLy/mlrDlop7po5jlrZdcclxuICAgIGFkZE9uZUxiKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi5omL5Yqo5re75Yqg77yaXCIsIHRoaXMuemxfcm9sZU51bSk7XHJcblxyXG4gICAgICAgIGxldCBsYiA9IGNjLmluc3RhbnRpYXRlKHRoaXMuemxfYWRkT25lKTtcclxuICAgICAgICBsYi5wYXJlbnQgPSB0aGlzLmJ0bl96bGdrO1xyXG4gICAgICAgIC8vIHRoaXMuYXJyLnB1c2gobGIpO1xyXG4gICAgICAgIGxiLnkgPSAxMzc7XHJcbiAgICAgICAgbGIub3BhY2l0eSA9IDI1NTtcclxuICAgICAgICBsYi5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MubW92ZVRvKDAuOCwgMCwgMjUwKSwgY2MuZmFkZU91dCgxLjApLCBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgIGxiLmRlc3Ryb3koKTtcclxuICAgICAgICB9KSkpXHJcbiAgICB9XHJcbiAgICAvL+S4gOmUruaLm+aPvTE15LiqXHJcbiAgICBjcmVhdGVGaWZ0ZWVuKCkge1xyXG4gICAgICAgIHRoaXMuemxfc3RhdGUgPSAyO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlWmxCdG4oKTtcclxuICAgICAgICBNS1V0aWxzLmFsZXJ0VGlwcyhcIuS4gOmUruaLm+aPvei/m+ihjOS4rVwiKVxyXG4gICAgICAgIHRoaXMuemxfZ3VpZGVJbnRlcnZhbCA9IDA7XHJcbiAgICAgICAgdGhpcy56bF9ndWlkZVN0YXRlID0gMDtcclxuICAgICAgICB0aGlzLmlzQXV0b1NvbGljaXQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuemxfbWF4ID0gQ29uZmlnTWFuYWdlci5nZXRQcm9wQnlJZChwcm9wVHlwZS53YWxsLCBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLndhbGxsdikuYWRkX251bTtcclxuICAgICAgICBQbGF5ZXJNb2RlbC5zZXRabE51bSgwKTtcclxuICAgICAgICB0aGlzLmF1dG9Tb2xpY2l0KCk7XHJcbiAgICB9XHJcbiAgICAvL+iHquWKqOaLm+aPvVxyXG4gICAgYXV0b1NvbGljaXQoKSB7XHJcbiAgICAgICAgY2MudHdlZW4odGhpcy56bF9wcm8pLnRvKDIsIHsgcHJvZ3Jlc3M6IDEgfVxyXG4gICAgICAgICkuY2FsbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuemxfcHJvLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVSb2xlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuemxfYXV0b19udW0rKztcclxuICAgICAgICAgICAgdGhpcy5hZGRPbmVMYigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuemxfYXV0b19udW0gPj0gdGhpcy56bF9tYXgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuemxfc3RhdGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy56bF9hdXRvX251bSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzQXV0b1NvbGljaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlWmxCdG4oKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXV0b1NvbGljaXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnN0YXJ0KCk7XHJcbiAgICB9XHJcbiAgICB6bF9wcm86IGNjLlByb2dyZXNzQmFyO1xyXG4gICAgemxfZGVzYzogY2MuTGFiZWw7XHJcbiAgICB6bF9tYXggPSAwO1xyXG4gICAgemxfZGVzY0JnOiBjYy5Ob2RlO1xyXG4gICAgY2hhbmdlWmxCdG4oKSB7XHJcbiAgICAgICAgdGhpcy56bF9wcm8ubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnpsX2Rlc2Mubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuemxfZGVzY0JnLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMuemxfc3RhdGUgPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnpsX3Byby5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnpsLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuemxfb25lLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnpsX2Rlc2Muc3RyaW5nID0gXCLpob7lrqIrMVwiXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnpsX3N0YXRlID09IDEpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuemwuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuemxfb25lLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuemxfZGVzYy5zdHJpbmcgPSBcIumhvuWuoitcIiArIENvbmZpZ01hbmFnZXIuZ2V0UHJvcEJ5SWQocHJvcFR5cGUud2FsbCwgUGxheWVyTW9kZWwuZ2V0VUlDb25maWcoKS53YWxsbHYpLmFkZF9udW1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnpsX2Rlc2NCZy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy56bF9wcm8ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnpsX3Byby5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuemxfZGVzYy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnpsLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnpsX29uZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v56uL5Y2z5oiQ54afXHJcbiAgICBvbkxqY3MoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLlhajkvZPliqDpgJ9cIik7XHJcbiAgICAgICAgaWYgKFBsYXllck1vZGVsLmd1aWRlU3RlcCA+PSAwKSB7XHJcbiAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5HVUlERV9IaWRlKVxyXG4gICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuQ1JPUF9BRERfU1BFRUQpO1xyXG4gICAgICAgICAgICB0aGlzLmxvY2suYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgTUtVdGlscy5zZXROb2RlRGVsYXkodGhpcy5ub2RlLCA0LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuR1VJREVfVVBEQVRFKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NrLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5wb3BKc1ZpZXcpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIG9uTG9jayhkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5sb2NrLmFjdGl2ZSA9IGRhdGE7XHJcbiAgICB9XHJcbiAgICAvL+iuouWNlVxyXG4gICAgb25PcmRlcigpIHtcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUub3JkZXJWaWV3LCBudWxsLCBudWxsLCBudWxsKTtcclxuICAgIH1cclxuICAgIG9uU2hvd0hvdXNlKCkge1xyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5XYXJlaG91c2VWaWV3KTtcclxuICAgIH1cclxuICAgIC8v5omT5byA6aOe6KGM57qi5YyFXHJcbiAgICBvbk9wZW5Cb3goKSB7XHJcbiAgICAgICAgdGhpcy5ib3guc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLmJveC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUuZmx5Qm94VmlldywgbnVsbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLmZseUJveCwgU0RLTWFuYWdlci5nZXRGbGlnaHRUaW1lKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy/miZPlvIDlm57ppojnuqLljIVcclxuICAgIG9uT3BlbkhrSGIoKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhrUHJvLnByb2dyZXNzIDwgMSkge1xyXG4gICAgICAgICAgICBsZXQgbHYgPSBDb25maWdNYW5hZ2VyLmdldEN1cnJlbnRMdkNmZygpO1xyXG4gICAgICAgICAgICBNS1V0aWxzLmFsZXJ0VGlwcyhg5YaN5oub5b6FJHtsdi5na3MgLSBQbGF5ZXJNb2RlbC56ZEdrTnVtfemhvuWuouiOt+W+l+e6ouWMhWApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5oYXJkVmlldywgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCAxKTtcclxuICAgIH1cclxuICAgIC8v5pS26I635L2c54mp6L+b5YWl5LuT5bqT77yM5LuT5bqT5Yqo5pWIXHJcbiAgICBnZXRDcm9wKCkge1xyXG4gICAgICAgIHRoaXMud2FyZWhvdXNlUGZiLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5zY2FsZVRvKDAuMiwgMS4wNSksXHJcbiAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4yLCAxKSxcclxuICAgICAgICAgICAgY2Muc2NhbGVUbygwLjIsIDEuMDUpLFxyXG4gICAgICAgICAgICBjYy5zY2FsZVRvKDAuMiwgMSksXHJcbiAgICAgICAgICAgIGNjLmNhbGxGdW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMubG9jay5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApKVxyXG4gICAgfVxyXG4gICAgLy/ku5PlupPmnInmlrDlop7vvIzliLfmlrDotKfmnrZcclxuICAgIHVwZGF0ZVNoZWx2ZSgpIHtcclxuICAgICAgICBNS1V0aWxzLnNldE5vZGVEZWxheSh0aGlzLm5vZGUsIDIsICgpID0+IHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNoZWx2ZXNQZmJMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2hlbHZlID0gdGhpcy5zaGVsdmVzUGZiTGlzdFtpXTtcclxuICAgICAgICAgICAgICAgIGxldCBzY3JpcHQgPSBzaGVsdmUuZ2V0Q29tcG9uZW50KFNoZWx2ZVByZWZhYik7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NyaXB0LmN1cnJlbnROdW0gPCA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0LmFkZENyb3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICAvL+iuouWNleWujOaIkOWQjuabtOaWsFxyXG4gICAgb3JkZXJVcGRhdGVTaGVsdmUoKSB7XHJcbiAgICAgICAgUGxheWVyTW9kZWwuaW5pdFB1dENyb3BMaXN0KCk7XHJcbiAgICAgICAgbGV0IHB1dE9uTGlzdCA9IFBsYXllck1vZGVsLnB1dF9vbl9jcm9wX2xpc3Q7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaGVsdmVzUGZiTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgc2hlbHZlID0gdGhpcy5zaGVsdmVzUGZiTGlzdFtpXTtcclxuICAgICAgICAgICAgbGV0IGNmZzogcHV0T25Db25maWc7XHJcbiAgICAgICAgICAgIGlmIChpIDwgcHV0T25MaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY2ZnID0gcHV0T25MaXN0W2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNoZWx2ZS5yZXNldENyb3AoY2ZnKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVSb2xlKCkge1xyXG4gICAgICAgIGxldCByb2xlID0gdGhpcy5nZXRSb2xlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuY2xvbmVSb2xlSWRMaXN0Lmxlbmd0aCA9PSAwKSBVdGlscy5hcnJheUNvcHkodGhpcy5yb2xlSWRMaXN0LCB0aGlzLmNsb25lUm9sZUlkTGlzdCk7XHJcbiAgICAgICAgdGhpcy5jbG9uZVJvbGVJZExpc3Quc29ydChNS1V0aWxzLnJhbmRvbVNvcnQpO1xyXG4gICAgICAgIGxldCBpZCA9IHRoaXMuY2xvbmVSb2xlSWRMaXN0LnNwbGljZSgwLCAxKVswXVxyXG4gICAgICAgIHRoaXMucm9sZUxpc3QucHVzaChyb2xlKTtcclxuICAgICAgICBsZXQgc2hlbHZlUHJlZmFiID0gdGhpcy5jaGVja1NoZWx2ZSgpO1xyXG4gICAgICAgIGlmIChQbGF5ZXJNb2RlbC5ndWlkZVN0ZXAgPT0gNikge1xyXG4gICAgICAgICAgICByb2xlLnNwZWVkID0gMztcclxuICAgICAgICAgICAgcm9sZS5zZXRSb2xlKDMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHJvbGUuc3BlZWQgPSA1O1xyXG4gICAgICAgICAgICAvLyByb2xlLnNwZWVkID0gMS41O1xyXG4gICAgICAgICAgICByb2xlLnNldFJvbGUoMS41KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm9sZS5jcmVhdGUoaWQsIHNoZWx2ZVByZWZhYiwgdGhpcy5jYXNoaWVyUGZiKTtcclxuXHJcbiAgICAgICAgUGxheWVyTW9kZWwuYWRkRGF5QXV0b1JvbGVOdW0oKTtcclxuICAgICAgICB0aGlzLnJvbGVOb2RlLmFkZENoaWxkKHJvbGUubm9kZSwgMTAwKVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRSb2xlKCkge1xyXG4gICAgICAgIGxldCBpdGVtOiBjYy5Ob2RlID0gR2FtZVBvb2xNYW5hZ2VyLmNyZWF0ZVJvbGUodGhpcy5yb2xlUHJlZmFiKTtcclxuICAgICAgICBsZXQgcm9sZUl0ZW06IFJvbGVQcmVmYWIgPSBpdGVtLmdldENvbXBvbmVudChSb2xlUHJlZmFiKTtcclxuICAgICAgICByZXR1cm4gcm9sZUl0ZW07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOajgOa1i+mCo+S4quaRiuS9jeWPr+S7peS4iuS6ulxyXG4gICAgICovXHJcbiAgICBjaGVja1NoZWx2ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1NoZWx2ZVJvbGVGdWxsMSgpKSByZXR1cm47XHJcbiAgICAgICAgbGV0IGFyciA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaGVsdmVzUGZiTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgc3JjID0gdGhpcy5zaGVsdmVzUGZiTGlzdFtpXTtcclxuICAgICAgICAgICAgaWYgKHNyYy5tSWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiAodGhpcy5pc1NoZWx2ZVJvbGVGdWxsMSgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgaWYgKHNyYy5yb2xlTnVtIDwgUGxheWVyTW9kZWwub25lX3NoZWx2ZXNfc2hvcHBlcl9tYXgpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgYXJyLnB1c2goc3JjKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyB9IFxyXG4gICAgICAgICAgICAgICAgLy8gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3JjLnJvbGVOdW0gKyBzcmMud2Fsa0xlbiA8IENvbmZpZ01hbmFnZXIuZ2V0Um9sZU1heCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goc3JjKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA9PSAwKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgbGV0IGFycjEgPSBhcnIuZmlsdGVyKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmN1cnJlbnROdW0gPiAwO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbGV0IHBmYjtcclxuICAgICAgICBpZiAoYXJyMS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHBmYiA9IFV0aWxzLmdldFJhbmRvbUJ5QXJyKGFycjEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBmYiA9IGFyclswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBmYjtcclxuICAgIH1cclxuICAgIC8vIC8v5qOA5rWL5piv5ZCm6LSn5p625rKh5pyJ6Kej6ZSBXHJcbiAgICAvLyBpc1NoZWx2ZVVubG9jayhzaGVsdmUpIHtcclxuICAgIC8vICAgICBsZXQgYXJyID0gdGhpcy5zaGVsdmVzUGZiTGlzdC5maWx0ZXIoKGl0ZW0pID0+IHtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIGl0ZW0ubUlkID09IDA7XHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vICAgICBpZiAoYXJyLmxlbmd0aCA8IDUpIHJldHVybiBmYWxzZTtcclxuICAgIC8vICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIC8vIH1cclxuICAgIC8v5qOA5rWL5piv5ZCm5omA5pyJ6LSn5p625Li656m6XHJcbiAgICBpc1NoZWx2ZUVtcHR5KCkge1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLnNoZWx2ZXNQZmJMaXN0LmZpbHRlcigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS5jdXJyZW50TnVtID09IDA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA8IDUpIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8v5qOA5rWL5piv5ZCm5omA5pyJ5pGK5L2N5YmN6YO95bey57uP6L6+5Yiw5Yid5aeL5Lq65pWwXHJcbiAgICBpc1NoZWx2ZVJvbGVGdWxsMSgpIHtcclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5zaGVsdmVzUGZiTGlzdC5maWx0ZXIoKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgbGV0IHQxID0gaXRlbS5yb2xlTnVtIDwgQ29uZmlnTWFuYWdlci5nZXRSb2xlTWF4KCk7XHJcbiAgICAgICAgICAgIGxldCB0MiA9IGl0ZW0ubUlkID4gMDtcclxuICAgICAgICAgICAgcmV0dXJuIHQxICYmIHQyO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKGFyci5sZW5ndGggPiAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWKoOmAn+aIluiAheadgOiZq1xyXG4gICAgICogQHBhcmFtIHR5cGUgMeWKoOmAnzLmnYDomatcclxuICAgICAqL1xyXG4gICAganhPclNjKGRhdGEpIHtcclxuICAgICAgICB0aGlzLmp4X3NjLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBsZXQgcCA9IFV0aWxzLmNvbnZlcnROb2RlVG9Ob2RlU3BhY2UoZGF0YS5wb2ludCwgdGhpcy5ub2RlKVxyXG4gICAgICAgIHRoaXMuanhfc2Mubm9kZS5zZXRQb3NpdGlvbihwKTtcclxuICAgICAgICBpZiAoZGF0YS50eXBlID09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5qeF9zYy5hbmltYXRpb24gPSBcImppYXN1XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmp4X3NjLmFuaW1hdGlvbiA9IFwic2hhY2hvbmdcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5qeF9zYy5zZXRDb21wbGV0ZUxpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wQ291bnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5qeF9zYy5zZXRDb21wbGV0ZUxpc3RlbmVyKG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLmp4X3NjLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEudHlwZSwgXCLmnYDomavmiJbogIXliqDpgJ9cIik7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkpJQVNVKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5TSEFDSE9ORyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBvblBsYW50KGlkKSB7XHJcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuZmllbGRQZmJMaXN0LmZpbHRlcigodmFsdWUsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5jb25maWcuc3RhdGUgPT0gMSAmJiB2YWx1ZS5jb25maWcuY3JvcElkID09IDA7XHJcbiAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIGlmIChhcnIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgY2ZnID0gQ29uZmlnTWFuYWdlci5nZXRDcm9wQnlJZChpZCk7XHJcbiAgICAgICAgICAgIE1LVXRpbHMuYWxlcnRUaXBzKGAke2NmZy5uYW1lfeW3suaIkOWKn+enjeS4iyBgKVxyXG4gICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuR0VUX0NST1BfQ0xPU0UpXHJcbiAgICAgICAgICAgIGFyclswXS5vblBsYW50KGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIE1LVXRpbHMuYWxlcnRUaXBzKFwi5rKh5pyJ56m66Zey5Zyf5Zyw5Y+v5Lul56eN5qSN5LqGXCIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5YiH5o2i6LSn5p6255qu6IKkXHJcbiAgICBjaGFuZ2VTaGVsdmVCeUluZGV4KGluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5zaGVsdmVzUGZiTGlzdFtpbmRleF0uY2hhbmdlU2tpbigpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlU2hlbHZlKCk7XHJcbiAgICB9XHJcbiAgICAvL+WIh+aNouWcsOWdl+earuiCpFxyXG4gICAgY2hhbmdlRmllbGRCeUluZGV4KGluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5maWVsZFBmYkxpc3RbaW5kZXhdLmNoYW5nZVNraW4oKTtcclxuICAgIH1cclxuICAgIC8v5YiH5o2i5rC0566h55qu6IKkXHJcbiAgICBjaGFuZ2VQaXBlKGRhdGEpIHtcclxuICAgICAgICBsZXQgd2F0ZXIgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ3dhdGVyJyk7XHJcbiAgICAgICAgd2F0ZXIuYWN0aXZlID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8v5pu05paw5Zue6aaI57qi5YyFXHJcbiAgICB1cGRhdGVIa0hiKCkge1xyXG4gICAgICAgIHRoaXMuaGtJY29uLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgbGV0IGx2ID0gQ29uZmlnTWFuYWdlci5nZXRDdXJyZW50THZDZmcoKTtcclxuICAgICAgICBpZiAoUGxheWVyTW9kZWwuemRHa051bSA+PSBsdi5na3MpIHtcclxuICAgICAgICAgICAgQ29tcG9uZW50SGVscGVyLnNldEhlYXJ0QWN0aW9uKHRoaXMuaGtJY29uKTtcclxuICAgICAgICAgICAgdGhpcy5oa0xiLnN0cmluZyA9IGx2LmdrcyArIFwiL1wiICsgbHYuZ2tzO1xyXG4gICAgICAgICAgICB0aGlzLmhrRGVzYy5zdHJpbmcgPSBgPGNvbG9yPSMwMDAwMDA+6K+36aKG5Y+WPC9jPjxjb2xvcj0jRUM1NDU0PuWbnummiOe6ouWMhTwvYz48L2NvbG9yPmBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhrTGIuc3RyaW5nID0gUGxheWVyTW9kZWwuemRHa051bSArIFwiL1wiICsgbHYuZ2tzO1xyXG4gICAgICAgICAgICB0aGlzLmhrRGVzYy5zdHJpbmcgPSBgPGNvbG9yPSMwMDAwMDA+5YaN5oub5b6FPC9jPjxjb2xvcj0jRUM1NDU0PiR7bHYuZ2tzIC0gUGxheWVyTW9kZWwuemRHa051bX3kvY08Y29sb3I9IzAwMDAwMD7pob7lrqLojrflvpc8Y29sb3I9I0VDNTQ1ND7nuqLljIU8L2M+PC9jb2xvcj5gXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaGtQcm8ucHJvZ3Jlc3MgPSBQbGF5ZXJNb2RlbC56ZEdrTnVtIC8gbHYuZ2tzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZVRhc2tIZChkYXRhKSB7XHJcbiAgICAvLyAgICAgaWYgKGRhdGEuYWxsQ291bnQgPiAwKSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMudGFza0hkLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAvLyAgICAgICAgIHRoaXMudGFza0hkTGFiLnN0cmluZyA9IGRhdGEuYWxsQ291bnQ7XHJcbiAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgdGhpcy50YXNrSGRMYWIuc3RyaW5nID0gXCIwXCI7XHJcbiAgICAvLyAgICAgICAgIHRoaXMudGFza0hkLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG4gICAgLy/liJ3lp4vljJblnLrmma/kuK3nmoToioLngrlcclxuICAgIF9pbml0Q29tcG9uZXQoKSB7XHJcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ2JvdHRvbScpO1xyXG4gICAgICAgIHRoaXMuYm94ID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKCdib3gnKTtcclxuICAgICAgICB0aGlzLmd1aWRlX3Rhc2sgPSB0aGlzLmJvdHRvbS5nZXRDaGlsZEJ5TmFtZSgnZ3VpZGVfdGFzaycpO1xyXG5cclxuICAgICAgICB0aGlzLnpsX2FkZE9uZSA9IHRoaXMuYnRuX3psZ2suZ2V0Q2hpbGRCeU5hbWUoXCJhZGRPbmVcIik7XHJcblxyXG4gICAgICAgIHRoaXMuaGtoYiA9IHRoaXMuYm90dG9tLmdldENoaWxkQnlOYW1lKCdoa2hiJyk7XHJcbiAgICAgICAgdGhpcy5oa0ljb24gPSB0aGlzLmhraGIuZ2V0Q2hpbGRCeU5hbWUoXCJoa0hiSWNvblwiKTtcclxuICAgICAgICB0aGlzLmhrRGVzYyA9IHRoaXMuaGtoYi5nZXRDaGlsZEJ5TmFtZShcImhrRGVhY0xiXCIpLmdldENvbXBvbmVudChjYy5SaWNoVGV4dCk7O1xyXG4gICAgICAgIHRoaXMuaGtMYiA9IHRoaXMuaGtoYi5nZXRDaGlsZEJ5TmFtZShcImhrTGJcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTs7XHJcbiAgICAgICAgdGhpcy5oa1BybyA9IHRoaXMuaGtoYi5nZXRDaGlsZEJ5TmFtZShcImhrUHJvXCIpLmdldENvbXBvbmVudChjYy5Qcm9ncmVzc0Jhcik7O1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5hZGRTcGVlZFRpcHMgPSB0aGlzLmJ0bl9samNzLmdldENoaWxkQnlOYW1lKFwidGlwc1wiKTtcclxuXHJcbiAgICAgICAgdGhpcy56bCA9IHRoaXMuYnRuX3psZ2suZ2V0Q2hpbGRCeU5hbWUoXCJ6bFwiKTtcclxuICAgICAgICB0aGlzLnpsX29uZSA9IHRoaXMuYnRuX3psZ2suZ2V0Q2hpbGRCeU5hbWUoXCJ6bF9vbmVcIik7XHJcbiAgICAgICAgdGhpcy56bF9kZXNjQmcgPSB0aGlzLmJ0bl96bGdrLmdldENoaWxkQnlOYW1lKFwiemxfZGVzY0JnXCIpO1xyXG4gICAgICAgIHRoaXMuemxfcHJvID0gdGhpcy5idG5femxnay5nZXRDaGlsZEJ5TmFtZShcInByb1wiKS5nZXRDb21wb25lbnQoY2MuUHJvZ3Jlc3NCYXIpO1xyXG4gICAgICAgIHRoaXMuemxfZGVzYyA9IHRoaXMuYnRuX3psZ2suZ2V0Q2hpbGRCeU5hbWUoXCJhZGREZXNjXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCk7XHJcblxyXG4gICAgICAgIGxldCByb2FkID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKCdyb2FkJyk7XHJcbiAgICAgICAgbGV0IHdhbGwgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ3dhbGwnKTtcclxuICAgICAgICBsZXQgY2FzaGllciA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZSgnY2FzaGllcicpO1xyXG4gICAgICAgIGxldCBwaXBlID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKCdwaXBlJyk7XHJcbiAgICAgICAgbGV0IHNoZWx2ZXNHcCA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZSgnc2hlbHZlc0dwJyk7XHJcbiAgICAgICAgbGV0IHNoZWx2ZXNMaXN0ID0gc2hlbHZlc0dwLmNoaWxkcmVuO1xyXG4gICAgICAgIGxldCBmaWVsZCA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZSgnZmllbGQnKTtcclxuXHJcbiAgICAgICAgbGV0IGZlbmNlID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKCdmZW5jZScpO1xyXG4gICAgICAgIGxldCB3YXJlaG91c2UgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ3dhcmVob3VzZScpO1xyXG4gICAgICAgIGxldCBzY2FyZWNyb3cgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ3NjYXJlY3JvdycpO1xyXG4gICAgICAgIHRoaXMucm9sZU5vZGUgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ3JvbGUnKTtcclxuXHJcbiAgICAgICAgdGhpcy50YXNrSGQgPSB0aGlzLmJ0bl90YXNrLmdldENoaWxkQnlOYW1lKFwidGFza0hvbmdkaWFuXCIpO1xyXG4gICAgICAgIHRoaXMudGFza0hkTGFiID0gdGhpcy50YXNrSGQuZ2V0Q2hpbGRCeU5hbWUoXCJ0YXNrSGRcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuXHJcblxyXG4gICAgICAgIGxldCB1aUNmZyA9IFBsYXllck1vZGVsLmdldFVJQ29uZmlnKCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnJvYWRQZmIgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnJvYWRQcmVmYWIpO1xyXG4gICAgICAgIHJvYWQuYWRkQ2hpbGQodGhpcy5yb2FkUGZiKTtcclxuICAgICAgICAvLyB0aGlzLnJvYWRQZmIucGFyZW50ID0gdGhpcy5ub2RlO1xyXG4gICAgICAgIC8vIGxldCByb2FkUCA9IHJvYWQuY29udmVydFRvV29ybGRTcGFjZUFSKGNjLnYyKDAsMCkpO1xyXG4gICAgICAgIC8vIHRoaXMucm9hZFBmYi5zZXRQb3NpdGlvbih0aGlzLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIocm9hZFApKVxyXG4gICAgICAgIHRoaXMucm9hZFBmYi5nZXRDb21wb25lbnQoUm9hZFByZWZhYikuc2V0RGF0YSh1aUNmZy5yb2FkbHYpO1xyXG5cclxuICAgICAgICB0aGlzLndhbGxQZmIgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLndhbGxQcmVmYWIpO1xyXG4gICAgICAgIHdhbGwuYWRkQ2hpbGQodGhpcy53YWxsUGZiKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy53YWxsUGZiLnBhcmVudCA9IHRoaXMubm9kZTtcclxuICAgICAgICAvLyBsZXQgd2FsbFAgPSB3YWxsLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLDApKTtcclxuICAgICAgICAvLyB0aGlzLndhbGxQZmIuc2V0UG9zaXRpb24odGhpcy5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKHdhbGxQKSlcclxuICAgICAgICB0aGlzLndhbGxQZmIuZ2V0Q29tcG9uZW50KFdhbGxQcmVmYWIpLnNldERhdGEodWlDZmcud2FsbGx2KTtcclxuXHJcbiAgICAgICAgdGhpcy5waXBlUGZiID0gY2MuaW5zdGFudGlhdGUodGhpcy5waXBlUHJlZmFiKTtcclxuICAgICAgICBwaXBlLmFkZENoaWxkKHRoaXMucGlwZVBmYik7XHJcbiAgICAgICAgdGhpcy5waXBlUGZiLmdldENvbXBvbmVudChQaXBlUHJlZmFiKS5zZXREYXRhKHVpQ2ZnLnBpcGVsdik7XHJcbiAgICAgICAgaWYgKHVpQ2ZnLnBpcGVsdiA+IDApIHtcclxuICAgICAgICAgICAgbGV0IHdhdGVyID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKCd3YXRlcicpO1xyXG4gICAgICAgICAgICB3YXRlci5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mZW5jZVBmYiA9IGNjLmluc3RhbnRpYXRlKHRoaXMuZmVuY2VQcmVmYWIpO1xyXG4gICAgICAgIGZlbmNlLmFkZENoaWxkKHRoaXMuZmVuY2VQZmIpO1xyXG4gICAgICAgIHRoaXMuZmVuY2VQZmIuZ2V0Q29tcG9uZW50KEZlbmNlUHJlZmFiKS5zZXREYXRhKHVpQ2ZnLmZlbmNlbHYpO1xyXG5cclxuICAgICAgICB0aGlzLndhcmVob3VzZVBmYiA9IGNjLmluc3RhbnRpYXRlKHRoaXMud2FyZWhvdXNlUHJlZmFiKTtcclxuICAgICAgICB3YXJlaG91c2UuYWRkQ2hpbGQodGhpcy53YXJlaG91c2VQZmIpO1xyXG4gICAgICAgIHRoaXMud2FyZWhvdXNlUGZiLmdldENvbXBvbmVudChXYXJlaG91c2VQcmVmYWIpLnNldERhdGEodWlDZmcud2FyZWhvdXNlbHYpO1xyXG5cclxuICAgICAgICB0aGlzLnNjYXJlY3Jvd1BmYiA9IGNjLmluc3RhbnRpYXRlKHRoaXMuc2NhcmVjcm93UHJlZmFiKTtcclxuICAgICAgICBzY2FyZWNyb3cuYWRkQ2hpbGQodGhpcy5zY2FyZWNyb3dQZmIpO1xyXG4gICAgICAgIHRoaXMuc2NhcmVjcm93UGZiLmdldENvbXBvbmVudChTY2FyZWNyb3dQcmVmYWIpLnNldERhdGEodWlDZmcuc2NhcmVjcm93bHYpO1xyXG5cclxuICAgICAgICBsZXQgcHV0T25MaXN0ID0gUGxheWVyTW9kZWwucHV0X29uX2Nyb3BfbGlzdDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoZWx2ZXNMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBzaGVsdmUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnNoZWx2ZVByZWZhYik7XHJcbiAgICAgICAgICAgIHNoZWx2ZXNMaXN0W2ldLmFkZENoaWxkKHNoZWx2ZSk7XHJcbiAgICAgICAgICAgIGxldCBzcmMgPSBzaGVsdmUuZ2V0Q29tcG9uZW50KFNoZWx2ZVByZWZhYik7XHJcbiAgICAgICAgICAgIHRoaXMuc2hlbHZlc1BmYkxpc3QucHVzaChzcmMpO1xyXG4gICAgICAgICAgICBQbGF5ZXJNb2RlbC5zaGVsZXZlTGlzdC5wdXNoKHNyYyk7XHJcbiAgICAgICAgICAgIGxldCBjZmc6IHB1dE9uQ29uZmlnO1xyXG4gICAgICAgICAgICBpZiAoaSA8IHB1dE9uTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNmZyA9IHB1dE9uTGlzdFtpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzcmMuc2V0RGF0YSh1aUNmZy5zaGVsdmVzTGlzdFtpXSwgaSwgY2ZnKTtcclxuICAgICAgICAgICAgc3JjLmluaXRQb2ludCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZmllbGRMaXN0ID0gZmllbGQuY2hpbGRyZW47XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGZpZWxkID0gY2MuaW5zdGFudGlhdGUodGhpcy5maWVsZFByZWZhYik7XHJcbiAgICAgICAgICAgIGZpZWxkTGlzdFtpXS5hZGRDaGlsZChmaWVsZCk7XHJcblxyXG4gICAgICAgICAgICAvLyBmaWVsZC5hZGRDaGlsZChmaWVsZCk7XHJcbiAgICAgICAgICAgIC8vIGZpZWxkLnNldFBvc2l0aW9uKGZpZWxkTGlzdFtpXS5nZXRQb3NpdGlvbigpKVxyXG5cclxuXHJcbiAgICAgICAgICAgIGxldCBzcmMgPSBmaWVsZC5nZXRDb21wb25lbnQoRmllbGRQcmVmYWIpO1xyXG4gICAgICAgICAgICBzcmMuc2V0RGF0YShpKTtcclxuICAgICAgICAgICAgdGhpcy5maWVsZFBmYkxpc3QucHVzaChzcmMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTUtVdGlscy5zZXROb2RlRGVsYXkodGhpcy5ub2RlLCAwLjEsICgpID0+IHtcclxuICAgICAgICBsZXQgY2FzaGllclByZWZhYiA9IGNjLmluc3RhbnRpYXRlKHRoaXMuY2FzaGllclByZWZhYik7XHJcbiAgICAgICAgY2FzaGllci5hZGRDaGlsZChjYXNoaWVyUHJlZmFiKTtcclxuICAgICAgICB0aGlzLmNhc2hpZXJQZmIgPSBjYXNoaWVyUHJlZmFiLmdldENvbXBvbmVudChDYXNoaWVyUHJlZmFiKVxyXG4gICAgICAgIHRoaXMuY2FzaGllclBmYi5zZXREYXRhKHVpQ2ZnLmNhc2hpZXJsdik7XHJcbiAgICAgICAgLy8gfSlcclxuXHJcbiAgICB9XHJcbiAgICAvL+aWsOaJi+W8leWvvOesrOS4gOS4quWcsOWdl+S9jee9rlxyXG4gICAgZ2V0R3VpZGVQb2ludCgpIHtcclxuICAgICAgICBsZXQgcG9pbnQgPSB0aGlzLmZpZWxkUGZiTGlzdFswXS5ub2RlLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLjApKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBvaW50O1xyXG4gICAgfVxyXG4gICAgZ2V0R3VpZGVQb2ludDEoKSB7XHJcbiAgICAgICAgbGV0IHBvaW50ID0gdGhpcy5maWVsZFBmYkxpc3RbMV0ubm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoMC4wKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwb2ludDtcclxuICAgIH1cclxuICAgIGdldEd1aWRlSnNQb2ludCgpIHtcclxuICAgICAgICBsZXQgcG9pbnQgPSB0aGlzLmJ0bl9samNzLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLjApKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBvaW50O1xyXG4gICAgfVxyXG4gICAgLy/mlrDmiYvlvJXlr7zmlLbojrdcclxuICAgIGdldEd1aWRlQ3JvcCgpIHtcclxuICAgICAgICB0aGlzLmZpZWxkUGZiTGlzdFswXS5nZXRDcm9wKDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJvbGVQb2ludCgpIHtcclxuICAgICAgICBsZXQgcCA9IHRoaXMucm9sZUxpc3RbMF0uZ2V0R3VpZGVQb2ludCgpO1xyXG4gICAgICAgIHJldHVybiBwO1xyXG4gICAgfVxyXG4gICAgZ3VpZGVCdXkoKSB7XHJcbiAgICAgICAgdGhpcy5yb2xlTGlzdFswXS5ndWlkZUJ1eSgpO1xyXG4gICAgfVxyXG4gICAgZ3VpZGVTZWxsKCkge1xyXG5cclxuICAgICAgICB0aGlzLnJvbGVMaXN0WzBdLm9uU2VsbCgpO1xyXG4gICAgfVxyXG4gICAgZ2V0WmxQb2ludCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5idG5femxnay5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoMCwgMCkpO1xyXG4gICAgfVxyXG4gICAgZ3VpZGVabCA9IDA7XHJcbiAgICBndWlkZUNsaWNrWkwoY2FsbEJhY2spIHtcclxuICAgICAgICB0aGlzLmd1aWRlWmwrKztcclxuICAgICAgICB0aGlzLm9uWmxnaygpO1xyXG4gICAgICAgIGlmICh0aGlzLmd1aWRlWmwgPj0gR2xvYmFsLnpsX2NsaWNrX251bSkge1xyXG4gICAgICAgICAgICB0aGlzLmd1aWRlWmwgPSAwO1xyXG4gICAgICAgICAgICBpZiAoY2FsbEJhY2spIGNhbGxCYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ3VpZGVfdGFzazogY2MuTm9kZTtcclxuICAgIGdldEd1aWRlVGFza1BvaW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmd1aWRlX3Rhc2suY29udmVydFRvV29ybGRTcGFjZUFSKGNjLnYyKDAsIDApKTtcclxuICAgIH1cclxuICAgIGd1aWRlVGFza0NsaWNrKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdEJhcnJhZ2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBhY3Rpb25OVW0gPSAwO1xyXG4gICAgYmFycmFnZVBvb2w6IGNjLk5vZGVQb29sID0gbmV3IGNjLk5vZGVQb29sKCk7XHJcbiAgICAvKipcclxuICAgICAqIOW8ueW5lVxyXG4gICAgICovXHJcbiAgICBpbml0QmFycmFnZSgpIHtcclxuICAgICAgICBsZXQgYmFycmFnZSA9IHRoaXMuYmFycmFnZVBvb2wuZ2V0KCk7XHJcbiAgICAgICAgaWYgKCFiYXJyYWdlKSB7XHJcbiAgICAgICAgICAgIGJhcnJhZ2UgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmJhcnJhZ2VQcmVmYWIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBiYXJyYWdlLmdldENvbXBvbmVudChcIkJhcnJhZ2VQcmVmYWJcIikuc2V0RGF0YSgpO1xyXG4gICAgICAgIFVJTWFuYW5nZXIuZWZmTGF5ZXIuYWRkQ2hpbGQoYmFycmFnZSk7XHJcblxyXG4gICAgICAgIGxldCB5MSA9IGNjLndpblNpemUuaGVpZ2h0IC8gMiAtIDQ2MDtcclxuICAgICAgICBsZXQgcCA9IGNjLnYyKDEwODAsIHkxKVxyXG4gICAgICAgIGJhcnJhZ2Uuc2V0UG9zaXRpb24ocCk7XHJcblxyXG4gICAgICAgIGJhcnJhZ2UucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLm1vdmVUbygxMCwgLTc1MCwgYmFycmFnZS55KSwgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmJhcnJhZ2VQb29sLnB1dChiYXJyYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0QmFycmFnZSgpO1xyXG4gICAgICAgIH0pKSlcclxuICAgIH1cclxuXHJcbiAgICBmbHlCb3goKSB7XHJcbiAgICAgICAgdGhpcy5ib3guYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBsZXQgdyA9IGNjLndpblNpemUud2lkdGg7XHJcbiAgICAgICAgbGV0IHkgPSBjYy53aW5TaXplLmhlaWdodCAvIDI7XHJcbiAgICAgICAgdGhpcy5ib3guc2V0UG9zaXRpb24oNzAwLCAwKVxyXG5cclxuICAgICAgICBsZXQgdGltZSA9IFNES01hbmFnZXIuZ2V0RmxpZ2h0VGltZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmJveC5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgIGNjLm1vdmVUbygyLCB3IC8gNCArIHcgLyA4LCAwKSxcclxuICAgICAgICAgICAgY2MubW92ZVRvKDQsICh3IC8gNCkgLSB3IC8gOCwgMjAwKSxcclxuICAgICAgICAgICAgY2MubW92ZVRvKDIsIDAsIDEwMCksXHJcbiAgICAgICAgICAgIGNjLm1vdmVUbyg0LCBjYy52MigtdyAvIDQgKyAxMDAsIDMwMCkpLFxyXG4gICAgICAgICAgICBjYy5tb3ZlVG8oMiwgY2MudjIoLXcgLyA0LCAxMDApKSxcclxuICAgICAgICAgICAgY2MubW92ZVRvKDUsIGNjLnYyKC13IC8gMyAtIDUwLCB5IC8gMikpLFxyXG4gICAgICAgICAgICBjYy5tb3ZlVG8oNCwgY2MudjIoLXcgLyAyIC0gMjUwLCB5IC8gMiArIDEwMCkpLFxyXG4gICAgICAgICAgICBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLmZseUJveCwgdGltZSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApKVxyXG4gICAgfVxyXG5cclxuICAgIGd1aWRDb21wbGV0ZSgpIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZVJvbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRHb2xkKCkge1xyXG4gICAgICAgIFBsYXllck1vZGVsLnNldEdvbGQoMTAwMClcclxuICAgIH1cclxuICAgIGFkZFhmenMoKSB7XHJcbiAgICAgICAgUGxheWVyTW9kZWwuc2V0WGZ6cygxMDApO1xyXG4gICAgfVxyXG4gICAgaGlkZVRlc3QoKSB7XHJcbiAgICAgICAgdGhpcy5idG5fdGVzdDEuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5idG5fdGVzdDIuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5idG5fdGVzdDMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/consts/StorageType.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '24be7bg51BLOrBqbIyqstqw', 'StorageType');
// src/game/consts/StorageType.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var StorageType = /** @class */ (function () {
    function StorageType() {
    }
    StorageType.level = 'level'; //当前等级
    StorageType.gameData = "gameData";
    StorageType.uiCionfig = "uiCionfig";
    StorageType.wareHouse = "wareHouse";
    StorageType.offlineTimestamp = "offlineTimestamp"; // 计算离线收益的时间戳
    StorageType.cashierGold = "cashierGold"; //收银台自动收银数量
    StorageType.guide = "guide"; //引导
    StorageType.zlNum = "zlNum"; //手动招揽人数
    StorageType.plantNum = "plantNum"; //作物种植次数
    StorageType.lvUpVideoNum = "lvUpVideoNum"; //升级观看视频次数
    StorageType.order = "order"; //订单缓存
    return StorageType;
}());
exports.default = StorageType;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9jb25zdHMvU3RvcmFnZVR5cGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtJQUFBO0lBYUEsQ0FBQztJQVpVLGlCQUFLLEdBQVcsT0FBTyxDQUFDLENBQUEsTUFBTTtJQUU5QixvQkFBUSxHQUFHLFVBQVUsQ0FBQztJQUN0QixxQkFBUyxHQUFHLFdBQVcsQ0FBQztJQUN4QixxQkFBUyxHQUFHLFdBQVcsQ0FBQztJQUN4Qiw0QkFBZ0IsR0FBRyxrQkFBa0IsQ0FBQyxDQUFBLGFBQWE7SUFDbkQsdUJBQVcsR0FBRyxhQUFhLENBQUMsQ0FBQSxXQUFXO0lBQ3ZDLGlCQUFLLEdBQUcsT0FBTyxDQUFDLENBQUEsSUFBSTtJQUNwQixpQkFBSyxHQUFHLE9BQU8sQ0FBQyxDQUFBLFFBQVE7SUFDeEIsb0JBQVEsR0FBRyxVQUFVLENBQUMsQ0FBQSxRQUFRO0lBQzlCLHdCQUFZLEdBQUcsY0FBYyxDQUFDLENBQUEsVUFBVTtJQUN4QyxpQkFBSyxHQUFHLE9BQU8sQ0FBQyxDQUFBLE1BQU07SUFDakMsa0JBQUM7Q0FiRCxBQWFDLElBQUE7a0JBYm9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yYWdlVHlwZSB7XHJcbiAgICBzdGF0aWMgbGV2ZWw6IHN0cmluZyA9ICdsZXZlbCc7Ly/lvZPliY3nrYnnuqdcclxuXHJcbiAgICBzdGF0aWMgZ2FtZURhdGEgPSBcImdhbWVEYXRhXCI7XHJcbiAgICBzdGF0aWMgdWlDaW9uZmlnID0gXCJ1aUNpb25maWdcIjtcclxuICAgIHN0YXRpYyB3YXJlSG91c2UgPSBcIndhcmVIb3VzZVwiO1xyXG4gICAgc3RhdGljIG9mZmxpbmVUaW1lc3RhbXAgPSBcIm9mZmxpbmVUaW1lc3RhbXBcIjsvLyDorqHnrpfnprvnur/mlLbnm4rnmoTml7bpl7TmiLNcclxuICAgIHN0YXRpYyBjYXNoaWVyR29sZCA9IFwiY2FzaGllckdvbGRcIjsvL+aUtumTtuWPsOiHquWKqOaUtumTtuaVsOmHj1xyXG4gICAgc3RhdGljIGd1aWRlID0gXCJndWlkZVwiOy8v5byV5a+8XHJcbiAgICBzdGF0aWMgemxOdW0gPSBcInpsTnVtXCI7Ly/miYvliqjmi5vmj73kurrmlbBcclxuICAgIHN0YXRpYyBwbGFudE51bSA9IFwicGxhbnROdW1cIjsvL+S9nOeJqeenjeakjeasoeaVsFxyXG4gICAgc3RhdGljIGx2VXBWaWRlb051bSA9IFwibHZVcFZpZGVvTnVtXCI7Ly/ljYfnuqfop4LnnIvop4bpopHmrKHmlbBcclxuICAgIHN0YXRpYyBvcmRlciA9IFwib3JkZXJcIjsvL+iuouWNlee8k+WtmFxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/RepayRedBox.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b3845RM9W9NCIexv2gOIGWm', 'RepayRedBox');
// src/game/view/main/RepayRedBox.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var ComponentHelper_1 = require("../../../framework/tools/ComponentHelper");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
//回馈红包
var RepayRedBox = /** @class */ (function (_super) {
    __extends(RepayRedBox, _super);
    function RepayRedBox() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.pro = null;
        _this.icon = null;
        _this.proLb = null;
        _this.descLb = null;
        return _this;
    }
    RepayRedBox.prototype.onLoad = function () {
    };
    // <color=#000000>145</c><color=#EC5454>领取</color>
    RepayRedBox.prototype.start = function () {
        EventDispath_1.default.on(this.node, this.onClick, this);
    };
    RepayRedBox.prototype.onClick = function () {
    };
    RepayRedBox.prototype.iconAction = function () {
        this.icon.stopAllActions();
        ComponentHelper_1.default.setHeartAction(this.icon);
    };
    __decorate([
        property(cc.ProgressBar)
    ], RepayRedBox.prototype, "pro", void 0);
    __decorate([
        property(cc.Node)
    ], RepayRedBox.prototype, "icon", void 0);
    __decorate([
        property(cc.Label)
    ], RepayRedBox.prototype, "proLb", void 0);
    __decorate([
        property(cc.RichText)
    ], RepayRedBox.prototype, "descLb", void 0);
    RepayRedBox = __decorate([
        ccclass
    ], RepayRedBox);
    return RepayRedBox;
}(cc.Component));
exports.default = RepayRedBox;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vUmVwYXlSZWRCb3gudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsd0VBQW1FO0FBQ25FLDRFQUF1RTtBQUdqRSxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1QyxNQUFNO0FBRU47SUFBeUMsK0JBQVk7SUFBckQ7UUFBQSxxRUF5QkM7UUF0QkcsU0FBRyxHQUFtQixJQUFJLENBQUM7UUFFM0IsVUFBSSxHQUFZLElBQUksQ0FBQztRQUVyQixXQUFLLEdBQWEsSUFBSSxDQUFDO1FBRXZCLFlBQU0sR0FBZ0IsSUFBSSxDQUFDOztJQWdCL0IsQ0FBQztJQWJHLDRCQUFNLEdBQU47SUFDQSxDQUFDO0lBQ0Qsa0RBQWtEO0lBQ2xELDJCQUFLLEdBQUw7UUFDSSxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUNELDZCQUFPLEdBQVA7SUFDQSxDQUFDO0lBQ0QsZ0NBQVUsR0FBVjtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDM0IseUJBQWUsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFwQkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzs0Q0FDRTtJQUUzQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzZDQUNHO0lBRXJCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7OENBQ0k7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQzsrQ0FDSztJQVRWLFdBQVc7UUFEL0IsT0FBTztPQUNhLFdBQVcsQ0F5Qi9CO0lBQUQsa0JBQUM7Q0F6QkQsQUF5QkMsQ0F6QndDLEVBQUUsQ0FBQyxTQUFTLEdBeUJwRDtrQkF6Qm9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IENvbXBvbmVudEhlbHBlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL0NvbXBvbmVudEhlbHBlclwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuLy/lm57ppojnuqLljIVcclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVwYXlSZWRCb3ggZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Qcm9ncmVzc0JhcilcclxuICAgIHBybzogY2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBpY29uOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHByb0xiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuUmljaFRleHQpXHJcbiAgICBkZXNjTGI6IGNjLlJpY2hUZXh0ID0gbnVsbDtcclxuXHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgfVxyXG4gICAgLy8gPGNvbG9yPSMwMDAwMDA+MTQ1PC9jPjxjb2xvcj0jRUM1NDU0PumihuWPljwvY29sb3I+XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5ub2RlLCB0aGlzLm9uQ2xpY2ssIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgb25DbGljaygpIHtcclxuICAgIH1cclxuICAgIGljb25BY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5pY29uLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgQ29tcG9uZW50SGVscGVyLnNldEhlYXJ0QWN0aW9uKHRoaXMuaWNvbik7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/RolePrefab.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e14612+Ne1IfpZTat8mSPH8', 'RolePrefab');
// src/game/view/main/RolePrefab.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var GamePoolManager_1 = require("../../../framework/manager/GamePoolManager");
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var Utils_1 = require("../../../framework/tools/Utils");
var ActionType_1 = require("../../consts/ActionType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var CashierManager_1 = require("./CashierManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var RolePrefab = /** @class */ (function (_super) {
    __extends(RolePrefab, _super);
    function RolePrefab() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.crop = null;
        _this.cropNode = null;
        _this.tipsNode = null;
        _this.tipsLab = null;
        _this.sellNode = null;
        _this.sellTipsNode = null;
        _this.sellTipsHb = null;
        _this.sellTipsGold = null;
        _this.sellTipsMoney = null;
        _this.sellTipsXfzs = null;
        _this.role = null;
        _this.skeList = [];
        // LIFE-CYCLE CALLBACKS:
        // state
        _this.startPoint = cc.v2(-660, 230);
        _this.p = cc.v2(-445, 140);
        // p = cc.v2(285, 110);
        // sp1 = cc.v2(225, 180);
        // sp2 = cc.v2(-60, 70);
        // sp3 = cc.v2(190, -20);
        // sp4 = cc.v2(-40, -130);
        // sp5 = cc.v2(-700, -285);
        _this.targetPoints = [
            cc.v2(-140, -50),
            cc.v2(130, -150),
            cc.v2(270, -10),
            cc.v2(-10, 105),
            cc.v2(-300, 220)
        ];
        _this.accountPoint = cc.v2(400, -280);
        _this.outPoint = cc.v2(620, -250);
        _this.currentAction = ActionType_1.default.Q_STAND_LEFT;
        _this.shelveIndex = -1;
        _this.speed = 1.5;
        _this.speed_base = 1.5;
        _this.orderNum = -1; //排在第几个位置
        _this.roleId = -1;
        _this.needCropId = -1; //需要购买的作物ID
        _this.buyCropList = [];
        _this.currentTimes = 1; //当前第几次购买
        _this.isAccount = false; //是否是结账状态
        _this.isInit = true;
        _this.currentY = 0;
        _this.jiezhangIndx = 0;
        _this.roleInSheleveIndex = -1;
        _this.shelvesType = [21, 22, 23, 24, 25,];
        _this.interval = 0;
        _this.isMove = false;
        return _this;
        // create(id) {
        //     console.log("1111111=");
        //     this.node.setPosition(id * 30, 0)
        //     // this.node.setPosition(this.startPoint)
        //     let url = `spine/role/0${id}/role_0${id}`;
        //     if (id > 9) {
        //         url = `spine/role/${id}/role_${id}`
        //     }
        //     // url = `spine/alien-ess`;
        //     url = `spine/skeleton`
        //     MKUtils.loadSkeletonData(url, (res) => {
        //         console.log("========spine======", res);
        //         this.role.skeletonData = res;
        //         // this.role.animation = ActionType.Q_WALK;
        //     }, () => { })
        // }
    }
    RolePrefab.prototype.onLoad = function () {
    };
    RolePrefab.prototype.setRole = function (value) {
        this.role.timeScale = value;
    };
    RolePrefab.prototype.start = function () {
        this.cropNode.active = false;
        this.tipsNode.active = false;
        this.sellNode.active = false;
        this.sellTipsNode.active = false;
        this.buyCropList = [];
    };
    RolePrefab.prototype.onEnable = function () {
        this.isInit = false;
        this.speed = this.speed_base + this.speed_base * PlayerModel_1.default.getSpeedAdd();
        EventDispath_1.default.on(this.cropNode, this.onBuy, this);
        EventDispath_1.default.on(this.sellNode, this.onSell, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.CHANGE_ROAD, this.updateSpeed, this);
    };
    /**
     *
     * @param id 人物id
     * @param shelveIndex 当前货架索引
     */
    RolePrefab.prototype.create = function (id, shelve, cashierPfb) {
        this.roleId = id;
        this.cashierPfb = cashierPfb;
        if (shelve) {
            this.shelveIndex = shelve.mIndex;
            this.shelve = shelve;
            this.orderNum = this.shelve.roleNum;
        }
        else {
            this.shelveIndex = -1;
        }
        this.createRole();
        this.selectCrop();
    };
    //需要购买的作物
    RolePrefab.prototype.selectCrop = function () {
        var _this = this;
        if (!this.shelve)
            return;
        var list = this.shelve.cropList;
        var id = -1;
        if (list.length > 0) {
            var crop = Utils_1.default.getRandomByArr(list);
            id = crop.cropId;
        }
        else {
            id = PlayerModel_1.default.getNewCrop();
        }
        this.needCropId = id;
        MkUtils_1.default.loadSpriteFrame("texture/crop/singleIcon/" + id, function (res) {
            _this.crop.spriteFrame = res;
        });
        this.baseCropCfg = ConfigManager_1.default.getCropById(this.needCropId);
    };
    //创建顾客动画
    RolePrefab.prototype.createRole = function () {
        var _this = this;
        new Promise(function (resolve, reject) {
            _this.node.setPosition(_this.startPoint);
            // if (this.roleId > 9) {
            _this.role.skeletonData = _this.skeList[_this.roleId - 1];
            _this.role.animation = ActionType_1.default.Q_WALK;
            resolve(null);
            // } else {
            //     let url = "spine/role/0" + this.roleId + "/role_0" + this.roleId;
            //     MKUtils.loadSkeletonData(url, (res) => {
            //         this.role.skeletonData = res;
            //         resolve(null);
            //     }, () => { })
            // }
        }).then(function () {
            switch (_this.shelveIndex) {
                case -1:
                    _this.action1();
                    break;
                case 1:
                case 2:
                case 3:
                case 4:
                case 0:
                    _this.action2();
                    break;
                default:
                    break;
            }
        });
    };
    //直接走出去
    RolePrefab.prototype.action1 = function () {
        this.role.animation = ActionType_1.default.Q_WALK;
        var action = cc.sequence(cc.moveTo(20, this.outPoint), cc.callFunc(function () {
        }));
        var newAction = cc.speed(action, this.speed);
        this.node.runAction(newAction);
    };
    //去走出去
    RolePrefab.prototype.goOut = function (type) {
        var _this = this;
        if (type === void 0) { type = 1; }
        var target = this.targetPoints[this.shelveIndex];
        this.role.animation = ActionType_1.default.Q_WALK;
        if (type == 2) {
            target = this.accountPoint;
            this.role.animation = ActionType_1.default.Q_WALK_FINISH;
        }
        var dis = MkUtils_1.default.twoPointDistance(target, this.outPoint);
        var action = cc.sequence(cc.moveTo(dis / 80, this.outPoint), cc.callFunc(function () {
            _this.roleInSheleveIndex = -1;
        }));
        var newAction = cc.speed(action, this.speed);
        this.node.runAction(newAction);
    };
    //去结账
    RolePrefab.prototype.goAccount = function () {
        // this.role.node.scaleX = 1;
        this.shelve.refreshRole(this);
        this.roleInSheleveIndex = -1;
        this.role.animation = ActionType_1.default.Q_WALK_FINISH;
        CashierManager_1.default.addRole(this);
        // let target = this.targetPoints[this.shelveIndex]
        // let dis = MKUtils.twoPointDistance(target, this.accountPoint)
        // this.role.animation = ActionType.Q_WALK_FINISH;
        // this.cashierPfb.roleLen++;
        // this.node.parent = this.cashierPfb.roleParent;
        // let action = cc.sequence(
        //     cc.moveTo(dis / 80, this.accountPoint.x + this.cashierPfb.roleLen * 15, this.accountPoint.y + this.cashierPfb.roleLen * 15),
        //     cc.callFunc(() => {
        //         this.role.animation = ActionType.Q_STAND_FINISH_RIGHT;
        //         this.isAccount = true;
        //         // this.node.zIndex = 999;
        //         // EventDispath.send(EventType.ADD_CAHIER_ROLE, this);
        //         this.cashierPfb.addRole(this);
        //     }));
        // let newAction = cc.speed(action, this.speed);
        // this.node.runAction(newAction);
    };
    RolePrefab.prototype.finshAction = function () {
        this.role.animation = ActionType_1.default.Q_STAND_FINISH_RIGHT;
    };
    RolePrefab.prototype.showSell = function () {
        // this.sellNode.active = true;
    };
    //第一次走到某个摊位前
    RolePrefab.prototype.action2 = function () {
        var _this = this;
        var target = this.shelve.getPoint();
        if (!target) {
            this.action1();
            return;
        }
        this.shelve.walkLen++;
        // let target = this.targetPoints[this.shelveIndex]
        var dis = MkUtils_1.default.twoPointDistance(target, this.p);
        this.isMove = true;
        var action = cc.sequence(cc.moveTo(4, this.p), cc.callFunc(function () {
            _this.role.animation = ActionType_1.default.Q_STAND_LEFT;
        }), cc.delayTime(1), cc.callFunc(function () {
            _this.role.animation = ActionType_1.default.Q_WALK;
        }), 
        // cc.moveTo(dis / 80, target),
        // cc.moveTo(dis / 80, target.x - this.orderNum * 10, target.y),
        cc.moveTo(dis / 80, target.x, target.y), cc.callFunc(function () {
            _this.shelve.addRole(_this);
            _this.isMove = false;
            if (_this.shelveIndex == 0 || _this.shelveIndex == 1) {
                _this.role.animation = ActionType_1.default.Q_STAND_RIGHT;
                // this.node.zIndex = 888;
            }
            else {
                _this.role.animation = ActionType_1.default.H_STAND;
                // this.node.zIndex = 0;
            }
            if (PlayerModel_1.default.guideState) {
                MkUtils_1.default.setNodeDelay(_this.node, 1, function () {
                    _this.cropNode.active = true;
                    _this.autoBuy();
                });
            }
            else {
                _this.cropNode.active = true;
            }
        }));
        var newAction = cc.speed(action, this.speed);
        this.node.runAction(newAction);
    };
    //改变摊位
    RolePrefab.prototype.changeSheleve = function (shelve) {
        var _this = this;
        var oldIdex = this.shelveIndex;
        if (shelve)
            this.shelveIndex = shelve.mIndex;
        else
            this.shelveIndex = -1;
        this.orderNum = shelve.roleNum;
        // if (this.shelveIndex == 2 || this.shelveIndex == 3) {
        //     this.node.zIndex = 999;
        // } else {
        //     this.node.zIndex = 0;
        // }
        this.role.animation = ActionType_1.default.Q_WALK_FINISH;
        this.changeScaleX(oldIdex);
        var target = this.shelve.getPoint();
        if (!target) {
            this.goAccount();
            return;
        }
        var dis = MkUtils_1.default.twoPointDistance(target, this.targetPoints[oldIdex]);
        this.role.animation = ActionType_1.default.Q_WALK_FINISH;
        var action = cc.sequence(cc.moveTo(dis / 80, target.x, target.y), 
        // cc.moveTo(dis / 80, target),
        // cc.moveTo(dis / 80, target.x + this.orderNum * 10, target.y+this.orderNum*5),
        cc.callFunc(function () {
            _this.shelve.addRole(_this);
            if (_this.shelveIndex == 2 || _this.shelveIndex == 3) {
                _this.role.animation = ActionType_1.default.Q_STAND_RIGHT;
                // this.node.zIndex = 888;
            }
            else {
                _this.role.animation = ActionType_1.default.H_STAND;
                // this.node.zIndex = 0;
            }
            _this.role.node.scaleX = 1;
            MkUtils_1.default.setNodeDelay(_this.node, 1, function () {
                _this.selectCrop();
                _this.cropNode.active = true;
                _this.autoBuy();
            });
        }));
        var newAction = cc.speed(action, this.speed);
        this.node.runAction(newAction);
    };
    RolePrefab.prototype.changeScaleX = function (oldIndex) {
        if (oldIndex == 4) {
            this.role.node.scaleX = -1;
        }
        else if (oldIndex == 3) {
            if (this.shelveIndex == 0 || this.shelveIndex == 1 || this.shelveIndex == 2) {
                this.role.node.scaleX = -1;
            }
        }
        else if (oldIndex == 2) {
            if (this.shelveIndex == 0) {
                this.role.node.scaleX = -1;
            }
        }
        else if (oldIndex == 1) {
            if (this.shelveIndex == 0) {
                this.role.node.scaleX = -1;
            }
        }
        else {
            this.role.node.scaleX = 1;
        }
    };
    RolePrefab.prototype.onBuy = function () {
        var _this = this;
        // this.shelve.roleNum--;
        if (this.checkSheleve()) {
            this.shelve.reduceCrop(this.needCropId, this, function () {
                _this.cropNode.active = false;
                if (_this.shelveIndex == 0 || _this.shelveIndex == 1) {
                    _this.role.animation = ActionType_1.default.Q_STAND_BUY;
                }
                else {
                    _this.role.animation = ActionType_1.default.H_STAND_BUY;
                }
                _this.role.setCompleteListener(function (trackEntry, loopCount) {
                    _this.role.setCompleteListener(null);
                    if (_this.shelveIndex == 0 || _this.shelveIndex == 1) {
                        _this.role.animation = ActionType_1.default.Q_STAND_FINISH_RIGHT;
                    }
                    else {
                        _this.role.animation = ActionType_1.default.H_STAND_FINISH;
                    }
                    MkUtils_1.default.setNodeDelay(_this.node, 0.5, function () {
                        _this.addBuyList();
                        //去结账
                        _this.goAccount();
                    });
                });
            });
        }
        else {
            this.cropLostBySheleve();
        }
    };
    RolePrefab.prototype.addBuyList = function () {
        var _this = this;
        var arr = this.buyCropList.filter(function (value) {
            return value.cropId == _this.needCropId;
        });
        if (arr.length > 0)
            arr[0].num++;
        else {
            this.buyCropList.push({ cropId: this.needCropId, num: 1 });
        }
    };
    //货架缺少当前作物
    RolePrefab.prototype.cropLostBySheleve = function () {
        var _this = this;
        this.cropNode.active = false;
        var str = "老板种点儿" + this.baseCropCfg.name + "吧，我一会儿过来买";
        this.tipsLab.string = str;
        this.tipsNode.active = true;
        MkUtils_1.default.setNodeDelay(this.node, 1.5, function () {
            if (_this.buyCropList.length > 0) {
                _this.goAccount();
            }
            else {
                _this.goOut();
                _this.shelve.refreshRole(_this);
            }
            _this.tipsNode.active = false;
        });
    };
    //检测货架是否有当前作物
    RolePrefab.prototype.checkSheleve = function () {
        var _this = this;
        var arr = this.shelve.cropList.filter(function (value) {
            return value.cropId == _this.needCropId;
        });
        if (arr.length > 0)
            return true;
        return false;
    };
    RolePrefab.prototype.nextStep = function (isOver) {
        var _this = this;
        if (isOver) {
            var shelve = this.getSheleve();
            if (shelve) {
                // shelve.roleNum++;
                if (this.shelveIndex == shelve.mIndex) {
                    MkUtils_1.default.setNodeDelay(this.node, 0.5, function () {
                        _this.selectCrop();
                        _this.cropNode.active = true;
                        _this.autoBuy();
                    });
                }
                else {
                    this.shelve.refreshRole(this);
                    this.shelve = shelve;
                    this.changeSheleve(shelve);
                }
            }
            else {
                this.goAccount();
            }
        }
        else {
            //去结算
            this.goAccount();
        }
    };
    RolePrefab.prototype.getSheleve = function () {
        var arr = PlayerModel_1.default.sheleveList.filter(function (item) {
            return item.currentNum > 0 && item.roleNum < 8;
        });
        if (arr.length > 0) {
            var shelve = Utils_1.default.getRandomByArr(arr);
            return shelve;
        }
        return null;
    };
    //卖出
    RolePrefab.prototype.onSell = function () {
        var random = MkUtils_1.default.randomNMF(0, 100);
        this.sellTipsGold.active = false;
        this.sellTipsHb.active = false;
        // if (SDKManager.hasCustomerRedReward()) {
        //     if (random < 30) {
        //         let gold = MKUtils.randomNM(80, 120);
        //         this.sellBack({ gold: gold })
        //         this.sellTipsGold.active = true;
        //     } else {
        //         this.sellTipsHb.active = true;
        //         EventDispath.addEventListener(EventType.SDK_REWARD_CONFIG, this.rewardCfgBack, this)
        //         SDKManager.getCustomerConfig(this.shelve.mId);
        //     }
        // } else {
        var gold = MkUtils_1.default.randomNM(200, 230);
        this.sellBack({ gold: gold });
        this.sellTipsGold.active = true;
        // }
    };
    RolePrefab.prototype.rewardCfgBack = function (data) {
        EventDispath_1.default.removeByEvent(EventType_1.EventType.SDK_REWARD_CONFIG, this.rewardCfgBack, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_REWARD_GOT, this.sellBack, this);
        SDKManager_1.default.getRedPackReward(data.configId);
    };
    /**
     *
     * @param data
     *  // {
     //     "code":0 //0-成功 其他领取失败 酌情处理
     //     "msg": "领取成功", //非0情况会给出对应msg 酌情处理
     //     "amount":"1.5",//当前结账领取金额
     //     "balance":"100.33",//用户总金额
     //     "level":1//用户等级
     // }
     */
    RolePrefab.prototype.sellBack = function (data) {
        var _this = this;
        var type = this.shelvesType[this.shelve.mIndex];
        var add = ConfigManager_1.default.getShelveByType(type, this.shelve.mLv).add_num;
        EventDispath_1.default.removeByEvent(EventType_1.EventType.SDK_REWARD_GOT, this.sellBack, this);
        var xfzs = (0.2 * (1 + add / 100)).toFixed(2);
        var p = this.node.convertToWorldSpaceAR(this.cropNode.getPosition());
        if (data.gold) {
            var gold = Math.floor(data.gold * (1 + add / 100));
            this.sellTipsMoney.string = "+" + gold + "";
            this.sellTipsXfzs.string = "+" + xfzs + "";
            PlayerModel_1.default.setGold(gold, 1, p);
        }
        else {
            this.sellTipsMoney.string = "+" + Number(data.redBean).toFixed(2) + "元";
            PlayerModel_1.default.setMoney(data.userRedBean, data.redBean, p);
        }
        PlayerModel_1.default.setXfzs(Number(xfzs), p);
        PlayerModel_1.default.checkAddOrder(100, 1, function () {
            // UIMananger.showPanel(UIType.orderSuccessView);
            EventDispath_1.default.send(EventType_1.EventType.ORDER_COMPLETE_UPDATE);
        });
        PlayerModel_1.default.zdGkNum++;
        EventDispath_1.default.send(EventType_1.EventType.HKHB_UPDATE);
        this.sellNode.active = false;
        this.sellTipsNode.y = 100;
        this.sellTipsNode.active = true;
        this.cashierPfb.onAutoSell();
        this.sellTipsNode.runAction(cc.sequence(cc.moveTo(0.5, this.sellTipsNode.x, 200).easing(cc.easeOut(5.0)), cc.delayTime(0.5), cc.callFunc(function () {
            _this.sellTipsNode.active = false;
        })));
        MkUtils_1.default.setNodeDelay(this.node, 1, function () {
            _this.goOut(2);
            // MKUtils.setNodeDelay(this.node, 0.2, () => {
            _this.cashierPfb.updateRole();
            // })
            // EventDispath.send(EventType.UPDATE_CAHIER_ROLE)
        });
    };
    RolePrefab.prototype.changeAction = function (action) {
        this.role.animation = action;
    };
    RolePrefab.prototype.update = function (dt) {
        var p = this.node.getPosition();
        if (!this.isInit && p.x >= this.outPoint.x - 30) {
            this.clear();
        }
        // this.interval++;
        // if (this.interval >= 10) {
        //     this.interval = 0;
        //     if (this.isMove) {
        //         let arr = this.node.parent.children;
        //         let len = arr.length;
        //         // SortUtils.quickSort(arr, "y", false);
        //         for (let i = 0; i < len; i++) {
        //             if (this.node.uuid == arr[i].uuid) continue;
        //             let dis = MKUtils.twoPointDistance(this.node.position, arr[i].position)
        //             if (dis < 100) {
        //                 console.log("===============");
        //                 if(this.node.y>arr[i].y){
        //                     this.node.zIndex = arr[i].zIndex-1;
        //                 }else{
        //                     this.node.zIndex = arr[i].zIndex+1;
        //                 }
        //             }
        //         }
        // }
        // }
        this.currentY = this.node.y;
    };
    RolePrefab.prototype.autoBuy = function () {
        var _this = this;
        if (this.shelve.isAuto) {
            MkUtils_1.default.setNodeDelay(this.node, 1, function () {
                _this.onBuy();
            });
        }
    };
    RolePrefab.prototype.clear = function () {
        this.node.stopAllActions();
        this.isInit = true;
        GamePoolManager_1.default.putRole(this.node);
        this.currentTimes = 1;
        this.shelveIndex = -1;
        this.isAccount = false;
        EventDispath_1.default.removeEventListeners(this);
    };
    RolePrefab.prototype.updateSpeed = function () {
        this.speed = this.speed_base + this.speed_base * PlayerModel_1.default.getSpeedAdd();
    };
    //获取引导坐标
    RolePrefab.prototype.getGuidePoint = function () {
        return this.cropNode.convertToWorldSpaceAR(cc.v2(0, 0));
    };
    //  引导购买
    RolePrefab.prototype.guideBuy = function () {
        var _this = this;
        // this.shelve.roleNum--;
        this.shelve.reduceCrop(this.needCropId, this);
        this.cropNode.active = false;
        this.role.animation = ActionType_1.default.H_STAND_BUY;
        this.role.setCompleteListener(function (trackEntry, loopCount) {
            _this.role.setCompleteListener(null);
            if (_this.shelveIndex == 2 || _this.shelveIndex == 3) {
                _this.role.animation = ActionType_1.default.Q_STAND_FINISH_RIGHT;
            }
            else {
                _this.role.animation = ActionType_1.default.H_STAND_FINISH;
            }
            MkUtils_1.default.setNodeDelay(_this.node, 0.5, function () {
                _this.addBuyList();
                //去结账
                _this.goAccount();
            });
        });
    };
    __decorate([
        property(cc.Sprite)
    ], RolePrefab.prototype, "crop", void 0);
    __decorate([
        property(cc.Node)
    ], RolePrefab.prototype, "cropNode", void 0);
    __decorate([
        property(cc.Node)
    ], RolePrefab.prototype, "tipsNode", void 0);
    __decorate([
        property(cc.Label)
    ], RolePrefab.prototype, "tipsLab", void 0);
    __decorate([
        property(cc.Node)
    ], RolePrefab.prototype, "sellNode", void 0);
    __decorate([
        property(cc.Node)
    ], RolePrefab.prototype, "sellTipsNode", void 0);
    __decorate([
        property(cc.Node)
    ], RolePrefab.prototype, "sellTipsHb", void 0);
    __decorate([
        property(cc.Node)
    ], RolePrefab.prototype, "sellTipsGold", void 0);
    __decorate([
        property(cc.Label)
    ], RolePrefab.prototype, "sellTipsMoney", void 0);
    __decorate([
        property(cc.Label)
    ], RolePrefab.prototype, "sellTipsXfzs", void 0);
    __decorate([
        property(sp.Skeleton)
    ], RolePrefab.prototype, "role", void 0);
    __decorate([
        property([sp.SkeletonData])
    ], RolePrefab.prototype, "skeList", void 0);
    RolePrefab = __decorate([
        ccclass
    ], RolePrefab);
    return RolePrefab;
}(cc.Component));
exports.default = RolePrefab;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vUm9sZVByZWZhYi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdsRiw4RUFBeUU7QUFDekUsb0VBQStEO0FBRS9ELHdFQUFtRTtBQUNuRSxrRUFBaUU7QUFDakUsNERBQXVEO0FBRXZELHdEQUFtRDtBQUNuRCxzREFBaUQ7QUFHakQsdURBQWtEO0FBQ2xELDZEQUF3RDtBQUV4RCxtREFBOEM7QUFJeEMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFRNUM7SUFBd0MsOEJBQVk7SUFBcEQ7UUFBQSxxRUFnbkJDO1FBN21CRyxVQUFJLEdBQWMsSUFBSSxDQUFDO1FBRXZCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFFekIsY0FBUSxHQUFZLElBQUksQ0FBQztRQUV6QixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBRXpCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFFekIsa0JBQVksR0FBWSxJQUFJLENBQUM7UUFFN0IsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFFM0Isa0JBQVksR0FBWSxJQUFJLENBQUM7UUFFN0IsbUJBQWEsR0FBYSxJQUFJLENBQUM7UUFFL0Isa0JBQVksR0FBYSxJQUFJLENBQUM7UUFHOUIsVUFBSSxHQUFnQixJQUFJLENBQUM7UUFHekIsYUFBTyxHQUFzQixFQUFFLENBQUM7UUFDaEMsd0JBQXdCO1FBQ3hCLFFBQVE7UUFFUixnQkFBVSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDOUIsT0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUs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YXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBKU0hlbHBlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL2hlbHBlci9KU0hlbHBlclwiO1xyXG5pbXBvcnQgR2FtZVBvb2xNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9HYW1lUG9vbE1hbmFnZXJcIjtcclxuaW1wb3J0IFNES01hbmFnZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1NES01hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Na1V0aWxzXCI7XHJcbmltcG9ydCBTb3J0VXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Tb3J0VXRpbHNcIjtcclxuaW1wb3J0IFV0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvVXRpbHNcIjtcclxuaW1wb3J0IEFjdGlvblR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0cy9BY3Rpb25UeXBlXCI7XHJcbmltcG9ydCB7IGNyb3BfY29uZmlnLCBwcm9wVHlwZSB9IGZyb20gXCIuLi8uLi9jb25zdHMvQ0NvbnN0XCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0cy9VSVR5cGVcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcbmltcG9ydCBFZmZlY3RNYW5hZ2VyIGZyb20gXCIuLi8uLi9tYW5hZ2VyL0VmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IENhc2hpZXJNYW5hZ2VyIGZyb20gXCIuL0Nhc2hpZXJNYW5hZ2VyXCI7XHJcbmltcG9ydCBDYXNoaWVyUHJlZmFiIGZyb20gXCIuL0Nhc2hpZXJQcmVmYWJcIjtcclxuaW1wb3J0IFNoZWx2ZVByZWZhYiwgeyBwdXRPbkNvbmZpZyB9IGZyb20gXCIuL1NoZWx2ZVByZWZhYlwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgYnV5Q3JvcENmZyB7XHJcbiAgICBjcm9wSWQ6IG51bWJlciwvL+S9nOeJqUlEXHJcbiAgICBudW06IG51bWJlciwvL+W3sue7j+i0reS5sOeahOaVsOmHj1xyXG59XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb2xlUHJlZmFiIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgY3JvcDogY2MuU3ByaXRlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgY3JvcE5vZGU6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICB0aXBzTm9kZTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB0aXBzTGFiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHNlbGxOb2RlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgc2VsbFRpcHNOb2RlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgc2VsbFRpcHNIYjogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHNlbGxUaXBzR29sZDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBzZWxsVGlwc01vbmV5OiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBzZWxsVGlwc1hmenM6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoc3AuU2tlbGV0b24pXHJcbiAgICByb2xlOiBzcC5Ta2VsZXRvbiA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KFtzcC5Ta2VsZXRvbkRhdGFdKVxyXG4gICAgc2tlTGlzdDogc3AuU2tlbGV0b25EYXRhW10gPSBbXTtcclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG4gICAgLy8gc3RhdGVcclxuXHJcbiAgICBzdGFydFBvaW50ID0gY2MudjIoLTY2MCwgMjMwKTtcclxuICAgIHAgPSBjYy52MigtNDQ1LCAxNDApO1xyXG4gICAgLy8gcCA9IGNjLnYyKDI4NSwgMTEwKTtcclxuXHJcbiAgICAvLyBzcDEgPSBjYy52MigyMjUsIDE4MCk7XHJcbiAgICAvLyBzcDIgPSBjYy52MigtNjAsIDcwKTtcclxuICAgIC8vIHNwMyA9IGNjLnYyKDE5MCwgLTIwKTtcclxuICAgIC8vIHNwNCA9IGNjLnYyKC00MCwgLTEzMCk7XHJcbiAgICAvLyBzcDUgPSBjYy52MigtNzAwLCAtMjg1KTtcclxuICAgIHRhcmdldFBvaW50cyA9IFtcclxuICAgICAgICBjYy52MigtMTQwLCAtNTApLFxyXG4gICAgICAgIGNjLnYyKDEzMCwgLTE1MCksXHJcbiAgICAgICAgY2MudjIoMjcwLCAtMTApLFxyXG4gICAgICAgIGNjLnYyKC0xMCwgMTA1KSxcclxuICAgICAgICBjYy52MigtMzAwLCAyMjApXHJcbiAgICBdXHJcbiAgICBhY2NvdW50UG9pbnQgPSBjYy52Mig0MDAsIC0yODApXHJcbiAgICBvdXRQb2ludCA9IGNjLnYyKDYyMCwgLTI1MClcclxuXHJcbiAgICBjdXJyZW50QWN0aW9uID0gQWN0aW9uVHlwZS5RX1NUQU5EX0xFRlQ7XHJcbiAgICBzaGVsdmU6IFNoZWx2ZVByZWZhYjsvL+WvueW6lOi0p+aetlxyXG4gICAgc2hlbHZlSW5kZXggPSAtMTtcclxuICAgIHNwZWVkID0gMS41O1xyXG4gICAgc3BlZWRfYmFzZSA9IDEuNTtcclxuICAgIG9yZGVyTnVtID0gLTE7Ly/mjpLlnKjnrKzlh6DkuKrkvY3nva5cclxuICAgIHJvbGVJZCA9IC0xO1xyXG4gICAgbmVlZENyb3BJZCA9IC0xOy8v6ZyA6KaB6LSt5Lmw55qE5L2c54mpSURcclxuICAgIGJ1eUNyb3BMaXN0OiBidXlDcm9wQ2ZnW10gPSBbXTtcclxuICAgIGJhc2VDcm9wQ2ZnOiBjcm9wX2NvbmZpZzsvL+mcgOimgei0reS5sOeahOS9nOeJqeWfuuehgOmFjee9rlxyXG4gICAgY3VycmVudFRpbWVzID0gMTsvL+W9k+WJjeesrOWHoOasoei0reS5sFxyXG5cclxuICAgIGlzQWNjb3VudCA9IGZhbHNlOy8v5piv5ZCm5piv57uT6LSm54q25oCBXHJcblxyXG4gICAgY2FzaGllclBmYjogQ2FzaGllclByZWZhYjsvL+e7k+i0puWPsFxyXG5cclxuICAgIGlzSW5pdCA9IHRydWU7XHJcbiAgICBjdXJyZW50WSA9IDA7XHJcblxyXG5cclxuICAgIGppZXpoYW5nSW5keCA9IDA7XHJcblxyXG4gICAgcm9sZUluU2hlbGV2ZUluZGV4ID0gLTE7XHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG5cclxuICAgIH1cclxuICAgIHNldFJvbGUodmFsdWUpIHtcclxuICAgICAgICB0aGlzLnJvbGUudGltZVNjYWxlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5jcm9wTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRpcHNOb2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2VsbE5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zZWxsVGlwc05vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5idXlDcm9wTGlzdCA9IFtdO1xyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIG9uRW5hYmxlKCk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLmlzSW5pdCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSB0aGlzLnNwZWVkX2Jhc2UgKyB0aGlzLnNwZWVkX2Jhc2UgKiBQbGF5ZXJNb2RlbC5nZXRTcGVlZEFkZCgpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5jcm9wTm9kZSwgdGhpcy5vbkJ1eSwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuc2VsbE5vZGUsIHRoaXMub25TZWxsLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFX1JPQUQsIHRoaXMudXBkYXRlU3BlZWQsIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBpZCDkurrnialpZFxyXG4gICAgICogQHBhcmFtIHNoZWx2ZUluZGV4IOW9k+WJjei0p+aetue0ouW8lVxyXG4gICAgICovXHJcbiAgICBjcmVhdGUoaWQsIHNoZWx2ZTogU2hlbHZlUHJlZmFiLCBjYXNoaWVyUGZiOiBDYXNoaWVyUHJlZmFiKSB7XHJcbiAgICAgICAgdGhpcy5yb2xlSWQgPSBpZDtcclxuICAgICAgICB0aGlzLmNhc2hpZXJQZmIgPSBjYXNoaWVyUGZiO1xyXG4gICAgICAgIGlmIChzaGVsdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5zaGVsdmVJbmRleCA9IHNoZWx2ZS5tSW5kZXg7XHJcbiAgICAgICAgICAgIHRoaXMuc2hlbHZlID0gc2hlbHZlO1xyXG4gICAgICAgICAgICB0aGlzLm9yZGVyTnVtID0gdGhpcy5zaGVsdmUucm9sZU51bTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNoZWx2ZUluZGV4ID0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3JlYXRlUm9sZSgpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0Q3JvcCgpO1xyXG4gICAgfVxyXG4gICAgLy/pnIDopoHotK3kubDnmoTkvZznialcclxuICAgIHNlbGVjdENyb3AoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNoZWx2ZSkgcmV0dXJuO1xyXG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5zaGVsdmUuY3JvcExpc3Q7XHJcbiAgICAgICAgbGV0IGlkID0gLTE7XHJcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgY3JvcCA9IFV0aWxzLmdldFJhbmRvbUJ5QXJyKGxpc3QpO1xyXG4gICAgICAgICAgICBpZCA9IGNyb3AuY3JvcElkO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlkID0gUGxheWVyTW9kZWwuZ2V0TmV3Q3JvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5lZWRDcm9wSWQgPSBpZDtcclxuICAgICAgICBNS1V0aWxzLmxvYWRTcHJpdGVGcmFtZShcInRleHR1cmUvY3JvcC9zaW5nbGVJY29uL1wiICsgaWQsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jcm9wLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmJhc2VDcm9wQ2ZnID0gQ29uZmlnTWFuYWdlci5nZXRDcm9wQnlJZCh0aGlzLm5lZWRDcm9wSWQpO1xyXG4gICAgfVxyXG4gICAgLy/liJvlu7rpob7lrqLliqjnlLtcclxuICAgIGNyZWF0ZVJvbGUoKSB7XHJcbiAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuc2V0UG9zaXRpb24odGhpcy5zdGFydFBvaW50KVxyXG4gICAgICAgICAgICAvLyBpZiAodGhpcy5yb2xlSWQgPiA5KSB7XHJcbiAgICAgICAgICAgIHRoaXMucm9sZS5za2VsZXRvbkRhdGEgPSB0aGlzLnNrZUxpc3RbdGhpcy5yb2xlSWQgLSAxXTtcclxuICAgICAgICAgICAgdGhpcy5yb2xlLmFuaW1hdGlvbiA9IEFjdGlvblR5cGUuUV9XQUxLO1xyXG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAgICAgbGV0IHVybCA9IFwic3BpbmUvcm9sZS8wXCIgKyB0aGlzLnJvbGVJZCArIFwiL3JvbGVfMFwiICsgdGhpcy5yb2xlSWQ7XHJcbiAgICAgICAgICAgIC8vICAgICBNS1V0aWxzLmxvYWRTa2VsZXRvbkRhdGEodXJsLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5yb2xlLnNrZWxldG9uRGF0YSA9IHJlcztcclxuICAgICAgICAgICAgLy8gICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICAgICAgICAvLyAgICAgfSwgKCkgPT4geyB9KVxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5zaGVsdmVJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAtMTpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbjEoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbjIoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIC8v55u05o6l6LWw5Ye65Y67XHJcbiAgICBhY3Rpb24xKCkge1xyXG4gICAgICAgIHRoaXMucm9sZS5hbmltYXRpb24gPSBBY3Rpb25UeXBlLlFfV0FMSztcclxuICAgICAgICBsZXQgYWN0aW9uID0gY2Muc2VxdWVuY2UoY2MubW92ZVRvKDIwLCB0aGlzLm91dFBvaW50KSwgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBsZXQgbmV3QWN0aW9uID0gY2Muc3BlZWQoYWN0aW9uLCB0aGlzLnNwZWVkKTtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKG5ld0FjdGlvbik7XHJcbiAgICB9XHJcbiAgICAvL+WOu+i1sOWHuuWOu1xyXG4gICAgZ29PdXQodHlwZSA9IDEpIHtcclxuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy50YXJnZXRQb2ludHNbdGhpcy5zaGVsdmVJbmRleF1cclxuICAgICAgICB0aGlzLnJvbGUuYW5pbWF0aW9uID0gQWN0aW9uVHlwZS5RX1dBTEs7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gMikge1xyXG4gICAgICAgICAgICB0YXJnZXQgPSB0aGlzLmFjY291bnRQb2ludDtcclxuICAgICAgICAgICAgdGhpcy5yb2xlLmFuaW1hdGlvbiA9IEFjdGlvblR5cGUuUV9XQUxLX0ZJTklTSDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRpcyA9IE1LVXRpbHMudHdvUG9pbnREaXN0YW5jZSh0YXJnZXQsIHRoaXMub3V0UG9pbnQpXHJcblxyXG4gICAgICAgIGxldCBhY3Rpb24gPSBjYy5zZXF1ZW5jZShjYy5tb3ZlVG8oZGlzIC8gODAsIHRoaXMub3V0UG9pbnQpLCBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucm9sZUluU2hlbGV2ZUluZGV4ID0gLTE7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIGxldCBuZXdBY3Rpb24gPSBjYy5zcGVlZChhY3Rpb24sIHRoaXMuc3BlZWQpO1xyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24obmV3QWN0aW9uKTtcclxuICAgIH1cclxuICAgIC8v5Y6757uT6LSmXHJcbiAgICBnb0FjY291bnQoKSB7XHJcbiAgICAgICAgLy8gdGhpcy5yb2xlLm5vZGUuc2NhbGVYID0gMTtcclxuICAgICAgICB0aGlzLnNoZWx2ZS5yZWZyZXNoUm9sZSh0aGlzKTtcclxuICAgICAgICB0aGlzLnJvbGVJblNoZWxldmVJbmRleCA9IC0xO1xyXG4gICAgICAgIHRoaXMucm9sZS5hbmltYXRpb24gPSBBY3Rpb25UeXBlLlFfV0FMS19GSU5JU0g7XHJcbiAgICAgICAgQ2FzaGllck1hbmFnZXIuYWRkUm9sZSh0aGlzKTtcclxuICAgICAgICAvLyBsZXQgdGFyZ2V0ID0gdGhpcy50YXJnZXRQb2ludHNbdGhpcy5zaGVsdmVJbmRleF1cclxuICAgICAgICAvLyBsZXQgZGlzID0gTUtVdGlscy50d29Qb2ludERpc3RhbmNlKHRhcmdldCwgdGhpcy5hY2NvdW50UG9pbnQpXHJcbiAgICAgICAgLy8gdGhpcy5yb2xlLmFuaW1hdGlvbiA9IEFjdGlvblR5cGUuUV9XQUxLX0ZJTklTSDtcclxuICAgICAgICAvLyB0aGlzLmNhc2hpZXJQZmIucm9sZUxlbisrO1xyXG4gICAgICAgIC8vIHRoaXMubm9kZS5wYXJlbnQgPSB0aGlzLmNhc2hpZXJQZmIucm9sZVBhcmVudDtcclxuICAgICAgICAvLyBsZXQgYWN0aW9uID0gY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgLy8gICAgIGNjLm1vdmVUbyhkaXMgLyA4MCwgdGhpcy5hY2NvdW50UG9pbnQueCArIHRoaXMuY2FzaGllclBmYi5yb2xlTGVuICogMTUsIHRoaXMuYWNjb3VudFBvaW50LnkgKyB0aGlzLmNhc2hpZXJQZmIucm9sZUxlbiAqIDE1KSxcclxuICAgICAgICAvLyAgICAgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5yb2xlLmFuaW1hdGlvbiA9IEFjdGlvblR5cGUuUV9TVEFORF9GSU5JU0hfUklHSFQ7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmlzQWNjb3VudCA9IHRydWU7XHJcbiAgICAgICAgLy8gICAgICAgICAvLyB0aGlzLm5vZGUuekluZGV4ID0gOTk5O1xyXG4gICAgICAgIC8vICAgICAgICAgLy8gRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkFERF9DQUhJRVJfUk9MRSwgdGhpcyk7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmNhc2hpZXJQZmIuYWRkUm9sZSh0aGlzKTtcclxuICAgICAgICAvLyAgICAgfSkpO1xyXG4gICAgICAgIC8vIGxldCBuZXdBY3Rpb24gPSBjYy5zcGVlZChhY3Rpb24sIHRoaXMuc3BlZWQpO1xyXG4gICAgICAgIC8vIHRoaXMubm9kZS5ydW5BY3Rpb24obmV3QWN0aW9uKTtcclxuICAgIH1cclxuICAgIGZpbnNoQWN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMucm9sZS5hbmltYXRpb24gPSBBY3Rpb25UeXBlLlFfU1RBTkRfRklOSVNIX1JJR0hUO1xyXG4gICAgfVxyXG4gICAgc2hvd1NlbGwoKSB7XHJcbiAgICAgICAgLy8gdGhpcy5zZWxsTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy/nrKzkuIDmrKHotbDliLDmn5DkuKrmkYrkvY3liY1cclxuICAgIGFjdGlvbjIoKSB7XHJcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuc2hlbHZlLmdldFBvaW50KCk7XHJcblxyXG4gICAgICAgIGlmICghdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uMSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2hlbHZlLndhbGtMZW4rKztcclxuICAgICAgICAvLyBsZXQgdGFyZ2V0ID0gdGhpcy50YXJnZXRQb2ludHNbdGhpcy5zaGVsdmVJbmRleF1cclxuICAgICAgICBsZXQgZGlzID0gTUtVdGlscy50d29Qb2ludERpc3RhbmNlKHRhcmdldCwgdGhpcy5wKVxyXG5cclxuICAgICAgICB0aGlzLmlzTW92ZSA9IHRydWU7XHJcbiAgICAgICAgbGV0IGFjdGlvbiA9IGNjLnNlcXVlbmNlKGNjLm1vdmVUbyg0LCB0aGlzLnApLFxyXG4gICAgICAgICAgICBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGUuYW5pbWF0aW9uID0gQWN0aW9uVHlwZS5RX1NUQU5EX0xFRlQ7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBjYy5kZWxheVRpbWUoMSksXHJcbiAgICAgICAgICAgIGNjLmNhbGxGdW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucm9sZS5hbmltYXRpb24gPSBBY3Rpb25UeXBlLlFfV0FMSztcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIC8vIGNjLm1vdmVUbyhkaXMgLyA4MCwgdGFyZ2V0KSxcclxuICAgICAgICAgICAgLy8gY2MubW92ZVRvKGRpcyAvIDgwLCB0YXJnZXQueCAtIHRoaXMub3JkZXJOdW0gKiAxMCwgdGFyZ2V0LnkpLFxyXG4gICAgICAgICAgICBjYy5tb3ZlVG8oZGlzIC8gODAsIHRhcmdldC54LCB0YXJnZXQueSksXHJcbiAgICAgICAgICAgIGNjLmNhbGxGdW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hlbHZlLmFkZFJvbGUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTW92ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hlbHZlSW5kZXggPT0gMCB8fCB0aGlzLnNoZWx2ZUluZGV4ID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvbGUuYW5pbWF0aW9uID0gQWN0aW9uVHlwZS5RX1NUQU5EX1JJR0hUO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubm9kZS56SW5kZXggPSA4ODg7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9sZS5hbmltYXRpb24gPSBBY3Rpb25UeXBlLkhfU1RBTkQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5ub2RlLnpJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoUGxheWVyTW9kZWwuZ3VpZGVTdGF0ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBNS1V0aWxzLnNldE5vZGVEZWxheSh0aGlzLm5vZGUsIDEsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcm9wTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dG9CdXkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyb3BOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICBsZXQgbmV3QWN0aW9uID0gY2Muc3BlZWQoYWN0aW9uLCB0aGlzLnNwZWVkKTtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKG5ld0FjdGlvbik7XHJcbiAgICB9XHJcbiAgICAvL+aUueWPmOaRiuS9jVxyXG4gICAgY2hhbmdlU2hlbGV2ZShzaGVsdmU6IFNoZWx2ZVByZWZhYikge1xyXG5cclxuICAgICAgICBsZXQgb2xkSWRleCA9IHRoaXMuc2hlbHZlSW5kZXg7XHJcbiAgICAgICAgaWYgKHNoZWx2ZSkgdGhpcy5zaGVsdmVJbmRleCA9IHNoZWx2ZS5tSW5kZXg7XHJcbiAgICAgICAgZWxzZSB0aGlzLnNoZWx2ZUluZGV4ID0gLTE7XHJcbiAgICAgICAgdGhpcy5vcmRlck51bSA9IHNoZWx2ZS5yb2xlTnVtO1xyXG4gICAgICAgIC8vIGlmICh0aGlzLnNoZWx2ZUluZGV4ID09IDIgfHwgdGhpcy5zaGVsdmVJbmRleCA9PSAzKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMubm9kZS56SW5kZXggPSA5OTk7XHJcbiAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5ub2RlLnpJbmRleCA9IDA7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIHRoaXMucm9sZS5hbmltYXRpb24gPSBBY3Rpb25UeXBlLlFfV0FMS19GSU5JU0g7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VTY2FsZVgob2xkSWRleCk7XHJcblxyXG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnNoZWx2ZS5nZXRQb2ludCgpO1xyXG4gICAgICAgIGlmICghdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ29BY2NvdW50KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRpcyA9IE1LVXRpbHMudHdvUG9pbnREaXN0YW5jZSh0YXJnZXQsIHRoaXMudGFyZ2V0UG9pbnRzW29sZElkZXhdKVxyXG5cclxuICAgICAgICB0aGlzLnJvbGUuYW5pbWF0aW9uID0gQWN0aW9uVHlwZS5RX1dBTEtfRklOSVNIO1xyXG4gICAgICAgIGxldCBhY3Rpb24gPSBjYy5zZXF1ZW5jZShcclxuXHJcbiAgICAgICAgICAgIGNjLm1vdmVUbyhkaXMgLyA4MCwgdGFyZ2V0LngsIHRhcmdldC55KSxcclxuICAgICAgICAgICAgLy8gY2MubW92ZVRvKGRpcyAvIDgwLCB0YXJnZXQpLFxyXG4gICAgICAgICAgICAvLyBjYy5tb3ZlVG8oZGlzIC8gODAsIHRhcmdldC54ICsgdGhpcy5vcmRlck51bSAqIDEwLCB0YXJnZXQueSt0aGlzLm9yZGVyTnVtKjUpLFxyXG4gICAgICAgICAgICBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNoZWx2ZS5hZGRSb2xlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hlbHZlSW5kZXggPT0gMiB8fCB0aGlzLnNoZWx2ZUluZGV4ID09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvbGUuYW5pbWF0aW9uID0gQWN0aW9uVHlwZS5RX1NUQU5EX1JJR0hUO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubm9kZS56SW5kZXggPSA4ODg7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9sZS5hbmltYXRpb24gPSBBY3Rpb25UeXBlLkhfU1RBTkQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5ub2RlLnpJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGUubm9kZS5zY2FsZVggPSAxO1xyXG4gICAgICAgICAgICAgICAgTUtVdGlscy5zZXROb2RlRGVsYXkodGhpcy5ub2RlLCAxLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RDcm9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcm9wTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXV0b0J1eSgpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICBsZXQgbmV3QWN0aW9uID0gY2Muc3BlZWQoYWN0aW9uLCB0aGlzLnNwZWVkKTtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKG5ld0FjdGlvbik7XHJcbiAgICB9XHJcbiAgICBjaGFuZ2VTY2FsZVgob2xkSW5kZXgpIHtcclxuICAgICAgICBpZiAob2xkSW5kZXggPT0gNCkge1xyXG4gICAgICAgICAgICB0aGlzLnJvbGUubm9kZS5zY2FsZVggPSAtMTtcclxuICAgICAgICB9IGVsc2UgaWYgKG9sZEluZGV4ID09IDMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hlbHZlSW5kZXggPT0gMCB8fCB0aGlzLnNoZWx2ZUluZGV4ID09IDEgfHwgdGhpcy5zaGVsdmVJbmRleCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGUubm9kZS5zY2FsZVggPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAob2xkSW5kZXggPT0gMikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaGVsdmVJbmRleCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGUubm9kZS5zY2FsZVggPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAob2xkSW5kZXggPT0gMSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaGVsdmVJbmRleCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGUubm9kZS5zY2FsZVggPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJvbGUubm9kZS5zY2FsZVggPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkJ1eSgpIHtcclxuICAgICAgICAvLyB0aGlzLnNoZWx2ZS5yb2xlTnVtLS07XHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tTaGVsZXZlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zaGVsdmUucmVkdWNlQ3JvcCh0aGlzLm5lZWRDcm9wSWQsIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JvcE5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaGVsdmVJbmRleCA9PSAwIHx8IHRoaXMuc2hlbHZlSW5kZXggPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9sZS5hbmltYXRpb24gPSBBY3Rpb25UeXBlLlFfU1RBTkRfQlVZXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9sZS5hbmltYXRpb24gPSBBY3Rpb25UeXBlLkhfU1RBTkRfQlVZXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGUuc2V0Q29tcGxldGVMaXN0ZW5lcigodHJhY2tFbnRyeSwgbG9vcENvdW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb2xlLnNldENvbXBsZXRlTGlzdGVuZXIobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hlbHZlSW5kZXggPT0gMCB8fCB0aGlzLnNoZWx2ZUluZGV4ID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb2xlLmFuaW1hdGlvbiA9IEFjdGlvblR5cGUuUV9TVEFORF9GSU5JU0hfUklHSFQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb2xlLmFuaW1hdGlvbiA9IEFjdGlvblR5cGUuSF9TVEFORF9GSU5JU0hcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgTUtVdGlscy5zZXROb2RlRGVsYXkodGhpcy5ub2RlLCAwLjUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRCdXlMaXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5Y6757uT6LSmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ29BY2NvdW50KClcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3JvcExvc3RCeVNoZWxldmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhZGRCdXlMaXN0KCkge1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmJ1eUNyb3BMaXN0LmZpbHRlcigodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmNyb3BJZCA9PSB0aGlzLm5lZWRDcm9wSWQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA+IDApIGFyclswXS5udW0rKztcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5idXlDcm9wTGlzdC5wdXNoKHsgY3JvcElkOiB0aGlzLm5lZWRDcm9wSWQsIG51bTogMSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+i0p+aetue8uuWwkeW9k+WJjeS9nOeJqVxyXG4gICAgY3JvcExvc3RCeVNoZWxldmUoKSB7XHJcbiAgICAgICAgdGhpcy5jcm9wTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBsZXQgc3RyID0gXCLogIHmnb/np43ngrnlhL9cIiArIHRoaXMuYmFzZUNyb3BDZmcubmFtZSArIFwi5ZCn77yM5oiR5LiA5Lya5YS/6L+H5p2l5LmwXCJcclxuICAgICAgICB0aGlzLnRpcHNMYWIuc3RyaW5nID0gc3RyO1xyXG4gICAgICAgIHRoaXMudGlwc05vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBNS1V0aWxzLnNldE5vZGVEZWxheSh0aGlzLm5vZGUsIDEuNSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5idXlDcm9wTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdvQWNjb3VudCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nb091dCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaGVsdmUucmVmcmVzaFJvbGUodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50aXBzTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgLy/mo4DmtYvotKfmnrbmmK/lkKbmnInlvZPliY3kvZznialcclxuICAgIGNoZWNrU2hlbGV2ZSgpIHtcclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5zaGVsdmUuY3JvcExpc3QuZmlsdGVyKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuY3JvcElkID09IHRoaXMubmVlZENyb3BJZDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmIChhcnIubGVuZ3RoID4gMCkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIG5leHRTdGVwKGlzT3Zlcikge1xyXG4gICAgICAgIGlmIChpc092ZXIpIHtcclxuICAgICAgICAgICAgbGV0IHNoZWx2ZSA9IHRoaXMuZ2V0U2hlbGV2ZSgpO1xyXG4gICAgICAgICAgICBpZiAoc2hlbHZlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzaGVsdmUucm9sZU51bSsrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hlbHZlSW5kZXggPT0gc2hlbHZlLm1JbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIE1LVXRpbHMuc2V0Tm9kZURlbGF5KHRoaXMubm9kZSwgMC41LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0Q3JvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyb3BOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXV0b0J1eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hlbHZlLnJlZnJlc2hSb2xlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hlbHZlID0gc2hlbHZlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU2hlbGV2ZShzaGVsdmUpXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nb0FjY291bnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8v5Y6757uT566XXHJcbiAgICAgICAgICAgIHRoaXMuZ29BY2NvdW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2hlbHZlc1R5cGUgPSBbMjEsIDIyLCAyMywgMjQsIDI1LF1cclxuICAgIGdldFNoZWxldmUoKSB7XHJcbiAgICAgICAgbGV0IGFyciA9IFBsYXllck1vZGVsLnNoZWxldmVMaXN0LmZpbHRlcigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS5jdXJyZW50TnVtID4gMCAmJiBpdGVtLnJvbGVOdW0gPCA4O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKGFyci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBzaGVsdmUgPSBVdGlscy5nZXRSYW5kb21CeUFycihhcnIpO1xyXG4gICAgICAgICAgICByZXR1cm4gc2hlbHZlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIC8v5Y2W5Ye6XHJcbiAgICBvblNlbGwoKSB7XHJcblxyXG4gICAgICAgIGxldCByYW5kb20gPSBNS1V0aWxzLnJhbmRvbU5NRigwLCAxMDApO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5zZWxsVGlwc0dvbGQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zZWxsVGlwc0hiLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vIGlmIChTREtNYW5hZ2VyLmhhc0N1c3RvbWVyUmVkUmV3YXJkKCkpIHtcclxuXHJcbiAgICAgICAgLy8gICAgIGlmIChyYW5kb20gPCAzMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgbGV0IGdvbGQgPSBNS1V0aWxzLnJhbmRvbU5NKDgwLCAxMjApO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5zZWxsQmFjayh7IGdvbGQ6IGdvbGQgfSlcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMuc2VsbFRpcHNHb2xkLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnNlbGxUaXBzSGIuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAvLyAgICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5TREtfUkVXQVJEX0NPTkZJRywgdGhpcy5yZXdhcmRDZmdCYWNrLCB0aGlzKVxyXG4gICAgICAgIC8vICAgICAgICAgU0RLTWFuYWdlci5nZXRDdXN0b21lckNvbmZpZyh0aGlzLnNoZWx2ZS5tSWQpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGdvbGQgPSBNS1V0aWxzLnJhbmRvbU5NKDIwMCwgMjMwKTtcclxuICAgICAgICAgICAgdGhpcy5zZWxsQmFjayh7IGdvbGQ6IGdvbGQgfSlcclxuICAgICAgICAgICAgdGhpcy5zZWxsVGlwc0dvbGQuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgfVxyXG4gICAgcmV3YXJkQ2ZnQmFjayhkYXRhKSB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUJ5RXZlbnQoRXZlbnRUeXBlLlNES19SRVdBUkRfQ09ORklHLCB0aGlzLnJld2FyZENmZ0JhY2ssIHRoaXMpXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlNES19SRVdBUkRfR09ULCB0aGlzLnNlbGxCYWNrLCB0aGlzKVxyXG4gICAgICAgIFNES01hbmFnZXIuZ2V0UmVkUGFja1Jld2FyZChkYXRhLmNvbmZpZ0lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gZGF0YSBcclxuICAgICAqICAvLyB7XHJcbiAgICAgLy8gICAgIFwiY29kZVwiOjAgLy8wLeaIkOWKnyDlhbbku5bpooblj5blpLHotKUg6YWM5oOF5aSE55CGXHJcbiAgICAgLy8gICAgIFwibXNnXCI6IFwi6aKG5Y+W5oiQ5YqfXCIsIC8v6Z2eMOaDheWGteS8mue7meWHuuWvueW6lG1zZyDphYzmg4XlpITnkIZcclxuICAgICAvLyAgICAgXCJhbW91bnRcIjpcIjEuNVwiLC8v5b2T5YmN57uT6LSm6aKG5Y+W6YeR6aKdXHJcbiAgICAgLy8gICAgIFwiYmFsYW5jZVwiOlwiMTAwLjMzXCIsLy/nlKjmiLfmgLvph5Hpop1cclxuICAgICAvLyAgICAgXCJsZXZlbFwiOjEvL+eUqOaIt+etiee6p1xyXG4gICAgIC8vIH1cclxuICAgICAqL1xyXG4gICAgc2VsbEJhY2soZGF0YSkge1xyXG5cclxuICAgICAgICBsZXQgdHlwZSA9IHRoaXMuc2hlbHZlc1R5cGVbdGhpcy5zaGVsdmUubUluZGV4XVxyXG4gICAgICAgIGxldCBhZGQgPSBDb25maWdNYW5hZ2VyLmdldFNoZWx2ZUJ5VHlwZSh0eXBlLCB0aGlzLnNoZWx2ZS5tTHYpLmFkZF9udW07XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5yZW1vdmVCeUV2ZW50KEV2ZW50VHlwZS5TREtfUkVXQVJEX0dPVCwgdGhpcy5zZWxsQmFjaywgdGhpcylcclxuICAgICAgICBsZXQgeGZ6cyA9ICgwLjIgKiAoMSArIGFkZCAvIDEwMCkpLnRvRml4ZWQoMik7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLm5vZGUuY29udmVydFRvV29ybGRTcGFjZUFSKHRoaXMuY3JvcE5vZGUuZ2V0UG9zaXRpb24oKSk7XHJcbiAgICAgICAgaWYgKGRhdGEuZ29sZCkge1xyXG4gICAgICAgICAgICBsZXQgZ29sZCA9IE1hdGguZmxvb3IoZGF0YS5nb2xkICogKDEgKyBhZGQgLyAxMDApKVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zZWxsVGlwc01vbmV5LnN0cmluZyA9IFwiK1wiICsgZ29sZCArIFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsbFRpcHNYZnpzLnN0cmluZyA9IFwiK1wiICsgeGZ6cyArIFwiXCI7XHJcbiAgICAgICAgICAgIFBsYXllck1vZGVsLnNldEdvbGQoZ29sZCwgMSwgcCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxsVGlwc01vbmV5LnN0cmluZyA9IFwiK1wiICsgTnVtYmVyKGRhdGEucmVkQmVhbikudG9GaXhlZCgyKSArIFwi5YWDXCI7XHJcblxyXG4gICAgICAgICAgICBQbGF5ZXJNb2RlbC5zZXRNb25leShkYXRhLnVzZXJSZWRCZWFuLCBkYXRhLnJlZEJlYW4sIHApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBQbGF5ZXJNb2RlbC5zZXRYZnpzKE51bWJlcih4ZnpzKSwgcCk7XHJcblxyXG4gICAgICAgIFBsYXllck1vZGVsLmNoZWNrQWRkT3JkZXIoMTAwLCAxLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5vcmRlclN1Y2Nlc3NWaWV3KTtcclxuICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLk9SREVSX0NPTVBMRVRFX1VQREFURSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBQbGF5ZXJNb2RlbC56ZEdrTnVtKys7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkhLSEJfVVBEQVRFKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZWxsTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNlbGxUaXBzTm9kZS55ID0gMTAwO1xyXG4gICAgICAgIHRoaXMuc2VsbFRpcHNOb2RlLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuY2FzaGllclBmYi5vbkF1dG9TZWxsKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2VsbFRpcHNOb2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5tb3ZlVG8oMC41LCB0aGlzLnNlbGxUaXBzTm9kZS54LCAyMDApLmVhc2luZyhjYy5lYXNlT3V0KDUuMCkpLCBjYy5kZWxheVRpbWUoMC41KSwgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGxUaXBzTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9KSkpXHJcbiAgICAgICAgTUtVdGlscy5zZXROb2RlRGVsYXkodGhpcy5ub2RlLCAxLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ29PdXQoMik7XHJcbiAgICAgICAgICAgIC8vIE1LVXRpbHMuc2V0Tm9kZURlbGF5KHRoaXMubm9kZSwgMC4yLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FzaGllclBmYi51cGRhdGVSb2xlKCk7XHJcbiAgICAgICAgICAgIC8vIH0pXHJcbiAgICAgICAgICAgIC8vIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5VUERBVEVfQ0FISUVSX1JPTEUpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIGNoYW5nZUFjdGlvbihhY3Rpb24pIHtcclxuICAgICAgICB0aGlzLnJvbGUuYW5pbWF0aW9uID0gYWN0aW9uO1xyXG4gICAgfVxyXG4gICAgaW50ZXJ2YWwgPSAwO1xyXG4gICAgaXNNb3ZlID0gZmFsc2U7XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBsZXQgcCA9IHRoaXMubm9kZS5nZXRQb3NpdGlvbigpO1xyXG4gICAgICAgIGlmICghdGhpcy5pc0luaXQgJiYgcC54ID49IHRoaXMub3V0UG9pbnQueCAtIDMwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHRoaXMuaW50ZXJ2YWwrKztcclxuICAgICAgICAvLyBpZiAodGhpcy5pbnRlcnZhbCA+PSAxMCkge1xyXG4gICAgICAgIC8vICAgICB0aGlzLmludGVydmFsID0gMDtcclxuICAgICAgICAvLyAgICAgaWYgKHRoaXMuaXNNb3ZlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBsZXQgYXJyID0gdGhpcy5ub2RlLnBhcmVudC5jaGlsZHJlbjtcclxuICAgICAgICAvLyAgICAgICAgIGxldCBsZW4gPSBhcnIubGVuZ3RoO1xyXG4gICAgICAgIC8vICAgICAgICAgLy8gU29ydFV0aWxzLnF1aWNrU29ydChhcnIsIFwieVwiLCBmYWxzZSk7XHJcbiAgICAgICAgLy8gICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgaWYgKHRoaXMubm9kZS51dWlkID09IGFycltpXS51dWlkKSBjb250aW51ZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBsZXQgZGlzID0gTUtVdGlscy50d29Qb2ludERpc3RhbmNlKHRoaXMubm9kZS5wb3NpdGlvbiwgYXJyW2ldLnBvc2l0aW9uKVxyXG4gICAgICAgIC8vICAgICAgICAgICAgIGlmIChkaXMgPCAxMDApIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09PT09PT09PT1cIik7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmKHRoaXMubm9kZS55PmFycltpXS55KXtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS56SW5kZXggPSBhcnJbaV0uekluZGV4LTE7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlLnpJbmRleCA9IGFycltpXS56SW5kZXgrMTtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRZID0gdGhpcy5ub2RlLnk7XHJcblxyXG4gICAgfVxyXG4gICAgYXV0b0J1eSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zaGVsdmUuaXNBdXRvKSB7XHJcbiAgICAgICAgICAgIE1LVXRpbHMuc2V0Tm9kZURlbGF5KHRoaXMubm9kZSwgMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkJ1eSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMubm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgIHRoaXMuaXNJbml0ID0gdHJ1ZTtcclxuICAgICAgICBHYW1lUG9vbE1hbmFnZXIucHV0Um9sZSh0aGlzLm5vZGUpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFRpbWVzID0gMTtcclxuICAgICAgICB0aGlzLnNoZWx2ZUluZGV4ID0gLTE7XHJcbiAgICAgICAgdGhpcy5pc0FjY291bnQgPSBmYWxzZTtcclxuICAgICAgICBFdmVudERpc3BhdGgucmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU3BlZWQoKSB7XHJcbiAgICAgICAgdGhpcy5zcGVlZCA9IHRoaXMuc3BlZWRfYmFzZSArIHRoaXMuc3BlZWRfYmFzZSAqIFBsYXllck1vZGVsLmdldFNwZWVkQWRkKCk7XHJcbiAgICB9XHJcbiAgICAvL+iOt+WPluW8leWvvOWdkOagh1xyXG4gICAgZ2V0R3VpZGVQb2ludCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jcm9wTm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoMCwgMCkpO1xyXG4gICAgfVxyXG4gICAgLy8gIOW8leWvvOi0reS5sFxyXG4gICAgZ3VpZGVCdXkoKSB7XHJcbiAgICAgICAgLy8gdGhpcy5zaGVsdmUucm9sZU51bS0tO1xyXG4gICAgICAgIHRoaXMuc2hlbHZlLnJlZHVjZUNyb3AodGhpcy5uZWVkQ3JvcElkLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmNyb3BOb2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucm9sZS5hbmltYXRpb24gPSBBY3Rpb25UeXBlLkhfU1RBTkRfQlVZXHJcbiAgICAgICAgdGhpcy5yb2xlLnNldENvbXBsZXRlTGlzdGVuZXIoKHRyYWNrRW50cnksIGxvb3BDb3VudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJvbGUuc2V0Q29tcGxldGVMaXN0ZW5lcihudWxsKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hlbHZlSW5kZXggPT0gMiB8fCB0aGlzLnNoZWx2ZUluZGV4ID09IDMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucm9sZS5hbmltYXRpb24gPSBBY3Rpb25UeXBlLlFfU1RBTkRfRklOSVNIX1JJR0hUO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb2xlLmFuaW1hdGlvbiA9IEFjdGlvblR5cGUuSF9TVEFORF9GSU5JU0hcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBNS1V0aWxzLnNldE5vZGVEZWxheSh0aGlzLm5vZGUsIDAuNSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRCdXlMaXN0KCk7XHJcbiAgICAgICAgICAgICAgICAvL+WOu+e7k+i0plxyXG4gICAgICAgICAgICAgICAgdGhpcy5nb0FjY291bnQoKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICAvLyBjcmVhdGUoaWQpIHtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhcIjExMTExMTE9XCIpO1xyXG4gICAgLy8gICAgIHRoaXMubm9kZS5zZXRQb3NpdGlvbihpZCAqIDMwLCAwKVxyXG4gICAgLy8gICAgIC8vIHRoaXMubm9kZS5zZXRQb3NpdGlvbih0aGlzLnN0YXJ0UG9pbnQpXHJcbiAgICAvLyAgICAgbGV0IHVybCA9IGBzcGluZS9yb2xlLzAke2lkfS9yb2xlXzAke2lkfWA7XHJcbiAgICAvLyAgICAgaWYgKGlkID4gOSkge1xyXG4gICAgLy8gICAgICAgICB1cmwgPSBgc3BpbmUvcm9sZS8ke2lkfS9yb2xlXyR7aWR9YFxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICAvLyB1cmwgPSBgc3BpbmUvYWxpZW4tZXNzYDtcclxuICAgIC8vICAgICB1cmwgPSBgc3BpbmUvc2tlbGV0b25gXHJcbiAgICAvLyAgICAgTUtVdGlscy5sb2FkU2tlbGV0b25EYXRhKHVybCwgKHJlcykgPT4ge1xyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PT09c3BpbmU9PT09PT1cIiwgcmVzKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5yb2xlLnNrZWxldG9uRGF0YSA9IHJlcztcclxuICAgIC8vICAgICAgICAgLy8gdGhpcy5yb2xlLmFuaW1hdGlvbiA9IEFjdGlvblR5cGUuUV9XQUxLO1xyXG4gICAgLy8gICAgIH0sICgpID0+IHsgfSlcclxuICAgIC8vIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/RoadPrefab.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f85955X1NpCwL4Th9e5Te59', 'RoadPrefab');
// src/game/view/main/RoadPrefab.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var PlayerModel_1 = require("../../datas/PlayerModel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var RoadPrefab = /** @class */ (function (_super) {
    __extends(RoadPrefab, _super);
    function RoadPrefab() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.img = null;
        _this.effNode = null;
        return _this;
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    RoadPrefab.prototype.start = function () {
        this.effNode.active = false;
        EventDispath_1.default.addEventListener(EventType_1.EventType.CHANGE_ROAD, this.changeSkin, this);
    };
    RoadPrefab.prototype.setData = function (id) {
        if (id === void 0) { id = 1; }
        this.changeSkin(0);
    };
    RoadPrefab.prototype.changeSkin = function (isLvUp) {
        var _this = this;
        if (isLvUp === void 0) { isLvUp = 1; }
        var id = PlayerModel_1.default.getUIConfig().roadlv;
        MkUtils_1.default.loadSpriteFrame("texture/prop/road/" + ("0" + id), function (res) {
            _this.img.spriteFrame = res;
            if (isLvUp) {
                var arr = _this.effNode.children;
                _this.effNode.active = true;
                for (var i = 0; i < arr.length; i++) {
                    var eff = arr[i].getComponent(sp.Skeleton);
                    eff.animation = "animation";
                }
                MkUtils_1.default.setNodeDelay(_this.node, 5, function () {
                    _this.effNode.active = false;
                });
            }
        });
    };
    __decorate([
        property(cc.Sprite)
    ], RoadPrefab.prototype, "img", void 0);
    __decorate([
        property(cc.Node)
    ], RoadPrefab.prototype, "effNode", void 0);
    RoadPrefab = __decorate([
        ccclass
    ], RoadPrefab);
    return RoadPrefab;
}(cc.Component));
exports.default = RoadPrefab;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vUm9hZFByZWZhYi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdsRix3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDREQUF1RDtBQUd2RCx1REFBa0Q7QUFFNUMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBd0MsOEJBQVk7SUFBcEQ7UUFBQSxxRUFvQ0M7UUFqQ0csU0FBRyxHQUFjLElBQUksQ0FBQztRQUV0QixhQUFPLEdBQVksSUFBSSxDQUFDOztJQStCNUIsQ0FBQztJQTlCRyx3QkFBd0I7SUFFeEIsZUFBZTtJQUVmLDBCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDNUIsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2hGLENBQUM7SUFDRCw0QkFBTyxHQUFQLFVBQVEsRUFBTTtRQUFOLG1CQUFBLEVBQUEsTUFBTTtRQUNWLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkIsQ0FBQztJQUNELCtCQUFVLEdBQVYsVUFBVyxNQUFVO1FBQXJCLGlCQWlCQztRQWpCVSx1QkFBQSxFQUFBLFVBQVU7UUFDakIsSUFBSSxFQUFFLEdBQUcscUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxNQUFNLENBQUM7UUFDMUMsaUJBQU8sQ0FBQyxlQUFlLENBQUMsb0JBQW9CLElBQUcsTUFBSSxFQUFJLENBQUEsRUFBRSxVQUFDLEdBQUc7WUFDekQsS0FBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1lBQzNCLElBQUksTUFBTSxFQUFFO2dCQUNSLElBQUksR0FBRyxHQUFHLEtBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFBO2dCQUMvQixLQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7Z0JBQzNCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUNqQyxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDM0MsR0FBRyxDQUFDLFNBQVMsR0FBRyxXQUFXLENBQUE7aUJBQzlCO2dCQUVELGlCQUFPLENBQUMsWUFBWSxDQUFDLEtBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFO29CQUMvQixLQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7Z0JBQ2hDLENBQUMsQ0FBQyxDQUFBO2FBQ0w7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUEvQkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzsyQ0FDRTtJQUV0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOytDQUNNO0lBTFAsVUFBVTtRQUQ5QixPQUFPO09BQ2EsVUFBVSxDQW9DOUI7SUFBRCxpQkFBQztDQXBDRCxBQW9DQyxDQXBDdUMsRUFBRSxDQUFDLFNBQVMsR0FvQ25EO2tCQXBDb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBVSU1hbmFuZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9VdGlsc1wiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb2FkUHJlZmFiIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgaW1nOiBjYy5TcHJpdGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBlZmZOb2RlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIC8vIG9uTG9hZCAoKSB7fVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuZWZmTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFX1JPQUQsIHRoaXMuY2hhbmdlU2tpbiwgdGhpcyk7XHJcbiAgICB9XHJcbiAgICBzZXREYXRhKGlkID0gMSkge1xyXG4gICAgICAgIHRoaXMuY2hhbmdlU2tpbigwKTtcclxuICAgIH1cclxuICAgIGNoYW5nZVNraW4oaXNMdlVwID0gMSkge1xyXG4gICAgICAgIGxldCBpZCA9IFBsYXllck1vZGVsLmdldFVJQ29uZmlnKCkucm9hZGx2O1xyXG4gICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9wcm9wL3JvYWQvXCIgKyBgMCR7aWR9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmltZy5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICAgICAgaWYgKGlzTHZVcCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFyciA9IHRoaXMuZWZmTm9kZS5jaGlsZHJlblxyXG4gICAgICAgICAgICAgICAgdGhpcy5lZmZOb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlZmYgPSBhcnJbaV0uZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcclxuICAgICAgICAgICAgICAgICAgICBlZmYuYW5pbWF0aW9uID0gXCJhbmltYXRpb25cIlxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIE1LVXRpbHMuc2V0Tm9kZURlbGF5KHRoaXMubm9kZSwgNSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWZmTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/ScarecrowPrefab.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd6dbd3MgXZOFJBomC1dmxhu', 'ScarecrowPrefab');
// src/game/view/main/ScarecrowPrefab.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var PlayerModel_1 = require("../../datas/PlayerModel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ScarecrowPrefab = /** @class */ (function (_super) {
    __extends(ScarecrowPrefab, _super);
    function ScarecrowPrefab() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.img = null;
        _this.lvUpEff = null;
        return _this;
    }
    // onLoad () {}
    ScarecrowPrefab.prototype.start = function () {
        this.lvUpEff.node.active = false;
        EventDispath_1.default.addEventListener(EventType_1.EventType.CHANGE_SCARECROW, this.changeSkin, this);
    };
    ScarecrowPrefab.prototype.setData = function (id) {
        if (id === void 0) { id = 1; }
        this.changeSkin(0);
    };
    ScarecrowPrefab.prototype.changeSkin = function (isLvUp) {
        var _this = this;
        if (isLvUp === void 0) { isLvUp = 1; }
        var id = PlayerModel_1.default.getUIConfig().scarecrowlv;
        if (id == 0)
            return;
        MkUtils_1.default.loadSpriteFrame("texture/prop/scarecrow/" + ("0" + id), function (res) {
            _this.img.spriteFrame = res;
            if (isLvUp) {
                _this.lvUpEff.node.active = true;
                _this.lvUpEff.animation = "animation";
            }
        });
    };
    __decorate([
        property(cc.Sprite)
    ], ScarecrowPrefab.prototype, "img", void 0);
    __decorate([
        property(sp.Skeleton)
    ], ScarecrowPrefab.prototype, "lvUpEff", void 0);
    ScarecrowPrefab = __decorate([
        ccclass
    ], ScarecrowPrefab);
    return ScarecrowPrefab;
}(cc.Component));
exports.default = ScarecrowPrefab;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vU2NhcmVjcm93UHJlZmFiLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLHdFQUFtRTtBQUNuRSxrRUFBaUU7QUFDakUsNERBQXVEO0FBQ3ZELHVEQUFrRDtBQUU1QyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUE2QyxtQ0FBWTtJQUF6RDtRQUFBLHFFQTRCQztRQXpCRyxTQUFHLEdBQWMsSUFBSSxDQUFDO1FBRXRCLGFBQU8sR0FBZ0IsSUFBSSxDQUFDOztJQXVCaEMsQ0FBQztJQXRCRyxlQUFlO0lBRWYsK0JBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDakMsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDckYsQ0FBQztJQUVELGlDQUFPLEdBQVAsVUFBUSxFQUFNO1FBQU4sbUJBQUEsRUFBQSxNQUFNO1FBQ1gsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtJQUNyQixDQUFDO0lBQ0Qsb0NBQVUsR0FBVixVQUFXLE1BQVU7UUFBckIsaUJBV0M7UUFYVSx1QkFBQSxFQUFBLFVBQVU7UUFFakIsSUFBSSxFQUFFLEdBQUcscUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxXQUFXLENBQUM7UUFDL0MsSUFBSSxFQUFFLElBQUksQ0FBQztZQUFFLE9BQU87UUFDcEIsaUJBQU8sQ0FBQyxlQUFlLENBQUMseUJBQXlCLElBQUcsTUFBSSxFQUFJLENBQUEsRUFBRSxVQUFDLEdBQUc7WUFDOUQsS0FBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1lBQzNCLElBQUksTUFBTSxFQUFFO2dCQUNSLEtBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7Z0JBQ2hDLEtBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUFHLFdBQVcsQ0FBQzthQUN4QztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQXhCRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2dEQUNFO0lBRXRCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7b0RBQ007SUFMWCxlQUFlO1FBRG5DLE9BQU87T0FDYSxlQUFlLENBNEJuQztJQUFELHNCQUFDO0NBNUJELEFBNEJDLENBNUI0QyxFQUFFLENBQUMsU0FBUyxHQTRCeEQ7a0JBNUJvQixlQUFlIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Na1V0aWxzXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NhcmVjcm93UHJlZmFiIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgaW1nOiBjYy5TcHJpdGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KHNwLlNrZWxldG9uKVxyXG4gICAgbHZVcEVmZjogc3AuU2tlbGV0b24gPSBudWxsO1xyXG4gICAgLy8gb25Mb2FkICgpIHt9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5sdlVwRWZmLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRV9TQ0FSRUNST1csIHRoaXMuY2hhbmdlU2tpbiwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGF0YShpZCA9IDEpIHtcclxuICAgICAgIHRoaXMuY2hhbmdlU2tpbigwKVxyXG4gICAgfVxyXG4gICAgY2hhbmdlU2tpbihpc0x2VXAgPSAxKSB7XHJcblxyXG4gICAgICAgIGxldCBpZCA9IFBsYXllck1vZGVsLmdldFVJQ29uZmlnKCkuc2NhcmVjcm93bHY7XHJcbiAgICAgICAgaWYgKGlkID09IDApIHJldHVybjtcclxuICAgICAgICBNS1V0aWxzLmxvYWRTcHJpdGVGcmFtZShcInRleHR1cmUvcHJvcC9zY2FyZWNyb3cvXCIgKyBgMCR7aWR9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmltZy5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICAgICAgaWYgKGlzTHZVcCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sdlVwRWZmLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubHZVcEVmZi5hbmltYXRpb24gPSBcImFuaW1hdGlvblwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/ShelvePrefab.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7813fhQ5B9HjKdQB2Z31HsF', 'ShelvePrefab');
// src/game/view/main/ShelvePrefab.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var PopView1_1 = require("../popView/PopView1");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ShelvePrefab = /** @class */ (function (_super) {
    __extends(ShelvePrefab, _super);
    function ShelvePrefab() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.bg = null;
        _this.crop = null;
        _this.buildTips = null;
        _this.lvUpEff = null;
        _this.cropList = [];
        _this.currentNum = 0; //当前作物数量
        _this.mId = 0; //货架ID
        _this.mLv = 0; //货架等级
        // roleNum = 0;//当前货架前的人数
        _this.roleList = [];
        _this.mIndex = 0;
        //每个货架前的起始点
        _this.targetPoints = [
            cc.v2(-140, -50),
            cc.v2(220, -200),
            cc.v2(270, -10),
            cc.v2(-10, 105),
            cc.v2(-300, 200)
        ];
        _this.allPoints = [];
        _this.cloneAllPoints = [];
        _this.walkLen = 0; //走向该摊位的顾客
        _this.shelvesType = [21, 22, 23, 24, 25,];
        _this.isAuto = false;
        _this.firstPoint = cc.v2();
        return _this;
    }
    ShelvePrefab.prototype.onLoad = function () {
        this.initComponent();
    };
    ShelvePrefab.prototype.start = function () {
        this.lvUpEff.node.active = false;
        EventDispath_1.default.addEventListener(EventType_1.EventType.CASHIER_AUTO_CLOSE, this.closeAuto, this);
        EventDispath_1.default.on(this.buildTips, this.onBuild, this, 0, false);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SHELVE_BUILD, this.onBuildComplete, this);
    };
    ShelvePrefab.prototype.onBuild = function () {
        var _this = this;
        //弹出场景元素信息面板
        EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onBuildBack, this);
        UIMananger_1.default.showPanel(UIType_1.default.popView1, null, function () {
            EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, _this.onBuildBack, _this);
        }, UIEffectManager_1.UIEffectType.SCALE, PopView1_1.PopType.SHELVE);
    };
    ShelvePrefab.prototype.onBuildBack = function () {
        MkUtils_1.default.alertTips("扩建货架成功");
        this.buildTips.active = false;
        PlayerModel_1.default.changeShelveSkin(this.mIndex, 1);
        this.changeSkin();
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, this.onBuildBack, this);
    };
    ShelvePrefab.prototype.onBuildComplete = function (index) {
        if (this.mIndex == index) {
            this.onBuildBack();
        }
    };
    ShelvePrefab.prototype.initPoint = function () {
        var target = this.targetPoints[this.mIndex];
        for (var i = 0; i < 8; i++) {
            var targetX = target.x - i * 20;
            var targetY = target.y + i * 8;
            if (this.mIndex == 0 || this.mIndex == 1) {
                targetX = target.x - i * 20;
                targetY = target.y + i * 8;
            }
            var v2 = cc.v2(targetX, targetY);
            this.allPoints.push(v2);
            this.cloneAllPoints.push(v2);
        }
    };
    // updatePoint() {
    //     this.allPoints = [];
    //     let target = this.targetPoints[this.mIndex];
    //     for (let i = 0; i < ConfigManager.getRoleMax(); i++) {
    //         let targetX = target.x - i * 20;
    //         let targetY = target.y + i * 8;
    //         if (this.mIndex == 0 || this.mIndex == 1) {
    //             targetX = target.x - i * 20;
    //             targetY = target.y + i * 8;
    //         }
    //         let v2 = cc.v2(targetX, targetY);
    //         this.allPoints.push(v2);
    //     }
    // }
    ShelvePrefab.prototype.getPoint = function () {
        var p;
        for (var i = 0; i < this.cloneAllPoints.length; i++) {
            if (this.cloneAllPoints[i] != null) {
                p = this.cloneAllPoints[i];
                this.cloneAllPoints[i] = null;
                break;
            }
        }
        if (!p && this.roleNum < 8) {
            for (var i = 0; i < this.cloneAllPoints.length; i++) {
                if (!this.roleList[i]) {
                    p = this.allPoints[i];
                    break;
                }
            }
        }
        return p;
    };
    ShelvePrefab.prototype.setData = function (id, index, list) {
        this.mIndex = index;
        this.roleList.length = 8;
        this.cropList = list || [];
        if (id != 0) {
            this.buildTips.active = false;
            this.changeSkin(0);
            this.setCrop();
        }
        else {
            this.buildTips.active = true;
        }
    };
    ShelvePrefab.prototype.changeSkin = function (isLvUp) {
        var _this = this;
        if (isLvUp === void 0) { isLvUp = 1; }
        var lv = PlayerModel_1.default.getUIConfig().shelvesList[this.mIndex];
        this.mLv = lv;
        if (lv == 0)
            return;
        this.mId = this.shelvesType[this.mIndex] * 100 + lv;
        MkUtils_1.default.loadSpriteFrame("texture/prop/shelves/" + ("0" + lv), function (res) {
            _this.bg.spriteFrame = res;
            if (isLvUp) {
                _this.lvUpEff.node.active = true;
                _this.lvUpEff.animation = "animation";
            }
        });
    };
    //选择需要购买的蔬菜
    ShelvePrefab.prototype.setCrop = function () {
        this.cropNodeList.forEach(function (node) {
            node.active = false;
            node.name = "0";
        });
        this.currentNum = 0;
        var list = this.cropList;
        var len = 0;
        for (var i = 0; i < list.length; i++) {
            var cfg = list[i];
            if (i != 0)
                len += list[i - 1].put_on_num;
            var _loop_1 = function (j) {
                var node;
                if (i == 0) {
                    node = this_1.cropNodeList[j];
                }
                else {
                    node = this_1.cropNodeList[len + j];
                }
                if (!node) {
                    console.log("========");
                }
                else {
                    this_1.currentNum++;
                    node.active = true;
                    node.name = cfg.cropId + "";
                    MkUtils_1.default.loadSpriteFrame("texture/crop/singleIcon/" + ("" + cfg.cropId), function (res) {
                        node.getComponent(cc.Sprite).spriteFrame = res;
                    });
                }
            };
            var this_1 = this;
            for (var j = 0; j < cfg.put_on_num; j++) {
                _loop_1(j);
            }
        }
    };
    ShelvePrefab.prototype.resetCrop = function (list) {
        this.cropList = list || [];
        this.setCrop();
    };
    //减少后补充
    ShelvePrefab.prototype.addCrop = function (id) {
        if (!this.mLv)
            return;
        if (!id) {
            var arr = PlayerModel_1.default.getRandomCrop(4 - this.currentNum);
            if (arr.length == 0)
                return;
            var arr1 = [];
            for (var j = 0; j < arr.length; j++) {
                var flag = false;
                for (var i = 0; i < this.cropList.length; i++) {
                    if (arr[j].cropId == this.cropList[i].cropId) {
                        this.cropList[i].put_on_num += arr[j].put_on_num;
                        flag = true;
                    }
                }
                if (!flag)
                    arr1.push(arr[j]);
            }
            this.cropList = this.cropList.concat(arr1);
            this.setCrop();
        }
    };
    ShelvePrefab.prototype.addOneCrop = function () {
        if (!this.mLv || this.currentNum >= 4)
            return;
        var crop = PlayerModel_1.default.getOneCrop();
        if (!crop)
            return;
        var isAdd = false;
        for (var i = 0; i < this.cropList.length; i++) {
            if (crop.cropId == this.cropList[i].cropId) {
                this.cropList[i].put_on_num += 1;
                isAdd = true;
            }
        }
        if (!isAdd)
            this.cropList.push({ cropId: crop.cropId, put_on_num: 1 });
        var list = this.cropNodeList.filter(function (node) {
            return node.name == "0";
        });
        var node = list[0];
        node.opacity = 0;
        this.currentNum++;
        node.active = true;
        node.name = crop.cropId + "";
        MkUtils_1.default.loadSpriteFrame("texture/crop/singleIcon/" + ("" + crop.cropId), function (res) {
            node.getComponent(cc.Sprite).spriteFrame = res;
            node.runAction(cc.sequence(cc.delayTime(1), cc.fadeIn(1.0)));
        });
    };
    //作物减少
    ShelvePrefab.prototype.reduceCrop = function (id, role, callBack) {
        var idx = 0;
        var arr = this.cropList.filter(function (item, index) {
            if (item.cropId == id)
                idx = index;
            return item.cropId == id;
        });
        if (arr.length == 0) {
            //货架缺少对应作物，给出提醒
            console.log("缺少该作物");
            MkUtils_1.default.alertTips("仓库中缺少该作物");
            return;
        }
        var cfg = arr[0];
        cfg.put_on_num--;
        this.currentNum--;
        var nodeList = this.cropNodeList.filter(function (node) {
            return node.name == id;
        });
        if (cfg.put_on_num <= 0) {
            this.cropList.splice(idx, 1);
        }
        // this.currentNum--;
        if (nodeList.length > 0) {
            nodeList[0].active = false;
            nodeList[0].name = "0";
            PlayerModel_1.default.reduceCrop(id);
            if (callBack)
                callBack();
            this.addOneCrop();
        }
        else {
            this.cropList.splice(idx, 1);
            role.cropLostBySheleve();
        }
        var deleteIndex = -1;
        this.cropList.forEach(function (item, index) {
            if (item.put_on_num <= 0)
                deleteIndex = index;
        });
        if (deleteIndex != -1)
            this.cropList.splice(deleteIndex, 1);
        if (this.currentNum == 0) {
            this.cropNodeList.forEach(function (node) {
                node.active = false;
                node.name = "0";
            });
        }
        // this.addCrop();
    };
    ShelvePrefab.prototype.changeAuto = function () {
        // MKUtils.setNodeDelay(this.node, 4, () => {
        //     this.isAuto = true;
        //     for (let i = 0; i < this.roleList.length; i++) {
        //         console.log("========自动卖出========");
        //         MKUtils.setNodeDelay(this.node, i * 1, () => {
        //             if (this.roleList[i]) this.roleList[i].onBuy();
        //         })
        //     }
        // })
    };
    ShelvePrefab.prototype.closeAuto = function () {
        this.isAuto = false;
    };
    ShelvePrefab.prototype.addRole = function (role) {
        this.walkLen--;
        // this.roleList.push(role);
        for (var i = 0; i < this.roleList.length; i++) {
            if (!this.roleList[i]) {
                this.roleList[i] = role;
                role.roleInSheleveIndex = i;
                return;
            }
        }
        var arr = this.roleList.filter(function (item) { return item != 0; });
        console.log("货架ID：", this.mIndex, "顾客数量：", arr.length);
    };
    Object.defineProperty(ShelvePrefab.prototype, "roleNum", {
        get: function () {
            var arr = this.roleList.filter(function (item) {
                return item && item != 0;
            });
            return arr.length;
        },
        enumerable: false,
        configurable: true
    });
    ShelvePrefab.prototype.refreshRole = function (role) {
        if (role.roleInSheleveIndex != -1) {
            this.roleList[role.roleInSheleveIndex] = 0;
            this.cloneAllPoints[role.roleInSheleveIndex] = this.allPoints[role.roleInSheleveIndex];
        }
        // let index = this.roleList.indexOf(role);
        // if (index != -1) {
        //     this.roleList[index] = 0;
        // }
        var arr = this.roleList.filter(function (item) { return item != 0; });
        console.log("货架ID：", this.mIndex, "顾客数量：", arr.length);
    };
    ShelvePrefab.prototype.initComponent = function () {
        this.buildTips.active = false;
        this.cropNodeList = this.crop.children;
        this.cropNodeList.forEach(function (node) {
            node.active = false;
        });
    };
    __decorate([
        property(cc.Sprite)
    ], ShelvePrefab.prototype, "bg", void 0);
    __decorate([
        property(cc.Node)
    ], ShelvePrefab.prototype, "crop", void 0);
    __decorate([
        property(cc.Node)
    ], ShelvePrefab.prototype, "buildTips", void 0);
    __decorate([
        property(sp.Skeleton)
    ], ShelvePrefab.prototype, "lvUpEff", void 0);
    ShelvePrefab = __decorate([
        ccclass
    ], ShelvePrefab);
    return ShelvePrefab;
}(cc.Component));
exports.default = ShelvePrefab;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vU2hlbHZlUHJlZmFiLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLDhFQUEwRTtBQUMxRSxvRUFBK0Q7QUFDL0Qsd0VBQW1FO0FBQ25FLGtFQUFpRTtBQUNqRSw0REFBdUQ7QUFDdkQsOENBQXlDO0FBQ3pDLHVEQUFrRDtBQUVsRCxnREFBOEM7QUFHeEMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFRNUM7SUFBMEMsZ0NBQVk7SUFBdEQ7UUFBQSxxRUFrVkM7UUEvVUcsUUFBRSxHQUFjLElBQUksQ0FBQztRQUdyQixVQUFJLEdBQVksSUFBSSxDQUFDO1FBRXJCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFFMUIsYUFBTyxHQUFnQixJQUFJLENBQUM7UUFJNUIsY0FBUSxHQUFrQixFQUFFLENBQUM7UUFFN0IsZ0JBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQSxRQUFRO1FBQ3ZCLFNBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQSxNQUFNO1FBQ2QsU0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFBLE1BQU07UUFDZCx5QkFBeUI7UUFDekIsY0FBUSxHQUFHLEVBQUUsQ0FBQztRQUNkLFlBQU0sR0FBRyxDQUFDLENBQUM7UUFDWCxXQUFXO1FBQ1gsa0JBQVksR0FBRztZQUNYLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUM7WUFDaEIsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUM7WUFDaEIsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUM7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QUM7Q0FsVkQsQUFrVkMsQ0FsVnlDLEVBQUUsQ0FBQyxTQUFTLEdBa1ZyRDtrQkFsVm9CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgeyBVSUVmZmVjdFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlFZmZlY3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBVSU1hbmFuZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IENvbmZpZ01hbmFnZXIgZnJvbSBcIi4uLy4uL21hbmFnZXIvQ29uZmlnTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBQb3BUeXBlIH0gZnJvbSBcIi4uL3BvcFZpZXcvUG9wVmlldzFcIjtcclxuaW1wb3J0IFJvbGVQcmVmYWIgZnJvbSBcIi4vUm9sZVByZWZhYlwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgcHV0T25Db25maWcge1xyXG4gICAgY3JvcElkOiBudW1iZXIsLy/kvZznialJRFxyXG4gICAgcHV0X29uX251bTogbnVtYmVyLC8v5L2c54mp5LiK5p625pWw6YePXHJcbn1cclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoZWx2ZVByZWZhYiBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIGJnOiBjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgY3JvcDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ1aWxkVGlwczogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoc3AuU2tlbGV0b24pXHJcbiAgICBsdlVwRWZmOiBzcC5Ta2VsZXRvbiA9IG51bGw7XHJcblxyXG4gICAgY3JvcE5vZGVMaXN0OiBjYy5Ob2RlW107XHJcblxyXG4gICAgY3JvcExpc3Q6IHB1dE9uQ29uZmlnW10gPSBbXTtcclxuXHJcbiAgICBjdXJyZW50TnVtID0gMDsvL+W9k+WJjeS9nOeJqeaVsOmHj1xyXG4gICAgbUlkID0gMDsvL+i0p+aetklEXHJcbiAgICBtTHYgPSAwOy8v6LSn5p62562J57qnXHJcbiAgICAvLyByb2xlTnVtID0gMDsvL+W9k+WJjei0p+aetuWJjeeahOS6uuaVsFxyXG4gICAgcm9sZUxpc3QgPSBbXTtcclxuICAgIG1JbmRleCA9IDA7XHJcbiAgICAvL+avj+S4qui0p+aetuWJjeeahOi1t+Wni+eCuVxyXG4gICAgdGFyZ2V0UG9pbnRzID0gW1xyXG4gICAgICAgIGNjLnYyKC0xNDAsIC01MCksXHJcbiAgICAgICAgY2MudjIoMjIwLCAtMjAwKSxcclxuICAgICAgICBjYy52MigyNzAsIC0xMCksXHJcbiAgICAgICAgY2MudjIoLTEwLCAxMDUpLFxyXG4gICAgICAgIGNjLnYyKC0zMDAsIDIwMClcclxuICAgIF1cclxuXHJcbiAgICBhbGxQb2ludHMgPSBbXTtcclxuICAgIGNsb25lQWxsUG9pbnRzID0gW107XHJcbiAgICB3YWxrTGVuOiBudW1iZXIgPSAwOy8v6LWw5ZCR6K+l5pGK5L2N55qE6aG+5a6iXHJcbiAgICBzaGVsdmVzVHlwZSA9IFsyMSwgMjIsIDIzLCAyNCwgMjUsXVxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdENvbXBvbmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMubHZVcEVmZi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DQVNISUVSX0FVVE9fQ0xPU0UsIHRoaXMuY2xvc2VBdXRvLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnVpbGRUaXBzLCB0aGlzLm9uQnVpbGQsIHRoaXMsIDAsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlNIRUxWRV9CVUlMRCwgdGhpcy5vbkJ1aWxkQ29tcGxldGUsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQnVpbGQoKSB7XHJcbiAgICAgICAgLy/lvLnlh7rlnLrmma/lhYPntKDkv6Hmga/pnaLmnb9cclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5vbkJ1aWxkQmFjaywgdGhpcyk7XHJcbiAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLnBvcFZpZXcxLCBudWxsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5yZW1vdmVCeUV2ZW50KEV2ZW50VHlwZS5WSURFT19CQUNLLCB0aGlzLm9uQnVpbGRCYWNrLCB0aGlzKTtcclxuICAgICAgICB9LCBVSUVmZmVjdFR5cGUuU0NBTEUsIFBvcFR5cGUuU0hFTFZFKTtcclxuICAgIH1cclxuICAgIG9uQnVpbGRCYWNrKCkge1xyXG4gICAgICAgIE1LVXRpbHMuYWxlcnRUaXBzKFwi5omp5bu66LSn5p625oiQ5YqfXCIpXHJcbiAgICAgICAgdGhpcy5idWlsZFRpcHMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgUGxheWVyTW9kZWwuY2hhbmdlU2hlbHZlU2tpbih0aGlzLm1JbmRleCwgMSlcclxuICAgICAgICB0aGlzLmNoYW5nZVNraW4oKTtcclxuICAgICAgICBFdmVudERpc3BhdGgucmVtb3ZlQnlFdmVudChFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5vbkJ1aWxkQmFjaywgdGhpcyk7XHJcbiAgICB9XHJcbiAgICBvbkJ1aWxkQ29tcGxldGUoaW5kZXgpIHtcclxuICAgICAgICBpZiAodGhpcy5tSW5kZXggPT0gaW5kZXgpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkJ1aWxkQmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbml0UG9pbnQoKSB7XHJcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMudGFyZ2V0UG9pbnRzW3RoaXMubUluZGV4XTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0WCA9IHRhcmdldC54IC0gaSAqIDIwO1xyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0WSA9IHRhcmdldC55ICsgaSAqIDg7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1JbmRleCA9PSAwIHx8IHRoaXMubUluZGV4ID09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldFggPSB0YXJnZXQueCAtIGkgKiAyMDtcclxuICAgICAgICAgICAgICAgIHRhcmdldFkgPSB0YXJnZXQueSArIGkgKiA4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCB2MiA9IGNjLnYyKHRhcmdldFgsIHRhcmdldFkpO1xyXG4gICAgICAgICAgICB0aGlzLmFsbFBvaW50cy5wdXNoKHYyKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9uZUFsbFBvaW50cy5wdXNoKHYyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyB1cGRhdGVQb2ludCgpIHtcclxuICAgIC8vICAgICB0aGlzLmFsbFBvaW50cyA9IFtdO1xyXG4gICAgLy8gICAgIGxldCB0YXJnZXQgPSB0aGlzLnRhcmdldFBvaW50c1t0aGlzLm1JbmRleF07XHJcbiAgICAvLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDb25maWdNYW5hZ2VyLmdldFJvbGVNYXgoKTsgaSsrKSB7XHJcbiAgICAvLyAgICAgICAgIGxldCB0YXJnZXRYID0gdGFyZ2V0LnggLSBpICogMjA7XHJcbiAgICAvLyAgICAgICAgIGxldCB0YXJnZXRZID0gdGFyZ2V0LnkgKyBpICogODtcclxuICAgIC8vICAgICAgICAgaWYgKHRoaXMubUluZGV4ID09IDAgfHwgdGhpcy5tSW5kZXggPT0gMSkge1xyXG4gICAgLy8gICAgICAgICAgICAgdGFyZ2V0WCA9IHRhcmdldC54IC0gaSAqIDIwO1xyXG4gICAgLy8gICAgICAgICAgICAgdGFyZ2V0WSA9IHRhcmdldC55ICsgaSAqIDg7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgbGV0IHYyID0gY2MudjIodGFyZ2V0WCwgdGFyZ2V0WSk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYWxsUG9pbnRzLnB1c2godjIpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuICAgIGdldFBvaW50KCkge1xyXG4gICAgICAgIGxldCBwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jbG9uZUFsbFBvaW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jbG9uZUFsbFBvaW50c1tpXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBwID0gdGhpcy5jbG9uZUFsbFBvaW50c1tpXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvbmVBbGxQb2ludHNbaV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFwICYmIHRoaXMucm9sZU51bSA8IDgpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNsb25lQWxsUG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucm9sZUxpc3RbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBwID0gdGhpcy5hbGxQb2ludHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBwO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERhdGEoaWQsIGluZGV4LCBsaXN0Pykge1xyXG4gICAgICAgIHRoaXMubUluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgdGhpcy5yb2xlTGlzdC5sZW5ndGggPSA4O1xyXG4gICAgICAgIHRoaXMuY3JvcExpc3QgPSBsaXN0IHx8IFtdO1xyXG4gICAgICAgIGlmIChpZCAhPSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGRUaXBzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZVNraW4oMClcclxuICAgICAgICAgICAgdGhpcy5zZXRDcm9wKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5idWlsZFRpcHMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjaGFuZ2VTa2luKGlzTHZVcCA9IDEpIHtcclxuICAgICAgICBsZXQgbHYgPSBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLnNoZWx2ZXNMaXN0W3RoaXMubUluZGV4XTtcclxuICAgICAgICB0aGlzLm1MdiA9IGx2O1xyXG4gICAgICAgIGlmIChsdiA9PSAwKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5tSWQgPSB0aGlzLnNoZWx2ZXNUeXBlW3RoaXMubUluZGV4XSAqIDEwMCArIGx2O1xyXG4gICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9wcm9wL3NoZWx2ZXMvXCIgKyBgMCR7bHZ9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmJnLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgICAgICBpZiAoaXNMdlVwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmx2VXBFZmYubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sdlVwRWZmLmFuaW1hdGlvbiA9IFwiYW5pbWF0aW9uXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8v6YCJ5oup6ZyA6KaB6LSt5Lmw55qE6JSs6I+cXHJcbiAgICBzZXRDcm9wKCkge1xyXG4gICAgICAgIHRoaXMuY3JvcE5vZGVMaXN0LmZvckVhY2goKG5vZGUpID0+IHtcclxuICAgICAgICAgICAgbm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgbm9kZS5uYW1lID0gXCIwXCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLmN1cnJlbnROdW0gPSAwO1xyXG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5jcm9wTGlzdDtcclxuICAgICAgICBsZXQgbGVuID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGNmZyA9IGxpc3RbaV07XHJcbiAgICAgICAgICAgIGlmIChpICE9IDApIGxlbiArPSBsaXN0W2kgLSAxXS5wdXRfb25fbnVtO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNmZy5wdXRfb25fbnVtOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBub2RlOiBjYy5Ob2RlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSB0aGlzLmNyb3BOb2RlTGlzdFtqXVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBub2RlID0gdGhpcy5jcm9wTm9kZUxpc3RbbGVuICsgal1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghbm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT1cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnROdW0rKztcclxuICAgICAgICAgICAgICAgICAgICBub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5uYW1lID0gY2ZnLmNyb3BJZCArIFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgTUtVdGlscy5sb2FkU3ByaXRlRnJhbWUoXCJ0ZXh0dXJlL2Nyb3Avc2luZ2xlSWNvbi9cIiArIGAke2NmZy5jcm9wSWR9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVzZXRDcm9wKGxpc3QpIHtcclxuICAgICAgICB0aGlzLmNyb3BMaXN0ID0gbGlzdCB8fCBbXTtcclxuICAgICAgICB0aGlzLnNldENyb3AoKTtcclxuICAgIH1cclxuICAgIC8v5YeP5bCR5ZCO6KGl5YWFXHJcbiAgICBhZGRDcm9wKGlkPykge1xyXG4gICAgICAgIGlmICghdGhpcy5tTHYpIHJldHVybjtcclxuICAgICAgICBpZiAoIWlkKSB7XHJcbiAgICAgICAgICAgIGxldCBhcnIgPSBQbGF5ZXJNb2RlbC5nZXRSYW5kb21Dcm9wKDQgLSB0aGlzLmN1cnJlbnROdW0pO1xyXG4gICAgICAgICAgICBpZiAoYXJyLmxlbmd0aCA9PSAwKSByZXR1cm47XHJcbiAgICAgICAgICAgIGxldCBhcnIxID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFyci5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jcm9wTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJbal0uY3JvcElkID09IHRoaXMuY3JvcExpc3RbaV0uY3JvcElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JvcExpc3RbaV0ucHV0X29uX251bSArPSBhcnJbal0ucHV0X29uX251bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFmbGFnKSBhcnIxLnB1c2goYXJyW2pdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNyb3BMaXN0ID0gdGhpcy5jcm9wTGlzdC5jb25jYXQoYXJyMSlcclxuICAgICAgICAgICAgdGhpcy5zZXRDcm9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkT25lQ3JvcCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubUx2IHx8IHRoaXMuY3VycmVudE51bSA+PSA0KSByZXR1cm47XHJcbiAgICAgICAgbGV0IGNyb3AgPSBQbGF5ZXJNb2RlbC5nZXRPbmVDcm9wKCk7XHJcbiAgICAgICAgaWYgKCFjcm9wKSByZXR1cm47XHJcbiAgICAgICAgbGV0IGlzQWRkID0gZmFsc2U7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNyb3BMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChjcm9wLmNyb3BJZCA9PSB0aGlzLmNyb3BMaXN0W2ldLmNyb3BJZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcm9wTGlzdFtpXS5wdXRfb25fbnVtICs9IDE7XHJcbiAgICAgICAgICAgICAgICBpc0FkZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc0FkZCkgdGhpcy5jcm9wTGlzdC5wdXNoKHsgY3JvcElkOiBjcm9wLmNyb3BJZCwgcHV0X29uX251bTogMSB9KVxyXG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5jcm9wTm9kZUxpc3QuZmlsdGVyKChub2RlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBub2RlLm5hbWUgPT0gXCIwXCI7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBub2RlOiBjYy5Ob2RlID0gbGlzdFswXTtcclxuICAgICAgICBub2RlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudE51bSsrO1xyXG4gICAgICAgIG5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBub2RlLm5hbWUgPSBjcm9wLmNyb3BJZCArIFwiXCI7XHJcbiAgICAgICAgTUtVdGlscy5sb2FkU3ByaXRlRnJhbWUoXCJ0ZXh0dXJlL2Nyb3Avc2luZ2xlSWNvbi9cIiArIGAke2Nyb3AuY3JvcElkfWAsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgbm9kZS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICAgICAgbm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKDEpLCBjYy5mYWRlSW4oMS4wKSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy/kvZznianlh4/lsJFcclxuICAgIHJlZHVjZUNyb3AoaWQsIHJvbGU6IFJvbGVQcmVmYWIsIGNhbGxCYWNrPykge1xyXG4gICAgICAgIGxldCBpZHggPSAwO1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmNyb3BMaXN0LmZpbHRlcigoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uY3JvcElkID09IGlkKSBpZHggPSBpbmRleDtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uY3JvcElkID09IGlkO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKGFyci5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAvL+i0p+aetue8uuWwkeWvueW6lOS9nOeJqe+8jOe7meWHuuaPkOmGklxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIue8uuWwkeivpeS9nOeJqVwiKTtcclxuICAgICAgICAgICAgTUtVdGlscy5hbGVydFRpcHMoXCLku5PlupPkuK3nvLrlsJHor6XkvZznialcIilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY2ZnID0gYXJyWzBdO1xyXG4gICAgICAgIGNmZy5wdXRfb25fbnVtLS07XHJcbiAgICAgICAgdGhpcy5jdXJyZW50TnVtLS07XHJcbiAgICAgICAgbGV0IG5vZGVMaXN0ID0gdGhpcy5jcm9wTm9kZUxpc3QuZmlsdGVyKChub2RlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBub2RlLm5hbWUgPT0gaWQ7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKGNmZy5wdXRfb25fbnVtIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jcm9wTGlzdC5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGhpcy5jdXJyZW50TnVtLS07XHJcbiAgICAgICAgaWYgKG5vZGVMaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbm9kZUxpc3RbMF0uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG5vZGVMaXN0WzBdLm5hbWUgPSBcIjBcIlxyXG4gICAgICAgICAgICBQbGF5ZXJNb2RlbC5yZWR1Y2VDcm9wKGlkKTtcclxuICAgICAgICAgICAgaWYgKGNhbGxCYWNrKSBjYWxsQmFjaygpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZE9uZUNyb3AoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNyb3BMaXN0LnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgICAgICByb2xlLmNyb3BMb3N0QnlTaGVsZXZlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgZGVsZXRlSW5kZXggPSAtMTtcclxuXHJcbiAgICAgICAgdGhpcy5jcm9wTGlzdC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5wdXRfb25fbnVtIDw9IDApIGRlbGV0ZUluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoZGVsZXRlSW5kZXggIT0gLTEpIHRoaXMuY3JvcExpc3Quc3BsaWNlKGRlbGV0ZUluZGV4LCAxKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE51bSA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3JvcE5vZGVMaXN0LmZvckVhY2goKG5vZGUpID0+IHtcclxuICAgICAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBub2RlLm5hbWUgPSBcIjBcIjtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHRoaXMuYWRkQ3JvcCgpO1xyXG5cclxuICAgIH1cclxuICAgIGlzQXV0byA9IGZhbHNlO1xyXG4gICAgY2hhbmdlQXV0bygpIHtcclxuICAgICAgICAvLyBNS1V0aWxzLnNldE5vZGVEZWxheSh0aGlzLm5vZGUsIDQsICgpID0+IHtcclxuICAgICAgICAvLyAgICAgdGhpcy5pc0F1dG8gPSB0cnVlO1xyXG4gICAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucm9sZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT3oh6rliqjljZblh7o9PT09PT09PVwiKTtcclxuICAgICAgICAvLyAgICAgICAgIE1LVXRpbHMuc2V0Tm9kZURlbGF5KHRoaXMubm9kZSwgaSAqIDEsICgpID0+IHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBpZiAodGhpcy5yb2xlTGlzdFtpXSkgdGhpcy5yb2xlTGlzdFtpXS5vbkJ1eSgpO1xyXG4gICAgICAgIC8vICAgICAgICAgfSlcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pXHJcbiAgICB9XHJcbiAgICBjbG9zZUF1dG8oKSB7XHJcbiAgICAgICAgdGhpcy5pc0F1dG8gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmaXJzdFBvaW50ID0gY2MudjIoKTtcclxuICAgIGFkZFJvbGUocm9sZSkge1xyXG4gICAgICAgIHRoaXMud2Fsa0xlbi0tO1xyXG4gICAgICAgIC8vIHRoaXMucm9sZUxpc3QucHVzaChyb2xlKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucm9sZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnJvbGVMaXN0W2ldKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGVMaXN0W2ldID0gcm9sZTtcclxuICAgICAgICAgICAgICAgIHJvbGUucm9sZUluU2hlbGV2ZUluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5yb2xlTGlzdC5maWx0ZXIoKGl0ZW0pID0+IHsgcmV0dXJuIGl0ZW0gIT0gMCB9KVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi6LSn5p62SUTvvJpcIiwgdGhpcy5tSW5kZXgsIFwi6aG+5a6i5pWw6YeP77yaXCIsIGFyci5sZW5ndGgpO1xyXG5cclxuICAgIH1cclxuICAgIGdldCByb2xlTnVtKCkge1xyXG4gICAgICAgIGxldCBhcnIgPSB0aGlzLnJvbGVMaXN0LmZpbHRlcigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbSAmJiBpdGVtICE9IDA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gYXJyLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoUm9sZShyb2xlKSB7XHJcbiAgICAgICAgaWYgKHJvbGUucm9sZUluU2hlbGV2ZUluZGV4ICE9IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm9sZUxpc3Rbcm9sZS5yb2xlSW5TaGVsZXZlSW5kZXhdID0gMDtcclxuICAgICAgICAgICAgdGhpcy5jbG9uZUFsbFBvaW50c1tyb2xlLnJvbGVJblNoZWxldmVJbmRleF0gPSB0aGlzLmFsbFBvaW50c1tyb2xlLnJvbGVJblNoZWxldmVJbmRleF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGxldCBpbmRleCA9IHRoaXMucm9sZUxpc3QuaW5kZXhPZihyb2xlKTtcclxuICAgICAgICAvLyBpZiAoaW5kZXggIT0gLTEpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5yb2xlTGlzdFtpbmRleF0gPSAwO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBsZXQgYXJyID0gdGhpcy5yb2xlTGlzdC5maWx0ZXIoKGl0ZW0pID0+IHsgcmV0dXJuIGl0ZW0gIT0gMCB9KVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi6LSn5p62SUTvvJpcIiwgdGhpcy5tSW5kZXgsIFwi6aG+5a6i5pWw6YeP77yaXCIsIGFyci5sZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRDb21wb25lbnQoKSB7XHJcbiAgICAgICAgdGhpcy5idWlsZFRpcHMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jcm9wTm9kZUxpc3QgPSB0aGlzLmNyb3AuY2hpbGRyZW47XHJcbiAgICAgICAgdGhpcy5jcm9wTm9kZUxpc3QuZm9yRWFjaCgobm9kZSkgPT4ge1xyXG4gICAgICAgICAgICBub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/TopPrefab.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '046669uInFF0Z+jrPk126+V', 'TopPrefab');
// src/game/view/main/TopPrefab.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var JSHelper_1 = require("../../../framework/helper/JSHelper");
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var ComponentHelper_1 = require("../../../framework/tools/ComponentHelper");
var Utils_1 = require("../../../framework/tools/Utils");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var PopView1_1 = require("../popView/PopView1");
var TopOrderPrefab_1 = require("./TopOrderPrefab");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TopPrefab = /** @class */ (function (_super) {
    __extends(TopPrefab, _super);
    function TopPrefab() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.moneyLab = null;
        _this.goldLab = null;
        _this.addGold = null;
        _this.degreeLb = null;
        _this.lvLb = null;
        _this.lvProBg = null;
        _this.lvProLb = null;
        _this.settingBtn = null;
        _this.headIcon = null;
        _this.flyMoney = null;
        _this.flyGold = null;
        _this.flyXfzs = null;
        _this.orderGp = null;
        _this.topOrder = null;
        //money动画开启
        _this._startMoney = 0;
        _this._endMoney = 0;
        _this._curTimer = 0;
        _this._endTimer = Utils_1.default._FT(10);
        return _this;
    }
    TopPrefab.prototype.onLoad = function () {
        this.initOrder();
    };
    TopPrefab.prototype.onEnable = function () {
        EventDispath_1.default.addEventListener(EventType_1.EventType.UPDATE_MONEY, this.updateTopMoney, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.UPDATE_GOLD, this.updateGold, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.UPDATE_XFZS, this.updateXfzs, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.LEVEL_UPDATE, this.updateLv, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_WXBIND, this.updateHead, this);
        this.updateHead();
    };
    TopPrefab.prototype.onDisable = function () {
    };
    TopPrefab.prototype.start = function () {
        this.flyMoney.y = -15;
        this.flyGold.y = -15;
        this.flyXfzs.y = -450;
        this.initData();
    };
    TopPrefab.prototype.initData = function () {
        this.updateLv();
        this.moneyLab.string = PlayerModel_1.default.getMoney() + "\u5143";
        this.goldLab.string = "" + PlayerModel_1.default.getGold();
        this.degreeLb.string = "" + PlayerModel_1.default.getXfzs();
        // this.updateTixianTips();
    };
    TopPrefab.prototype.updateHead = function () {
        var headUrl = SDKManager_1.default.getUserIcon();
        // let headUrl = "https://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEKM0iaGwI4LEdCUicZuIgmrm4zXNMlDHYq7XnA36qKUX5n6ibzjtWgPj7ocPgE2ialhJ2eOG9NgTXam8A/132";
        if (headUrl && headUrl != "") {
            var self_1 = this;
            cc.assetManager.loadRemote(headUrl, { ext: '.png' }, function (err, texture) {
                if (err) {
                    console.log("头像加载失败", headUrl);
                    return;
                }
                self_1.headIcon.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);
            });
        }
    };
    //设置
    TopPrefab.prototype.openSetting = function () {
        JSHelper_1.default.playClickEffect();
        UIMananger_1.default.showPanel(UIType_1.default.settingView);
    };
    /** 幸福指数 */
    TopPrefab.prototype.openXfzs = function () {
        JSHelper_1.default.playClickEffect();
        UIMananger_1.default.showPanel(UIType_1.default.xfzsView);
    };
    /** 增加钞票 */
    TopPrefab.prototype.openAddGold = function () {
        JSHelper_1.default.playClickEffect();
        // UIMananger.showPanel(UIType.ManyiView);
    };
    TopPrefab.prototype.openLevel = function () {
        UIMananger_1.default.showPanel(UIType_1.default.levelView);
    };
    //提现
    TopPrefab.prototype.openTixian = function () {
        JSHelper_1.default.playClickEffect();
        SDKManager_1.default.openWithdraw();
    };
    //领取钞票
    TopPrefab.prototype.openGoldVAiew = function () {
        JSHelper_1.default.playClickEffect();
        UIMananger_1.default.showPanel(UIType_1.default.popView1, null, null, UIEffectManager_1.UIEffectType.SCALE, PopView1_1.PopType.GOLD1, 1000);
    };
    TopPrefab.prototype.updateTopMoney = function (data) {
        //ActionFloat后续扩展到引擎上面 TODO
        this.moneyLab.string = PlayerModel_1.default.getMoney() + "\u5143";
        if (Utils_1.default.isUndefined(data)) {
            console.error("TopPrefab updateTopMoney data is undefined");
            return;
        }
        if (data != 0)
            this.flyRewardLabel(Number(data));
        // this.updateTixianTips();
    };
    TopPrefab.prototype.updateLv = function () {
        var data = SDKManager_1.default.getJSLevelInfo();
        console.log("获取等级相关信息", data);
        this.lvProBg.stopAllActions();
        this.lvProBg.angle = 0;
        this.lvLb.string = "Lv." + data.jsLevel;
        if (data.jxOrderNum == 0 && data.userJxOrderNum == 0) {
            this.lvProBg.active = false;
            this.lvProLb.node.active = false;
        }
        else {
            if (data.jxOrderNum != 0 && data.userJxOrderNum >= data.jxOrderNum) {
                this.lvProLb.string = "可升级";
                ComponentHelper_1.default.setRotation(this.lvProBg);
            }
            else {
                this.lvProLb.string = Math.floor(data.userJxOrderNum / data.jxOrderNum * 100) + "%";
            }
        }
    };
    TopPrefab.prototype.updateGold = function (addValue) {
        if (addValue > 0)
            this.flyGoldLb(addValue);
        PlayerModel_1.default.changeGold(addValue);
        this.goldLab.string = "" + PlayerModel_1.default.getGold();
    };
    TopPrefab.prototype.updateXfzs = function (addValue) {
        this.degreeLb.string = "" + PlayerModel_1.default.getXfzs();
        this.flyXfzsLb(addValue);
    };
    TopPrefab.prototype.checkCropUnlock = function () {
        var list = ConfigManager_1.default.crop;
        var newCrop;
        var unLockList = PlayerModel_1.default.getUnlockCrop();
        for (var i = 0; i < list.length; i++) {
            var crop = list[i];
            var index = unLockList.indexOf(crop.id);
        }
        if (newCrop) {
            UIMananger_1.default.showPanel(UIType_1.default.VegetablesUnlockView, null, null, UIEffectManager_1.UIEffectType.SCALE, newCrop.id);
            PlayerModel_1.default.setNewCrop(newCrop.id);
        }
        console.log("新解锁植物", newCrop);
    };
    TopPrefab.prototype.update = function (dt) {
    };
    TopPrefab.prototype.flyRewardLabel = function (num) {
        var _this = this;
        this.flyMoney.stopAllActions();
        this.flyMoney.active = true;
        this.flyMoney.opacity = 255;
        this.flyMoney.getComponent(cc.Label).string = "+" + num.toFixed(2) + "\u5143";
        this.flyMoney.runAction(cc.sequence(cc.moveTo(Utils_1.default._FT(30), cc.v2(this.flyMoney.x, 100)), cc.fadeOut(Utils_1.default._FT(15)), cc.callFunc(function () {
            _this.flyMoney.active = false;
            _this.flyMoney.y = 45;
        })));
    };
    TopPrefab.prototype.flyGoldLb = function (num) {
        var _this = this;
        this.flyGold.stopAllActions();
        this.flyGold.active = true;
        this.flyGold.opacity = 255;
        if (num > 0)
            this.flyGold.getComponent(cc.Label).string = "+" + num;
        else
            this.flyGold.getComponent(cc.Label).string = "" + num;
        this.flyGold.runAction(cc.sequence(cc.moveTo(Utils_1.default._FT(30), cc.v2(this.flyGold.x, 100)), cc.fadeOut(Utils_1.default._FT(15)), cc.callFunc(function () {
            _this.flyGold.active = false;
            _this.flyGold.y = 45;
        })));
    };
    TopPrefab.prototype.flyXfzsLb = function (num) {
        var _this = this;
        this.flyXfzs.stopAllActions();
        this.flyXfzs.active = true;
        this.flyXfzs.opacity = 255;
        this.flyXfzs.getComponent(cc.Label).string = "+" + num;
        this.flyXfzs.runAction(cc.sequence(cc.moveTo(Utils_1.default._FT(30), cc.v2(this.flyXfzs.x, -400)), cc.fadeOut(Utils_1.default._FT(15)), cc.callFunc(function () {
            _this.flyXfzs.active = false;
            _this.flyXfzs.y = -450;
        })));
    };
    TopPrefab.prototype.initOrder = function () {
        var order = cc.instantiate(this.topOrder);
        this.orderGp.addChild(order);
        this.orderPrefab = order.getComponent(TopOrderPrefab_1.default);
    };
    TopPrefab.prototype.getGuidePoint = function () {
        var p = this.orderGp.convertToWorldSpaceAR(cc.v2(0, 0));
        return p;
    };
    __decorate([
        property(cc.Label)
    ], TopPrefab.prototype, "moneyLab", void 0);
    __decorate([
        property(cc.Label)
    ], TopPrefab.prototype, "goldLab", void 0);
    __decorate([
        property(cc.Node)
    ], TopPrefab.prototype, "addGold", void 0);
    __decorate([
        property(cc.Label)
    ], TopPrefab.prototype, "degreeLb", void 0);
    __decorate([
        property(cc.Label)
    ], TopPrefab.prototype, "lvLb", void 0);
    __decorate([
        property(cc.Node)
    ], TopPrefab.prototype, "lvProBg", void 0);
    __decorate([
        property(cc.Label)
    ], TopPrefab.prototype, "lvProLb", void 0);
    __decorate([
        property(cc.Node)
    ], TopPrefab.prototype, "settingBtn", void 0);
    __decorate([
        property(cc.Sprite)
    ], TopPrefab.prototype, "headIcon", void 0);
    __decorate([
        property(cc.Node)
    ], TopPrefab.prototype, "flyMoney", void 0);
    __decorate([
        property(cc.Node)
    ], TopPrefab.prototype, "flyGold", void 0);
    __decorate([
        property(cc.Node)
    ], TopPrefab.prototype, "flyXfzs", void 0);
    __decorate([
        property(cc.Node)
    ], TopPrefab.prototype, "orderGp", void 0);
    __decorate([
        property(cc.Prefab)
    ], TopPrefab.prototype, "topOrder", void 0);
    TopPrefab = __decorate([
        ccclass
    ], TopPrefab);
    return TopPrefab;
}(cc.Component));
exports.default = TopPrefab;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vVG9wUHJlZmFiLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtEQUEwRDtBQUMxRCxvRUFBK0Q7QUFDL0QsOEVBQTBFO0FBQzFFLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDRFQUF1RTtBQUV2RSx3REFBbUQ7QUFHbkQsOENBQXlDO0FBQ3pDLHVEQUFrRDtBQUNsRCw2REFBd0Q7QUFDeEQsZ0RBQThDO0FBQzlDLG1EQUE4QztBQUV4QyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1QztJQUF1Qyw2QkFBWTtJQUFuRDtRQUFBLHFFQXNPQztRQW5PRyxjQUFRLEdBQWEsSUFBSSxDQUFDO1FBRTFCLGFBQU8sR0FBYSxJQUFJLENBQUM7UUFFekIsYUFBTyxHQUFZLElBQUksQ0FBQztRQUV4QixjQUFRLEdBQWEsSUFBSSxDQUFDO1FBRTFCLFVBQUksR0FBYSxJQUFJLENBQUM7UUFFdEIsYUFBTyxHQUFZLElBQUksQ0FBQztRQUV4QixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBR3pCLGdCQUFVLEdBQVksSUFBSSxDQUFDO1FBRTNCLGNBQVEsR0FBYyxJQUFJLENBQUM7UUFHM0IsY0FBUSxHQUFZLElBQUksQ0FBQztRQUV6QixhQUFPLEdBQVksSUFBSSxDQUFDO1FBRXhCLGFBQU8sR0FBWSxJQUFJLENBQUM7UUFFeEIsYUFBTyxHQUFZLElBQUksQ0FBQztRQUV4QixjQUFRLEdBQWMsSUFBSSxDQUFDO1FBRTNCLFdBQVc7UUFDWCxpQkFBVyxHQUFXLENBQUMsQ0FBQztRQUN4QixlQUFTLEdBQVcsQ0FBQyxDQUFDO1FBQ3RCLGVBQVMsR0FBVyxDQUFDLENBQUM7UUFDdEIsZUFBUyxHQUFXLGVBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENB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REMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7K0NBQ087SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs4Q0FDTTtJQUV4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzhDQUNNO0lBRXhCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7OENBQ007SUFFeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzsrQ0FDTztJQS9CVixTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBc083QjtJQUFELGdCQUFDO0NBdE9ELEFBc09DLENBdE9zQyxFQUFFLENBQUMsU0FBUyxHQXNPbEQ7a0JBdE9vQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEpTSGVscGVyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvaGVscGVyL0pTSGVscGVyXCI7XHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IENvbXBvbmVudEhlbHBlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL0NvbXBvbmVudEhlbHBlclwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IFV0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgY3JvcF9jb25maWcgfSBmcm9tIFwiLi4vLi4vY29uc3RzL0NDb25zdFwiO1xyXG5pbXBvcnQgR2xvYmFsIGZyb20gXCIuLi8uLi9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0cy9VSVR5cGVcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFBvcFR5cGUgfSBmcm9tIFwiLi4vcG9wVmlldy9Qb3BWaWV3MVwiO1xyXG5pbXBvcnQgVG9wT3JkZXJQcmVmYWIgZnJvbSBcIi4vVG9wT3JkZXJQcmVmYWJcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvcFByZWZhYiBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbW9uZXlMYWI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGdvbGRMYWI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYWRkR29sZDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBkZWdyZWVMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbHZMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBsdlByb0JnOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGx2UHJvTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHNldHRpbmdCdG46IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIGhlYWRJY29uOiBjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZmx5TW9uZXk6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBmbHlHb2xkOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZmx5WGZ6czogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIG9yZGVyR3A6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIHRvcE9yZGVyOiBjYy5QcmVmYWIgPSBudWxsO1xyXG5cclxuICAgIC8vbW9uZXnliqjnlLvlvIDlkK9cclxuICAgIF9zdGFydE1vbmV5OiBudW1iZXIgPSAwO1xyXG4gICAgX2VuZE1vbmV5OiBudW1iZXIgPSAwO1xyXG4gICAgX2N1clRpbWVyOiBudW1iZXIgPSAwO1xyXG4gICAgX2VuZFRpbWVyOiBudW1iZXIgPSBVdGlscy5fRlQoMTApO1xyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgb3JkZXJQcmVmYWI6IFRvcE9yZGVyUHJlZmFiO1xyXG5cclxuICAgIG9uTG9hZCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0T3JkZXIoKTtcclxuXHJcbiAgICB9XHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVVBEQVRFX01PTkVZLCB0aGlzLnVwZGF0ZVRvcE1vbmV5LCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVVBEQVRFX0dPTEQsIHRoaXMudXBkYXRlR29sZCwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlVQREFURV9YRlpTLCB0aGlzLnVwZGF0ZVhmenMsIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuTEVWRUxfVVBEQVRFLCB0aGlzLnVwZGF0ZUx2LCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlNES19XWEJJTkQsIHRoaXMudXBkYXRlSGVhZCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVIZWFkKCk7XHJcbiAgICB9XHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5mbHlNb25leS55ID0gLSAxNTtcclxuICAgICAgICB0aGlzLmZseUdvbGQueSA9IC0gMTU7XHJcbiAgICAgICAgdGhpcy5mbHlYZnpzLnkgPSAtIDQ1MDtcclxuICAgICAgICB0aGlzLmluaXREYXRhKCk7XHJcbiAgICB9XHJcbiAgICBpbml0RGF0YSgpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUx2KCk7XHJcbiAgICAgICAgdGhpcy5tb25leUxhYi5zdHJpbmcgPSBgJHtQbGF5ZXJNb2RlbC5nZXRNb25leSgpfeWFg2A7XHJcbiAgICAgICAgdGhpcy5nb2xkTGFiLnN0cmluZyA9IGAke1BsYXllck1vZGVsLmdldEdvbGQoKX1gO1xyXG4gICAgICAgIHRoaXMuZGVncmVlTGIuc3RyaW5nID0gYCR7UGxheWVyTW9kZWwuZ2V0WGZ6cygpfWA7XHJcbiAgICAgICAgLy8gdGhpcy51cGRhdGVUaXhpYW5UaXBzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlSGVhZCgpIHtcclxuICAgICAgICBsZXQgaGVhZFVybCA9IFNES01hbmFnZXIuZ2V0VXNlckljb24oKTtcclxuICAgICAgICAvLyBsZXQgaGVhZFVybCA9IFwiaHR0cHM6Ly90aGlyZHd4LnFsb2dvLmNuL21tb3Blbi92aV8zMi9QaWFqeFNxQlJhRUtNMGlhR3dJNExFZENVaWNadUlnbXJtNHpYTk1sREhZcTdYbkEzNnFLVVg1bjZpYnpqdFdnUGo3b2NQZ0UyaWFsaEoyZU9HOU5nVFhhbThBLzEzMlwiO1xyXG4gICAgICAgIGlmIChoZWFkVXJsICYmIGhlYWRVcmwgIT0gXCJcIikge1xyXG4gICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNjLmFzc2V0TWFuYWdlci5sb2FkUmVtb3RlKGhlYWRVcmwsIHsgZXh0OiAnLnBuZycgfSwgZnVuY3Rpb24gKGVyciwgdGV4dHVyZTogY2MuVGV4dHVyZTJEKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlpLTlg4/liqDovb3lpLHotKVcIiwgaGVhZFVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VsZi5oZWFkSWNvbi5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IG5ldyBjYy5TcHJpdGVGcmFtZSh0ZXh0dXJlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/orr7nva5cclxuICAgIG9wZW5TZXR0aW5nKCkge1xyXG4gICAgICAgIEpTSGVscGVyLnBsYXlDbGlja0VmZmVjdCgpO1xyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5zZXR0aW5nVmlldyk7XHJcbiAgICB9XHJcbiAgICAvKiog5bm456aP5oyH5pWwICovXHJcbiAgICBvcGVuWGZ6cygpOiB2b2lkIHtcclxuICAgICAgICBKU0hlbHBlci5wbGF5Q2xpY2tFZmZlY3QoKTtcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUueGZ6c1ZpZXcpO1xyXG4gICAgfVxyXG4gICAgLyoqIOWinuWKoOmSnuelqCAqL1xyXG4gICAgb3BlbkFkZEdvbGQoKTogdm9pZCB7XHJcbiAgICAgICAgSlNIZWxwZXIucGxheUNsaWNrRWZmZWN0KCk7XHJcbiAgICAgICAgLy8gVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLk1hbnlpVmlldyk7XHJcbiAgICB9XHJcbiAgICBvcGVuTGV2ZWwoKSB7XHJcbiAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLmxldmVsVmlldyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/mj5DnjrBcclxuICAgIG9wZW5UaXhpYW4oKSB7XHJcbiAgICAgICAgSlNIZWxwZXIucGxheUNsaWNrRWZmZWN0KCk7XHJcbiAgICAgICAgU0RLTWFuYWdlci5vcGVuV2l0aGRyYXcoKTtcclxuICAgIH1cclxuICAgIC8v6aKG5Y+W6ZKe56WoXHJcbiAgICBvcGVuR29sZFZBaWV3KCkge1xyXG4gICAgICAgIEpTSGVscGVyLnBsYXlDbGlja0VmZmVjdCgpO1xyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5wb3BWaWV3MSwgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCBQb3BUeXBlLkdPTEQxLCAxMDAwKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZVRvcE1vbmV5KGRhdGEpIHtcclxuICAgICAgICAvL0FjdGlvbkZsb2F05ZCO57ut5omp5bGV5Yiw5byV5pOO5LiK6Z2iIFRPRE9cclxuICAgICAgICB0aGlzLm1vbmV5TGFiLnN0cmluZyA9IGAke1BsYXllck1vZGVsLmdldE1vbmV5KCl95YWDYDtcclxuICAgICAgICBpZiAoVXRpbHMuaXNVbmRlZmluZWQoZGF0YSkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlRvcFByZWZhYiB1cGRhdGVUb3BNb25leSBkYXRhIGlzIHVuZGVmaW5lZFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF0YSAhPSAwKSB0aGlzLmZseVJld2FyZExhYmVsKE51bWJlcihkYXRhKSk7XHJcblxyXG4gICAgICAgIC8vIHRoaXMudXBkYXRlVGl4aWFuVGlwcygpO1xyXG5cclxuICAgIH1cclxuICAgIHVwZGF0ZUx2KCkge1xyXG4gICAgICAgIGxldCBkYXRhID0gU0RLTWFuYWdlci5nZXRKU0xldmVsSW5mbygpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi6I635Y+W562J57qn55u45YWz5L+h5oGvXCIsIGRhdGEpO1xyXG4gICAgICAgIHRoaXMubHZQcm9CZy5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgIHRoaXMubHZQcm9CZy5hbmdsZSA9IDA7XHJcbiAgICAgICAgdGhpcy5sdkxiLnN0cmluZyA9IFwiTHYuXCIgKyBkYXRhLmpzTGV2ZWw7XHJcbiAgICAgICAgaWYgKGRhdGEuanhPcmRlck51bSA9PSAwICYmIGRhdGEudXNlckp4T3JkZXJOdW0gPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmx2UHJvQmcuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMubHZQcm9MYi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YS5qeE9yZGVyTnVtICE9IDAgJiYgZGF0YS51c2VySnhPcmRlck51bSA+PSBkYXRhLmp4T3JkZXJOdW0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubHZQcm9MYi5zdHJpbmcgPSBcIuWPr+WNh+e6p1wiXHJcbiAgICAgICAgICAgICAgICBDb21wb25lbnRIZWxwZXIuc2V0Um90YXRpb24odGhpcy5sdlByb0JnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubHZQcm9MYi5zdHJpbmcgPSBNYXRoLmZsb29yKGRhdGEudXNlckp4T3JkZXJOdW0gLyBkYXRhLmp4T3JkZXJOdW0gKiAxMDApICsgXCIlXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGVHb2xkKGFkZFZhbHVlKSB7XHJcblxyXG4gICAgICAgIGlmIChhZGRWYWx1ZSA+IDApIHRoaXMuZmx5R29sZExiKGFkZFZhbHVlKTtcclxuICAgICAgICBQbGF5ZXJNb2RlbC5jaGFuZ2VHb2xkKGFkZFZhbHVlKTtcclxuICAgICAgICB0aGlzLmdvbGRMYWIuc3RyaW5nID0gYCR7UGxheWVyTW9kZWwuZ2V0R29sZCgpfWA7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVYZnpzKGFkZFZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5kZWdyZWVMYi5zdHJpbmcgPSBgJHtQbGF5ZXJNb2RlbC5nZXRYZnpzKCl9YDtcclxuICAgICAgICB0aGlzLmZseVhmenNMYihhZGRWYWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tDcm9wVW5sb2NrKCkge1xyXG4gICAgICAgIGxldCBsaXN0ID0gQ29uZmlnTWFuYWdlci5jcm9wO1xyXG4gICAgICAgIGxldCBuZXdDcm9wOiBjcm9wX2NvbmZpZztcclxuICAgICAgICBsZXQgdW5Mb2NrTGlzdCA9IFBsYXllck1vZGVsLmdldFVubG9ja0Nyb3AoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGNyb3AgPSBsaXN0W2ldO1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSB1bkxvY2tMaXN0LmluZGV4T2YoY3JvcC5pZClcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5ld0Nyb3ApIHtcclxuICAgICAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLlZlZ2V0YWJsZXNVbmxvY2tWaWV3LCBudWxsLCBudWxsLCBVSUVmZmVjdFR5cGUuU0NBTEUsIG5ld0Nyb3AuaWQpXHJcbiAgICAgICAgICAgIFBsYXllck1vZGVsLnNldE5ld0Nyb3AobmV3Q3JvcC5pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi5paw6Kej6ZSB5qSN54mpXCIsIG5ld0Nyb3ApO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0OiBudW1iZXIpOiB2b2lkIHtcclxuICAgIH1cclxuICAgIGZseVJld2FyZExhYmVsKG51bSkge1xyXG4gICAgICAgIHRoaXMuZmx5TW9uZXkuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLmZseU1vbmV5LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5mbHlNb25leS5vcGFjaXR5ID0gMjU1O1xyXG4gICAgICAgIHRoaXMuZmx5TW9uZXkuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBgKyR7bnVtLnRvRml4ZWQoMil95YWDYDtcclxuICAgICAgICB0aGlzLmZseU1vbmV5LnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgY2MubW92ZVRvKFV0aWxzLl9GVCgzMCksIGNjLnYyKHRoaXMuZmx5TW9uZXkueCwgMTAwKSksXHJcbiAgICAgICAgICAgIGNjLmZhZGVPdXQoVXRpbHMuX0ZUKDE1KSksXHJcbiAgICAgICAgICAgIGNjLmNhbGxGdW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmx5TW9uZXkuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZseU1vbmV5LnkgPSA0NTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApKTtcclxuICAgIH1cclxuICAgIGZseUdvbGRMYihudW0pIHtcclxuICAgICAgICB0aGlzLmZseUdvbGQuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLmZseUdvbGQuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmZseUdvbGQub3BhY2l0eSA9IDI1NTtcclxuICAgICAgICBpZiAobnVtID4gMCkgdGhpcy5mbHlHb2xkLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gYCske251bX1gO1xyXG4gICAgICAgIGVsc2UgdGhpcy5mbHlHb2xkLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gYCR7bnVtfWA7XHJcblxyXG4gICAgICAgIHRoaXMuZmx5R29sZC5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgIGNjLm1vdmVUbyhVdGlscy5fRlQoMzApLCBjYy52Mih0aGlzLmZseUdvbGQueCwgMTAwKSksXHJcbiAgICAgICAgICAgIGNjLmZhZGVPdXQoVXRpbHMuX0ZUKDE1KSksXHJcbiAgICAgICAgICAgIGNjLmNhbGxGdW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmx5R29sZC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmx5R29sZC55ID0gNDU7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKSk7XHJcbiAgICB9XHJcbiAgICBmbHlYZnpzTGIobnVtKSB7XHJcbiAgICAgICAgdGhpcy5mbHlYZnpzLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5mbHlYZnpzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5mbHlYZnpzLm9wYWNpdHkgPSAyNTU7XHJcbiAgICAgICAgdGhpcy5mbHlYZnpzLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gYCske251bX1gO1xyXG4gICAgICAgIHRoaXMuZmx5WGZ6cy5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgIGNjLm1vdmVUbyhVdGlscy5fRlQoMzApLCBjYy52Mih0aGlzLmZseVhmenMueCwgLTQwMCkpLFxyXG4gICAgICAgICAgICBjYy5mYWRlT3V0KFV0aWxzLl9GVCgxNSkpLFxyXG4gICAgICAgICAgICBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZseVhmenMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZseVhmenMueSA9IC0gNDUwO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICkpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRPcmRlcigpIHtcclxuICAgICAgICBsZXQgb3JkZXIgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnRvcE9yZGVyKTtcclxuICAgICAgICB0aGlzLm9yZGVyR3AuYWRkQ2hpbGQob3JkZXIpO1xyXG4gICAgICAgIHRoaXMub3JkZXJQcmVmYWIgPSBvcmRlci5nZXRDb21wb25lbnQoVG9wT3JkZXJQcmVmYWIpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEd1aWRlUG9pbnQoKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLm9yZGVyR3AuY29udmVydFRvV29ybGRTcGFjZUFSKGNjLnYyKDAsIDApKTtcclxuICAgICAgICByZXR1cm4gcDtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/WallPrefab.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '03985307SRE9p7Blb86Rx86', 'WallPrefab');
// src/game/view/main/WallPrefab.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var PlayerModel_1 = require("../../datas/PlayerModel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var WallPrefab = /** @class */ (function (_super) {
    __extends(WallPrefab, _super);
    function WallPrefab() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.img = null;
        _this.effNode = null;
        return _this;
    }
    // onLoad () {}
    WallPrefab.prototype.start = function () {
        this.effNode.active = false;
        EventDispath_1.default.addEventListener(EventType_1.EventType.CHANGE_WALL, this.changeSkin, this);
    };
    WallPrefab.prototype.setData = function (id) {
        if (id === void 0) { id = 1; }
        this.changeSkin(0);
    };
    WallPrefab.prototype.changeSkin = function (isLvUp) {
        var _this = this;
        if (isLvUp === void 0) { isLvUp = 1; }
        var id = PlayerModel_1.default.getUIConfig().walllv;
        if (id == 0)
            return;
        MkUtils_1.default.loadSpriteFrame("texture/prop/wall/" + ("0" + id), function (res) {
            if (isLvUp) {
                var arr = _this.effNode.children;
                _this.effNode.active = true;
                for (var i = 0; i < arr.length; i++) {
                    var eff = arr[i].getComponent(sp.Skeleton);
                    eff.animation = "animation";
                }
                MkUtils_1.default.setNodeDelay(_this.node, 5, function () {
                    _this.effNode.active = false;
                });
            }
            _this.img.spriteFrame = res;
        });
    };
    __decorate([
        property(cc.Sprite)
    ], WallPrefab.prototype, "img", void 0);
    __decorate([
        property(cc.Node)
    ], WallPrefab.prototype, "effNode", void 0);
    WallPrefab = __decorate([
        ccclass
    ], WallPrefab);
    return WallPrefab;
}(cc.Component));
exports.default = WallPrefab;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vV2FsbFByZWZhYi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRix3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDREQUF1RDtBQUN2RCx1REFBa0Q7QUFFNUMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBd0MsOEJBQVk7SUFBcEQ7UUFBQSxxRUFtQ0M7UUFoQ0csU0FBRyxHQUFjLElBQUksQ0FBQztRQUV0QixhQUFPLEdBQVksSUFBSSxDQUFDOztJQThCNUIsQ0FBQztJQTdCRyxlQUFlO0lBRWYsMEJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUM1QixzQkFBWSxDQUFDLGdCQUFnQixDQUFDLHFCQUFTLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDaEYsQ0FBQztJQUVELDRCQUFPLEdBQVAsVUFBUSxFQUFNO1FBQU4sbUJBQUEsRUFBQSxNQUFNO1FBQ1YsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QixDQUFDO0lBQ0QsK0JBQVUsR0FBVixVQUFXLE1BQVU7UUFBckIsaUJBa0JDO1FBbEJVLHVCQUFBLEVBQUEsVUFBVTtRQUNqQixJQUFJLEVBQUUsR0FBRyxxQkFBVyxDQUFDLFdBQVcsRUFBRSxDQUFDLE1BQU0sQ0FBQztRQUMxQyxJQUFJLEVBQUUsSUFBSSxDQUFDO1lBQUUsT0FBTztRQUNwQixpQkFBTyxDQUFDLGVBQWUsQ0FBQyxvQkFBb0IsSUFBRyxNQUFJLEVBQUksQ0FBQSxFQUFFLFVBQUMsR0FBRztZQUN6RCxJQUFJLE1BQU0sRUFBRTtnQkFDUixJQUFJLEdBQUcsR0FBRyxLQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQTtnQkFDL0IsS0FBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO2dCQUMzQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDakMsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQzNDLEdBQUcsQ0FBQyxTQUFTLEdBQUcsV0FBVyxDQUFBO2lCQUM5QjtnQkFFRCxpQkFBTyxDQUFDLFlBQVksQ0FBQyxLQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRTtvQkFDL0IsS0FBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO2dCQUNoQyxDQUFDLENBQUMsQ0FBQTthQUNMO1lBQ0QsS0FBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1FBQy9CLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQS9CRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzJDQUNFO0lBRXRCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7K0NBQ007SUFMUCxVQUFVO1FBRDlCLE9BQU87T0FDYSxVQUFVLENBbUM5QjtJQUFELGlCQUFDO0NBbkNELEFBbUNDLENBbkN1QyxFQUFFLENBQUMsU0FBUyxHQW1DbkQ7a0JBbkNvQixVQUFVIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Na1V0aWxzXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXYWxsUHJlZmFiIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgaW1nOiBjYy5TcHJpdGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBlZmZOb2RlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIC8vIG9uTG9hZCAoKSB7fVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuZWZmTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ0hBTkdFX1dBTEwsIHRoaXMuY2hhbmdlU2tpbiwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGF0YShpZCA9IDEpIHtcclxuICAgICAgICB0aGlzLmNoYW5nZVNraW4oMCk7XHJcbiAgICB9XHJcbiAgICBjaGFuZ2VTa2luKGlzTHZVcCA9IDEpIHtcclxuICAgICAgICBsZXQgaWQgPSBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLndhbGxsdjtcclxuICAgICAgICBpZiAoaWQgPT0gMCkgcmV0dXJuO1xyXG4gICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9wcm9wL3dhbGwvXCIgKyBgMCR7aWR9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXNMdlVwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYXJyID0gdGhpcy5lZmZOb2RlLmNoaWxkcmVuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVmZk5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVmZiA9IGFycltpXS5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGVmZi5hbmltYXRpb24gPSBcImFuaW1hdGlvblwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIE1LVXRpbHMuc2V0Tm9kZURlbGF5KHRoaXMubm9kZSwgNSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWZmTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5pbWcuc3ByaXRlRnJhbWUgPSByZXM7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/TopOrderPrefab.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8f7a7K1UnBBxraBUkrGXXsN', 'TopOrderPrefab');
// src/game/view/main/TopOrderPrefab.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var ComponentHelper_1 = require("../../../framework/tools/ComponentHelper");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var TopOrderItem_1 = require("./TopOrderItem");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TopOrderPrefab = /** @class */ (function (_super) {
    __extends(TopOrderPrefab, _super);
    function TopOrderPrefab() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.numLb = null;
        _this.right = null;
        _this.itemGp = null;
        _this.nullGp = null;
        _this.tips1 = null;
        _this.tips2 = null;
        _this.shou = null;
        _this.item = null;
        // LIFE-CYCLE CALLBACKS:
        _this.isComplete = false;
        return _this;
        // update (dt) {}
    }
    TopOrderPrefab.prototype.onLoad = function () {
    };
    TopOrderPrefab.prototype.onEnable = function () {
        EventDispath_1.default.addEventListener(EventType_1.EventType.ORDER_CLOSE, this.init, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.ORDER_UPDATE_TOP, this.onUpdate, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.ORDER_COMPLETE_UPDATE, this.onComplete, this);
        this.init();
        if (PlayerModel_1.default.checkOrderComplete()) {
            this.onComplete();
        }
    };
    TopOrderPrefab.prototype.onUpdate = function () {
        this.init();
    };
    TopOrderPrefab.prototype.openOrderHbView = function () {
        if (PlayerModel_1.default.guideStep >= 0) {
            EventDispath_1.default.send(EventType_1.EventType.GUIDE_Hide);
        }
        if (PlayerModel_1.default.checkOrderComplete()) {
            UIMananger_1.default.showPanel(UIType_1.default.orderSuccessView);
        }
        else {
            UIMananger_1.default.showPanel(UIType_1.default.orderCurrentView, null, null, UIEffectManager_1.UIEffectType.SCALE, this.mData);
        }
    };
    TopOrderPrefab.prototype.resetUi = function () {
        this.right.angle = 0;
        this.right.stopAllActions();
        this.nullGp.active = false;
        this.right.active = false;
        this.itemGp.active = false;
        this.numLb.node.active = false;
        this.tips1.active = false;
        this.tips2.active = false;
    };
    TopOrderPrefab.prototype.openOrderView = function () {
        // if (PlayerModel.guideStep == 12) return;
        if (PlayerModel_1.default.guideStep >= 0) {
            EventDispath_1.default.send(EventType_1.EventType.GUIDE_Hide);
        }
        var list = PlayerModel_1.default.getOrderList();
        UIMananger_1.default.showPanel(UIType_1.default.orderView, null, null, UIEffectManager_1.UIEffectType.SCALE, list);
    };
    TopOrderPrefab.prototype.init = function () {
        this.resetUi();
        this.mData = PlayerModel_1.default.getCurrentOrder();
        if (this.mData) {
            this.shou.stopAllActions();
            this.right.active = true;
            this.itemGp.active = true;
            this.numLb.node.active = true;
            if (this.mData.quality == 0)
                this.numLb.string = "无加成";
            else if (this.mData.quality == 1) {
                this.numLb.string = "无加成";
            }
            else {
                this.numLb.string = "+" + ConfigManager_1.default.order_quality_add[this.mData.quality - 1] + "%";
            }
            this.tips1.active = true;
            this.changeItem();
            // let list = 
        }
        else {
            this.tips2.active = true;
            this.nullGp.active = true;
            ComponentHelper_1.default.setHeartAction(this.shou, 0.7, false, 1.1);
        }
        if (PlayerModel_1.default.checkOrderComplete()) {
            this.onComplete();
        }
    };
    //订单完成，晃动
    TopOrderPrefab.prototype.onComplete = function () {
        this.right.stopAllActions();
        ComponentHelper_1.default.setRotation(this.right);
    };
    TopOrderPrefab.prototype.changeItem = function () {
        this.itemGp.removeAllChildren();
        var list = this.mData.cropList;
        for (var i = 0; i < list.length; i++) {
            var item = cc.instantiate(this.item);
            this.itemGp.addChild(item);
            item.getComponent(TopOrderItem_1.default).setData(list[i]);
        }
    };
    __decorate([
        property(cc.Label)
    ], TopOrderPrefab.prototype, "numLb", void 0);
    __decorate([
        property(cc.Node)
    ], TopOrderPrefab.prototype, "right", void 0);
    __decorate([
        property(cc.Node)
    ], TopOrderPrefab.prototype, "itemGp", void 0);
    __decorate([
        property(cc.Node)
    ], TopOrderPrefab.prototype, "nullGp", void 0);
    __decorate([
        property(cc.Node)
    ], TopOrderPrefab.prototype, "tips1", void 0);
    __decorate([
        property(cc.Node)
    ], TopOrderPrefab.prototype, "tips2", void 0);
    __decorate([
        property(cc.Node)
    ], TopOrderPrefab.prototype, "shou", void 0);
    __decorate([
        property(cc.Prefab)
    ], TopOrderPrefab.prototype, "item", void 0);
    TopOrderPrefab = __decorate([
        ccclass
    ], TopOrderPrefab);
    return TopOrderPrefab;
}(cc.Component));
exports.default = TopOrderPrefab;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vVG9wT3JkZXJQcmVmYWIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHbEYsOEVBQTBFO0FBQzFFLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDRFQUF1RTtBQUN2RSw4Q0FBeUM7QUFDekMsdURBQWtEO0FBQ2xELDZEQUF3RDtBQUN4RCwrQ0FBMEM7QUFFcEMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBNEMsa0NBQVk7SUFBeEQ7UUFBQSxxRUFvSEM7UUFqSEcsV0FBSyxHQUFhLElBQUksQ0FBQztRQUV2QixXQUFLLEdBQVksSUFBSSxDQUFDO1FBRXRCLFlBQU0sR0FBWSxJQUFJLENBQUM7UUFFdkIsWUFBTSxHQUFZLElBQUksQ0FBQztRQUV2QixXQUFLLEdBQVksSUFBSSxDQUFDO1FBRXRCLFdBQUssR0FBWSxJQUFJLENBQUM7UUFFdEIsVUFBSSxHQUFZLElBQUksQ0FBQztRQUVyQixVQUFJLEdBQWMsSUFBSSxDQUFDO1FBR3ZCLHdCQUF3QjtRQUN4QixnQkFBVSxHQUFHLEtBQUssQ0FBQzs7UUE4Rm5CLGlCQUFpQjtJQUNyQixDQUFDO0lBOUZHLCtCQUFNLEdBQU47SUFFQSxDQUFDO0lBQ1MsaUNBQVEsR0FBbEI7UUFDSSxzQkFBWSxDQUFDLGdCQUFnQixDQUFDLHFCQUFTLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdEUsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxRQUFRLEVB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QUFJLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMzQixJQUFJLENBQUMsWUFBWSxDQUFDLHNCQUFZLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDcEQ7SUFDTCxDQUFDO0lBOUdEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7aURBQ0k7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztpREFDSTtJQUV0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2tEQUNLO0lBRXZCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7a0RBQ0s7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztpREFDSTtJQUV0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2lEQUNJO0lBRXRCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7Z0RBQ0c7SUFFckI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztnREFDRztJQWpCTixjQUFjO1FBRGxDLE9BQU87T0FDYSxjQUFjLENBb0hsQztJQUFELHFCQUFDO0NBcEhELEFBb0hDLENBcEgyQyxFQUFFLENBQUMsU0FBUyxHQW9IdkQ7a0JBcEhvQixjQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IFNES01hbmFnZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1NES01hbmFnZXJcIjtcclxuaW1wb3J0IHsgVUlFZmZlY3RUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJRWZmZWN0TWFuYWdlclwiO1xyXG5pbXBvcnQgVUlNYW5hbmdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlNYW5hbmdlclwiO1xyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50VHlwZVwiO1xyXG5pbXBvcnQgQ29tcG9uZW50SGVscGVyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvQ29tcG9uZW50SGVscGVyXCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0cy9VSVR5cGVcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcbmltcG9ydCBUb3BPcmRlckl0ZW0gZnJvbSBcIi4vVG9wT3JkZXJJdGVtXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9wT3JkZXJQcmVmYWIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG51bUxiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHJpZ2h0OiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgaXRlbUdwOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgbnVsbEdwOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdGlwczE6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICB0aXBzMjogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHNob3U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIGl0ZW06IGNjLlByZWZhYiA9IG51bGw7XHJcblxyXG4gICAgbURhdGE7XHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuICAgIGlzQ29tcGxldGUgPSBmYWxzZTtcclxuICAgIG9uTG9hZCgpIHtcclxuXHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLk9SREVSX0NMT1NFLCB0aGlzLmluaXQsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5PUkRFUl9VUERBVEVfVE9QLCB0aGlzLm9uVXBkYXRlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLk9SREVSX0NPTVBMRVRFX1VQREFURSwgdGhpcy5vbkNvbXBsZXRlLCB0aGlzKVxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIGlmIChQbGF5ZXJNb2RlbC5jaGVja09yZGVyQ29tcGxldGUoKSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvblVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH1cclxuICAgIG9wZW5PcmRlckhiVmlldygpIHtcclxuICAgICAgICBpZiAoUGxheWVyTW9kZWwuZ3VpZGVTdGVwID49IDApIHtcclxuICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkdVSURFX0hpZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoUGxheWVyTW9kZWwuY2hlY2tPcmRlckNvbXBsZXRlKCkpIHtcclxuICAgICAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLm9yZGVyU3VjY2Vzc1ZpZXcpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLm9yZGVyQ3VycmVudFZpZXcsIG51bGwsIG51bGwsIFVJRWZmZWN0VHlwZS5TQ0FMRSwgdGhpcy5tRGF0YSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXNldFVpKCkge1xyXG4gICAgICAgIHRoaXMucmlnaHQuYW5nbGUgPSAwO1xyXG4gICAgICAgIHRoaXMucmlnaHQuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLm51bGxHcC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJpZ2h0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXRlbUdwLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubnVtTGIubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRpcHMxLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGlwczIuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBvcGVuT3JkZXJWaWV3KCkge1xyXG4gICAgICAgIC8vIGlmIChQbGF5ZXJNb2RlbC5ndWlkZVN0ZXAgPT0gMTIpIHJldHVybjtcclxuICAgICAgICBpZiAoUGxheWVyTW9kZWwuZ3VpZGVTdGVwID49IDApIHtcclxuICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkdVSURFX0hpZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbGlzdCA9IFBsYXllck1vZGVsLmdldE9yZGVyTGlzdCgpO1xyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5vcmRlclZpZXcsIG51bGwsIG51bGwsIFVJRWZmZWN0VHlwZS5TQ0FMRSwgbGlzdCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNldFVpKClcclxuICAgICAgICB0aGlzLm1EYXRhID0gUGxheWVyTW9kZWwuZ2V0Q3VycmVudE9yZGVyKCk7XHJcbiAgICAgICAgaWYgKHRoaXMubURhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG91LnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgICAgIHRoaXMucmlnaHQuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5pdGVtR3AuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5udW1MYi5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5tRGF0YS5xdWFsaXR5ID09IDApIHRoaXMubnVtTGIuc3RyaW5nID0gXCLml6DliqDmiJBcIjtcclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5tRGF0YS5xdWFsaXR5ID09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubnVtTGIuc3RyaW5nID0gXCLml6DliqDmiJBcIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubnVtTGIuc3RyaW5nID0gXCIrXCIgKyBDb25maWdNYW5hZ2VyLm9yZGVyX3F1YWxpdHlfYWRkW3RoaXMubURhdGEucXVhbGl0eSAtIDFdICsgXCIlXCI7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudGlwczEuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlSXRlbSgpO1xyXG4gICAgICAgICAgICAvLyBsZXQgbGlzdCA9IFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudGlwczIuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5udWxsR3AuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgQ29tcG9uZW50SGVscGVyLnNldEhlYXJ0QWN0aW9uKHRoaXMuc2hvdSwgMC43LCBmYWxzZSwgMS4xKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChQbGF5ZXJNb2RlbC5jaGVja09yZGVyQ29tcGxldGUoKSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgLy/orqLljZXlrozmiJDvvIzmmYPliqhcclxuICAgIG9uQ29tcGxldGUoKSB7XHJcbiAgICAgICAgdGhpcy5yaWdodC5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgIENvbXBvbmVudEhlbHBlci5zZXRSb3RhdGlvbih0aGlzLnJpZ2h0KVxyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZUl0ZW0oKSB7XHJcbiAgICAgICAgdGhpcy5pdGVtR3AucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuICAgICAgICBsZXQgbGlzdCA9IHRoaXMubURhdGEuY3JvcExpc3Q7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gY2MuaW5zdGFudGlhdGUodGhpcy5pdGVtKTtcclxuICAgICAgICAgICAgdGhpcy5pdGVtR3AuYWRkQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KFRvcE9yZGVySXRlbSkuc2V0RGF0YShsaXN0W2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/PipePrefab.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a774bnxkYlK+bpgF7BhOi5+', 'PipePrefab');
// src/game/view/main/PipePrefab.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var PlayerModel_1 = require("../../datas/PlayerModel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PipePrefab = /** @class */ (function (_super) {
    __extends(PipePrefab, _super);
    function PipePrefab() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.img = null;
        _this.liushui = null;
        _this.shuihua = null;
        _this.lvUpEff = null;
        return _this;
    }
    // onLoad () {}
    PipePrefab.prototype.start = function () {
        this.lvUpEff.node.active = false;
        EventDispath_1.default.addEventListener(EventType_1.EventType.CHANGE_PIPE, this.changeSkin, this);
    };
    PipePrefab.prototype.setData = function (id) {
        if (id === void 0) { id = 1; }
        this.changeSkin(0);
    };
    PipePrefab.prototype.changeSkin = function (isLvUp) {
        var _this = this;
        if (isLvUp === void 0) { isLvUp = 1; }
        var id = PlayerModel_1.default.getUIConfig().pipelv;
        if (id == 0) {
            this.liushui.node.active = false;
            this.shuihua.node.active = false;
            return;
        }
        this.liushui.node.active = true;
        this.liushui.play();
        this.shuihua.node.active = true;
        this.shuihua.animation = "bowen";
        MkUtils_1.default.loadSpriteFrame("texture/prop/pipe/" + ("0" + id), function (res) {
            _this.img.spriteFrame = res;
            if (isLvUp) {
                _this.lvUpEff.node.active = true;
                _this.lvUpEff.animation = "animation";
            }
        });
    };
    __decorate([
        property(cc.Sprite)
    ], PipePrefab.prototype, "img", void 0);
    __decorate([
        property(cc.Animation)
    ], PipePrefab.prototype, "liushui", void 0);
    __decorate([
        property(sp.Skeleton)
    ], PipePrefab.prototype, "shuihua", void 0);
    __decorate([
        property(sp.Skeleton)
    ], PipePrefab.prototype, "lvUpEff", void 0);
    PipePrefab = __decorate([
        ccclass
    ], PipePrefab);
    return PipePrefab;
}(cc.Component));
exports.default = PipePrefab;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vUGlwZVByZWZhYi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRix3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDREQUF1RDtBQUN2RCx1REFBa0Q7QUFFNUMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBd0MsOEJBQVk7SUFBcEQ7UUFBQSxxRUF3Q0M7UUFyQ0csU0FBRyxHQUFjLElBQUksQ0FBQztRQUV0QixhQUFPLEdBQWlCLElBQUksQ0FBQztRQUU3QixhQUFPLEdBQWdCLElBQUksQ0FBQztRQUU1QixhQUFPLEdBQWdCLElBQUksQ0FBQzs7SUErQmhDLENBQUM7SUE5QkcsZUFBZTtJQUVmLDBCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ2pDLHNCQUFZLENBQUMsZ0JBQWdCLENBQUMscUJBQVMsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNoRixDQUFDO0lBRUQsNEJBQU8sR0FBUCxVQUFRLEVBQU07UUFBTixtQkFBQSxFQUFBLE1BQU07UUFDVixJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ3RCLENBQUM7SUFFRCwrQkFBVSxHQUFWLFVBQVcsTUFBVTtRQUFyQixpQkFrQkM7UUFsQlUsdUJBQUEsRUFBQSxVQUFVO1FBQ2pCLElBQUksRUFBRSxHQUFHLHFCQUFXLENBQUMsV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFDO1FBQzFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRTtZQUNULElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDakMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQTtZQUNoQyxPQUFPO1NBQ1Y7UUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ2hDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDbkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUNoQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBQyxPQUFPLENBQUE7UUFDOUIsaUJBQU8sQ0FBQyxlQUFlLENBQUMsb0JBQW9CLElBQUcsTUFBSSxFQUFJLENBQUEsRUFBRSxVQUFDLEdBQUc7WUFDekQsS0FBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1lBQzNCLElBQUksTUFBTSxFQUFFO2dCQUNSLEtBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7Z0JBQ2hDLEtBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUFHLFdBQVcsQ0FBQzthQUN4QztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQXBDRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzJDQUNFO0lBRXRCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUM7K0NBQ007SUFFN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQzsrQ0FDTTtJQUU1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDOytDQUNNO0lBVFgsVUFBVTtRQUQ5QixPQUFPO09BQ2EsVUFBVSxDQXdDOUI7SUFBRCxpQkFBQztDQXhDRCxBQXdDQyxDQXhDdUMsRUFBRSxDQUFDLFNBQVMsR0F3Q25EO2tCQXhDb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlwZVByZWZhYiBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIGltZzogY2MuU3ByaXRlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5BbmltYXRpb24pXHJcbiAgICBsaXVzaHVpOiBjYy5BbmltYXRpb24gPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KHNwLlNrZWxldG9uKVxyXG4gICAgc2h1aWh1YTogc3AuU2tlbGV0b24gPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KHNwLlNrZWxldG9uKVxyXG4gICAgbHZVcEVmZjogc3AuU2tlbGV0b24gPSBudWxsO1xyXG4gICAgLy8gb25Mb2FkICgpIHt9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5sdlVwRWZmLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRV9QSVBFLCB0aGlzLmNoYW5nZVNraW4sIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERhdGEoaWQgPSAxKSB7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VTa2luKDApXHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlU2tpbihpc0x2VXAgPSAxKSB7XHJcbiAgICAgICAgbGV0IGlkID0gUGxheWVyTW9kZWwuZ2V0VUlDb25maWcoKS5waXBlbHY7XHJcbiAgICAgICAgaWYgKGlkID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5saXVzaHVpLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuc2h1aWh1YS5ub2RlLmFjdGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5saXVzaHVpLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxpdXNodWkucGxheSgpXHJcbiAgICAgICAgdGhpcy5zaHVpaHVhLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNodWlodWEuYW5pbWF0aW9uPVwiYm93ZW5cIlxyXG4gICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9wcm9wL3BpcGUvXCIgKyBgMCR7aWR9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmltZy5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICAgICAgaWYgKGlzTHZVcCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sdlVwRWZmLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubHZVcEVmZi5hbmltYXRpb24gPSBcImFuaW1hdGlvblwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/TopOrderItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c915aFV+0FJCaa7flq3eyW1', 'TopOrderItem');
// src/game/view/main/TopOrderItem.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TopOrderItem = /** @class */ (function (_super) {
    __extends(TopOrderItem, _super);
    function TopOrderItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.nameLb = null;
        _this.numLb = null;
        _this.icon = null;
        _this.wc = null;
        return _this;
        // update (dt) {}
    }
    TopOrderItem.prototype.start = function () {
    };
    TopOrderItem.prototype.setData = function (data) {
        this.mData = data;
        this.changeData();
    };
    TopOrderItem.prototype.changeData = function () {
        var _this = this;
        if (this.mData.cropId == 100) {
            this.nameLb.string = "招待顾客";
        }
        else {
            var base = ConfigManager_1.default.getCropById(this.mData.cropId);
            this.nameLb.string = base.name;
        }
        if (this.mData.num >= this.mData.target) {
            this.wc.active = true;
            this.numLb.node.active = false;
        }
        else {
            this.wc.active = false;
            this.numLb.node.active = true;
            this.numLb.string = this.mData.num + "/" + this.mData.target;
        }
        MkUtils_1.default.loadSpriteFrame("texture/crop/icon/" + ("" + this.mData.cropId), function (res) {
            _this.icon.spriteFrame = res;
        });
    };
    TopOrderItem.prototype.onClick = function () {
        if (PlayerModel_1.default.guideStep >= 0)
            return;
        if (this.mData.cropId == 100) {
            UIMananger_1.default.showPanel(UIType_1.default.zhaoDaiView, null, null, UIEffectManager_1.UIEffectType.SCALE, this.mData);
        }
        else {
            if (PlayerModel_1.default.checkCropUnlock(this.mData.cropId)) {
                UIMananger_1.default.showPanel(UIType_1.default.getCropView, null, null, UIEffectManager_1.UIEffectType.SCALE, this.mData);
            }
            else {
                UIMananger_1.default.showPanel(UIType_1.default.VegetablesUnlockView, null, null, UIEffectManager_1.UIEffectType.SCALE, this.mData.cropId);
            }
        }
    };
    __decorate([
        property(cc.Label)
    ], TopOrderItem.prototype, "nameLb", void 0);
    __decorate([
        property(cc.Label)
    ], TopOrderItem.prototype, "numLb", void 0);
    __decorate([
        property(cc.Sprite)
    ], TopOrderItem.prototype, "icon", void 0);
    __decorate([
        property(cc.Node)
    ], TopOrderItem.prototype, "wc", void 0);
    TopOrderItem = __decorate([
        ccclass
    ], TopOrderItem);
    return TopOrderItem;
}(cc.Component));
exports.default = TopOrderItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vVG9wT3JkZXJJdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLDhFQUEwRTtBQUMxRSxvRUFBK0Q7QUFDL0QsNERBQXVEO0FBRXZELDhDQUF5QztBQUV6Qyx1REFBa0Q7QUFDbEQsNkRBQXdEO0FBRWxELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQTBDLGdDQUFZO0lBQXREO1FBQUEscUVBNkRDO1FBMURHLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsV0FBSyxHQUFhLElBQUksQ0FBQztRQUV2QixVQUFJLEdBQWMsSUFBSSxDQUFDO1FBRXZCLFFBQUUsR0FBWSxJQUFJLENBQUM7O1FBbURuQixpQkFBaUI7SUFDckIsQ0FBQztJQTlDRyw0QkFBSyxHQUFMO0lBRUEsQ0FBQztJQUNELDhCQUFPLEdBQVAsVUFBUSxJQUFJO1FBQ1IsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFFbEIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFFRCxpQ0FBVSxHQUFWO1FBQUEsaUJBbUJDO1FBbEJHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLElBQUksR0FBRyxFQUFFO1lBQzFCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztTQUMvQjthQUFNO1lBQ0gsSUFBSSxJQUFJLEdBQUcsdUJBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN4RCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1NBQ2xDO1FBQ0QsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRTtZQUNyQyxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztTQUNsQzthQUFNO1lBQ0gsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDOUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO1NBQ2hFO1FBQ0QsaUJBQU8sQ0FBQyxlQUFlLENBQUMsb0JBQW9CLElBQUcsS0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQVEsQ0FBQSxFQUFFLFVBQUMsR0FBRztZQUN2RSxLQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUM7UUFDaEMsQ0FBQyxDQUFDLENBQUM7SUFFUCxDQUFDO0lBQ0QsOEJBQU8sR0FBUDtRQUNJLElBQUkscUJBQVcsQ0FBQyxTQUFTLElBQUksQ0FBQztZQUFFLE9BQU87UUFDdkMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sSUFBSSxHQUFHLEVBQUU7WUFDMUIsb0JBQVUsQ0FBQyxTQUFTLENBQUMsZ0JBQU0sQ0FBQyxXQUFXLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSw4QkFBWSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7U0FFeEY7YUFBTTtZQUNILElBQUkscUJBQVcsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFFaEQsb0JBQVUsQ0FBQyxTQUFTLENBQUMsZ0JBQU0sQ0FBQyxXQUFXLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSw4QkFBWSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDeEY7aUJBQU07Z0JBQ0gsb0JBQVUsQ0FBQyxTQUFTLENBQUMsZ0JBQU0sQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLDhCQUFZLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUE7YUFDdkc7U0FFSjtJQUNMLENBQUM7SUF2REQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztnREFDSztJQUV4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOytDQUNJO0lBRXZCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7OENBQ0c7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs0Q0FDQztJQVRGLFlBQVk7UUFEaEMsT0FBTztPQUNhLFlBQVksQ0E2RGhDO0lBQUQsbUJBQUM7Q0E3REQsQUE2REMsQ0E3RHlDLEVBQUUsQ0FBQyxTQUFTLEdBNkRyRDtrQkE3RG9CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgeyBVSUVmZmVjdFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlFZmZlY3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBVSU1hbmFuZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgeyBvcmRlcl9jb25maWcgfSBmcm9tIFwiLi4vLi4vY29uc3RzL0NDb25zdFwiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCB7IG9yZGVyQ2FjaGUgfSBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyRGF0YVwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCBDb25maWdNYW5hZ2VyIGZyb20gXCIuLi8uLi9tYW5hZ2VyL0NvbmZpZ01hbmFnZXJcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb3BPcmRlckl0ZW0gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG5hbWVMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgbnVtTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBpY29uOiBjYy5TcHJpdGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICB3YzogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgLy8gb25Mb2FkICgpIHt9XHJcbiAgICBtRGF0YTtcclxuICAgIHN0YXJ0KCkge1xyXG5cclxuICAgIH1cclxuICAgIHNldERhdGEoZGF0YSkge1xyXG4gICAgICAgIHRoaXMubURhdGEgPSBkYXRhO1xyXG5cclxuICAgICAgICB0aGlzLmNoYW5nZURhdGEoKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VEYXRhKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1EYXRhLmNyb3BJZCA9PSAxMDApIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lTGIuc3RyaW5nID0gXCLmi5vlvoXpob7lrqJcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgYmFzZSA9IENvbmZpZ01hbmFnZXIuZ2V0Q3JvcEJ5SWQodGhpcy5tRGF0YS5jcm9wSWQpO1xyXG4gICAgICAgICAgICB0aGlzLm5hbWVMYi5zdHJpbmcgPSBiYXNlLm5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm1EYXRhLm51bSA+PSB0aGlzLm1EYXRhLnRhcmdldCkge1xyXG4gICAgICAgICAgICB0aGlzLndjLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubnVtTGIubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLndjLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLm51bUxiLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5udW1MYi5zdHJpbmcgPSB0aGlzLm1EYXRhLm51bSArIFwiL1wiICsgdGhpcy5tRGF0YS50YXJnZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9jcm9wL2ljb24vXCIgKyBgJHt0aGlzLm1EYXRhLmNyb3BJZH1gLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbi5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbiAgICBvbkNsaWNrKCkge1xyXG4gICAgICAgIGlmIChQbGF5ZXJNb2RlbC5ndWlkZVN0ZXAgPj0gMCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLm1EYXRhLmNyb3BJZCA9PSAxMDApIHtcclxuICAgICAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLnpoYW9EYWlWaWV3LCBudWxsLCBudWxsLCBVSUVmZmVjdFR5cGUuU0NBTEUsIHRoaXMubURhdGEpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoUGxheWVyTW9kZWwuY2hlY2tDcm9wVW5sb2NrKHRoaXMubURhdGEuY3JvcElkKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5nZXRDcm9wVmlldywgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCB0aGlzLm1EYXRhKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5WZWdldGFibGVzVW5sb2NrVmlldywgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCB0aGlzLm1EYXRhLmNyb3BJZClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/WarehousePrefab.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '356f9xbDbVAPrRPv9pIHuqp', 'WarehousePrefab');
// src/game/view/main/WarehousePrefab.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var PlayerModel_1 = require("../../datas/PlayerModel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var WarehousePrefab = /** @class */ (function (_super) {
    __extends(WarehousePrefab, _super);
    function WarehousePrefab() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.img = null;
        _this.effNode = null;
        // onLoad () {}
        _this.mId = 0;
        return _this;
    }
    WarehousePrefab.prototype.start = function () {
        this.effNode.active = false;
        EventDispath_1.default.addEventListener(EventType_1.EventType.CHANGE_WAREHOUSE, this.changeSkin, this);
    };
    WarehousePrefab.prototype.setData = function (id) {
        if (id === void 0) { id = 1; }
        this.changeSkin(0);
    };
    WarehousePrefab.prototype.changeSkin = function (isLvUp) {
        var _this = this;
        if (isLvUp === void 0) { isLvUp = 1; }
        this.mId = PlayerModel_1.default.getUIConfig().warehouselv;
        MkUtils_1.default.loadSpriteFrame("texture/prop/warehouse/" + ("0" + this.mId), function (res) {
            if (isLvUp) {
                var arr = _this.effNode.children;
                _this.effNode.active = true;
                for (var i = 0; i < arr.length; i++) {
                    var eff = arr[i].getComponent(sp.Skeleton);
                    eff.animation = "animation";
                }
                MkUtils_1.default.setNodeDelay(_this.node, 5, function () {
                    _this.effNode.active = false;
                });
            }
            _this.img.spriteFrame = res;
        });
    };
    __decorate([
        property(cc.Sprite)
    ], WarehousePrefab.prototype, "img", void 0);
    __decorate([
        property(cc.Node)
    ], WarehousePrefab.prototype, "effNode", void 0);
    WarehousePrefab = __decorate([
        ccclass
    ], WarehousePrefab);
    return WarehousePrefab;
}(cc.Component));
exports.default = WarehousePrefab;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vV2FyZWhvdXNlUHJlZmFiLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLHdFQUFtRTtBQUNuRSxrRUFBaUU7QUFDakUsNERBQXVEO0FBQ3ZELHVEQUFrRDtBQUU1QyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQWE1QztJQUE2QyxtQ0FBWTtJQUF6RDtRQUFBLHFFQW1DQztRQWhDRyxTQUFHLEdBQWMsSUFBSSxDQUFDO1FBRXRCLGFBQU8sR0FBWSxJQUFJLENBQUM7UUFDeEIsZUFBZTtRQUNmLFNBQUcsR0FBRyxDQUFDLENBQUM7O0lBNEJaLENBQUM7SUEzQkcsK0JBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUM1QixzQkFBWSxDQUFDLGdCQUFnQixDQUFDLHFCQUFTLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNyRixDQUFDO0lBRUQsaUNBQU8sR0FBUCxVQUFRLEVBQU07UUFBTixtQkFBQSxFQUFBLE1BQU07UUFDVixJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxvQ0FBVSxHQUFWLFVBQVcsTUFBVTtRQUFyQixpQkFpQkM7UUFqQlUsdUJBQUEsRUFBQSxVQUFVO1FBQ2pCLElBQUksQ0FBQyxHQUFHLEdBQUcscUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxXQUFXLENBQUM7UUFDakQsaUJBQU8sQ0FBQyxlQUFlLENBQUMseUJBQXlCLElBQUcsTUFBSSxJQUFJLENBQUMsR0FBSyxDQUFBLEVBQUUsVUFBQyxHQUFHO1lBQ3BFLElBQUksTUFBTSxFQUFFO2dCQUNSLElBQUksR0FBRyxHQUFHLEtBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFBO2dCQUMvQixLQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7Z0JBQzNCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUNqQyxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDM0MsR0FBRyxDQUFDLFNBQVMsR0FBRyxXQUFXLENBQUE7aUJBQzlCO2dCQUVELGlCQUFPLENBQUMsWUFBWSxDQUFDLEtBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFO29CQUMvQixLQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7Z0JBQ2hDLENBQUMsQ0FBQyxDQUFBO2FBQ0w7WUFDRCxLQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUM7UUFDL0IsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBL0JEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0RBQ0U7SUFFdEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztvREFDTTtJQUxQLGVBQWU7UUFEbkMsT0FBTztPQUNhLGVBQWUsQ0FtQ25DO0lBQUQsc0JBQUM7Q0FuQ0QsQUFtQ0MsQ0FuQzRDLEVBQUUsQ0FBQyxTQUFTLEdBbUN4RDtrQkFuQ29CLGVBQWUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50VHlwZVwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV2FyZUhvdXNlQ29uZmlnIHtcclxuICAgIGx2OiBudW1iZXIsLy/ku5PlupPnrYnnuqdcclxuICAgIGNyb3BMaXN0OiBzdG9yZUNvbmZpZ1tdXHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBzdG9yZUNvbmZpZyB7XHJcbiAgICBjcm9wSWQ6IG51bWJlciwvL+S9nOeJqUlEXHJcbiAgICBudW06IG51bWJlciwvL+S9nOeJqeaVsOmHj1xyXG4gICAgcHV0X29uX251bTogbnVtYmVyLC8v5L2c54mp5LiK5p625pWw6YePXHJcbn1cclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdhcmVob3VzZVByZWZhYiBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIGltZzogY2MuU3ByaXRlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZWZmTm9kZTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICAvLyBvbkxvYWQgKCkge31cclxuICAgIG1JZCA9IDA7XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLmVmZk5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNIQU5HRV9XQVJFSE9VU0UsIHRoaXMuY2hhbmdlU2tpbiwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGF0YShpZCA9IDEpIHtcclxuICAgICAgICB0aGlzLmNoYW5nZVNraW4oMCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlU2tpbihpc0x2VXAgPSAxKSB7XHJcbiAgICAgICAgdGhpcy5tSWQgPSBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLndhcmVob3VzZWx2O1xyXG4gICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9wcm9wL3dhcmVob3VzZS9cIiArIGAwJHt0aGlzLm1JZH1gLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpc0x2VXApIHtcclxuICAgICAgICAgICAgICAgIGxldCBhcnIgPSB0aGlzLmVmZk5vZGUuY2hpbGRyZW5cclxuICAgICAgICAgICAgICAgIHRoaXMuZWZmTm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZWZmID0gYXJyW2ldLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgZWZmLmFuaW1hdGlvbiA9IFwiYW5pbWF0aW9uXCJcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBNS1V0aWxzLnNldE5vZGVEZWxheSh0aGlzLm5vZGUsIDUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVmZk5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaW1nLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/order/OrderHbView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e58cdgsNGVBmJKmV8AmOTpz', 'OrderHbView');
// src/game/view/order/OrderHbView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 *订单红包池
 * TODO:
 */
var OrderHbView = /** @class */ (function (_super) {
    __extends(OrderHbView, _super);
    function OrderHbView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_close = null;
        _this.btn_ok = null;
        _this.descLb1 = null;
        _this.descLb2 = null;
        _this.numLb = null;
        return _this;
    }
    OrderHbView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_ok, this.onOk, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_VIDEO_NUM, this.updateNum, this);
        SDKManager_1.default.getOrderPoolData();
    };
    OrderHbView.prototype.onLoad = function () {
    };
    OrderHbView.prototype.start = function () {
    };
    OrderHbView.prototype.updateNum = function (num) {
        if (!num)
            num = 0;
        this.numLb.string = num + "";
        if (num > 0) {
            this.descLb1.active = true;
        }
        else {
            this.descLb2.active = true;
        }
    };
    OrderHbView.prototype.onOk = function () {
        //知道了
        this.onBtnCloseHandle();
    };
    /** 仅用于关闭操作 */
    OrderHbView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], OrderHbView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Node)
    ], OrderHbView.prototype, "btn_ok", void 0);
    __decorate([
        property(cc.Node)
    ], OrderHbView.prototype, "descLb1", void 0);
    __decorate([
        property(cc.Node)
    ], OrderHbView.prototype, "descLb2", void 0);
    __decorate([
        property(cc.Label)
    ], OrderHbView.prototype, "numLb", void 0);
    OrderHbView = __decorate([
        ccclass
    ], OrderHbView);
    return OrderHbView;
}(BasePanel_1.default));
exports.default = OrderHbView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L29yZGVyL09yZGVySGJWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDZEQUF3RDtBQUlsRCxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1Qzs7O0dBR0c7QUFFSDtJQUF5QywrQkFBUztJQUFsRDtRQUFBLHFFQStDQztRQTVDRyxlQUFTLEdBQVksSUFBSSxDQUFDO1FBRTFCLFlBQU0sR0FBWSxJQUFJLENBQUM7UUFFdkIsYUFBTyxHQUFZLElBQUksQ0FBQztRQUV4QixhQUFPLEdBQVksSUFBSSxDQUFDO1FBRXhCLFdBQUssR0FBYSxJQUFJLENBQUM7O0lBb0MzQixDQUFDO0lBakNHLDhCQUFRLEdBQVI7UUFDSSxLQUFLO1FBQ0wsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFN0Qsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTlDLHNCQUFZLENBQUMsZ0JBQWdCLENBQUMscUJBQVMsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM3RSxvQkFBVSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDbEMsQ0FBQztJQUNTLDRCQUFNLEdBQWhCO0lBQ0EsQ0FBQztJQUNTLDJCQUFLLEdBQWY7SUFDQSxDQUFDO0lBRUQsK0JBQVMsR0FBVCxVQUFVLEdBQUc7UUFDVCxJQUFJLENBQUMsR0FBRztZQUFFLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDbEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUM3QixJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUU7WUFDVCxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FDOUI7YUFBTTtZQUNILElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUM5QjtJQUNMLENBQUM7SUFFRCwwQkFBSSxHQUFKO1FBQ0ksS0FBSztRQUNMLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFFRCxjQUFjO0lBQ2Qsc0NBQWdCLEdBQWhCO1FBQ0ksaUJBQU0sS0FBSyxXQUFFLENBQUM7SUFDbEIsQ0FBQztJQTNDRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2tEQUNRO0lBRTFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7K0NBQ0s7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztnREFDTTtJQUV4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2dEQUNNO0lBRXhCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7OENBQ0k7SUFYTixXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBK0MvQjtJQUFELGtCQUFDO0NBL0NELEFBK0NDLENBL0N3QyxtQkFBUyxHQStDakQ7a0JBL0NvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IFNES01hbmFnZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1NES01hbmFnZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IEJhc2VQYW5lbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3VpL0Jhc2VQYW5lbFwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCB7IE9yZGVySXRlbV9Dcm9wIH0gZnJvbSBcIi4vT3JkZXJJdGVtXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuLyoqXHJcbiAq6K6i5Y2V57qi5YyF5rGgXHJcbiAqIFRPRE86XHJcbiAqL1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcmRlckhiVmlldyBleHRlbmRzIEJhc2VQYW5lbCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fb2s6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBkZXNjTGIxOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZGVzY0xiMjogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBudW1MYjogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyDpgIDlh7pcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5fY2xvc2UsIHRoaXMub25CdG5DbG9zZUhhbmRsZSwgdGhpcyk7XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9vaywgdGhpcy5vbk9rLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlNES19WSURFT19OVU0sIHRoaXMudXBkYXRlTnVtLCB0aGlzKTtcclxuICAgICAgICBTREtNYW5hZ2VyLmdldE9yZGVyUG9vbERhdGEoKTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBvbkxvYWQoKTogdm9pZCB7XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTnVtKG51bSkge1xyXG4gICAgICAgIGlmICghbnVtKSBudW0gPSAwO1xyXG4gICAgICAgIHRoaXMubnVtTGIuc3RyaW5nID0gbnVtICsgXCJcIjtcclxuICAgICAgICBpZiAobnVtID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NMYjEuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NMYjIuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25PaygpIHtcclxuICAgICAgICAvL+efpemBk+S6hlxyXG4gICAgICAgIHRoaXMub25CdG5DbG9zZUhhbmRsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDku4XnlKjkuo7lhbPpl63mk43kvZwgKi9cclxuICAgIG9uQnRuQ2xvc2VIYW5kbGUoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/order/OrderGiveUpView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e78c50rktdKy68oaPOcdv4t', 'OrderGiveUpView');
// src/game/view/order/OrderGiveUpView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 *放弃订单
 * TODO:
 */
var OrderGiveUpView = /** @class */ (function (_super) {
    __extends(OrderGiveUpView, _super);
    function OrderGiveUpView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_close = null;
        _this.btn_giveUp = null;
        _this.btn_continue = null;
        return _this;
    }
    OrderGiveUpView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_giveUp, this.onGiveUp, this);
        EventDispath_1.default.on(this.btn_continue, this.onContinue, this);
        this.initUI();
    };
    OrderGiveUpView.prototype.onLoad = function () {
    };
    OrderGiveUpView.prototype.start = function () {
    };
    OrderGiveUpView.prototype.startShow = function () {
    };
    OrderGiveUpView.prototype.updateData = function () {
        this.initUI();
    };
    OrderGiveUpView.prototype.initUI = function () {
        // this.addLb.string = PlayerModel.getXfzs() + "";
    };
    OrderGiveUpView.prototype.onGiveUp = function () {
        var list = PlayerModel_1.default.getOrderList();
        list[0] = ConfigManager_1.default.getOrder();
        EventDispath_1.default.send(EventType_1.EventType.ORDER_GIVE_UP);
        EventDispath_1.default.send(EventType_1.EventType.ORDER_UPDATE_TOP);
        PlayerModel_1.default.orderVideoNum = 0;
        MkUtils_1.default.alertTips("订单已放弃，请重新接单");
        this.onBtnCloseHandle();
        //仍要放弃
    };
    OrderGiveUpView.prototype.onContinue = function () {
        //继续完成
        this.onBtnCloseHandle();
    };
    /** 仅用于关闭操作 */
    OrderGiveUpView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], OrderGiveUpView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Node)
    ], OrderGiveUpView.prototype, "btn_giveUp", void 0);
    __decorate([
        property(cc.Node)
    ], OrderGiveUpView.prototype, "btn_continue", void 0);
    OrderGiveUpView = __decorate([
        ccclass
    ], OrderGiveUpView);
    return OrderGiveUpView;
}(BasePanel_1.default));
exports.default = OrderGiveUpView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L29yZGVyL09yZGVyR2l2ZVVwVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRix3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDREQUF1RDtBQUN2RCw2REFBd0Q7QUFDeEQsdURBQWtEO0FBQ2xELDZEQUF3RDtBQUdsRCxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1Qzs7O0dBR0c7QUFFSDtJQUE2QyxtQ0FBUztJQUF0RDtRQUFBLHFFQXNEQztRQW5ERyxlQUFTLEdBQVksSUFBSSxDQUFDO1FBRTFCLGdCQUFVLEdBQVksSUFBSSxDQUFDO1FBRTNCLGtCQUFZLEdBQVksSUFBSSxDQUFDOztJQStDakMsQ0FBQztJQTVDRyxrQ0FBUSxHQUFSO1FBQ0ksS0FBSztRQUNMLHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdELHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0RCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDMUQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFDUyxnQ0FBTSxHQUFoQjtJQUNBLENBQUM7SUFDUywrQkFBSyxHQUFmO0lBQ0EsQ0FBQztJQUVELG1DQUFTLEdBQVQ7SUFDQSxDQUFDO0lBRUQsb0NBQVUsR0FBVjtRQUNJLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBQ0QsZ0NBQU0sR0FBTjtRQUNJLGtEQUFrRDtJQUN0RCxDQUFDO0lBRUQsa0NBQVEsR0FBUjtRQUVJLElBQUksSUFBSSxHQUFHLHFCQUFXLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDdEMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLHVCQUFhLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDbkMsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQTtRQUUxQyxzQkFBWSxDQUFDLElBQUksQ0FBQyxxQkFBUyxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDOUMscUJBQVcsQ0FBQyxhQUFhLEdBQUcsQ0FBQyxDQUFDO1FBQzlCLGlCQUFPLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFBO1FBQ2hDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ3hCLE1BQU07SUFDVixDQUFDO0lBQ0Qsb0NBQVUsR0FBVjtRQUNJLE1BQU07UUFDTixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBRUQsY0FBYztJQUNkLDBDQUFnQixHQUFoQjtRQUNJLGlCQUFNLEtBQUssV0FBRSxDQUFDO0lBQ2xCLENBQUM7SUFsREQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztzREFDUTtJQUUxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3VEQUNTO0lBRTNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7eURBQ1c7SUFQWixlQUFlO1FBRG5DLE9BQU87T0FDYSxlQUFlLENBc0RuQztJQUFELHNCQUFDO0NBdERELEFBc0RDLENBdEQ0QyxtQkFBUyxHQXNEckQ7a0JBdERvQixlQUFlIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Na1V0aWxzXCI7XHJcbmltcG9ydCBCYXNlUGFuZWwgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay91aS9CYXNlUGFuZWxcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IE9yZGVySXRlbV9Dcm9wIH0gZnJvbSBcIi4vT3JkZXJJdGVtXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuLyoqXHJcbiAq5pS+5byD6K6i5Y2VXHJcbiAqIFRPRE86XHJcbiAqL1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcmRlckdpdmVVcFZpZXcgZXh0ZW5kcyBCYXNlUGFuZWwge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2Nsb3NlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2dpdmVVcDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9jb250aW51ZTogY2MuTm9kZSA9IG51bGw7XHJcblxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOmAgOWHulxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9jbG9zZSwgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2dpdmVVcCwgdGhpcy5vbkdpdmVVcCwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2NvbnRpbnVlLCB0aGlzLm9uQ29udGludWUsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgb25Mb2FkKCk6IHZvaWQge1xyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0U2hvdygpIHtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVEYXRhKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9XHJcbiAgICBpbml0VUkoKSB7XHJcbiAgICAgICAgLy8gdGhpcy5hZGRMYi5zdHJpbmcgPSBQbGF5ZXJNb2RlbC5nZXRYZnpzKCkgKyBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIG9uR2l2ZVVwKCkge1xyXG5cclxuICAgICAgICBsZXQgbGlzdCA9IFBsYXllck1vZGVsLmdldE9yZGVyTGlzdCgpO1xyXG4gICAgICAgIGxpc3RbMF0gPSBDb25maWdNYW5hZ2VyLmdldE9yZGVyKCk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLk9SREVSX0dJVkVfVVApXHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5PUkRFUl9VUERBVEVfVE9QKTtcclxuICAgICAgICBQbGF5ZXJNb2RlbC5vcmRlclZpZGVvTnVtID0gMDtcclxuICAgICAgICBNS1V0aWxzLmFsZXJ0VGlwcyhcIuiuouWNleW3suaUvuW8g++8jOivt+mHjeaWsOaOpeWNlVwiKVxyXG4gICAgICAgIHRoaXMub25CdG5DbG9zZUhhbmRsZSgpO1xyXG4gICAgICAgIC8v5LuN6KaB5pS+5byDXHJcbiAgICB9XHJcbiAgICBvbkNvbnRpbnVlKCkge1xyXG4gICAgICAgIC8v57un57ut5a6M5oiQXHJcbiAgICAgICAgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOS7heeUqOS6juWFs+mXreaTjeS9nCAqL1xyXG4gICAgb25CdG5DbG9zZUhhbmRsZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/order/OrderGetScuessView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '455actdzmxOv7IcOFDooGh+', 'OrderGetScuessView');
// src/game/view/order/OrderGetScuessView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 接单成功、温馨提示
 * TODO:
 */
var OrderGetScuessView = /** @class */ (function (_super) {
    __extends(OrderGetScuessView, _super);
    function OrderGetScuessView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_close = null;
        _this.btn_giveUp = null;
        _this.btn_go = null;
        _this.btn_continue = null;
        _this.lvIconSp = [];
        _this.lvIcon = null;
        _this.cLb = null;
        _this.descLb1 = null;
        _this.descLb2 = null;
        _this.titleLb1 = null;
        _this.titleLb2 = null;
        _this.proLb = null;
        _this.cropItems = [];
        _this.mType = 0; //0接单成功、1温馨提示
        return _this;
    }
    OrderGetScuessView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_giveUp, this.onGiveUp, this);
        EventDispath_1.default.on(this.btn_go, this.onGo, this);
        EventDispath_1.default.on(this.btn_continue, this.onContinue, this);
        this.initUI();
        if (PlayerModel_1.default.guideStep >= 0) {
            MkUtils_1.default.setNodeDelay(this.node, 0.5, function () {
                EventDispath_1.default.send(EventType_1.EventType.GUIDE_UPDATE);
            });
        }
    };
    OrderGetScuessView.prototype.onLoad = function () {
        this._initComponet();
    };
    OrderGetScuessView.prototype.start = function () {
    };
    OrderGetScuessView.prototype.startShow = function () {
        this.mType = this.inData[0];
        this.mData = this.inData[1];
    };
    OrderGetScuessView.prototype.updateData = function () {
        this.initUI();
    };
    OrderGetScuessView.prototype.initUI = function () {
        if (this.mType == 0) {
            this.btn_go.active = true;
            this.descLb1.active = true;
            this.titleLb1.active = true;
            this.cLb.active = true;
        }
        else {
            this.titleLb2.active = true;
            this.btn_continue.active = true;
            this.btn_giveUp.active = true;
            this.descLb2.active = true;
            this.cLb.active = false;
        }
        var len = this.mData.cropList.length;
        var total = 0;
        var current = 0;
        var _loop_1 = function (i) {
            var data = this_1.mData.cropList[i];
            var item = this_1.cropItems[i];
            item.icon.node.active = true;
            item.nameLb.node.active = true;
            item.proLb.node.active = true;
            if (data.cropId == 100) {
                item.nameLb.string = "招待顾客";
            }
            else {
                var base = ConfigManager_1.default.getCropById(data.cropId);
                item.nameLb.string = base.name;
            }
            total += data.target;
            current += data.num;
            item.proLb.string = data.num + "/" + data.target;
            MkUtils_1.default.loadSpriteFrame("texture/crop/icon/" + ("" + data.cropId), function (res) {
                item.icon.spriteFrame = res;
            });
        };
        var this_1 = this;
        for (var i = 0; i < len; i++) {
            _loop_1(i);
        }
        if (this.mData.quality < 2) {
            this.proLb.string = "无加成";
        }
        else {
            this.proLb.string = "+" + ConfigManager_1.default.order_quality_add[this.mData.quality - 1] + "%";
        }
        // this.proLb.string = Math.floor(current / total) * 100 + "%"
        if (this.mData.quality > 0)
            this.lvIcon.spriteFrame = this.lvIconSp[this.mData.quality - 1];
        else
            this.lvIcon.spriteFrame = this.lvIconSp[0];
    };
    OrderGetScuessView.prototype.onGiveUp = function () {
        //仍要放弃
        // EventDispath.send(EventType.ORDER_GIVE_UP)
        // let list = PlayerModel.getOrderList();
        // list[0] = ConfigManager.getOrder();
        // EventDispath.send(EventType.ORDER_UPDATE_TOP);
        // PlayerModel.orderVideoNum = 0;
        // MKUtils.alertTips("订单已放弃，请重新接单")
        UIMananger_1.default.showPanel(UIType_1.default.orderGiveUpView, null, null, UIEffectManager_1.UIEffectType.SCALE, this.mData);
        this.onBtnCloseHandle();
    };
    OrderGetScuessView.prototype.onGo = function () {
        //现在就去
        if (PlayerModel_1.default.guideStep >= 0) {
            EventDispath_1.default.send(EventType_1.EventType.GUIDE_UPDATE);
        }
        this.onBtnCloseHandle();
    };
    OrderGetScuessView.prototype.onContinue = function () {
        this.onBtnCloseHandle();
        //继续完成
    };
    OrderGetScuessView.prototype._initComponet = function () {
        this.lvIcon = this.node.getChildByName("lvIcon").getComponent(cc.Sprite);
        this.proLb = this.node.getChildByName("proLb").getComponent(cc.Label);
        this.descLb1 = this.node.getChildByName("descLb1");
        this.descLb2 = this.node.getChildByName("descLb2");
        this.titleLb1 = this.node.getChildByName("titleLb1");
        this.titleLb2 = this.node.getChildByName("titleLb2");
        this.cLb = this.node.getChildByName("cLb");
        for (var i = 1; i < 5; i++) {
            var nameLb = this.node.getChildByName("nameLb" + i).getComponent(cc.Label);
            var proLb = this.node.getChildByName("cropProLb" + i).getComponent(cc.Label);
            var icon = this.node.getChildByName("icon" + i).getComponent(cc.Sprite);
            nameLb.node.active = false;
            proLb.node.active = false;
            icon.node.active = false;
            this.cropItems.push({ icon: icon, nameLb: nameLb, proLb: proLb });
        }
    };
    /** 仅用于关闭操作 */
    OrderGetScuessView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    OrderGetScuessView.prototype.getGuidePoint = function () {
        // let node = this.xfzsLb.node;
        var p = this.btn_go.convertToWorldSpaceAR(cc.v2(0, 0));
        // let p = node.convertToWorldSpaceAR(cc.v2(0,0));
        return p;
    };
    __decorate([
        property(cc.Node)
    ], OrderGetScuessView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Node)
    ], OrderGetScuessView.prototype, "btn_giveUp", void 0);
    __decorate([
        property(cc.Node)
    ], OrderGetScuessView.prototype, "btn_go", void 0);
    __decorate([
        property(cc.Node)
    ], OrderGetScuessView.prototype, "btn_continue", void 0);
    __decorate([
        property([cc.SpriteFrame])
    ], OrderGetScuessView.prototype, "lvIconSp", void 0);
    OrderGetScuessView = __decorate([
        ccclass
    ], OrderGetScuessView);
    return OrderGetScuessView;
}(BasePanel_1.default));
exports.default = OrderGetScuessView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L29yZGVyL09yZGVyR2V0U2N1ZXNzVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRiw4RUFBMEU7QUFDMUUsb0VBQStEO0FBQy9ELHdFQUFtRTtBQUNuRSxrRUFBaUU7QUFDakUsNERBQXVEO0FBQ3ZELDZEQUF3RDtBQUN4RCw4Q0FBeUM7QUFFekMsdURBQWtEO0FBQ2xELDZEQUF3RDtBQUdsRCxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1Qzs7O0dBR0c7QUFFSDtJQUFnRCxzQ0FBUztJQUF6RDtRQUFBLHFFQWdLQztRQTdKRyxlQUFTLEdBQVksSUFBSSxDQUFDO1FBRTFCLGdCQUFVLEdBQVksSUFBSSxDQUFDO1FBRTNCLFlBQU0sR0FBWSxJQUFJLENBQUM7UUFFdkIsa0JBQVksR0FBWSxJQUFJLENBQUM7UUFFN0IsY0FBUSxHQUFxQixFQUFFLENBQUM7UUFFaEMsWUFBTSxHQUFjLElBQUksQ0FBQztRQUV6QixTQUFHLEdBQVksSUFBSSxDQUFDO1FBQ3BCLGFBQU8sR0FBWSxJQUFJLENBQUM7UUFDeEIsYUFBTyxHQUFZLElBQUksQ0FBQztRQUN4QixjQUFRLEdBQVksSUFBSSxDQUFDO1FBQ3pCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFDekIsV0FBSyxHQUFhLElBQUksQ0FBQztRQUV2QixlQUFTLEdBQXFCLEVBQUUsQ0FBQztRQUVqQyxXQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUEsYUFBYTs7SUF3STNCLENBQUM7SUF0SUcscUNBQVEsR0FBUjtRQUNJLEtBQUs7UUFDTCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMs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QUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztTQUNyRTtJQUNMLENBQUM7SUFFRCxjQUFjO0lBQ2QsNkNBQWdCLEdBQWhCO1FBQ0ksaUJBQU0sS0FBSyxXQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVELDBDQUFhLEdBQWI7UUFDSSwrQkFBK0I7UUFDL0IsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZELGtEQUFrRDtRQUNsRCxPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7SUE1SkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt5REFDUTtJQUUxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzBEQUNTO0lBRTNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7c0RBQ0s7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs0REFDVztJQUU3QjtRQURDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQzt3REFDSztJQVhmLGtCQUFrQjtRQUR0QyxPQUFPO09BQ2Esa0JBQWtCLENBZ0t0QztJQUFELHlCQUFDO0NBaEtELEFBZ0tDLENBaEsrQyxtQkFBUyxHQWdLeEQ7a0JBaEtvQixrQkFBa0IiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgeyBVSUVmZmVjdFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlFZmZlY3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBVSU1hbmFuZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgQmFzZVBhbmVsIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdWkvQmFzZVBhbmVsXCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0cy9VSVR5cGVcIjtcclxuaW1wb3J0IHsgb3JkZXJDYWNoZSB9IGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJEYXRhXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IENvbmZpZ01hbmFnZXIgZnJvbSBcIi4uLy4uL21hbmFnZXIvQ29uZmlnTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBPcmRlckl0ZW1fQ3JvcCB9IGZyb20gXCIuL09yZGVySXRlbVwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbi8qKlxyXG4gKiDmjqXljZXmiJDlip/jgIHmuKnppqjmj5DnpLpcclxuICogVE9ETzpcclxuICovXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZGVyR2V0U2N1ZXNzVmlldyBleHRlbmRzIEJhc2VQYW5lbCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fZ2l2ZVVwOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2dvOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2NvbnRpbnVlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShbY2MuU3ByaXRlRnJhbWVdKVxyXG4gICAgbHZJY29uU3A6IGNjLlNwcml0ZUZyYW1lW10gPSBbXTtcclxuXHJcbiAgICBsdkljb246IGNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgY0xiOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIGRlc2NMYjE6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgZGVzY0xiMjogY2MuTm9kZSA9IG51bGw7XHJcbiAgICB0aXRsZUxiMTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICB0aXRsZUxiMjogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBwcm9MYjogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIGNyb3BJdGVtczogT3JkZXJJdGVtX0Nyb3BbXSA9IFtdO1xyXG5cclxuICAgIG1UeXBlID0gMDsvLzDmjqXljZXmiJDlip/jgIEx5rip6aao5o+Q56S6XHJcbiAgICBtRGF0YTogb3JkZXJDYWNoZTtcclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOmAgOWHulxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9jbG9zZSwgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2dpdmVVcCwgdGhpcy5vbkdpdmVVcCwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2dvLCB0aGlzLm9uR28sIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9jb250aW51ZSwgdGhpcy5vbkNvbnRpbnVlLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmluaXRVSSgpO1xyXG5cclxuICAgICAgICBpZiAoUGxheWVyTW9kZWwuZ3VpZGVTdGVwID49IDApIHtcclxuICAgICAgICAgICAgTUtVdGlscy5zZXROb2RlRGVsYXkodGhpcy5ub2RlLCAwLjUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5HVUlERV9VUERBVEUpXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBvbkxvYWQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5faW5pdENvbXBvbmV0KCk7XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRTaG93KCkge1xyXG4gICAgICAgIHRoaXMubVR5cGUgPSB0aGlzLmluRGF0YVswXTtcclxuICAgICAgICB0aGlzLm1EYXRhID0gdGhpcy5pbkRhdGFbMV07XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRGF0YSgpIHtcclxuICAgICAgICB0aGlzLmluaXRVSSgpO1xyXG4gICAgfVxyXG4gICAgaW5pdFVJKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1UeXBlID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5idG5fZ28uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5kZXNjTGIxLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMudGl0bGVMYjEuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jTGIuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnRpdGxlTGIyLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuX2NvbnRpbnVlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuX2dpdmVVcC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NMYjIuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jTGIuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbGVuID0gdGhpcy5tRGF0YS5jcm9wTGlzdC5sZW5ndGhcclxuICAgICAgICBsZXQgdG90YWwgPSAwO1xyXG4gICAgICAgIGxldCBjdXJyZW50ID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5tRGF0YS5jcm9wTGlzdFtpXTtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLmNyb3BJdGVtc1tpXTtcclxuICAgICAgICAgICAgaXRlbS5pY29uLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaXRlbS5uYW1lTGIubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpdGVtLnByb0xiLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YS5jcm9wSWQgPT0gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLm5hbWVMYi5zdHJpbmcgPSBcIuaLm+W+hemhvuWuolwiO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGJhc2UgPSBDb25maWdNYW5hZ2VyLmdldENyb3BCeUlkKGRhdGEuY3JvcElkKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0ubmFtZUxiLnN0cmluZyA9IGJhc2UubmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0b3RhbCArPSBkYXRhLnRhcmdldDtcclxuICAgICAgICAgICAgY3VycmVudCArPSBkYXRhLm51bTtcclxuICAgICAgICAgICAgaXRlbS5wcm9MYi5zdHJpbmcgPSBkYXRhLm51bSArIFwiL1wiICsgZGF0YS50YXJnZXQ7XHJcbiAgICAgICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9jcm9wL2ljb24vXCIgKyBgJHtkYXRhLmNyb3BJZH1gLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmljb24uc3ByaXRlRnJhbWUgPSByZXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5tRGF0YS5xdWFsaXR5IDwgMikge1xyXG4gICAgICAgICAgICB0aGlzLnByb0xiLnN0cmluZyA9IFwi5peg5Yqg5oiQXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9MYi5zdHJpbmcgPSBcIitcIiArIENvbmZpZ01hbmFnZXIub3JkZXJfcXVhbGl0eV9hZGRbdGhpcy5tRGF0YS5xdWFsaXR5IC0gMV0gKyBcIiVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGhpcy5wcm9MYi5zdHJpbmcgPSBNYXRoLmZsb29yKGN1cnJlbnQgLyB0b3RhbCkgKiAxMDAgKyBcIiVcIlxyXG4gICAgICAgaWYodGhpcy5tRGF0YS5xdWFsaXR5PjApIHRoaXMubHZJY29uLnNwcml0ZUZyYW1lID0gdGhpcy5sdkljb25TcFt0aGlzLm1EYXRhLnF1YWxpdHkgLSAxXTtcclxuICAgICAgIGVsc2UgdGhpcy5sdkljb24uc3ByaXRlRnJhbWUgPSB0aGlzLmx2SWNvblNwWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIG9uR2l2ZVVwKCkge1xyXG4gICAgICAgIC8v5LuN6KaB5pS+5byDXHJcbiAgICAgICAgLy8gRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLk9SREVSX0dJVkVfVVApXHJcbiAgICAgICAgLy8gbGV0IGxpc3QgPSBQbGF5ZXJNb2RlbC5nZXRPcmRlckxpc3QoKTtcclxuICAgICAgICAvLyBsaXN0WzBdID0gQ29uZmlnTWFuYWdlci5nZXRPcmRlcigpO1xyXG5cclxuICAgICAgICAvLyBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuT1JERVJfVVBEQVRFX1RPUCk7XHJcbiAgICAgICAgLy8gUGxheWVyTW9kZWwub3JkZXJWaWRlb051bSA9IDA7XHJcbiAgICAgICAgLy8gTUtVdGlscy5hbGVydFRpcHMoXCLorqLljZXlt7LmlL7lvIPvvIzor7fph43mlrDmjqXljZVcIilcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUub3JkZXJHaXZlVXBWaWV3LCBudWxsLCBudWxsLCBVSUVmZmVjdFR5cGUuU0NBTEUsIHRoaXMubURhdGEpXHJcbiAgICAgICAgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcbiAgICBvbkdvKCkge1xyXG4gICAgICAgIC8v546w5Zyo5bCx5Y67XHJcbiAgICAgICAgaWYgKFBsYXllck1vZGVsLmd1aWRlU3RlcCA+PSAwKSB7XHJcbiAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5HVUlERV9VUERBVEUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub25CdG5DbG9zZUhhbmRsZSgpO1xyXG4gICAgfVxyXG4gICAgb25Db250aW51ZSgpIHtcclxuICAgICAgICB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUoKTtcclxuICAgICAgICAvL+e7p+e7reWujOaIkFxyXG4gICAgfVxyXG4gICAgX2luaXRDb21wb25ldCgpIHtcclxuICAgICAgICB0aGlzLmx2SWNvbiA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImx2SWNvblwiKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuICAgICAgICB0aGlzLnByb0xiID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwicHJvTGJcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICB0aGlzLmRlc2NMYjEgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJkZXNjTGIxXCIpO1xyXG4gICAgICAgIHRoaXMuZGVzY0xiMiA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImRlc2NMYjJcIik7XHJcbiAgICAgICAgdGhpcy50aXRsZUxiMSA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInRpdGxlTGIxXCIpO1xyXG4gICAgICAgIHRoaXMudGl0bGVMYjIgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ0aXRsZUxiMlwiKTtcclxuICAgICAgICB0aGlzLmNMYiA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImNMYlwiKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCA1OyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IG5hbWVMYiA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcIm5hbWVMYlwiICsgaSkuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICAgICAgbGV0IHByb0xiID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiY3JvcFByb0xiXCIgKyBpKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgICAgICBsZXQgaWNvbiA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImljb25cIiArIGkpLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xyXG5cclxuICAgICAgICAgICAgbmFtZUxiLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHByb0xiLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGljb24ubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3JvcEl0ZW1zLnB1c2goeyBpY29uOiBpY29uLCBuYW1lTGI6IG5hbWVMYiwgcHJvTGI6IHByb0xiIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiog5LuF55So5LqO5YWz6Zet5pON5L2cICovXHJcbiAgICBvbkJ0bkNsb3NlSGFuZGxlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R3VpZGVQb2ludCgpIHtcclxuICAgICAgICAvLyBsZXQgbm9kZSA9IHRoaXMueGZ6c0xiLm5vZGU7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLmJ0bl9nby5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoMCwgMCkpO1xyXG4gICAgICAgIC8vIGxldCBwID0gbm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoMCwwKSk7XHJcbiAgICAgICAgcmV0dXJuIHA7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/order/OrderCurrentView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f081dWyYdFPZ5MZdbEgPLce', 'OrderCurrentView');
// src/game/view/order/OrderCurrentView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var AVirtualScrollView_1 = require("../task/AVirtualScrollView");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 当前订单
 * TODO:
 */
var OrderCurrentView = /** @class */ (function (_super) {
    __extends(OrderCurrentView, _super);
    function OrderCurrentView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_close = null;
        _this.btn_giveUp = null;
        _this.btn_hb = null;
        _this.addLb = null;
        _this.orderQuLb = null;
        _this.scroller = null;
        _this.qualityNames = ["普通订单", "青铜订单", "白银订单", "黄金订单", "钻石订单", "星耀订单"];
        _this.scrollerData = [];
        return _this;
    }
    OrderCurrentView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_giveUp, this.onGiveUp, this);
        EventDispath_1.default.on(this.btn_hb, this.onHb, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.ORDER_CURRENT_CLOSE, this.onBtnCloseHandle, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.ORDER_CURRENT_UPDATE, this.updateData, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.ORDER_GIVE_UP, this.onBtnCloseHandle, this);
        this.initUI();
    };
    OrderCurrentView.prototype.onLoad = function () {
    };
    OrderCurrentView.prototype.start = function () {
    };
    OrderCurrentView.prototype.startShow = function () {
        this.mData = this.inData[0];
        this.scrollerData = this.mData.cropList;
    };
    OrderCurrentView.prototype.updateData = function () {
        this.mData = PlayerModel_1.default.getCurrentOrder();
        this.scrollerData = this.mData.cropList;
        this.initUI();
    };
    OrderCurrentView.prototype.initUI = function () {
        this.orderQuLb.string = this.qualityNames[this.mData.quality - 1];
        if (this.mData.quality == 1) {
            this.addLb.string = "无加成";
        }
        else {
            this.addLb.string = "+" + ConfigManager_1.default.order_quality_add[this.mData.quality - 1] + "%";
        }
        // this.addLb.string = ConfigManager.order_quality_add[this.mData.quality - 1]  + "%";
        this.scroller.refreshData(this.scrollerData);
    };
    OrderCurrentView.prototype.onGiveUp = function () {
        UIMananger_1.default.showPanel(UIType_1.default.orderGiveUpView);
    };
    OrderCurrentView.prototype.onHb = function () {
        UIMananger_1.default.showPanel(UIType_1.default.orderHbView);
    };
    /** 仅用于关闭操作 */
    OrderCurrentView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], OrderCurrentView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Node)
    ], OrderCurrentView.prototype, "btn_giveUp", void 0);
    __decorate([
        property(cc.Node)
    ], OrderCurrentView.prototype, "btn_hb", void 0);
    __decorate([
        property(cc.Label)
    ], OrderCurrentView.prototype, "addLb", void 0);
    __decorate([
        property(cc.Label)
    ], OrderCurrentView.prototype, "orderQuLb", void 0);
    __decorate([
        property(AVirtualScrollView_1.default)
    ], OrderCurrentView.prototype, "scroller", void 0);
    OrderCurrentView = __decorate([
        ccclass
    ], OrderCurrentView);
    return OrderCurrentView;
}(BasePanel_1.default));
exports.default = OrderCurrentView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L29yZGVyL09yZGVyQ3VycmVudFZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHbEYsb0VBQStEO0FBQy9ELHdFQUFtRTtBQUNuRSxrRUFBaUU7QUFDakUsNkRBQXdEO0FBQ3hELDhDQUF5QztBQUN6Qyx1REFBa0Q7QUFDbEQsNkRBQXdEO0FBQ3hELGlFQUE0RDtBQUV0RCxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1Qzs7O0dBR0c7QUFFSDtJQUE4QyxvQ0FBUztJQUF2RDtRQUFBLHFFQXlFQztRQXRFRyxlQUFTLEdBQVksSUFBSSxDQUFDO1FBRTFCLGdCQUFVLEdBQVksSUFBSSxDQUFDO1FBRTNCLFlBQU0sR0FBWSxJQUFJLENBQUM7UUFFdkIsV0FBSyxHQUFhLElBQUksQ0FBQztRQUV2QixlQUFTLEdBQWEsSUFBSSxDQUFDO1FBRzNCLGNBQVEsR0FBdUIsSUFBSSxDQUFDO1FBRXBDLGtCQUFZLEdBQUcsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFBO1FBRS9ELGtCQUFZLEdBQUcsRUFBRSxDQUFDOztJQXVEdEIsQ0FBQztJQXRERyxtQ0FBUSxHQUFSO1FBQ0ksS0FBSztRQUNMLHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdELHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENB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Iiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgU0RLTWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvU0RLTWFuYWdlclwiO1xyXG5pbXBvcnQgVUlNYW5hbmdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlNYW5hbmdlclwiO1xyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50VHlwZVwiO1xyXG5pbXBvcnQgQmFzZVBhbmVsIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdWkvQmFzZVBhbmVsXCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0cy9VSVR5cGVcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcbmltcG9ydCBBVmlydHVhbFNjcm9sbFZpZXcgZnJvbSBcIi4uL3Rhc2svQVZpcnR1YWxTY3JvbGxWaWV3XCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuLyoqXHJcbiAqIOW9k+WJjeiuouWNlVxyXG4gKiBUT0RPOlxyXG4gKi9cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3JkZXJDdXJyZW50VmlldyBleHRlbmRzIEJhc2VQYW5lbCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fZ2l2ZVVwOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2hiOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGFkZExiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBvcmRlclF1TGI6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoQVZpcnR1YWxTY3JvbGxWaWV3KVxyXG4gICAgc2Nyb2xsZXI6IEFWaXJ0dWFsU2Nyb2xsVmlldyA9IG51bGw7XHJcblxyXG4gICAgcXVhbGl0eU5hbWVzID0gW1wi5pmu6YCa6K6i5Y2VXCIsIFwi6Z2S6ZOc6K6i5Y2VXCIsIFwi55m96ZO26K6i5Y2VXCIsIFwi6buE6YeR6K6i5Y2VXCIsIFwi6ZK755+z6K6i5Y2VXCIsIFwi5pif6ICA6K6i5Y2VXCJdXHJcbiAgICBtRGF0YTtcclxuICAgIHNjcm9sbGVyRGF0YSA9IFtdO1xyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8g6YCA5Ye6XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2Nsb3NlLCB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUsIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5fZ2l2ZVVwLCB0aGlzLm9uR2l2ZVVwLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5faGIsIHRoaXMub25IYiwgdGhpcyk7XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5PUkRFUl9DVVJSRU5UX0NMT1NFLCB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUsIHRoaXMpXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLk9SREVSX0NVUlJFTlRfVVBEQVRFLCB0aGlzLnVwZGF0ZURhdGEsIHRoaXMpXHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5PUkRFUl9HSVZFX1VQLCB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUsIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRVSSgpO1xyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIG9uTG9hZCgpOiB2b2lkIHtcclxuXHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRTaG93KCkge1xyXG4gICAgICAgIHRoaXMubURhdGEgPSB0aGlzLmluRGF0YVswXTtcclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGxlckRhdGEgPSB0aGlzLm1EYXRhLmNyb3BMaXN0O1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZURhdGEoKSB7XHJcbiAgICAgICAgdGhpcy5tRGF0YSA9IFBsYXllck1vZGVsLmdldEN1cnJlbnRPcmRlcigpO1xyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbGVyRGF0YSA9IHRoaXMubURhdGEuY3JvcExpc3Q7XHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH1cclxuICAgIGluaXRVSSgpIHtcclxuICAgICAgICB0aGlzLm9yZGVyUXVMYi5zdHJpbmcgPSB0aGlzLnF1YWxpdHlOYW1lc1t0aGlzLm1EYXRhLnF1YWxpdHkgLSAxXTtcclxuICAgICAgICBpZiAodGhpcy5tRGF0YS5xdWFsaXR5ID09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRMYi5zdHJpbmcgPSBcIuaXoOWKoOaIkFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTGIuc3RyaW5nID0gXCIrXCIgKyBDb25maWdNYW5hZ2VyLm9yZGVyX3F1YWxpdHlfYWRkW3RoaXMubURhdGEucXVhbGl0eSAtIDFdICsgXCIlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHRoaXMuYWRkTGIuc3RyaW5nID0gQ29uZmlnTWFuYWdlci5vcmRlcl9xdWFsaXR5X2FkZFt0aGlzLm1EYXRhLnF1YWxpdHkgLSAxXSAgKyBcIiVcIjtcclxuICAgICAgICB0aGlzLnNjcm9sbGVyLnJlZnJlc2hEYXRhKHRoaXMuc2Nyb2xsZXJEYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkdpdmVVcCgpIHtcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUub3JkZXJHaXZlVXBWaWV3KTtcclxuICAgIH1cclxuICAgIG9uSGIoKSB7XHJcbiAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLm9yZGVySGJWaWV3KVxyXG4gICAgfVxyXG5cclxuICAgIC8qKiDku4XnlKjkuo7lhbPpl63mk43kvZwgKi9cclxuICAgIG9uQnRuQ2xvc2VIYW5kbGUoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/order/OrderQualityView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'da3b51ltX9D0KfBJL2GHqoP', 'OrderQualityView');
// src/game/view/order/OrderQualityView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var PlayerModel_1 = require("../../datas/PlayerModel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 订单质量
 * TODO:
 */
var OrderQualityView = /** @class */ (function (_super) {
    __extends(OrderQualityView, _super);
    function OrderQualityView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_close = null;
        _this.xingfuLb = null;
        return _this;
    }
    OrderQualityView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        this.xingfuLb.string = PlayerModel_1.default.getXfzs() + "";
    };
    OrderQualityView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], OrderQualityView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Label)
    ], OrderQualityView.prototype, "xingfuLb", void 0);
    OrderQualityView = __decorate([
        ccclass
    ], OrderQualityView);
    return OrderQualityView;
}(BasePanel_1.default));
exports.default = OrderQualityView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L29yZGVyL09yZGVyUXVhbGl0eVZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsd0VBQW1FO0FBQ25FLDZEQUF3RDtBQUN4RCx1REFBa0Q7QUFFNUMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFFNUM7OztHQUdHO0FBRUg7SUFBOEMsb0NBQVM7SUFBdkQ7UUFBQSxxRUFjQztRQVpHLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFFMUIsY0FBUSxHQUFhLElBQUksQ0FBQzs7SUFVOUIsQ0FBQztJQVRHLG1DQUFRLEdBQVI7UUFDSSxLQUFLO1FBQ0wsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDN0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcscUJBQVcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDdEQsQ0FBQztJQUVELDJDQUFnQixHQUFoQjtRQUNJLGlCQUFNLEtBQUssV0FBRSxDQUFDO0lBQ2xCLENBQUM7SUFYRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3VEQUNRO0lBRTFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7c0RBQ087SUFKVCxnQkFBZ0I7UUFEcEMsT0FBTztPQUNhLGdCQUFnQixDQWNwQztJQUFELHVCQUFDO0NBZEQsQUFjQyxDQWQ2QyxtQkFBUyxHQWN0RDtrQkFkb0IsZ0JBQWdCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCBCYXNlUGFuZWwgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay91aS9CYXNlUGFuZWxcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbi8qKlxyXG4gKiDorqLljZXotKjph49cclxuICogVE9ETzpcclxuICovXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZGVyUXVhbGl0eVZpZXcgZXh0ZW5kcyBCYXNlUGFuZWwge1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgeGluZ2Z1TGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOmAgOWHulxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9jbG9zZSwgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnhpbmdmdUxiLnN0cmluZyA9IFBsYXllck1vZGVsLmdldFhmenMoKSArIFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgb25CdG5DbG9zZUhhbmRsZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/order/OrderRewardView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '735d9VjxedOgptUvKetQdlj', 'OrderRewardView');
// src/game/view/order/OrderRewardView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var OrderRewardView = /** @class */ (function (_super) {
    __extends(OrderRewardView, _super);
    function OrderRewardView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.addLb = null;
        _this.descLb = null;
        _this.baseLb = null;
        _this.rewardLb = null;
        _this.btnClose = null;
        _this.btnOk = null;
        _this.qualityNames = ["普通订单", "青铜订单", "白银订单", "黄金订单", "钻石订单", "星耀订单"];
        // LIFE-CYCLE CALLBACKS:
        _this.mType = 0; //面板类型，0除虫奖励，1宝箱奖励
        return _this;
        // update (dt) {}
    }
    OrderRewardView.prototype.onLoad = function () {
    };
    OrderRewardView.prototype.onEnable = function () {
        // 关闭面板
        EventDispath_1.default.on(this.btnClose, this.onCloseHandle, this);
        EventDispath_1.default.on(this.btnOk, this.onClickHandle, this);
        this.initUi();
        if (PlayerModel_1.default.guideStep >= 0) {
            MkUtils_1.default.setNodeDelay(this.node, 0.5, function () {
                EventDispath_1.default.send(EventType_1.EventType.GUIDE_UPDATE);
            });
        }
    };
    OrderRewardView.prototype.startShow = function () {
        this.mData = this.inData[0];
        this.mData2 = this.inData[1];
    };
    OrderRewardView.prototype.initUi = function () {
        this.rewardLb.string = Number(this.mData.redBean).toFixed(2) + "元";
        // this.addLb.string = this.mData.addRedBean + "元";
        if (this.mData2.quality == 0) {
            this.baseLb.string = "20元";
            this.descLb.string = "新手订单加成 (0%)：";
            this.addLb.string = "0元";
        }
        else {
            this.baseLb.string = this.mData.beseRedBean + "元";
            this.addLb.string = this.mData.addRedBean + "元";
            this.descLb.string = this.qualityNames[this.mData2.quality - 1] + "加成 (" + ConfigManager_1.default.order_quality_add[this.mData2.quality - 1] + "%)：";
        }
    };
    OrderRewardView.prototype.onClickHandle = function () {
        PlayerModel_1.default.setMoney(this.mData.userRedBean, this.mData.redBean);
        var order = PlayerModel_1.default.getOrderList();
        order[0] = ConfigManager_1.default.getOrder();
        PlayerModel_1.default.setOrder();
        EventDispath_1.default.send(EventType_1.EventType.ORDER_UPDATE_LIST);
        EventDispath_1.default.send(EventType_1.EventType.ORDER_UPDATE_TOP);
        if (PlayerModel_1.default.guideStep >= 0) {
            EventDispath_1.default.send(EventType_1.EventType.GUIDE_UPDATE);
        }
        EventDispath_1.default.send(EventType_1.EventType.LEVEL_UPDATE);
        this.onCloseHandle();
    };
    OrderRewardView.prototype.onCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    OrderRewardView.prototype.getGuidePoint = function () {
        var p = this.btnOk.convertToWorldSpaceAR(cc.v2(0, 0));
        return p;
    };
    __decorate([
        property(cc.Label)
    ], OrderRewardView.prototype, "addLb", void 0);
    __decorate([
        property(cc.Label)
    ], OrderRewardView.prototype, "descLb", void 0);
    __decorate([
        property(cc.Label)
    ], OrderRewardView.prototype, "baseLb", void 0);
    __decorate([
        property(cc.Label)
    ], OrderRewardView.prototype, "rewardLb", void 0);
    __decorate([
        property(cc.Node)
    ], OrderRewardView.prototype, "btnClose", void 0);
    __decorate([
        property(cc.Node)
    ], OrderRewardView.prototype, "btnOk", void 0);
    OrderRewardView = __decorate([
        ccclass
    ], OrderRewardView);
    return OrderRewardView;
}(BasePanel_1.default));
exports.default = OrderRewardView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L29yZGVyL09yZGVyUmV3YXJkVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRix3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDREQUF1RDtBQUN2RCw2REFBd0Q7QUFDeEQsdURBQWtEO0FBQ2xELDZEQUF3RDtBQUVsRCxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUk1QztJQUE2QyxtQ0FBUztJQUF0RDtRQUFBLHFFQXNGQztRQXBGRyxXQUFLLEdBQWEsSUFBSSxDQUFDO1FBR3ZCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsWUFBTSxHQUFhLElBQUksQ0FBQztRQUV4QixjQUFRLEdBQWEsSUFBSSxDQUFDO1FBRTFCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFFekIsV0FBSyxHQUFZLElBQUksQ0FBQztRQUd0QixrQkFBWSxHQUFHLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQTtRQUMvRCx3QkFBd0I7UUFDeEIsV0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFBLGtCQUFrQjs7UUFtRTVCLGlCQUFpQjtJQUNyQixDQUFDO0lBakVHLGdDQUFNLEdBQU47SUFFQSxDQUFDO0lBRVMsa0NBQVEsR0FBbEI7UUFDSSxPQUFPO1FBQ1Asc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pELHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUV0RCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFFZCxJQUFJLHFCQUFXLENBQUMsU0FBUyxJQUFJLENBQUMsRUFBRTtZQUM1QixpQkFBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRTtnQkFDakMsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQTtZQUU3QyxDQUFDLENBQUMsQ0FBQTtTQUNMO0lBQ0wsQ0FBQztJQUVELG1DQUFTLEdBQVQ7UUFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFDRCxnQ0FBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUVuRSxtREFBbUQ7UUFDbkQsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sSUFBSSxDQUFDLEVBQUU7WUFDMUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQzNCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLGNBQWMsQ0FBQztZQUNwQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FFNUI7YUFBTTtZQUNILElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztZQUNsRCxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUM7WUFFaEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNLEdBQUcsdUJBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7U0FDL0k7SUFDTCxDQUFDO0lBQ0QsdUNBQWEsR0FBYjtRQUNJLHFCQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDakUsSUFBSSxLQUFLLEdBQUcscUJBQVcsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUN2QyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsdUJBQWEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwQyxxQkFBVyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3ZCLHNCQUFZLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUMvQyxzQkFBWSxDQUFDLElBQUksQ0FBQyxxQkFBUyxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFFOUMsSUFBSSxxQkFBVyxDQUFDLFNBQVMsSUFBSSxDQUFDLEVBQUU7WUFDNUIsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQTtTQUM1QztRQUVELHNCQUFZLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDMUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFRCx1Q0FBYSxHQUFiO1FBQ0ksaUJBQU0sS0FBSyxXQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVELHVDQUFhLEdBQWI7UUFDSSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEQsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBakZEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7a0RBQ0k7SUFHdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzttREFDSztJQUV4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO21EQUNLO0lBRXhCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7cURBQ087SUFFMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztxREFDTztJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2tEQUNJO0lBYkwsZUFBZTtRQURuQyxPQUFPO09BQ2EsZUFBZSxDQXNGbkM7SUFBRCxzQkFBQztDQXRGRCxBQXNGQyxDQXRGNEMsbUJBQVMsR0FzRnJEO2tCQXRGb0IsZUFBZSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgQmFzZVBhbmVsIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdWkvQmFzZVBhbmVsXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IENvbmZpZ01hbmFnZXIgZnJvbSBcIi4uLy4uL21hbmFnZXIvQ29uZmlnTWFuYWdlclwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcmRlclJld2FyZFZpZXcgZXh0ZW5kcyBCYXNlUGFuZWwge1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgYWRkTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBkZXNjTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGJhc2VMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcmV3YXJkTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuQ2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5PazogY2MuTm9kZSA9IG51bGw7XHJcblxyXG5cclxuICAgIHF1YWxpdHlOYW1lcyA9IFtcIuaZrumAmuiuouWNlVwiLCBcIumdkumTnOiuouWNlVwiLCBcIueZvemTtuiuouWNlVwiLCBcIum7hOmHkeiuouWNlVwiLCBcIumSu+efs+iuouWNlVwiLCBcIuaYn+iAgOiuouWNlVwiXVxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcbiAgICBtVHlwZSA9IDA7Ly/pnaLmnb/nsbvlnovvvIww6Zmk6Jmr5aWW5Yqx77yMMeWuneeuseWlluWKsVxyXG4gICAgbURhdGE7XHJcbiAgICBtRGF0YTI7XHJcbiAgICBvbkxvYWQoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyDlhbPpl63pnaLmnb9cclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5DbG9zZSwgdGhpcy5vbkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5PaywgdGhpcy5vbkNsaWNrSGFuZGxlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0VWkoKTtcclxuXHJcbiAgICAgICAgaWYgKFBsYXllck1vZGVsLmd1aWRlU3RlcCA+PSAwKSB7XHJcbiAgICAgICAgICAgIE1LVXRpbHMuc2V0Tm9kZURlbGF5KHRoaXMubm9kZSwgMC41LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuR1VJREVfVVBEQVRFKVxyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRTaG93KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubURhdGEgPSB0aGlzLmluRGF0YVswXTtcclxuICAgICAgICB0aGlzLm1EYXRhMiA9IHRoaXMuaW5EYXRhWzFdO1xyXG4gICAgfVxyXG4gICAgaW5pdFVpKCkge1xyXG4gICAgICAgIHRoaXMucmV3YXJkTGIuc3RyaW5nID0gTnVtYmVyKHRoaXMubURhdGEucmVkQmVhbikudG9GaXhlZCgyKSArIFwi5YWDXCI7XHJcblxyXG4gICAgICAgIC8vIHRoaXMuYWRkTGIuc3RyaW5nID0gdGhpcy5tRGF0YS5hZGRSZWRCZWFuICsgXCLlhYNcIjtcclxuICAgICAgICBpZiAodGhpcy5tRGF0YTIucXVhbGl0eSA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFzZUxiLnN0cmluZyA9IFwiMjDlhYNcIjtcclxuICAgICAgICAgICAgdGhpcy5kZXNjTGIuc3RyaW5nID0gXCLmlrDmiYvorqLljZXliqDmiJAgKDAlKe+8mlwiO1xyXG4gICAgICAgICAgICB0aGlzLmFkZExiLnN0cmluZyA9IFwiMOWFg1wiO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmJhc2VMYi5zdHJpbmcgPSB0aGlzLm1EYXRhLmJlc2VSZWRCZWFuICsgXCLlhYNcIjtcclxuICAgICAgICAgICAgdGhpcy5hZGRMYi5zdHJpbmcgPSB0aGlzLm1EYXRhLmFkZFJlZEJlYW4gKyBcIuWFg1wiO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZXNjTGIuc3RyaW5nID0gdGhpcy5xdWFsaXR5TmFtZXNbdGhpcy5tRGF0YTIucXVhbGl0eSAtIDFdICsgXCLliqDmiJAgKFwiICsgQ29uZmlnTWFuYWdlci5vcmRlcl9xdWFsaXR5X2FkZFt0aGlzLm1EYXRhMi5xdWFsaXR5IC0gMV0gKyBcIiUp77yaXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25DbGlja0hhbmRsZSgpIHtcclxuICAgICAgICBQbGF5ZXJNb2RlbC5zZXRNb25leSh0aGlzLm1EYXRhLnVzZXJSZWRCZWFuLCB0aGlzLm1EYXRhLnJlZEJlYW4pO1xyXG4gICAgICAgIGxldCBvcmRlciA9IFBsYXllck1vZGVsLmdldE9yZGVyTGlzdCgpO1xyXG4gICAgICAgIG9yZGVyWzBdID0gQ29uZmlnTWFuYWdlci5nZXRPcmRlcigpO1xyXG4gICAgICAgIFBsYXllck1vZGVsLnNldE9yZGVyKCk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLk9SREVSX1VQREFURV9MSVNUKTtcclxuICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuT1JERVJfVVBEQVRFX1RPUCk7XHJcblxyXG4gICAgICAgIGlmIChQbGF5ZXJNb2RlbC5ndWlkZVN0ZXAgPj0gMCkge1xyXG4gICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuR1VJREVfVVBEQVRFKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkxFVkVMX1VQREFURSk7XHJcbiAgICAgICAgdGhpcy5vbkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25DbG9zZUhhbmRsZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEd1aWRlUG9pbnQoKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLmJ0bk9rLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLCAwKSk7XHJcbiAgICAgICAgcmV0dXJuIHA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/order/OrderItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7718d6ooRROc6PFFQtA9m3G', 'OrderItem');
// src/game/view/order/OrderItem.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var ComponentHelper_1 = require("../../../framework/tools/ComponentHelper");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var Utils_1 = require("../../../framework/tools/Utils");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var PopView1_1 = require("../popView/PopView1");
var AItemRenerer_1 = require("../task/AItemRenerer");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var OrderItem = /** @class */ (function (_super) {
    __extends(OrderItem, _super);
    function OrderItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.lvIconList = [];
        _this.lvIcon = null;
        _this.btn_info = null;
        _this.btn_giveUp = null;
        _this.btn_get = null;
        _this.timeBg = null;
        _this.current_tips = null;
        _this.proLb = null;
        _this.updateTimeLb = null;
        _this.cropItems = [];
        _this.lastTime = 0;
        _this.cacheInterval = 0;
        _this.cacheTotal = 10;
        return _this;
    }
    OrderItem.prototype.onLoad = function () {
        this._initComponet();
    };
    OrderItem.prototype.update = function (dt) {
        if (this.lastTime > 0 && !this.data.state) {
            this.cacheInterval += dt;
            if (this.cacheInterval >= this.cacheTotal) {
                this.cacheInterval = 0;
                PlayerModel_1.default.setOrder();
            }
            this.lastTime -= dt;
            this.checkUpDate();
            ComponentHelper_1.default.labelTimeSs(this.updateTimeLb.node, this.lastTime);
            this.updateTimeLb.string = this.updateTimeLb.string + "后刷新";
        }
    };
    OrderItem.prototype.onEnable = function () {
        // this.resetUI();
    };
    OrderItem.prototype.dataChanged = function () {
        this.initUI();
    };
    OrderItem.prototype.initUI = function () {
        this.resetUI();
        if (this.data.unlock) {
            this.unlockGp.active = true;
            if (this.data.state) {
                this.btn_info.active = true;
                this.btn_giveUp.active = true;
                this.current_tips.active = true;
            }
            else {
                if (this.data.id == 0) {
                    this.lastTime = 0;
                }
                else {
                    this.timeBg.active = true;
                    this.updateTimeLb.node.active = true;
                    this.lastTime = this.data.time - Math.floor(Utils_1.default.returnTime() / 1000);
                }
                this.btn_get.active = true;
            }
            var len = this.data.cropList.length;
            var total = 0;
            var current = 0;
            var _loop_1 = function (i) {
                var data = this_1.data.cropList[i];
                var item = this_1.cropItems[i];
                item.icon.node.active = true;
                item.nameLb.node.active = true;
                item.proLb.node.active = true;
                if (data.cropId == 100) {
                    item.nameLb.string = "招待顾客";
                    if (data.num > data.target) {
                        item.proLb.string = data.target + "/" + data.target;
                    }
                    else {
                        item.proLb.string = data.num + "/" + data.target;
                    }
                }
                else {
                    var base = ConfigManager_1.default.getCropById(data.cropId);
                    item.nameLb.string = base.name;
                    var haveNum = PlayerModel_1.default.getHaveNumByID(data.cropId);
                    if (haveNum > data.target) {
                        item.proLb.string = data.target + "/" + data.target;
                    }
                    else {
                        item.proLb.string = haveNum + "/" + data.target;
                    }
                }
                MkUtils_1.default.loadSpriteFrame("texture/crop/icon/" + ("" + data.cropId), function (res) {
                    item.icon.spriteFrame = res;
                });
            };
            var this_1 = this;
            for (var i = 0; i < len; i++) {
                _loop_1(i);
            }
            // current = current > total ? total : current
            // this.proLb.string = Math.floor((current / total) * 100) + "%"
            if (this.data.quality < 2) {
                this.proLb.string = "无加成";
            }
            else {
                this.proLb.string = "+" + ConfigManager_1.default.order_quality_add[this.data.quality - 1] + "%";
            }
            if (this.data.quality > 0)
                this.lvIcon.spriteFrame = this.lvIconList[this.data.quality - 1];
            else
                this.lvIcon.spriteFrame = this.lvIconList[0];
        }
        else {
            this.lockGp.active = true;
        }
    };
    OrderItem.prototype.checkUpDate = function () {
        if (this.lastTime <= 0) {
            EventDispath_1.default.send(EventType_1.EventType.ORDER_UPDATE_INDEX, this.index);
        }
    };
    OrderItem.prototype.resetUI = function () {
        this.unlockGp.active = false;
        this.lockGp.active = false;
        this.btn_info.active = false;
        this.btn_get.active = false;
        this.btn_giveUp.active = false;
        this.timeBg.active = false;
        this.current_tips.active = false;
        this.updateTimeLb.node.active = false;
        for (var i = 0; i < this.cropItems.length; i++) {
            var item = this.cropItems[i];
            item.icon.node.active = false;
            item.nameLb.node.active = false;
            item.proLb.node.active = false;
        }
    };
    OrderItem.prototype.onGet = function () {
        var order = PlayerModel_1.default.getCurrentOrder();
        if (order) {
            UIMananger_1.default.showPanel(UIType_1.default.orderGetScuessView, null, null, UIEffectManager_1.UIEffectType.SCALE, 1, order);
        }
        else {
            EventDispath_1.default.addEventListener(EventType_1.EventType.ORDER_GET_SUCCESS, this.onGetSuccess, this);
            SDKManager_1.default.getOrderTask(this.data.quality);
        }
    };
    OrderItem.prototype.onGetSuccess = function () {
        EventDispath_1.default.removeByEvent(EventType_1.EventType.ORDER_GET_SUCCESS, this.onGetSuccess, this);
        this.data.state = 1;
        this.data.lastTime = 0;
        PlayerModel_1.default.setOrder();
        PlayerModel_1.default.updateOrder();
        UIMananger_1.default.showPanel(UIType_1.default.orderGetScuessView, null, null, UIEffectManager_1.UIEffectType.SCALE, 0, this.data);
        EventDispath_1.default.send(EventType_1.EventType.ORDER_CLOSE);
        if (PlayerModel_1.default.guideStep >= 0) {
            // PlayerModel.guideState = 1;
            EventDispath_1.default.send(EventType_1.EventType.GUIDE_Hide);
        }
    };
    OrderItem.prototype.onGiveUp = function () {
        UIMananger_1.default.showPanel(UIType_1.default.orderGiveUpView, null, null, UIEffectManager_1.UIEffectType.SCALE, this.data);
    };
    OrderItem.prototype.onInfo = function () {
        UIMananger_1.default.showPanel(UIType_1.default.orderCurrentView, null, null, UIEffectManager_1.UIEffectType.SCALE, this.data);
    };
    //解锁订单
    OrderItem.prototype.onUnlock = function () {
        var _this = this;
        EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onUnlockSuccess, this);
        UIMananger_1.default.showPanel(UIType_1.default.popView1, null, function () {
            EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, _this.onUnlockSuccess, _this);
        }, UIEffectManager_1.UIEffectType.SCALE, PopView1_1.PopType.UNLOCK_ORDER);
    };
    OrderItem.prototype.onUnlockSuccess = function () {
        MkUtils_1.default.alertTips("解锁订单成功");
        EventDispath_1.default.send(EventType_1.EventType.ORDER_UNLOCK, this.index);
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, this.onUnlockSuccess, this);
    };
    OrderItem.prototype._initComponet = function () {
        this.unlockGp = this.node.getChildByName("unlockGp");
        this.lockGp = this.node.getChildByName("lockGp");
        this.btn_info = this.unlockGp.getChildByName("btn_info");
        this.btn_get = this.unlockGp.getChildByName("btn_get");
        this.btn_giveUp = this.unlockGp.getChildByName("btn_giveUp");
        this.timeBg = this.unlockGp.getChildByName("timeBg");
        this.current_tips = this.unlockGp.getChildByName("current_tips");
        this.updateTimeLb = this.unlockGp.getChildByName("updateTimeLb").getComponent(cc.Label);
        this.proLb = this.unlockGp.getChildByName("proLb").getComponent(cc.Label);
        this.lvIcon = this.unlockGp.getChildByName("lvIcon").getComponent(cc.Sprite);
        for (var i = 1; i < 5; i++) {
            var nameLb = this.unlockGp.getChildByName("nameLb" + i).getComponent(cc.Label);
            var proLb = this.unlockGp.getChildByName("cropProLb" + i).getComponent(cc.Label);
            var icon = this.unlockGp.getChildByName("icon" + i).getComponent(cc.Sprite);
            this.cropItems.push({ icon: icon, nameLb: nameLb, proLb: proLb });
        }
    };
    __decorate([
        property([cc.SpriteFrame])
    ], OrderItem.prototype, "lvIconList", void 0);
    OrderItem = __decorate([
        ccclass
    ], OrderItem);
    return OrderItem;
}(AItemRenerer_1.default));
exports.default = OrderItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L29yZGVyL09yZGVySXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVsRixvRUFBK0Q7QUFDL0QsOEVBQTBFO0FBQzFFLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDRFQUF1RTtBQUN2RSw0REFBdUQ7QUFDdkQsd0RBQW1EO0FBQ25ELDhDQUF5QztBQUN6Qyx1REFBa0Q7QUFDbEQsNkRBQXdEO0FBQ3hELGdEQUE4QztBQUM5QyxxREFBaUQ7QUFPM0MsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFFNUM7SUFBdUMsNkJBQXFCO0lBQTVEO1FBQUEscUVBbU5DO1FBL01HLGdCQUFVLEdBQXFCLEVBQUUsQ0FBQztRQUtsQyxZQUFNLEdBQWMsSUFBSSxDQUFDO1FBQ3pCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFDekIsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFDM0IsYUFBTyxHQUFZLElBQUksQ0FBQztRQUN4QixZQUFNLEdBQVksSUFBSSxDQUFDO1FBQ3ZCLGtCQUFZLEdBQVksSUFBSSxDQUFDO1FBQzdCLFdBQUssR0FBYSxJQUFJLENBQUM7UUFDdkIsa0JBQVksR0FBYSxJQUFJLENBQUM7UUFFOUIsZUFBUyxHQUFxQixFQUFFLENBQUM7UUFFakMsY0FBUSxHQUFHLENBQUMsQ0FBQztRQUNiLG1CQUFhLEdBQUcsQ0FBQyxDQUFDO1FBQ2xCLGdCQUFVLEdBQUcsRUFBRSxDQUFDOztJQTZMcEIsQ0FBQztJQTVMRywwQkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFUyww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SUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO1NBQ3JFO0lBQ0wsQ0FBQztJQTlNRDtRQURDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQztpREFDTztJQUpqQixTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBbU43QjtJQUFELGdCQUFDO0NBbk5ELEFBbU5DLENBbk5zQyxzQkFBYSxHQW1ObkQ7a0JBbk5vQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IFNES01hbmFnZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1NES01hbmFnZXJcIjtcclxuaW1wb3J0IHsgVUlFZmZlY3RUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJRWZmZWN0TWFuYWdlclwiO1xyXG5pbXBvcnQgVUlNYW5hbmdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlNYW5hbmdlclwiO1xyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50VHlwZVwiO1xyXG5pbXBvcnQgQ29tcG9uZW50SGVscGVyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvQ29tcG9uZW50SGVscGVyXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9VdGlsc1wiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IENvbmZpZ01hbmFnZXIgZnJvbSBcIi4uLy4uL21hbmFnZXIvQ29uZmlnTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBQb3BUeXBlIH0gZnJvbSBcIi4uL3BvcFZpZXcvUG9wVmlldzFcIjtcclxuaW1wb3J0IEFJdGVtUmVuZGVyZXIgZnJvbSBcIi4uL3Rhc2svQUl0ZW1SZW5lcmVyXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVySXRlbV9Dcm9wIHtcclxuICAgIGljb246IGNjLlNwcml0ZSxcclxuICAgIG5hbWVMYjogY2MuTGFiZWwsXHJcbiAgICBwcm9MYjogY2MuTGFiZWxcclxufVxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcmRlckl0ZW0gZXh0ZW5kcyBBSXRlbVJlbmRlcmVyPHN0cmluZz4ge1xyXG5cclxuXHJcbiAgICBAcHJvcGVydHkoW2NjLlNwcml0ZUZyYW1lXSlcclxuICAgIGx2SWNvbkxpc3Q6IGNjLlNwcml0ZUZyYW1lW10gPSBbXTtcclxuXHJcbiAgICB1bmxvY2tHcDogY2MuTm9kZTtcclxuICAgIGxvY2tHcDogY2MuTm9kZTtcclxuXHJcbiAgICBsdkljb246IGNjLlNwcml0ZSA9IG51bGw7XHJcbiAgICBidG5faW5mbzogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBidG5fZ2l2ZVVwOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIGJ0bl9nZXQ6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgdGltZUJnOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIGN1cnJlbnRfdGlwczogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBwcm9MYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgdXBkYXRlVGltZUxiOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgY3JvcEl0ZW1zOiBPcmRlckl0ZW1fQ3JvcFtdID0gW107XHJcblxyXG4gICAgbGFzdFRpbWUgPSAwO1xyXG4gICAgY2FjaGVJbnRlcnZhbCA9IDA7XHJcbiAgICBjYWNoZVRvdGFsID0gMTA7XHJcbiAgICBvbkxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5faW5pdENvbXBvbmV0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHVwZGF0ZShkdDogbnVtYmVyKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmxhc3RUaW1lID4gMCAmJiAhdGhpcy5kYXRhLnN0YXRlKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhY2hlSW50ZXJ2YWwgKz0gZHQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNhY2hlSW50ZXJ2YWwgPj0gdGhpcy5jYWNoZVRvdGFsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlSW50ZXJ2YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgUGxheWVyTW9kZWwuc2V0T3JkZXIoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5sYXN0VGltZSAtPSBkdDtcclxuICAgICAgICAgICAgdGhpcy5jaGVja1VwRGF0ZSgpO1xyXG4gICAgICAgICAgICBDb21wb25lbnRIZWxwZXIubGFiZWxUaW1lU3ModGhpcy51cGRhdGVUaW1lTGIubm9kZSwgdGhpcy5sYXN0VGltZSk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGltZUxiLnN0cmluZyA9IHRoaXMudXBkYXRlVGltZUxiLnN0cmluZyArIFwi5ZCO5Yi35pawXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gdGhpcy5yZXNldFVJKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGRhdGFDaGFuZ2VkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9XHJcbiAgICBpbml0VUkoKSB7XHJcbiAgICAgICAgdGhpcy5yZXNldFVJKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS51bmxvY2spIHtcclxuICAgICAgICAgICAgdGhpcy51bmxvY2tHcC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLnN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0bl9pbmZvLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0bl9naXZlVXAuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRfdGlwcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5pZCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0VGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZUJnLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUaW1lTGIubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFRpbWUgPSB0aGlzLmRhdGEudGltZSAtIE1hdGguZmxvb3IoVXRpbHMucmV0dXJuVGltZSgpIC8gMTAwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0bl9nZXQuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGxlbiA9IHRoaXMuZGF0YS5jcm9wTGlzdC5sZW5ndGhcclxuICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YS5jcm9wTGlzdFtpXTtcclxuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5jcm9wSXRlbXNbaV07XHJcbiAgICAgICAgICAgICAgICBpdGVtLmljb24ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5uYW1lTGIubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5wcm9MYi5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY3JvcElkID09IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ubmFtZUxiLnN0cmluZyA9IFwi5oub5b6F6aG+5a6iXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubnVtID4gZGF0YS50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5wcm9MYi5zdHJpbmcgPSBkYXRhLnRhcmdldCArIFwiL1wiICsgZGF0YS50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5wcm9MYi5zdHJpbmcgPSBkYXRhLm51bSArIFwiL1wiICsgZGF0YS50YXJnZXQ7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBiYXNlID0gQ29uZmlnTWFuYWdlci5nZXRDcm9wQnlJZChkYXRhLmNyb3BJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5uYW1lTGIuc3RyaW5nID0gYmFzZS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBoYXZlTnVtID0gUGxheWVyTW9kZWwuZ2V0SGF2ZU51bUJ5SUQoZGF0YS5jcm9wSWQpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhdmVOdW0gPiBkYXRhLnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnByb0xiLnN0cmluZyA9IGRhdGEudGFyZ2V0ICsgXCIvXCIgKyBkYXRhLnRhcmdldDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnByb0xiLnN0cmluZyA9IGhhdmVOdW0gKyBcIi9cIiArIGRhdGEudGFyZ2V0O1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgTUtVdGlscy5sb2FkU3ByaXRlRnJhbWUoXCJ0ZXh0dXJlL2Nyb3AvaWNvbi9cIiArIGAke2RhdGEuY3JvcElkfWAsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmljb24uc3ByaXRlRnJhbWUgPSByZXM7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjdXJyZW50ID0gY3VycmVudCA+IHRvdGFsID8gdG90YWwgOiBjdXJyZW50XHJcbiAgICAgICAgICAgIC8vIHRoaXMucHJvTGIuc3RyaW5nID0gTWF0aC5mbG9vcigoY3VycmVudCAvIHRvdGFsKSAqIDEwMCkgKyBcIiVcIlxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5xdWFsaXR5IDwyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb0xiLnN0cmluZyA9IFwi5peg5Yqg5oiQXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb0xiLnN0cmluZyA9IFwiK1wiICsgQ29uZmlnTWFuYWdlci5vcmRlcl9xdWFsaXR5X2FkZFt0aGlzLmRhdGEucXVhbGl0eSAtIDFdICsgXCIlXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMuZGF0YS5xdWFsaXR5PjApIHRoaXMubHZJY29uLnNwcml0ZUZyYW1lID0gdGhpcy5sdkljb25MaXN0W3RoaXMuZGF0YS5xdWFsaXR5IC0gMV07XHJcbiAgICAgICAgICAgIGVsc2UgdGhpcy5sdkljb24uc3ByaXRlRnJhbWUgPSB0aGlzLmx2SWNvbkxpc3RbMF07XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9ja0dwLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2hlY2tVcERhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubGFzdFRpbWUgPD0gMCkge1xyXG4gICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuT1JERVJfVVBEQVRFX0lOREVYLCB0aGlzLmluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRVSSgpIHtcclxuICAgICAgICB0aGlzLnVubG9ja0dwLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubG9ja0dwLmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmJ0bl9pbmZvLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYnRuX2dldC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJ0bl9naXZlVXAuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMudGltZUJnLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY3VycmVudF90aXBzLmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZVRpbWVMYi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jcm9wSXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLmNyb3BJdGVtc1tpXTtcclxuICAgICAgICAgICAgaXRlbS5pY29uLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGl0ZW0ubmFtZUxiLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGl0ZW0ucHJvTGIubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25HZXQoKSB7XHJcbiAgICAgICAgbGV0IG9yZGVyID0gUGxheWVyTW9kZWwuZ2V0Q3VycmVudE9yZGVyKCk7XHJcbiAgICAgICAgaWYgKG9yZGVyKSB7XHJcbiAgICAgICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5vcmRlckdldFNjdWVzc1ZpZXcsIG51bGwsIG51bGwsIFVJRWZmZWN0VHlwZS5TQ0FMRSwgMSwgb3JkZXIpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLk9SREVSX0dFVF9TVUNDRVNTLCB0aGlzLm9uR2V0U3VjY2VzcywgdGhpcyk7XHJcbiAgICAgICAgICAgIFNES01hbmFnZXIuZ2V0T3JkZXJUYXNrKHRoaXMuZGF0YS5xdWFsaXR5KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uR2V0U3VjY2VzcygpIHtcclxuICAgICAgICBFdmVudERpc3BhdGgucmVtb3ZlQnlFdmVudChFdmVudFR5cGUuT1JERVJfR0VUX1NVQ0NFU1MsIHRoaXMub25HZXRTdWNjZXNzLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmRhdGEuc3RhdGUgPSAxO1xyXG4gICAgICAgIHRoaXMuZGF0YS5sYXN0VGltZSA9IDA7XHJcbiAgICAgICAgUGxheWVyTW9kZWwuc2V0T3JkZXIoKTtcclxuICAgICAgICBQbGF5ZXJNb2RlbC51cGRhdGVPcmRlcigpO1xyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5vcmRlckdldFNjdWVzc1ZpZXcsIG51bGwsIG51bGwsIFVJRWZmZWN0VHlwZS5TQ0FMRSwgMCwgdGhpcy5kYXRhKVxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5PUkRFUl9DTE9TRSlcclxuXHJcbiAgICAgICAgaWYgKFBsYXllck1vZGVsLmd1aWRlU3RlcCA+PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIFBsYXllck1vZGVsLmd1aWRlU3RhdGUgPSAxO1xyXG4gICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuR1VJREVfSGlkZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIG9uR2l2ZVVwKCkge1xyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5vcmRlckdpdmVVcFZpZXcsIG51bGwsIG51bGwsIFVJRWZmZWN0VHlwZS5TQ0FMRSwgdGhpcy5kYXRhKVxyXG4gICAgfVxyXG4gICAgb25JbmZvKCkge1xyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5vcmRlckN1cnJlbnRWaWV3LCBudWxsLCBudWxsLCBVSUVmZmVjdFR5cGUuU0NBTEUsIHRoaXMuZGF0YSk7XHJcbiAgICB9XHJcbiAgICAvL+ino+mUgeiuouWNlVxyXG4gICAgb25VbmxvY2soKSB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlZJREVPX0JBQ0ssIHRoaXMub25VbmxvY2tTdWNjZXNzLCB0aGlzKTtcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUucG9wVmlldzEsIG51bGwsICgpID0+IHtcclxuICAgICAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUJ5RXZlbnQoRXZlbnRUeXBlLlZJREVPX0JBQ0ssIHRoaXMub25VbmxvY2tTdWNjZXNzLCB0aGlzKTtcclxuXHJcbiAgICAgICAgfSwgVUlFZmZlY3RUeXBlLlNDQUxFLCBQb3BUeXBlLlVOTE9DS19PUkRFUik7XHJcbiAgICB9XHJcbiAgICBvblVubG9ja1N1Y2Nlc3MoKSB7XHJcbiAgICAgICAgTUtVdGlscy5hbGVydFRpcHMoXCLop6PplIHorqLljZXmiJDlip9cIilcclxuICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuT1JERVJfVU5MT0NLLCB0aGlzLmluZGV4KTtcclxuICAgICAgICBFdmVudERpc3BhdGgucmVtb3ZlQnlFdmVudChFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5vblVubG9ja1N1Y2Nlc3MsIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgX2luaXRDb21wb25ldCgpIHtcclxuICAgICAgICB0aGlzLnVubG9ja0dwID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwidW5sb2NrR3BcIik7XHJcbiAgICAgICAgdGhpcy5sb2NrR3AgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJsb2NrR3BcIik7XHJcblxyXG4gICAgICAgIHRoaXMuYnRuX2luZm8gPSB0aGlzLnVubG9ja0dwLmdldENoaWxkQnlOYW1lKFwiYnRuX2luZm9cIik7XHJcbiAgICAgICAgdGhpcy5idG5fZ2V0ID0gdGhpcy51bmxvY2tHcC5nZXRDaGlsZEJ5TmFtZShcImJ0bl9nZXRcIik7XHJcbiAgICAgICAgdGhpcy5idG5fZ2l2ZVVwID0gdGhpcy51bmxvY2tHcC5nZXRDaGlsZEJ5TmFtZShcImJ0bl9naXZlVXBcIik7XHJcblxyXG4gICAgICAgIHRoaXMudGltZUJnID0gdGhpcy51bmxvY2tHcC5nZXRDaGlsZEJ5TmFtZShcInRpbWVCZ1wiKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRfdGlwcyA9IHRoaXMudW5sb2NrR3AuZ2V0Q2hpbGRCeU5hbWUoXCJjdXJyZW50X3RpcHNcIik7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlVGltZUxiID0gdGhpcy51bmxvY2tHcC5nZXRDaGlsZEJ5TmFtZShcInVwZGF0ZVRpbWVMYlwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgIHRoaXMucHJvTGIgPSB0aGlzLnVubG9ja0dwLmdldENoaWxkQnlOYW1lKFwicHJvTGJcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICB0aGlzLmx2SWNvbiA9IHRoaXMudW5sb2NrR3AuZ2V0Q2hpbGRCeU5hbWUoXCJsdkljb25cIikuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBuYW1lTGIgPSB0aGlzLnVubG9ja0dwLmdldENoaWxkQnlOYW1lKFwibmFtZUxiXCIgKyBpKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgICAgICBsZXQgcHJvTGIgPSB0aGlzLnVubG9ja0dwLmdldENoaWxkQnlOYW1lKFwiY3JvcFByb0xiXCIgKyBpKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgICAgICBsZXQgaWNvbiA9IHRoaXMudW5sb2NrR3AuZ2V0Q2hpbGRCeU5hbWUoXCJpY29uXCIgKyBpKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3JvcEl0ZW1zLnB1c2goeyBpY29uOiBpY29uLCBuYW1lTGI6IG5hbWVMYiwgcHJvTGI6IHByb0xiIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/order/OrderView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '282e7LgYwpLrZ61EJ4WG7KY', 'OrderView');
// src/game/view/order/OrderView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var Utils_1 = require("../../../framework/tools/Utils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var PopView1_1 = require("../popView/PopView1");
var AVirtualScrollView_1 = require("../task/AVirtualScrollView");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 订单中心
 * TODO:
 */
var OrderView = /** @class */ (function (_super) {
    __extends(OrderView, _super);
    function OrderView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_close = null;
        _this.btn_quality = null;
        _this.btn_update = null;
        _this.xfzsLb = null;
        _this.scroller = null;
        _this.scrollerData = [];
        return _this;
    }
    OrderView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_quality, this.onQuality, this);
        EventDispath_1.default.on(this.btn_update, this.onUpdate, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.ORDER_CLOSE, this.onBtnCloseHandle, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.ORDER_UPDATE_INDEX, this.updateData, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.ORDER_UPDATE_LIST, this.completeUpate, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.ORDER_GIVE_UP, this.onGiveUp, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.ORDER_UNLOCK, this.onUnlock, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.GUIDE_COMPLETE, this.guidComplete, this);
        var list = PlayerModel_1.default.getOrderList();
        this.scrollerData = list;
        this.initUI();
    };
    OrderView.prototype.onLoad = function () {
    };
    OrderView.prototype.start = function () {
    };
    OrderView.prototype.on_Show = function (args) {
        if (PlayerModel_1.default.guideStep >= 0) {
            this.scroller.vertical = false;
            MkUtils_1.default.setNodeDelay(this.node, 0.5, function () {
                EventDispath_1.default.send(EventType_1.EventType.GUIDE_UPDATE);
            });
        }
        // MKUtils.setNodeDelay(this.node, 0.1, this.initUI.bind(this))
        // this.initUI();
        _super.prototype.on_Show.call(this, args);
    };
    OrderView.prototype.startShow = function () {
    };
    //放弃订单
    OrderView.prototype.onGiveUp = function () {
        PlayerModel_1.default.orderVideoNum = 0;
        // this.scrollerData[0] = ConfigManager.getOrder();
        this.initUI();
    };
    //订单奖励领取后更新列表
    OrderView.prototype.completeUpate = function () {
        this.scrollerData[0] = ConfigManager_1.default.getOrder();
        this.initUI();
    };
    //刷新订单列表
    OrderView.prototype.updateList = function () {
        MkUtils_1.default.alertTips("刷新订单成功");
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, this.updateList, this);
        for (var i = 0; i < this.scrollerData.length; i++) {
            var item = this.scrollerData[i];
            if (!item.state && item.unlock) {
                this.scrollerData[i] = ConfigManager_1.default.getOrder();
            }
        }
        this.initUI();
    };
    OrderView.prototype.onUnlock = function () {
        this.scroller.scrollToTop();
        var list = PlayerModel_1.default.getOrderList();
        var indexList = [];
        var arr = list.filter(function (value, index) {
            if (value.unlock == 0)
                indexList.push(index);
            return value.unlock == 0;
        });
        list[indexList[0]] = ConfigManager_1.default.getOrder();
        PlayerModel_1.default.orderLen++;
        this.scrollerData = PlayerModel_1.default.getOrderList();
        ;
        this.initUI();
        this.scroller.scrollToTop();
    };
    OrderView.prototype.updateData = function (index) {
        this.scrollerData[index] = ConfigManager_1.default.getOrder();
        this.initUI();
    };
    OrderView.prototype.initUI = function () {
        var _this = this;
        for (var i = 0; i < this.scrollerData.length; i++) {
            var item = this.scrollerData[i];
            var lastTime = item.time - Math.floor(Utils_1.default.returnTime() / 1000);
            if (lastTime <= 0 && !item.state) {
                this.scrollerData[i] = ConfigManager_1.default.getOrder();
            }
        }
        this.scroller.refreshData(this.scrollerData);
        this.scroller.scrollToTop();
        this.scroller.node.active = false;
        MkUtils_1.default.setNodeDelay(this.node, 0.1, function () {
            _this.scroller.node.active = true;
        });
        this.xfzsLb.string = PlayerModel_1.default.getXfzs() + "";
    };
    OrderView.prototype.onQuality = function () {
        UIMananger_1.default.showPanel(UIType_1.default.orderQualityView);
    };
    //刷新订单
    OrderView.prototype.onUpdate = function () {
        var _this = this;
        EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.updateList, this);
        UIMananger_1.default.showPanel(UIType_1.default.popView1, null, function () {
            EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, _this.updateList, _this);
        }, UIEffectManager_1.UIEffectType.SCALE, PopView1_1.PopType.REFRESH_ORDER);
    };
    /** 仅用于关闭操作 */
    OrderView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    OrderView.prototype.getGuidePoint = function () {
        // let node = this.xfzsLb.node;
        var p = this.scroller.getItemByIndex(0).convertToWorldSpaceAR(cc.v2(0, 0));
        // let p = node.convertToWorldSpaceAR(cc.v2(0,0));
        return p;
    };
    OrderView.prototype.getGuidePoint1 = function () {
        // let node = this.xfzsLb.node;
        var p = this.scroller.node.convertToWorldSpaceAR(cc.v2(0, 0));
        // let p = node.convertToWorldSpaceAR(cc.v2(0,0));
        return p;
    };
    OrderView.prototype.guidComplete = function () {
        this.scroller.vertical = true;
    };
    __decorate([
        property(cc.Node)
    ], OrderView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Node)
    ], OrderView.prototype, "btn_quality", void 0);
    __decorate([
        property(cc.Node)
    ], OrderView.prototype, "btn_update", void 0);
    __decorate([
        property(cc.Label)
    ], OrderView.prototype, "xfzsLb", void 0);
    __decorate([
        property(AVirtualScrollView_1.default)
    ], OrderView.prototype, "scroller", void 0);
    OrderView = __decorate([
        ccclass
    ], OrderView);
    return OrderView;
}(BasePanel_1.default));
exports.default = OrderView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L29yZGVyL09yZGVyVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdsRiw4RUFBMEU7QUFDMUUsb0VBQStEO0FBQy9ELHdFQUFtRTtBQUNuRSxrRUFBaUU7QUFDakUsNERBQXVEO0FBRXZELHdEQUFtRDtBQUNuRCw2REFBd0Q7QUFDeEQsOENBQXlDO0FBQ3pDLHVEQUFrRDtBQUNsRCw2REFBd0Q7QUFDeEQsZ0RBQThDO0FBQzlDLGlFQUE0RDtBQUV0RCxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1Qzs7O0dBR0c7QUFFSDtJQUF1Qyw2QkFBUztJQUFoRDtRQUFBLHFFQW1KQztRQWhKRyxlQUFTLEdBQVksSUFBSSxDQUFDO1FBRTFCLGlCQUFXLEdBQVksSUFBSSxDQUFDO1FBRTVCLGdCQUFVLEdBQVksSUFBSSxDQUFDO1FBRTNCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFHeEIsY0FBUSxHQUF1QixJQUFJLENBQUM7UUFFcEMsa0JBQVksR0FBRyxFQUFFLENBQUM7O0lBcUl0QixDQUFDO0lBcElHLDRCQUFRLEdBQVI7UUFDSSxLQUFLO1FBQ0wsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFN0Qsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3hELHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFFB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QkFBQztDQW5KRCxBQW1KQyxDQW5Kc0MsbUJBQVMsR0FtSi9DO2tCQW5Kb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Na1V0aWxzXCI7XHJcbmltcG9ydCBTb3J0VXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Tb3J0VXRpbHNcIjtcclxuaW1wb3J0IFV0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvVXRpbHNcIjtcclxuaW1wb3J0IEJhc2VQYW5lbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3VpL0Jhc2VQYW5lbFwiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IENvbmZpZ01hbmFnZXIgZnJvbSBcIi4uLy4uL21hbmFnZXIvQ29uZmlnTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBQb3BUeXBlIH0gZnJvbSBcIi4uL3BvcFZpZXcvUG9wVmlldzFcIjtcclxuaW1wb3J0IEFWaXJ0dWFsU2Nyb2xsVmlldyBmcm9tIFwiLi4vdGFzay9BVmlydHVhbFNjcm9sbFZpZXdcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG4vKipcclxuICog6K6i5Y2V5Lit5b+DXHJcbiAqIFRPRE86XHJcbiAqL1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcmRlclZpZXcgZXh0ZW5kcyBCYXNlUGFuZWwge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2Nsb3NlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX3F1YWxpdHk6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fdXBkYXRlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHhmenNMYjogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShBVmlydHVhbFNjcm9sbFZpZXcpXHJcbiAgICBzY3JvbGxlcjogQVZpcnR1YWxTY3JvbGxWaWV3ID0gbnVsbDtcclxuXHJcbiAgICBzY3JvbGxlckRhdGEgPSBbXTtcclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOmAgOWHulxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9jbG9zZSwgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX3F1YWxpdHksIHRoaXMub25RdWFsaXR5LCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5fdXBkYXRlLCB0aGlzLm9uVXBkYXRlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLk9SREVSX0NMT1NFLCB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5PUkRFUl9VUERBVEVfSU5ERVgsIHRoaXMudXBkYXRlRGF0YSwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLk9SREVSX1VQREFURV9MSVNULCB0aGlzLmNvbXBsZXRlVXBhdGUsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5PUkRFUl9HSVZFX1VQLCB0aGlzLm9uR2l2ZVVwLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuT1JERVJfVU5MT0NLLCB0aGlzLm9uVW5sb2NrLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuR1VJREVfQ09NUExFVEUsIHRoaXMuZ3VpZENvbXBsZXRlLCB0aGlzKTtcclxuICAgICAgXHJcbiAgICAgICAgbGV0IGxpc3QgPSBQbGF5ZXJNb2RlbC5nZXRPcmRlckxpc3QoKTtcclxuICAgICAgICB0aGlzLnNjcm9sbGVyRGF0YSA9IGxpc3Q7XHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuXHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgb25Mb2FkKCk6IHZvaWQge1xyXG5cclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcclxuICAgIH1cclxuICAgIG9uX1Nob3coYXJnczogYW55KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKFBsYXllck1vZGVsLmd1aWRlU3RlcCA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXIudmVydGljYWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgTUtVdGlscy5zZXROb2RlRGVsYXkodGhpcy5ub2RlLCAwLjUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5HVUlERV9VUERBVEUpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTUtVdGlscy5zZXROb2RlRGVsYXkodGhpcy5ub2RlLCAwLjEsIHRoaXMuaW5pdFVJLmJpbmQodGhpcykpXHJcbiAgICAgICAgLy8gdGhpcy5pbml0VUkoKTtcclxuICAgICAgICBzdXBlci5vbl9TaG93KGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0U2hvdygpIHtcclxuICAgIH1cclxuICAgIC8v5pS+5byD6K6i5Y2VXHJcbiAgICBvbkdpdmVVcCgpIHtcclxuICAgICAgICBQbGF5ZXJNb2RlbC5vcmRlclZpZGVvTnVtID0gMDtcclxuICAgICAgICAvLyB0aGlzLnNjcm9sbGVyRGF0YVswXSA9IENvbmZpZ01hbmFnZXIuZ2V0T3JkZXIoKTtcclxuICAgICAgICB0aGlzLmluaXRVSSgpO1xyXG4gICAgfVxyXG4gICAgLy/orqLljZXlpZblirHpooblj5blkI7mm7TmlrDliJfooahcclxuICAgIGNvbXBsZXRlVXBhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5zY3JvbGxlckRhdGFbMF0gPSBDb25maWdNYW5hZ2VyLmdldE9yZGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH1cclxuICAgIC8v5Yi35paw6K6i5Y2V5YiX6KGoXHJcbiAgICB1cGRhdGVMaXN0KCkge1xyXG4gICAgICAgIE1LVXRpbHMuYWxlcnRUaXBzKFwi5Yi35paw6K6i5Y2V5oiQ5YqfXCIpXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUJ5RXZlbnQoRXZlbnRUeXBlLlZJREVPX0JBQ0ssIHRoaXMudXBkYXRlTGlzdCwgdGhpcyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNjcm9sbGVyRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMuc2Nyb2xsZXJEYXRhW2ldO1xyXG4gICAgICAgICAgICBpZiAoIWl0ZW0uc3RhdGUgJiYgaXRlbS51bmxvY2spIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXJEYXRhW2ldID0gQ29uZmlnTWFuYWdlci5nZXRPcmRlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9XHJcbiAgICBvblVubG9jaygpIHtcclxuICAgICAgICB0aGlzLnNjcm9sbGVyLnNjcm9sbFRvVG9wKCk7XHJcbiAgICAgICAgbGV0IGxpc3QgPSBQbGF5ZXJNb2RlbC5nZXRPcmRlckxpc3QoKTtcclxuICAgICAgICBsZXQgaW5kZXhMaXN0ID0gW107XHJcbiAgICAgICAgbGV0IGFyciA9IGxpc3QuZmlsdGVyKCh2YWx1ZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlLnVubG9jayA9PSAwKSBpbmRleExpc3QucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS51bmxvY2sgPT0gMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGxpc3RbaW5kZXhMaXN0WzBdXSA9IENvbmZpZ01hbmFnZXIuZ2V0T3JkZXIoKTtcclxuICAgICAgICBQbGF5ZXJNb2RlbC5vcmRlckxlbisrO1xyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbGVyRGF0YSA9IFBsYXllck1vZGVsLmdldE9yZGVyTGlzdCgpOztcclxuICAgICAgICB0aGlzLmluaXRVSSgpO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsZXIuc2Nyb2xsVG9Ub3AoKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZURhdGEoaW5kZXgpIHtcclxuICAgICAgICB0aGlzLnNjcm9sbGVyRGF0YVtpbmRleF0gPSBDb25maWdNYW5hZ2VyLmdldE9yZGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH1cclxuICAgIGluaXRVSSgpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2Nyb2xsZXJEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5zY3JvbGxlckRhdGFbaV07XHJcbiAgICAgICAgICAgIGxldCBsYXN0VGltZSA9IGl0ZW0udGltZSAtIE1hdGguZmxvb3IoVXRpbHMucmV0dXJuVGltZSgpIC8gMTAwMCk7XHJcbiAgICAgICAgICAgIGlmIChsYXN0VGltZSA8PSAwICYmICFpdGVtLnN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbGVyRGF0YVtpXSA9IENvbmZpZ01hbmFnZXIuZ2V0T3JkZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGxlci5yZWZyZXNoRGF0YSh0aGlzLnNjcm9sbGVyRGF0YSk7XHJcbiAgICAgICAgdGhpcy5zY3JvbGxlci5zY3JvbGxUb1RvcCgpO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsZXIubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBNS1V0aWxzLnNldE5vZGVEZWxheSh0aGlzLm5vZGUsIDAuMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVyLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMueGZ6c0xiLnN0cmluZyA9IFBsYXllck1vZGVsLmdldFhmenMoKSArIFwiXCI7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uUXVhbGl0eSgpIHtcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUub3JkZXJRdWFsaXR5Vmlldyk7XHJcbiAgICB9XHJcbiAgICAvL+WIt+aWsOiuouWNlVxyXG4gICAgb25VcGRhdGUoKSB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlZJREVPX0JBQ0ssIHRoaXMudXBkYXRlTGlzdCwgdGhpcyk7XHJcbiAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLnBvcFZpZXcxLCBudWxsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5yZW1vdmVCeUV2ZW50KEV2ZW50VHlwZS5WSURFT19CQUNLLCB0aGlzLnVwZGF0ZUxpc3QsIHRoaXMpO1xyXG4gICAgICAgIH0sIFVJRWZmZWN0VHlwZS5TQ0FMRSwgUG9wVHlwZS5SRUZSRVNIX09SREVSKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog5LuF55So5LqO5YWz6Zet5pON5L2cICovXHJcbiAgICBvbkJ0bkNsb3NlSGFuZGxlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R3VpZGVQb2ludCgpIHtcclxuICAgICAgICAvLyBsZXQgbm9kZSA9IHRoaXMueGZ6c0xiLm5vZGU7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLnNjcm9sbGVyLmdldEl0ZW1CeUluZGV4KDApLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLCAwKSk7XHJcbiAgICAgICAgLy8gbGV0IHAgPSBub2RlLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLDApKTtcclxuICAgICAgICByZXR1cm4gcDtcclxuICAgIH1cclxuICAgIGdldEd1aWRlUG9pbnQxKCkge1xyXG4gICAgICAgIC8vIGxldCBub2RlID0gdGhpcy54ZnpzTGIubm9kZTtcclxuICAgICAgICBsZXQgcCA9IHRoaXMuc2Nyb2xsZXIubm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoMCwgMCkpO1xyXG4gICAgICAgIC8vIGxldCBwID0gbm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoMCwwKSk7XHJcbiAgICAgICAgcmV0dXJuIHA7XHJcbiAgICB9XHJcblxyXG4gICAgZ3VpZENvbXBsZXRlKCkge1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsZXIudmVydGljYWwgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/order/GetCropView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1f0096giXFErZnlkmgVfH0p', 'GetCropView');
// src/game/view/order/GetCropView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var CConst_1 = require("../../consts/CConst");
var Global_1 = require("../../consts/Global");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 *获取XX
 * TODO:
 */
var GetCropView = /** @class */ (function (_super) {
    __extends(GetCropView, _super);
    function GetCropView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.icon = null;
        _this.btn_close = null;
        _this.btn_plant = null;
        _this.btn_video = null;
        _this.descLb1 = null;
        _this.descLb2 = null;
        _this.proLb = null;
        _this.nameLb = null;
        _this.titleLb = null;
        _this.pro = null;
        return _this;
    }
    GetCropView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_plant, this.onPlant, this);
        EventDispath_1.default.on(this.btn_video, this.onVideo, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.GET_CROP_CLOSE, this.onBtnCloseHandle, this);
        this.initUI();
    };
    GetCropView.prototype.onLoad = function () {
    };
    GetCropView.prototype.start = function () {
    };
    GetCropView.prototype.startShow = function () {
        this.mData = this.inData[0];
    };
    GetCropView.prototype.initUI = function () {
        var _this = this;
        var base = ConfigManager_1.default.getCropById(this.mData.cropId);
        this.titleLb.string = "获取" + base.name;
        this.nameLb.string = base.name;
        this.proLb.string = this.mData.num + "/" + this.mData.target;
        this.pro.progress = this.mData.num / this.mData.target;
        this.descLb1.string = "1.\u571F\u5730\u4E2D\u79CD\u690D" + base.name + "\u7B49\u5F85\u6536\u83B7";
        this.descLb2.string = "2.\u89C2\u770B\u89C6\u9891\u5FEB\u901F\u83B7\u53D6" + base.name + " \u00D74";
        MkUtils_1.default.loadSpriteFrame("texture/crop/icon/" + ("" + this.mData.cropId), function (res) {
            _this.icon.spriteFrame = res;
        });
    };
    GetCropView.prototype.onPlant = function () {
        EventDispath_1.default.send(EventType_1.EventType.CROP_PLANT_GET, this.mData.cropId);
    };
    GetCropView.prototype.onVideo = function () {
        if (this.checkHouseMax(4)) {
            MkUtils_1.default.alertTips("仓库放不下了，快点卖出作物赚钱吧");
            return;
        }
        EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        SDKManager_1.default.showAd(Global_1.default.VIDEO_CONFIG.video7);
    };
    GetCropView.prototype.onVideoBack = function () {
        PlayerModel_1.default.setHouseAddCrop(this.mData.cropId, 4);
        UIMananger_1.default.showPanel(UIType_1.default.PopGetCropView, null, null, UIEffectManager_1.UIEffectType.SCALE, { id: this.mData.cropId, num: 4 });
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        this.onBtnCloseHandle();
    };
    //检测仓库是否达到上限
    GetCropView.prototype.checkHouseMax = function (value) {
        var lv = PlayerModel_1.default.getUIConfig().warehouselv;
        // let arr = ConfigManager.prop.filter((value) => {
        //     return value.id == Number(propType.warehouse + `0${id}`);
        // })
        var cfg = ConfigManager_1.default.getPropById(CConst_1.propType.warehouse, lv);
        var currentNum = PlayerModel_1.default.getCurrentPutNum();
        if ((cfg.add_num - currentNum) < value)
            return true;
        return false;
    };
    /** 仅用于关闭操作 */
    GetCropView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Sprite)
    ], GetCropView.prototype, "icon", void 0);
    __decorate([
        property(cc.Node)
    ], GetCropView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Node)
    ], GetCropView.prototype, "btn_plant", void 0);
    __decorate([
        property(cc.Node)
    ], GetCropView.prototype, "btn_video", void 0);
    __decorate([
        property(cc.Label)
    ], GetCropView.prototype, "descLb1", void 0);
    __decorate([
        property(cc.Label)
    ], GetCropView.prototype, "descLb2", void 0);
    __decorate([
        property(cc.Label)
    ], GetCropView.prototype, "proLb", void 0);
    __decorate([
        property(cc.Label)
    ], GetCropView.prototype, "nameLb", void 0);
    __decorate([
        property(cc.Label)
    ], GetCropView.prototype, "titleLb", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], GetCropView.prototype, "pro", void 0);
    GetCropView = __decorate([
        ccclass
    ], GetCropView);
    return GetCropView;
}(BasePanel_1.default));
exports.default = GetCropView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L29yZGVyL0dldENyb3BWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLG9FQUErRDtBQUMvRCw4RUFBMEU7QUFDMUUsb0VBQStEO0FBQy9ELHdFQUFtRTtBQUNuRSxrRUFBaUU7QUFDakUsNERBQXVEO0FBQ3ZELDZEQUF3RDtBQUN4RCw4Q0FBK0M7QUFDL0MsOENBQXlDO0FBQ3pDLDhDQUF5QztBQUN6Qyx1REFBa0Q7QUFDbEQsNkRBQXdEO0FBR2xELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRTVDOzs7R0FHRztBQUVIO0lBQXlDLCtCQUFTO0lBQWxEO1FBQUEscUVBMkZDO1FBeEZHLFVBQUksR0FBYyxJQUFJLENBQUM7UUFFdkIsZUFBUyxHQUFZLElBQUksQ0FBQztRQUUxQixlQUFTLEdBQVksSUFBSSxDQUFDO1FBRTFCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFFMUIsYUFBTyxHQUFhLElBQUksQ0FBQztRQUV6QixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBRXpCLFdBQUssR0FBYSxJQUFJLENBQUM7UUFFdkIsWUFBTSxHQUFhLElBQUksQ0FBQztRQUV4QixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBRXpCLFNBQUcsR0FBbUIsSUFBSSxDQUFDOztJQXNFL0IsQ0FBQztJQW5FRyw4QkFBUSxHQUFSO1FBQ0ksS0FBSztRQUNMLHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdELHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxT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QURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2dEQUNNO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7NENBQ0U7SUFyQlYsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQTJGL0I7SUFBRCxrQkFBQztDQTNGRCxBQTJGQyxDQTNGd0MsbUJBQVMsR0EyRmpEO2tCQTNGb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Na1V0aWxzXCI7XHJcbmltcG9ydCBCYXNlUGFuZWwgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay91aS9CYXNlUGFuZWxcIjtcclxuaW1wb3J0IHsgcHJvcFR5cGUgfSBmcm9tIFwiLi4vLi4vY29uc3RzL0NDb25zdFwiO1xyXG5pbXBvcnQgR2xvYmFsIGZyb20gXCIuLi8uLi9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0cy9VSVR5cGVcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IE9yZGVySXRlbV9Dcm9wIH0gZnJvbSBcIi4vT3JkZXJJdGVtXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuLyoqXHJcbiAq6I635Y+WWFhcclxuICogVE9ETzpcclxuICovXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdldENyb3BWaWV3IGV4dGVuZHMgQmFzZVBhbmVsIHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgaWNvbjogY2MuU3ByaXRlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2Nsb3NlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX3BsYW50OiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX3ZpZGVvOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGRlc2NMYjE6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGRlc2NMYjI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHByb0xiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBuYW1lTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHRpdGxlTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Qcm9ncmVzc0JhcilcclxuICAgIHBybzogY2MuUHJvZ3Jlc3NCYXIgPSBudWxsO1xyXG5cclxuICAgIG1EYXRhO1xyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8g6YCA5Ye6XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2Nsb3NlLCB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUsIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5fcGxhbnQsIHRoaXMub25QbGFudCwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX3ZpZGVvLCB0aGlzLm9uVmlkZW8sIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuR0VUX0NST1BfQ0xPU0UsIHRoaXMub25CdG5DbG9zZUhhbmRsZSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBvbkxvYWQoKTogdm9pZCB7XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRTaG93KCkge1xyXG4gICAgICAgIHRoaXMubURhdGEgPSB0aGlzLmluRGF0YVswXTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0VUkoKSB7XHJcbiAgICAgICAgbGV0IGJhc2UgPSBDb25maWdNYW5hZ2VyLmdldENyb3BCeUlkKHRoaXMubURhdGEuY3JvcElkKTtcclxuICAgICAgICB0aGlzLnRpdGxlTGIuc3RyaW5nID0gXCLojrflj5ZcIiArIGJhc2UubmFtZTtcclxuICAgICAgICB0aGlzLm5hbWVMYi5zdHJpbmcgPSBiYXNlLm5hbWU7XHJcblxyXG4gICAgICAgIHRoaXMucHJvTGIuc3RyaW5nID0gdGhpcy5tRGF0YS5udW0gKyBcIi9cIiArIHRoaXMubURhdGEudGFyZ2V0O1xyXG4gICAgICAgIHRoaXMucHJvLnByb2dyZXNzID0gdGhpcy5tRGF0YS5udW0gLyB0aGlzLm1EYXRhLnRhcmdldDtcclxuICAgICAgICB0aGlzLmRlc2NMYjEuc3RyaW5nID0gYDEu5Zyf5Zyw5Lit56eN5qSNJHtiYXNlLm5hbWV9562J5b6F5pS26I63YFxyXG4gICAgICAgIHRoaXMuZGVzY0xiMi5zdHJpbmcgPSBgMi7op4LnnIvop4bpopHlv6vpgJ/ojrflj5Yke2Jhc2UubmFtZX0gw5c0YDtcclxuXHJcbiAgICAgICAgTUtVdGlscy5sb2FkU3ByaXRlRnJhbWUoXCJ0ZXh0dXJlL2Nyb3AvaWNvbi9cIiArIGAke3RoaXMubURhdGEuY3JvcElkfWAsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pY29uLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBvblBsYW50KCkge1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5DUk9QX1BMQU5UX0dFVCwgdGhpcy5tRGF0YS5jcm9wSWQpO1xyXG4gICAgfVxyXG4gICAgb25WaWRlbygpIHtcclxuICAgICAgICBpZiAodGhpcy5jaGVja0hvdXNlTWF4KDQpKSB7XHJcbiAgICAgICAgICAgIE1LVXRpbHMuYWxlcnRUaXBzKFwi5LuT5bqT5pS+5LiN5LiL5LqG77yM5b+r54K55Y2W5Ye65L2c54mp6LWa6ZKx5ZCnXCIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlZJREVPX0JBQ0ssIHRoaXMub25WaWRlb0JhY2ssIHRoaXMpO1xyXG4gICAgICAgIFNES01hbmFnZXIuc2hvd0FkKEdsb2JhbC5WSURFT19DT05GSUcudmlkZW83KVxyXG4gICAgfVxyXG4gICAgb25WaWRlb0JhY2soKSB7XHJcbiAgICAgICAgUGxheWVyTW9kZWwuc2V0SG91c2VBZGRDcm9wKHRoaXMubURhdGEuY3JvcElkLCA0KTtcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUuUG9wR2V0Q3JvcFZpZXcsIG51bGwsIG51bGwsIFVJRWZmZWN0VHlwZS5TQ0FMRSwgeyBpZDogdGhpcy5tRGF0YS5jcm9wSWQsIG51bTogNCB9KVxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5yZW1vdmVCeUV2ZW50KEV2ZW50VHlwZS5WSURFT19CQUNLLCB0aGlzLm9uVmlkZW9CYWNrLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUoKTtcclxuICAgIH1cclxuICAgIC8v5qOA5rWL5LuT5bqT5piv5ZCm6L6+5Yiw5LiK6ZmQXHJcbiAgICBjaGVja0hvdXNlTWF4KHZhbHVlKSB7XHJcbiAgICAgICAgbGV0IGx2ID0gUGxheWVyTW9kZWwuZ2V0VUlDb25maWcoKS53YXJlaG91c2VsdjtcclxuICAgICAgICAvLyBsZXQgYXJyID0gQ29uZmlnTWFuYWdlci5wcm9wLmZpbHRlcigodmFsdWUpID0+IHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIHZhbHVlLmlkID09IE51bWJlcihwcm9wVHlwZS53YXJlaG91c2UgKyBgMCR7aWR9YCk7XHJcbiAgICAgICAgLy8gfSlcclxuICAgICAgICBsZXQgY2ZnID0gQ29uZmlnTWFuYWdlci5nZXRQcm9wQnlJZChwcm9wVHlwZS53YXJlaG91c2UsIGx2KTtcclxuICAgICAgICBsZXQgY3VycmVudE51bSA9IFBsYXllck1vZGVsLmdldEN1cnJlbnRQdXROdW0oKTtcclxuICAgICAgICBpZiAoKGNmZy5hZGRfbnVtIC0gY3VycmVudE51bSkgPCB2YWx1ZSkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqIOS7heeUqOS6juWFs+mXreaTjeS9nCAqL1xyXG4gICAgb25CdG5DbG9zZUhhbmRsZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/order/OrderSuccessView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '82e85Xk2g9EnZEPtFDyKqXG', 'OrderSuccessView');
// src/game/view/order/OrderSuccessView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 *订单完成
 * TODO:
 */
var OrderSuccessView = /** @class */ (function (_super) {
    __extends(OrderSuccessView, _super);
    function OrderSuccessView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_close = null;
        _this.btn_video_get = null;
        _this.btn_video_guide = null;
        _this.btn_video_help = null;
        _this.btn_get = null;
        _this.btn_wait = null;
        _this.descLb1 = null;
        _this.descLb2 = null;
        _this.addLb = null;
        _this.numLb = null;
        _this.descLvLb = null;
        _this.iconList = [];
        _this.qualityNames = ["普通订单", "青铜订单", "白银订单", "黄金订单", "钻石订单", "星耀订单"];
        return _this;
    }
    OrderSuccessView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_video_guide, this.onGuide, this);
        EventDispath_1.default.on(this.btn_video_get, this.onVideoGet, this);
        EventDispath_1.default.on(this.btn_video_help, this.onVideoHelp, this);
        EventDispath_1.default.on(this.btn_get, this.onGet, this);
        EventDispath_1.default.on(this.btn_wait, this.onWait, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_REWARD_CONFIG, this.onRewardCfg, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_REWARD_LOST, this.onRewardLost, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.SDK_REWARD_GOT, this.onRewardGot, this);
        SDKManager_1.default.getOrderRewardConfig();
    };
    OrderSuccessView.prototype.onLoad = function () {
    };
    OrderSuccessView.prototype.onRewardCfg = function (data) {
        this.sdkCfg = data;
        this.initUI();
    };
    OrderSuccessView.prototype.startShow = function () {
        this.mData = PlayerModel_1.default.getCurrentOrder();
    };
    OrderSuccessView.prototype.initUI = function () {
        var _this = this;
        if (PlayerModel_1.default.guideStep > 0) {
            this.descLvLb.string = "恭喜完成新手订单";
            this.btn_video_guide.active = true;
            // this.numLb.string =  this.sdkCfg.times;
            this.descLb2.active = true;
            MkUtils_1.default.setNodeDelay(this.node, 0.5, function () {
                EventDispath_1.default.send(EventType_1.EventType.GUIDE_UPDATE);
            });
            this.numLb.string = "0";
            this.addLb.string = "无加成";
        }
        else {
            if (!this.sdkCfg.mandatoryVideo) {
                this.btn_video_help.active = true;
                this.btn_get.active = true;
            }
            else {
                this.btn_video_get.active = true;
                this.btn_wait.active = true;
            }
            this.numLb.string = this.sdkCfg.times;
            if (this.sdkCfg.times == 0) {
                this.descLb2.active = true;
            }
            else {
                this.descLb1.active = true;
            }
            this.descLvLb.string = "恭喜完成" + this.qualityNames[this.mData.quality - 1];
            if (this.mData.quality == 1) {
                this.addLb.string = "无加成";
            }
            else {
                this.addLb.string = "+" + ConfigManager_1.default.order_quality_add[this.mData.quality - 1] + "%";
            }
            // this.addLb.string = ConfigManager.order_quality_add[this.mData.quality - 1] + "%";
        }
        if (this.mData.cropList.length < 3) {
            this.iconList[0].node.y = 20;
            this.iconList[1].node.y = 20;
        }
        else {
            this.iconList[0].node.y = 122;
            this.iconList[1].node.y = 122;
        }
        var _loop_1 = function (i) {
            this_1.iconList[i].node.active = true;
            MkUtils_1.default.loadSpriteFrame("texture/crop/icon/" + ("" + this_1.mData.cropList[i].cropId), function (res) {
                _this.iconList[i].spriteFrame = res;
            });
        };
        var this_1 = this;
        for (var i = 0; i < this.mData.cropList.length; i++) {
            _loop_1(i);
        }
    };
    OrderSuccessView.prototype.onGuide = function () {
        //引导领取奖励
        if (PlayerModel_1.default.guideStep >= 0) {
            EventDispath_1.default.send(EventType_1.EventType.GUIDE_Hide);
        }
        SDKManager_1.default.getRedPackReward(this.sdkCfg.configId, false);
    };
    OrderSuccessView.prototype.onVideoGet = function () {
        //领取奖励
        if (PlayerModel_1.default.guideStep >= 0) {
            EventDispath_1.default.send(EventType_1.EventType.GUIDE_Hide);
        }
        SDKManager_1.default.getRedPackReward(this.sdkCfg.configId);
        PlayerModel_1.default.orderVideoNum = 0;
    };
    OrderSuccessView.prototype.onVideoHelp = function () {
        //助力领取
        SDKManager_1.default.getRedPackReward(this.sdkCfg.configId, true);
        PlayerModel_1.default.orderVideoNum = 0;
    };
    OrderSuccessView.prototype.onGet = function () {
        //普通领取
        SDKManager_1.default.getRedPackReward(this.sdkCfg.configId, false);
        PlayerModel_1.default.orderVideoNum = 0;
    };
    OrderSuccessView.prototype.onWait = function () {
        //稍后领取
        this.onBtnCloseHandle();
    };
    OrderSuccessView.prototype.onRewardLost = function () {
        this.onBtnCloseHandle();
    };
    OrderSuccessView.prototype.onRewardGot = function (data) {
        var list = this.mData.cropList;
        for (var i = 0; i < list.length; i++) {
            console.log("====", list);
            PlayerModel_1.default.orderReduceCrop(list[i].cropId, list[i].target);
        }
        EventDispath_1.default.send(EventType_1.EventType.UPDATE_SHELVE_ORDER);
        UIMananger_1.default.showPanel(UIType_1.default.orderRewardView, null, null, UIEffectManager_1.UIEffectType.SCALE, data, this.mData);
        this.onBtnCloseHandle();
    };
    /** 仅用于关闭操作 */
    OrderSuccessView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    OrderSuccessView.prototype.getGuidePoint = function () {
        var p = this.btn_video_get.convertToWorldSpaceAR(cc.v2(0, 0));
        return p;
    };
    __decorate([
        property(cc.Node)
    ], OrderSuccessView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Node)
    ], OrderSuccessView.prototype, "btn_video_get", void 0);
    __decorate([
        property(cc.Node)
    ], OrderSuccessView.prototype, "btn_video_guide", void 0);
    __decorate([
        property(cc.Node)
    ], OrderSuccessView.prototype, "btn_video_help", void 0);
    __decorate([
        property(cc.Node)
    ], OrderSuccessView.prototype, "btn_get", void 0);
    __decorate([
        property(cc.Node)
    ], OrderSuccessView.prototype, "btn_wait", void 0);
    __decorate([
        property(cc.Node)
    ], OrderSuccessView.prototype, "descLb1", void 0);
    __decorate([
        property(cc.Node)
    ], OrderSuccessView.prototype, "descLb2", void 0);
    __decorate([
        property(cc.Label)
    ], OrderSuccessView.prototype, "addLb", void 0);
    __decorate([
        property(cc.Label)
    ], OrderSuccessView.prototype, "numLb", void 0);
    __decorate([
        property(cc.Label)
    ], OrderSuccessView.prototype, "descLvLb", void 0);
    __decorate([
        property([cc.Sprite])
    ], OrderSuccessView.prototype, "iconList", void 0);
    OrderSuccessView = __decorate([
        ccclass
    ], OrderSuccessView);
    return OrderSuccessView;
}(BasePanel_1.default));
exports.default = OrderSuccessView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L29yZGVyL09yZGVyU3VjY2Vzc1ZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsb0VBQStEO0FBQy9ELDhFQUEwRTtBQUMxRSxvRUFBK0Q7QUFDL0Qsd0VBQW1FO0FBQ25FLGtFQUFpRTtBQUNqRSw0REFBdUQ7QUFDdkQsNkRBQXdEO0FBQ3hELDhDQUF5QztBQUN6Qyx1REFBa0Q7QUFDbEQsNkRBQXdEO0FBR2xELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRTVDOzs7R0FHRztBQUVIO0lBQThDLG9DQUFTO0lBQXZEO1FBQUEscUVBc0tDO1FBbktHLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFFMUIsbUJBQWEsR0FBWSxJQUFJLENBQUM7UUFFOUIscUJBQWUsR0FBWSxJQUFJLENBQUM7UUFFaEMsb0JBQWMsR0FBWSxJQUFJLENBQUM7UUFFL0IsYUFBTyxHQUFZLElBQUksQ0FBQztRQUV4QixjQUFRLEdBQVksSUFBSSxDQUFDO1FBRXpCLGFBQU8sR0FBWSxJQUFJLENBQUM7UUFFeEIsYUFBTyxHQUFZLElBQUksQ0FBQztRQUV4QixXQUFLLEdBQWEsSUFBSSxDQUFDO1FBRXZCLFdBQUssR0FBYSxJQUFJLENBQUM7UUFFdkIsY0FBUSxHQUFhLElBQUksQ0FBQztRQUUxQixjQUFRLEdBQWdCLEVBQUUsQ0FBQztRQUkzQixrQkFBWSxHQUFHLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQTs7SUF5SW5FLENBQUM7SUF4SUcsbUNBQVEsR0FBUjtRQUNJLEtBQUs7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IExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Na1V0aWxzXCI7XHJcbmltcG9ydCBCYXNlUGFuZWwgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay91aS9CYXNlUGFuZWxcIjtcclxuaW1wb3J0IFVJVHlwZSBmcm9tIFwiLi4vLi4vY29uc3RzL1VJVHlwZVwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCBDb25maWdNYW5hZ2VyIGZyb20gXCIuLi8uLi9tYW5hZ2VyL0NvbmZpZ01hbmFnZXJcIjtcclxuaW1wb3J0IHsgT3JkZXJJdGVtX0Nyb3AgfSBmcm9tIFwiLi9PcmRlckl0ZW1cIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG4vKipcclxuICrorqLljZXlrozmiJBcclxuICogVE9ETzpcclxuICovXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZGVyU3VjY2Vzc1ZpZXcgZXh0ZW5kcyBCYXNlUGFuZWwge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2Nsb3NlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX3ZpZGVvX2dldDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl92aWRlb19ndWlkZTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl92aWRlb19oZWxwOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2dldDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl93YWl0OiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZGVzY0xiMTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGRlc2NMYjI6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgYWRkTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG51bUxiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBkZXNjTHZMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KFtjYy5TcHJpdGVdKVxyXG4gICAgaWNvbkxpc3Q6IGNjLlNwcml0ZVtdID0gW107XHJcblxyXG4gICAgbURhdGE7XHJcbiAgICBzZGtDZmc7XHJcbiAgICBxdWFsaXR5TmFtZXMgPSBbXCLmma7pgJrorqLljZVcIiwgXCLpnZLpk5zorqLljZVcIiwgXCLnmb3pk7borqLljZVcIiwgXCLpu4Tph5HorqLljZVcIiwgXCLpkrvnn7PorqLljZVcIiwgXCLmmJ/ogIDorqLljZVcIl1cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOmAgOWHulxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9jbG9zZSwgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX3ZpZGVvX2d1aWRlLCB0aGlzLm9uR3VpZGUsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl92aWRlb19nZXQsIHRoaXMub25WaWRlb0dldCwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX3ZpZGVvX2hlbHAsIHRoaXMub25WaWRlb0hlbHAsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9nZXQsIHRoaXMub25HZXQsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl93YWl0LCB0aGlzLm9uV2FpdCwgdGhpcyk7XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5TREtfUkVXQVJEX0NPTkZJRywgdGhpcy5vblJld2FyZENmZywgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlNES19SRVdBUkRfTE9TVCwgdGhpcy5vblJld2FyZExvc3QsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5TREtfUkVXQVJEX0dPVCwgdGhpcy5vblJld2FyZEdvdCwgdGhpcyk7XHJcbiAgICAgICAgU0RLTWFuYWdlci5nZXRPcmRlclJld2FyZENvbmZpZygpO1xyXG5cclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBvbkxvYWQoKTogdm9pZCB7XHJcbiAgICB9XHJcbiAgICBvblJld2FyZENmZyhkYXRhKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZGtDZmcgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRTaG93KCkge1xyXG4gICAgICAgIHRoaXMubURhdGEgPSBQbGF5ZXJNb2RlbC5nZXRDdXJyZW50T3JkZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0VUkoKSB7XHJcbiAgICAgICAgaWYgKFBsYXllck1vZGVsLmd1aWRlU3RlcCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5kZXNjTHZMYi5zdHJpbmcgPSBcIuaBreWWnOWujOaIkOaWsOaJi+iuouWNlVwiO1xyXG4gICAgICAgICAgICB0aGlzLmJ0bl92aWRlb19ndWlkZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyB0aGlzLm51bUxiLnN0cmluZyA9ICB0aGlzLnNka0NmZy50aW1lcztcclxuICAgICAgICAgICAgdGhpcy5kZXNjTGIyLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIE1LVXRpbHMuc2V0Tm9kZURlbGF5KHRoaXMubm9kZSwgMC41LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuR1VJREVfVVBEQVRFKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB0aGlzLm51bUxiLnN0cmluZyA9IFwiMFwiO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hZGRMYi5zdHJpbmcgPSBcIuaXoOWKoOaIkFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zZGtDZmcubWFuZGF0b3J5VmlkZW8pIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0bl92aWRlb19oZWxwLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0bl9nZXQuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnRuX3ZpZGVvX2dldC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5fd2FpdC5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm51bUxiLnN0cmluZyA9IHRoaXMuc2RrQ2ZnLnRpbWVzO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZGtDZmcudGltZXMgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXNjTGIyLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlc2NMYjEuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRlc2NMdkxiLnN0cmluZyA9IFwi5oGt5Zac5a6M5oiQXCIgKyB0aGlzLnF1YWxpdHlOYW1lc1t0aGlzLm1EYXRhLnF1YWxpdHkgLSAxXTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1EYXRhLnF1YWxpdHkgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRMYi5zdHJpbmcgPSBcIuaXoOWKoOaIkFwiO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRMYi5zdHJpbmcgPSBcIitcIiArIENvbmZpZ01hbmFnZXIub3JkZXJfcXVhbGl0eV9hZGRbdGhpcy5tRGF0YS5xdWFsaXR5IC0gMV0gKyBcIiVcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gdGhpcy5hZGRMYi5zdHJpbmcgPSBDb25maWdNYW5hZ2VyLm9yZGVyX3F1YWxpdHlfYWRkW3RoaXMubURhdGEucXVhbGl0eSAtIDFdICsgXCIlXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5tRGF0YS5jcm9wTGlzdC5sZW5ndGggPCAzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbkxpc3RbMF0ubm9kZS55ID0gMjA7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbkxpc3RbMV0ubm9kZS55ID0gMjA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pY29uTGlzdFswXS5ub2RlLnkgPSAxMjI7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbkxpc3RbMV0ubm9kZS55ID0gMTIyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1EYXRhLmNyb3BMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbkxpc3RbaV0ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBNS1V0aWxzLmxvYWRTcHJpdGVGcmFtZShcInRleHR1cmUvY3JvcC9pY29uL1wiICsgYCR7dGhpcy5tRGF0YS5jcm9wTGlzdFtpXS5jcm9wSWR9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pY29uTGlzdFtpXS5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBvbkd1aWRlKCkge1xyXG4gICAgICAgIC8v5byV5a+86aKG5Y+W5aWW5YqxXHJcbiAgICAgICAgaWYgKFBsYXllck1vZGVsLmd1aWRlU3RlcCA+PSAwKSB7XHJcbiAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5HVUlERV9IaWRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgU0RLTWFuYWdlci5nZXRSZWRQYWNrUmV3YXJkKHRoaXMuc2RrQ2ZnLmNvbmZpZ0lkLCBmYWxzZSlcclxuXHJcbiAgICB9XHJcbiAgICBvblZpZGVvR2V0KCkge1xyXG4gICAgICAgIC8v6aKG5Y+W5aWW5YqxXHJcbiAgICAgICAgaWYgKFBsYXllck1vZGVsLmd1aWRlU3RlcCA+PSAwKSB7XHJcbiAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5HVUlERV9IaWRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgU0RLTWFuYWdlci5nZXRSZWRQYWNrUmV3YXJkKHRoaXMuc2RrQ2ZnLmNvbmZpZ0lkKVxyXG4gICAgICAgIFBsYXllck1vZGVsLm9yZGVyVmlkZW9OdW0gPSAwO1xyXG5cclxuICAgIH1cclxuICAgIG9uVmlkZW9IZWxwKCkge1xyXG4gICAgICAgIC8v5Yqp5Yqb6aKG5Y+WXHJcbiAgICAgICAgU0RLTWFuYWdlci5nZXRSZWRQYWNrUmV3YXJkKHRoaXMuc2RrQ2ZnLmNvbmZpZ0lkLCB0cnVlKVxyXG4gICAgICAgIFBsYXllck1vZGVsLm9yZGVyVmlkZW9OdW0gPSAwO1xyXG4gICAgfVxyXG4gICAgb25HZXQoKSB7XHJcbiAgICAgICAgLy/mma7pgJrpooblj5ZcclxuICAgICAgICBTREtNYW5hZ2VyLmdldFJlZFBhY2tSZXdhcmQodGhpcy5zZGtDZmcuY29uZmlnSWQsIGZhbHNlKVxyXG4gICAgICAgIFBsYXllck1vZGVsLm9yZGVyVmlkZW9OdW0gPSAwO1xyXG4gICAgfVxyXG4gICAgb25XYWl0KCkge1xyXG4gICAgICAgIC8v56iN5ZCO6aKG5Y+WXHJcbiAgICAgICAgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcbiAgICBvblJld2FyZExvc3QoKSB7XHJcbiAgICAgICAgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcbiAgICBvblJld2FyZEdvdChkYXRhKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLm1EYXRhLmNyb3BMaXN0XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPT09PVwiLCBsaXN0KTtcclxuICAgICAgICAgICAgUGxheWVyTW9kZWwub3JkZXJSZWR1Y2VDcm9wKGxpc3RbaV0uY3JvcElkLCBsaXN0W2ldLnRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5VUERBVEVfU0hFTFZFX09SREVSKTtcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUub3JkZXJSZXdhcmRWaWV3LCBudWxsLCBudWxsLCBVSUVmZmVjdFR5cGUuU0NBTEUsIGRhdGEsIHRoaXMubURhdGEpO1xyXG4gICAgICAgIHRoaXMub25CdG5DbG9zZUhhbmRsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiDku4XnlKjkuo7lhbPpl63mk43kvZwgKi9cclxuICAgIG9uQnRuQ2xvc2VIYW5kbGUoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxuICAgIGdldEd1aWRlUG9pbnQoKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLmJ0bl92aWRlb19nZXQuY29udmVydFRvV29ybGRTcGFjZUFSKGNjLnYyKDAsIDApKTtcclxuICAgICAgICByZXR1cm4gcDtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/order/ZhaoDaiView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6ed6aP+fz1MToN76EQmXavB', 'ZhaoDaiView');
// src/game/view/order/ZhaoDaiView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var UIType_1 = require("../../consts/UIType");
var ConfigManager_1 = require("../../manager/ConfigManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 *招待顾客
 * TODO:
 */
var ZhaoDaiView = /** @class */ (function (_super) {
    __extends(ZhaoDaiView, _super);
    function ZhaoDaiView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_close = null;
        _this.btn_go = null;
        _this.btn_wait = null;
        _this.proLb = null;
        _this.pro = null;
        return _this;
    }
    ZhaoDaiView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_go, this.onGo, this);
        EventDispath_1.default.on(this.btn_wait, this.onWait, this);
        this.initUI();
    };
    ZhaoDaiView.prototype.onLoad = function () {
    };
    ZhaoDaiView.prototype.start = function () {
    };
    ZhaoDaiView.prototype.startShow = function () {
        this.mData = this.inData[0];
    };
    ZhaoDaiView.prototype.initUI = function () {
        var base = ConfigManager_1.default.getCropById(this.mData.cropId);
        this.proLb.string = this.mData.num + "/" + this.mData.target;
        this.pro.progress = this.mData.num / this.mData.target;
    };
    ZhaoDaiView.prototype.onWait = function () {
        this.onBtnCloseHandle();
    };
    ZhaoDaiView.prototype.onGo = function () {
        UIMananger_1.default.showPanel(UIType_1.default.popZlView);
        this.onBtnCloseHandle();
    };
    /** 仅用于关闭操作 */
    ZhaoDaiView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], ZhaoDaiView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Node)
    ], ZhaoDaiView.prototype, "btn_go", void 0);
    __decorate([
        property(cc.Node)
    ], ZhaoDaiView.prototype, "btn_wait", void 0);
    __decorate([
        property(cc.Label)
    ], ZhaoDaiView.prototype, "proLb", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], ZhaoDaiView.prototype, "pro", void 0);
    ZhaoDaiView = __decorate([
        ccclass
    ], ZhaoDaiView);
    return ZhaoDaiView;
}(BasePanel_1.default));
exports.default = ZhaoDaiView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L29yZGVyL1poYW9EYWlWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR2xGLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFHbkUsNkRBQXdEO0FBRXhELDhDQUF5QztBQUV6Qyw2REFBd0Q7QUFFbEQsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFFNUM7OztHQUdHO0FBRUg7SUFBeUMsK0JBQVM7SUFBbEQ7UUFBQSxxRUFtREM7UUFoREcsZUFBUyxHQUFZLElBQUksQ0FBQztRQUUxQixZQUFNLEdBQVksSUFBSSxDQUFDO1FBRXZCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFFekIsV0FBSyxHQUFhLElBQUksQ0FBQztRQUV2QixTQUFHLEdBQW1CLElBQUksQ0FBQzs7SUF3Qy9CLENBQUM7SUFyQ0csOEJBQVEsR0FBUjtRQUNJLEtBQUs7UUFDTCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU3RCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDOUMsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBQ1MsNEJBQU0sR0FBaEI7SUFDQSxDQUFDO0lBQ1MsMkJBQUssR0FBZjtJQUNBLENBQUM7SUFFRCwrQkFBUyxHQUFUO1FBQ0ksSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCw0QkFBTSxHQUFOO1FBQ0ksSUFBSSxJQUFJLEdBQUcsdUJBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUV4RCxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDN0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFFekQsQ0FBQztJQUVELDRCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBQ0QsMEJBQUksR0FBSjtRQUNJLG9CQUFVLENBQUMsU0FBUyxDQUFDLGdCQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUVELGNBQWM7SUFDZCxzQ0FBZ0IsR0FBaEI7UUFDSSxpQkFBTSxLQUFLLFdBQUUsQ0FBQztJQUNsQixDQUFDO0lBL0NEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7a0RBQ1E7SUFFMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsrQ0FDSztJQUV2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2lEQUNPO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7OENBQ0k7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzs0Q0FDRTtJQVhWLFdBQVc7UUFEL0IsT0FBTztPQUNhLFdBQVcsQ0FtRC9CO0lBQUQsa0JBQUM7Q0FuREQsQUFtREMsQ0FuRHdDLG1CQUFTLEdBbURqRDtrQkFuRG9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgU0RLTWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvU0RLTWFuYWdlclwiO1xyXG5pbXBvcnQgVUlNYW5hbmdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlNYW5hbmdlclwiO1xyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50VHlwZVwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IEJhc2VQYW5lbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3VpL0Jhc2VQYW5lbFwiO1xyXG5pbXBvcnQgR2xvYmFsIGZyb20gXCIuLi8uLi9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0cy9VSVR5cGVcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuLyoqXHJcbiAq5oub5b6F6aG+5a6iXHJcbiAqIFRPRE86XHJcbiAqL1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBaaGFvRGFpVmlldyBleHRlbmRzIEJhc2VQYW5lbCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fZ286IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fd2FpdDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBwcm9MYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlByb2dyZXNzQmFyKVxyXG4gICAgcHJvOiBjYy5Qcm9ncmVzc0JhciA9IG51bGw7XHJcblxyXG4gICAgbURhdGE7XHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyDpgIDlh7pcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5fY2xvc2UsIHRoaXMub25CdG5DbG9zZUhhbmRsZSwgdGhpcyk7XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9nbywgdGhpcy5vbkdvLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5fd2FpdCwgdGhpcy5vbldhaXQsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgb25Mb2FkKCk6IHZvaWQge1xyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0U2hvdygpIHtcclxuICAgICAgICB0aGlzLm1EYXRhID0gdGhpcy5pbkRhdGFbMF07XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFVJKCkge1xyXG4gICAgICAgIGxldCBiYXNlID0gQ29uZmlnTWFuYWdlci5nZXRDcm9wQnlJZCh0aGlzLm1EYXRhLmNyb3BJZCk7XHJcblxyXG4gICAgICAgIHRoaXMucHJvTGIuc3RyaW5nID0gdGhpcy5tRGF0YS5udW0gKyBcIi9cIiArIHRoaXMubURhdGEudGFyZ2V0O1xyXG4gICAgICAgIHRoaXMucHJvLnByb2dyZXNzPXRoaXMubURhdGEubnVtIC8gdGhpcy5tRGF0YS50YXJnZXQ7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uV2FpdCgpIHtcclxuICAgICAgICB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUoKTtcclxuICAgIH1cclxuICAgIG9uR28oKSB7XHJcbiAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLnBvcFpsVmlldyk7XHJcbiAgICAgICAgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOS7heeUqOS6juWFs+mXreaTjeS9nCAqL1xyXG4gICAgb25CdG5DbG9zZUhhbmRsZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/popView/PopRewardView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '32d01ql9OlBIY6DOArOHy99', 'PopRewardView');
// src/game/view/popView/PopRewardView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PopType = void 0;
var EventDispath_1 = require("../../../framework/message/EventDispath");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var PlayerModel_1 = require("../../datas/PlayerModel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PopType;
(function (PopType) {
    PopType[PopType["FIELD"] = 0] = "FIELD";
    PopType[PopType["SHELVE"] = 1] = "SHELVE";
    PopType[PopType["GOLD1"] = 2] = "GOLD1";
    PopType[PopType["UNLOCK_ORDER"] = 3] = "UNLOCK_ORDER";
    PopType[PopType["REFRESH_ORDER"] = 4] = "REFRESH_ORDER";
    PopType[PopType["GOLD2"] = 5] = "GOLD2";
})(PopType = exports.PopType || (exports.PopType = {}));
var PopRewardView = /** @class */ (function (_super) {
    __extends(PopRewardView, _super);
    function PopRewardView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.rewardLb = null;
        _this.titleLb = null;
        _this.descLb = null;
        _this.btnClose = null;
        _this.btnOk = null;
        _this.hbIcon = null;
        _this.goldIcon = null;
        // LIFE-CYCLE CALLBACKS:
        _this.mType = 0; //面板类型，0除虫奖励，1宝箱奖励
        return _this;
        // update (dt) {}
    }
    PopRewardView.prototype.onLoad = function () {
    };
    PopRewardView.prototype.onEnable = function () {
        // 关闭面板
        EventDispath_1.default.on(this.btnClose, this.onCloseHandle, this);
        EventDispath_1.default.on(this.btnOk, this.onClickHandle, this);
        this.initUi();
    };
    PopRewardView.prototype.startShow = function () {
        this.mType = this.inData[0];
        this.mData = this.inData[1];
    };
    PopRewardView.prototype.initUi = function () {
        this.hbIcon.active = false;
        this.goldIcon.active = false;
        if (this.mType == 0) {
            this.titleLb.string = "除虫奖励";
            this.descLb.string = this.mData.name + "已经恢复生长，特此奖励";
        }
        else {
            this.titleLb.string = "宝箱奖励";
            this.descLb.string = "宝箱光芒大涨，恭喜你发现了";
        }
        if (this.mData.rewardType == 0) {
            this.goldIcon.active = true;
            this.rewardLb.string = "x" + Number(this.mData.rewardNum);
        }
        else {
            this.hbIcon.active = true;
            this.rewardLb.string = "x" + Number(this.mData.rewardNum).toFixed(2) + "元";
        }
    };
    PopRewardView.prototype.onClickHandle = function () {
        if (this.mData.rewardType == 0)
            PlayerModel_1.default.setGold(this.mData.rewardNum);
        else
            PlayerModel_1.default.setMoney(this.mData.totalMoney, this.mData.rewardNum);
        this.onCloseHandle();
    };
    PopRewardView.prototype.onCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Label)
    ], PopRewardView.prototype, "rewardLb", void 0);
    __decorate([
        property(cc.Label)
    ], PopRewardView.prototype, "titleLb", void 0);
    __decorate([
        property(cc.Label)
    ], PopRewardView.prototype, "descLb", void 0);
    __decorate([
        property(cc.Node)
    ], PopRewardView.prototype, "btnClose", void 0);
    __decorate([
        property(cc.Node)
    ], PopRewardView.prototype, "btnOk", void 0);
    __decorate([
        property(cc.Node)
    ], PopRewardView.prototype, "hbIcon", void 0);
    __decorate([
        property(cc.Node)
    ], PopRewardView.prototype, "goldIcon", void 0);
    PopRewardView = __decorate([
        ccclass
    ], PopRewardView);
    return PopRewardView;
}(BasePanel_1.default));
exports.default = PopRewardView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3BvcFZpZXcvUG9wUmV3YXJkVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHbEYsd0VBQW1FO0FBRW5FLDZEQUF3RDtBQUV4RCx1REFBa0Q7QUFFNUMsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFFNUMsSUFBWSxPQU9YO0FBUEQsV0FBWSxPQUFPO0lBQ2YsdUNBQUssQ0FBQTtJQUNMLHlDQUFNLENBQUE7SUFDTix1Q0FBSyxDQUFBO0lBQ0wscURBQVksQ0FBQTtJQUNaLHVEQUFhLENBQUE7SUFDYix1Q0FBSyxDQUFBO0FBQ1QsQ0FBQyxFQVBXLE9BQU8sR0FBUCxlQUFPLEtBQVAsZUFBTyxRQU9sQjtBQUdEO0lBQTJDLGlDQUFTO0lBQXBEO1FBQUEscUVBa0VDO1FBaEVHLGNBQVEsR0FBYSxJQUFJLENBQUM7UUFHMUIsYUFBTyxHQUFhLElBQUksQ0FBQztRQUV6QixZQUFNLEdBQWEsSUFBSSxDQUFDO1FBRXhCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFFekIsV0FBSyxHQUFZLElBQUksQ0FBQztRQUV0QixZQUFNLEdBQVksSUFBSSxDQUFDO1FBRXZCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFHekIsd0JBQXdCO1FBQ3hCLFdBQUssR0FBRyxDQUFDLENBQUMsQ0FBQSxrQkFBa0I7O1FBOEM1QixpQkFBaUI7SUFDckIsQ0FBQztJQTdDRyw4QkFBTSxHQUFOO0lBRUEsQ0FBQztJQUVTLGdDQUFRLEdBQWxCO1FBQ0ksT0FBTztRQUNQLHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLGFBQWEs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c291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgU0RLTWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvU0RLTWFuYWdlclwiO1xyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50VHlwZVwiO1xyXG5pbXBvcnQgQmFzZVBhbmVsIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdWkvQmFzZVBhbmVsXCI7XHJcbmltcG9ydCBHbG9iYWwgZnJvbSBcIi4uLy4uL2NvbnN0cy9HbG9iYWxcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbmV4cG9ydCBlbnVtIFBvcFR5cGUge1xyXG4gICAgRklFTEQsXHJcbiAgICBTSEVMVkUsXHJcbiAgICBHT0xEMSxcclxuICAgIFVOTE9DS19PUkRFUixcclxuICAgIFJFRlJFU0hfT1JERVIsXHJcbiAgICBHT0xEMixcclxufVxyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wUmV3YXJkVmlldyBleHRlbmRzIEJhc2VQYW5lbCB7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICByZXdhcmRMYjogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHRpdGxlTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGRlc2NMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5DbG9zZTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bk9rOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgaGJJY29uOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZ29sZEljb246IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuICAgIG1UeXBlID0gMDsvL+mdouadv+exu+Wei++8jDDpmaTomavlpZblirHvvIwx5a6d566x5aWW5YqxXHJcbiAgICBtRGF0YTtcclxuICAgIG9uTG9hZCgpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOWFs+mXremdouadv1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bkNsb3NlLCB0aGlzLm9uQ2xvc2VIYW5kbGUsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bk9rLCB0aGlzLm9uQ2xpY2tIYW5kbGUsIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRVaSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0U2hvdygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1UeXBlID0gdGhpcy5pbkRhdGFbMF07XHJcbiAgICAgICAgdGhpcy5tRGF0YSA9IHRoaXMuaW5EYXRhWzFdO1xyXG4gICAgfVxyXG4gICAgaW5pdFVpKCkge1xyXG4gICAgICAgIHRoaXMuaGJJY29uLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ29sZEljb24uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMubVR5cGUgPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpdGxlTGIuc3RyaW5nID0gXCLpmaTomavlpZblirFcIjtcclxuICAgICAgICAgICAgdGhpcy5kZXNjTGIuc3RyaW5nID0gdGhpcy5tRGF0YS5uYW1lICsgXCLlt7Lnu4/mgaLlpI3nlJ/plb/vvIznibnmraTlpZblirFcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnRpdGxlTGIuc3RyaW5nID0gXCLlrp3nrrHlpZblirFcIlxyXG4gICAgICAgICAgICB0aGlzLmRlc2NMYi5zdHJpbmcgPSBcIuWuneeuseWFieiKkuWkp+a2qO+8jOaBreWWnOS9oOWPkeeOsOS6hlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5tRGF0YS5yZXdhcmRUeXBlID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5nb2xkSWNvbi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnJld2FyZExiLnN0cmluZyA9IFwieFwiICsgTnVtYmVyKHRoaXMubURhdGEucmV3YXJkTnVtKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhiSWNvbi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnJld2FyZExiLnN0cmluZyA9IFwieFwiICsgTnVtYmVyKHRoaXMubURhdGEucmV3YXJkTnVtKS50b0ZpeGVkKDIpICsgXCLlhYNcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbkNsaWNrSGFuZGxlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1EYXRhLnJld2FyZFR5cGUgPT0gMCkgUGxheWVyTW9kZWwuc2V0R29sZCh0aGlzLm1EYXRhLnJld2FyZE51bSk7XHJcbiAgICAgICAgZWxzZSBQbGF5ZXJNb2RlbC5zZXRNb25leSh0aGlzLm1EYXRhLnRvdGFsTW9uZXksIHRoaXMubURhdGEucmV3YXJkTnVtKTtcclxuICAgICAgICB0aGlzLm9uQ2xvc2VIYW5kbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNsb3NlSGFuZGxlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/popView/PopView1.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '28e67PU1xpKZruxPR5Zs+2m', 'PopView1');
// src/game/view/popView/PopView1.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PopType = void 0;
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var Global_1 = require("../../consts/Global");
var PlayerModel_1 = require("../../datas/PlayerModel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PopType;
(function (PopType) {
    PopType[PopType["FIELD"] = 0] = "FIELD";
    PopType[PopType["SHELVE"] = 1] = "SHELVE";
    PopType[PopType["GOLD1"] = 2] = "GOLD1";
    PopType[PopType["UNLOCK_ORDER"] = 3] = "UNLOCK_ORDER";
    PopType[PopType["REFRESH_ORDER"] = 4] = "REFRESH_ORDER";
    PopType[PopType["GOLD2"] = 5] = "GOLD2";
})(PopType = exports.PopType || (exports.PopType = {}));
var PopView1 = /** @class */ (function (_super) {
    __extends(PopView1, _super);
    function PopView1() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.gp0 = null;
        _this.numLb = null;
        _this.titleLb = null;
        _this.btnLb = null;
        _this.descLb = null;
        _this.btnClose = null;
        _this.btnOk = null;
        _this.icon = null;
        _this.iconList = [];
        // LIFE-CYCLE CALLBACKS:
        _this.mType = 0; //面板类型，0解锁地块
        return _this;
        // update (dt) {}
    }
    PopView1.prototype.onLoad = function () {
    };
    PopView1.prototype.onEnable = function () {
        // 关闭面板
        EventDispath_1.default.on(this.btnClose, this.onCloseHandle, this);
        EventDispath_1.default.on(this.btnOk, this.onClickHandle, this);
    };
    PopView1.prototype.startShow = function () {
        this.gp0.active = false;
        this.descLb.node.active = true;
        this.mType = this.inData[0];
        if (this.mType == PopType.FIELD) {
            this.btnLb.string = "立即扩建";
            this.descLb.string = "扩建土地后，种植效率更高哦";
            this.icon.spriteFrame = this.iconList[PopType.FIELD];
            this.titleLb.string = "扩建土地";
        }
        else if (this.mType == PopType.SHELVE) {
            this.btnLb.string = "立即扩建";
            this.descLb.string = "扩建货架后，往来顾客更多哦";
            this.titleLb.string = "扩建货架";
            this.icon.spriteFrame = this.iconList[PopType.SHELVE];
        }
        else if (this.mType == PopType.GOLD1 || this.mType == PopType.GOLD2) {
            this.gp0.active = true;
            this.descLb.node.active = false;
            if (this.mType == PopType.GOLD1)
                this.titleLb.string = "领取钞票";
            else
                this.titleLb.string = "钞票不足";
            this.btnLb.string = "立即领取";
            this.numLb.string = this.inData[1];
            this.icon.spriteFrame = this.iconList[PopType.GOLD1];
            EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        }
        else if (this.mType == PopType.UNLOCK_ORDER) {
            this.btnLb.string = "立即解锁";
            this.descLb.string = "看精彩视频 \n 免费解锁新订单";
            this.titleLb.string = "解锁订单";
            this.icon.spriteFrame = this.iconList[PopType.UNLOCK_ORDER];
        }
        else if (this.mType == PopType.REFRESH_ORDER) {
            this.btnLb.string = "立即刷新";
            this.descLb.string = "立即刷新订单中心的所有订单 \n可能刷出更优质的订单哦";
            this.titleLb.string = "刷新订单";
            this.icon.spriteFrame = this.iconList[PopType.UNLOCK_ORDER];
        }
    };
    PopView1.prototype.onClickHandle = function () {
        switch (this.mType) {
            case PopType.FIELD:
                SDKManager_1.default.showAd(Global_1.default.VIDEO_CONFIG.video8);
                this.onVideoClose();
                break;
            case PopType.SHELVE:
                SDKManager_1.default.showAd(Global_1.default.VIDEO_CONFIG.video9);
                this.onVideoClose();
                break;
            case PopType.GOLD1:
            case PopType.GOLD2:
                SDKManager_1.default.showAd(Global_1.default.VIDEO_CONFIG.video2);
                break;
            case PopType.UNLOCK_ORDER:
                SDKManager_1.default.showAd(Global_1.default.VIDEO_CONFIG.video3);
                this.onVideoClose();
                break;
            case PopType.REFRESH_ORDER:
                SDKManager_1.default.showAd(Global_1.default.VIDEO_CONFIG.video4);
                this.onVideoClose();
                break;
        }
    };
    PopView1.prototype.onVideoBack = function () {
        PlayerModel_1.default.setGold(this.inData[1]);
        this.onCloseHandle();
    };
    PopView1.prototype.onVideoClose = function () {
        _super.prototype.close1.call(this);
    };
    PopView1.prototype.onCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], PopView1.prototype, "gp0", void 0);
    __decorate([
        property(cc.Label)
    ], PopView1.prototype, "numLb", void 0);
    __decorate([
        property(cc.Label)
    ], PopView1.prototype, "titleLb", void 0);
    __decorate([
        property(cc.Label)
    ], PopView1.prototype, "btnLb", void 0);
    __decorate([
        property(cc.Label)
    ], PopView1.prototype, "descLb", void 0);
    __decorate([
        property(cc.Node)
    ], PopView1.prototype, "btnClose", void 0);
    __decorate([
        property(cc.Node)
    ], PopView1.prototype, "btnOk", void 0);
    __decorate([
        property(cc.Sprite)
    ], PopView1.prototype, "icon", void 0);
    __decorate([
        property([cc.SpriteFrame])
    ], PopView1.prototype, "iconList", void 0);
    PopView1 = __decorate([
        ccclass
    ], PopView1);
    return PopView1;
}(BasePanel_1.default));
exports.default = PopView1;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3BvcFZpZXcvUG9wVmlldzEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDZEQUF3RDtBQUN4RCw4Q0FBeUM7QUFDekMsdURBQWtEO0FBRTVDLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRTVDLElBQVksT0FPWDtBQVBELFdBQVksT0FBTztJQUNmLHVDQUFLLENBQUE7SUFDTCx5Q0FBTSxDQUFBO0lBQ04sdUNBQUssQ0FBQTtJQUNMLHFEQUFZLENBQUE7SUFDWix1REFBYSxDQUFBO0lBQ2IsdUNBQUssQ0FBQTtBQUNULENBQUMsRUFQVyxPQUFPLEdBQVAsZUFBTyxLQUFQLGVBQU8sUUFPbEI7QUFHRDtJQUFzQyw0QkFBUztJQUEvQztRQUFBLHFFQTZHQztRQTNHRyxTQUFHLEdBQVksSUFBSSxDQUFDO1FBRXBCLFdBQUssR0FBYSxJQUFJLENBQUM7UUFHdkIsYUFBTyxHQUFhLElBQUksQ0FBQztRQUV6QixXQUFLLEdBQWEsSUFBSSxDQUFDO1FBRXZCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsY0FBUSxHQUFZLElBQUksQ0FBQztRQUV6QixXQUFLLEdBQVksSUFBSSxDQUFDO1FBRXRCLFVBQUksR0FBYyxJQUFJLENBQUM7UUFFdkIsY0FBUSxHQUFxQixFQUFFLENBQUM7UUFHaEMsd0JBQXdCO1FBQ3hCLFdBQUssR0FBRyxDQUFDLENBQUMsQ0FBQSxZQUFZOztRQXFGdEIsaUJBQWlCO0lBQ3JCLENBQUM7SUFwRkcseUJBQU0sR0FBTjtJQUVBLENBQUM7SUFF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IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IFNES01hbmFnZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1NES01hbmFnZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IEJhc2VQYW5lbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3VpL0Jhc2VQYW5lbFwiO1xyXG5pbXBvcnQgR2xvYmFsIGZyb20gXCIuLi8uLi9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5leHBvcnQgZW51bSBQb3BUeXBlIHtcclxuICAgIEZJRUxELFxyXG4gICAgU0hFTFZFLFxyXG4gICAgR09MRDEsXHJcbiAgICBVTkxPQ0tfT1JERVIsXHJcbiAgICBSRUZSRVNIX09SREVSLFxyXG4gICAgR09MRDIsXHJcbn1cclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcFZpZXcxIGV4dGVuZHMgQmFzZVBhbmVsIHtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZ3AwOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG51bUxiOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgdGl0bGVMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgYnRuTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGRlc2NMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5DbG9zZTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bk9rOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBpY29uOiBjYy5TcHJpdGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KFtjYy5TcHJpdGVGcmFtZV0pXHJcbiAgICBpY29uTGlzdDogY2MuU3ByaXRlRnJhbWVbXSA9IFtdO1xyXG5cclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuICAgIG1UeXBlID0gMDsvL+mdouadv+exu+Wei++8jDDop6PplIHlnLDlnZdcclxuXHJcbiAgICBvbkxvYWQoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyDlhbPpl63pnaLmnb9cclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5DbG9zZSwgdGhpcy5vbkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5PaywgdGhpcy5vbkNsaWNrSGFuZGxlLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydFNob3coKTogdm9pZCB7XHJcblxyXG4gICAgICAgIHRoaXMuZ3AwLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGVzY0xiLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5tVHlwZSA9IHRoaXMuaW5EYXRhWzBdO1xyXG4gICAgICAgIGlmICh0aGlzLm1UeXBlID09IFBvcFR5cGUuRklFTEQpIHtcclxuICAgICAgICAgICAgdGhpcy5idG5MYi5zdHJpbmcgPSBcIueri+WNs+aJqeW7ulwiO1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NMYi5zdHJpbmcgPSBcIuaJqeW7uuWcn+WcsOWQju+8jOenjeakjeaViOeOh+abtOmrmOWTplwiO1xyXG4gICAgICAgICAgICB0aGlzLmljb24uc3ByaXRlRnJhbWUgPSB0aGlzLmljb25MaXN0W1BvcFR5cGUuRklFTERdO1xyXG4gICAgICAgICAgICB0aGlzLnRpdGxlTGIuc3RyaW5nID0gXCLmianlu7rlnJ/lnLBcIlxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tVHlwZSA9PSBQb3BUeXBlLlNIRUxWRSkge1xyXG4gICAgICAgICAgICB0aGlzLmJ0bkxiLnN0cmluZyA9IFwi56uL5Y2z5omp5bu6XCI7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzY0xiLnN0cmluZyA9IFwi5omp5bu66LSn5p625ZCO77yM5b6A5p2l6aG+5a6i5pu05aSa5ZOmXCI7XHJcbiAgICAgICAgICAgIHRoaXMudGl0bGVMYi5zdHJpbmcgPSBcIuaJqeW7uui0p+aetlwiXHJcbiAgICAgICAgICAgIHRoaXMuaWNvbi5zcHJpdGVGcmFtZSA9IHRoaXMuaWNvbkxpc3RbUG9wVHlwZS5TSEVMVkVdO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tVHlwZSA9PSBQb3BUeXBlLkdPTEQxIHx8IHRoaXMubVR5cGUgPT0gUG9wVHlwZS5HT0xEMikge1xyXG4gICAgICAgICAgICB0aGlzLmdwMC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NMYi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tVHlwZSA9PSBQb3BUeXBlLkdPTEQxKSB0aGlzLnRpdGxlTGIuc3RyaW5nID0gXCLpooblj5bpkp7npahcIlxyXG4gICAgICAgICAgICBlbHNlIHRoaXMudGl0bGVMYi5zdHJpbmcgPSBcIumSnuelqOS4jei2s1wiXHJcbiAgICAgICAgICAgIHRoaXMuYnRuTGIuc3RyaW5nID0gXCLnq4vljbPpooblj5ZcIjtcclxuICAgICAgICAgICAgdGhpcy5udW1MYi5zdHJpbmcgPSB0aGlzLmluRGF0YVsxXTtcclxuICAgICAgICAgICAgdGhpcy5pY29uLnNwcml0ZUZyYW1lID0gdGhpcy5pY29uTGlzdFtQb3BUeXBlLkdPTEQxXTtcclxuICAgICAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlZJREVPX0JBQ0ssIHRoaXMub25WaWRlb0JhY2ssIHRoaXMpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tVHlwZSA9PSBQb3BUeXBlLlVOTE9DS19PUkRFUikge1xyXG4gICAgICAgICAgICB0aGlzLmJ0bkxiLnN0cmluZyA9IFwi56uL5Y2z6Kej6ZSBXCI7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzY0xiLnN0cmluZyA9IFwi55yL57K+5b2p6KeG6aKRIFxcbiDlhY3otLnop6PplIHmlrDorqLljZVcIjtcclxuICAgICAgICAgICAgdGhpcy50aXRsZUxiLnN0cmluZyA9IFwi6Kej6ZSB6K6i5Y2VXCJcclxuICAgICAgICAgICAgdGhpcy5pY29uLnNwcml0ZUZyYW1lID0gdGhpcy5pY29uTGlzdFtQb3BUeXBlLlVOTE9DS19PUkRFUl07XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1UeXBlID09IFBvcFR5cGUuUkVGUkVTSF9PUkRFUikge1xyXG4gICAgICAgICAgICB0aGlzLmJ0bkxiLnN0cmluZyA9IFwi56uL5Y2z5Yi35pawXCI7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzY0xiLnN0cmluZyA9IFwi56uL5Y2z5Yi35paw6K6i5Y2V5Lit5b+D55qE5omA5pyJ6K6i5Y2VIFxcbuWPr+iDveWIt+WHuuabtOS8mOi0qOeahOiuouWNleWTplwiO1xyXG4gICAgICAgICAgICB0aGlzLnRpdGxlTGIuc3RyaW5nID0gXCLliLfmlrDorqLljZVcIlxyXG4gICAgICAgICAgICB0aGlzLmljb24uc3ByaXRlRnJhbWUgPSB0aGlzLmljb25MaXN0W1BvcFR5cGUuVU5MT0NLX09SREVSXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbkNsaWNrSGFuZGxlKCkge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5tVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFBvcFR5cGUuRklFTEQ6XHJcbiAgICAgICAgICAgICAgICBTREtNYW5hZ2VyLnNob3dBZChHbG9iYWwuVklERU9fQ09ORklHLnZpZGVvOCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uVmlkZW9DbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUG9wVHlwZS5TSEVMVkU6XHJcbiAgICAgICAgICAgICAgICBTREtNYW5hZ2VyLnNob3dBZChHbG9iYWwuVklERU9fQ09ORklHLnZpZGVvOSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uVmlkZW9DbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUG9wVHlwZS5HT0xEMTpcclxuICAgICAgICAgICAgY2FzZSBQb3BUeXBlLkdPTEQyOlxyXG4gICAgICAgICAgICAgICAgU0RLTWFuYWdlci5zaG93QWQoR2xvYmFsLlZJREVPX0NPTkZJRy52aWRlbzIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUG9wVHlwZS5VTkxPQ0tfT1JERVI6XHJcbiAgICAgICAgICAgICAgICBTREtNYW5hZ2VyLnNob3dBZChHbG9iYWwuVklERU9fQ09ORklHLnZpZGVvMyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uVmlkZW9DbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUG9wVHlwZS5SRUZSRVNIX09SREVSOlxyXG4gICAgICAgICAgICAgICAgU0RLTWFuYWdlci5zaG93QWQoR2xvYmFsLlZJREVPX0NPTkZJRy52aWRlbzQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblZpZGVvQ2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uVmlkZW9CYWNrKCkge1xyXG4gICAgICAgIFBsYXllck1vZGVsLnNldEdvbGQodGhpcy5pbkRhdGFbMV0pO1xyXG4gICAgICAgIHRoaXMub25DbG9zZUhhbmRsZSgpO1xyXG4gICAgfVxyXG4gICAgb25WaWRlb0Nsb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlMSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xvc2VIYW5kbGUoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/popView/PopJsView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '41166ajy/tBl6Braq02VYUl', 'PopJsView');
// src/game/view/popView/PopJsView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var CConst_1 = require("../../consts/CConst");
var Global_1 = require("../../consts/Global");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
//全体加速
var PopJsView = /** @class */ (function (_super) {
    __extends(PopJsView, _super);
    function PopJsView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btnClose = null;
        _this.btnVideo = null;
        _this.btnOk = null;
        _this.numLb = null;
        return _this;
        // update (dt) {}
    }
    PopJsView.prototype.onLoad = function () {
    };
    PopJsView.prototype.onEnable = function () {
        // 关闭面板
        EventDispath_1.default.on(this.btnClose, this.onCloseHandle, this);
        EventDispath_1.default.on(this.btnOk, this.onClickHandle, this);
        EventDispath_1.default.on(this.btnVideo, this.onVideo, this);
    };
    PopJsView.prototype.startShow = function () {
        var cfg = ConfigManager_1.default.getPropById(CConst_1.propType.pipe, PlayerModel_1.default.getUIConfig().pipelv);
        this.numLb.string = cfg.add_num + "分钟";
    };
    PopJsView.prototype.onClickHandle = function () {
        //升级水管
        UIMananger_1.default.showPanel(UIType_1.default.LvUpView, null, null, UIEffectManager_1.UIEffectType.SCALE, 3);
        this.onCloseHandle();
    };
    PopJsView.prototype.onVideo = function () {
        EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        SDKManager_1.default.showAd(Global_1.default.VIDEO_CONFIG.video14);
    };
    PopJsView.prototype.onVideoBack = function () {
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        EventDispath_1.default.send(EventType_1.EventType.CROP_ADD_SPEED);
        this.onVideoClose();
    };
    PopJsView.prototype.onVideoClose = function () {
        _super.prototype.close1.call(this);
    };
    PopJsView.prototype.onCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], PopJsView.prototype, "btnClose", void 0);
    __decorate([
        property(cc.Node)
    ], PopJsView.prototype, "btnVideo", void 0);
    __decorate([
        property(cc.Node)
    ], PopJsView.prototype, "btnOk", void 0);
    __decorate([
        property(cc.Label)
    ], PopJsView.prototype, "numLb", void 0);
    PopJsView = __decorate([
        ccclass
    ], PopJsView);
    return PopJsView;
}(BasePanel_1.default));
exports.default = PopJsView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3BvcFZpZXcvUG9wSnNWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLG9FQUErRDtBQUMvRCw4RUFBMEU7QUFDMUUsb0VBQStEO0FBQy9ELHdFQUFtRTtBQUNuRSxrRUFBaUU7QUFFakUsNkRBQXdEO0FBQ3hELDhDQUErQztBQUMvQyw4Q0FBeUM7QUFDekMsOENBQXlDO0FBQ3pDLHVEQUFrRDtBQUNsRCw2REFBd0Q7QUFFbEQsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFDNUMsTUFBTTtBQUVOO0lBQXVDLDZCQUFTO0lBQWhEO1FBQUEscUVBaURDO1FBL0NHLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFFekIsY0FBUSxHQUFZLElBQUksQ0FBQztRQUV6QixXQUFLLEdBQVksSUFBSSxDQUFDO1FBRXRCLFdBQUssR0FBYSxJQUFJLENBQUM7O1FBd0N2QixpQkFBaUI7SUFDckIsQ0FBQztJQXRDRywwQkFBTSxHQUFOO0lBRUEsQ0FBQztJQUVTLDRCQUFRLEdBQWxCO1FBQ0ksT0FBTztRQUNQLHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6RCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdEQsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFRCw2QkFBUyxHQUFUO1FBQ0ksSUFBSSxHQUFHLEdBQUcsdUJBQWEsQ0FBQyxXQUFXLENBQUMsaUJBQVEsQ0FBQyxJQUFJLEVBQUUscUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNyRixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUMxQyxDQUFDO0lBQ0QsaUNBQWEsR0FBYjtRQUNJLE1BQU07UUFDTixvQkFBVSxDQUFDLFNBQVMsQ0FBQyxnQkFBTSxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLDhCQUFZLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3pFLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBQ0QsMkJBQU8sR0FBUDtRQUNJLHNCQUFZLENBQUMsZ0JBQWdCLENBQUMscUJBQVMsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM1RSxvQkFBVSxDQUFDLE1BQU0sQ0FBQyxnQkFBTSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBQ0QsK0JBQVcsR0FBWDtRQUNJLHNCQUFZLENBQUMsYUFBYSxDQUFDLHFCQUFTLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekUsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUNELGdDQUFZLEdBQVo7UUFDSSxpQkFBTSxNQUFNLFdBQUUsQ0FBQztJQUNuQixDQUFDO0lBRUQsaUNBQWEsR0FBYjtRQUNJLGlCQUFNLEtBQUssV0FBRSxDQUFDO0lBQ2xCLENBQUM7SUE1Q0Q7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsrQ0FDTztJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOytDQUNPO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7NENBQ0k7SUFFdEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs0Q0FDSTtJQVJOLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0FpRDdCO0lBQUQsZ0JBQUM7Q0FqREQsQUFpREMsQ0FqRHNDLG1CQUFTLEdBaUQvQztrQkFqRG9CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgU0RLTWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvU0RLTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBVSUVmZmVjdFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlFZmZlY3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBVSU1hbmFuZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgQmFzZVBhbmVsIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdWkvQmFzZVBhbmVsXCI7XHJcbmltcG9ydCB7IHByb3BUeXBlIH0gZnJvbSBcIi4uLy4uL2NvbnN0cy9DQ29uc3RcIjtcclxuaW1wb3J0IEdsb2JhbCBmcm9tIFwiLi4vLi4vY29uc3RzL0dsb2JhbFwiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IENvbmZpZ01hbmFnZXIgZnJvbSBcIi4uLy4uL21hbmFnZXIvQ29uZmlnTWFuYWdlclwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuLy/lhajkvZPliqDpgJ9cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wSnNWaWV3IGV4dGVuZHMgQmFzZVBhbmVsIHtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuQ2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5WaWRlbzogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bk9rOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG51bUxiOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG5cclxuICAgIG9uTG9hZCgpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOWFs+mXremdouadv1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bkNsb3NlLCB0aGlzLm9uQ2xvc2VIYW5kbGUsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bk9rLCB0aGlzLm9uQ2xpY2tIYW5kbGUsIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0blZpZGVvLCB0aGlzLm9uVmlkZW8sIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0U2hvdygpOiB2b2lkIHtcclxuICAgICAgICBsZXQgY2ZnID0gQ29uZmlnTWFuYWdlci5nZXRQcm9wQnlJZChwcm9wVHlwZS5waXBlLCBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLnBpcGVsdik7XHJcbiAgICAgICAgdGhpcy5udW1MYi5zdHJpbmcgPSBjZmcuYWRkX251bSArIFwi5YiG6ZKfXCJcclxuICAgIH1cclxuICAgIG9uQ2xpY2tIYW5kbGUoKSB7XHJcbiAgICAgICAgLy/ljYfnuqfmsLTnrqFcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUuTHZVcFZpZXcsIG51bGwsIG51bGwsIFVJRWZmZWN0VHlwZS5TQ0FMRSwgMyk7XHJcbiAgICAgICAgdGhpcy5vbkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcbiAgICBvblZpZGVvKCkge1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5WSURFT19CQUNLLCB0aGlzLm9uVmlkZW9CYWNrLCB0aGlzKTtcclxuICAgICAgICBTREtNYW5hZ2VyLnNob3dBZChHbG9iYWwuVklERU9fQ09ORklHLnZpZGVvMTQpO1xyXG4gICAgfVxyXG4gICAgb25WaWRlb0JhY2soKSB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUJ5RXZlbnQoRXZlbnRUeXBlLlZJREVPX0JBQ0ssIHRoaXMub25WaWRlb0JhY2ssIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5DUk9QX0FERF9TUEVFRCk7XHJcbiAgICAgICAgdGhpcy5vblZpZGVvQ2xvc2UoKTtcclxuICAgIH1cclxuICAgIG9uVmlkZW9DbG9zZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZTEoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNsb3NlSGFuZGxlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/popView/PopGcView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0b022w1JUxIp7yjSFfCKzSY', 'PopGcView');
// src/game/view/popView/PopGcView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var Global_1 = require("../../consts/Global");
var ConfigManager_1 = require("../../manager/ConfigManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PopGcView = /** @class */ (function (_super) {
    __extends(PopGcView, _super);
    function PopGcView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.gcIcon = null;
        _this.descLb = null;
        _this.titleLb = null;
        _this.btnClose = null;
        _this.btnVideo = null;
        _this.btnOk = null;
        // LIFE-CYCLE CALLBACKS:
        _this.mId = 0;
        return _this;
        // update (dt) {}
    }
    PopGcView.prototype.onLoad = function () {
    };
    PopGcView.prototype.onEnable = function () {
        // 关闭面板
        EventDispath_1.default.on(this.btnClose, this.onCloseHandle, this);
        EventDispath_1.default.on(this.btnOk, this.onClickHandle, this);
        EventDispath_1.default.on(this.btnVideo, this.onVideo, this);
    };
    PopGcView.prototype.startShow = function () {
        var _this = this;
        this.mId = this.inData[0];
        var cropCfg = ConfigManager_1.default.getCropById(this.mId);
        this.titleLb.string = cropCfg.name + "高产";
        this.descLb.string = "人品大爆发，" + cropCfg.name + "产量飙升，可收获";
        MkUtils_1.default.loadSpriteFrame("texture/crop/icon/" + ("" + this.mId), function (res) {
            _this.gcIcon.spriteFrame = res;
        });
    };
    PopGcView.prototype.onClickHandle = function () {
        EventDispath_1.default.send(EventType_1.EventType.CROP_GC, 1);
        this.onCloseHandle();
    };
    PopGcView.prototype.onVideo = function () {
        EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        SDKManager_1.default.showAd(Global_1.default.VIDEO_CONFIG.video12);
    };
    PopGcView.prototype.onVideoBack = function () {
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        EventDispath_1.default.send(EventType_1.EventType.CROP_GC, 5);
        this.onVideoClose();
    };
    PopGcView.prototype.onVideoClose = function () {
        _super.prototype.close1.call(this);
    };
    PopGcView.prototype.onCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Sprite)
    ], PopGcView.prototype, "gcIcon", void 0);
    __decorate([
        property(cc.Label)
    ], PopGcView.prototype, "descLb", void 0);
    __decorate([
        property(cc.Label)
    ], PopGcView.prototype, "titleLb", void 0);
    __decorate([
        property(cc.Node)
    ], PopGcView.prototype, "btnClose", void 0);
    __decorate([
        property(cc.Node)
    ], PopGcView.prototype, "btnVideo", void 0);
    __decorate([
        property(cc.Node)
    ], PopGcView.prototype, "btnOk", void 0);
    PopGcView = __decorate([
        ccclass
    ], PopGcView);
    return PopGcView;
}(BasePanel_1.default));
exports.default = PopGcView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3BvcFZpZXcvUG9wR2NWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDREQUF1RDtBQUN2RCw2REFBd0Q7QUFDeEQsOENBQXlDO0FBQ3pDLDZEQUF3RDtBQUVsRCxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUF1Qyw2QkFBUztJQUFoRDtRQUFBLHFFQTZEQztRQTNERyxZQUFNLEdBQWMsSUFBSSxDQUFDO1FBRXpCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFHeEIsYUFBTyxHQUFhLElBQUksQ0FBQztRQUV6QixjQUFRLEdBQVksSUFBSSxDQUFDO1FBRXpCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFFekIsV0FBSyxHQUFZLElBQUksQ0FBQztRQUd0Qix3QkFBd0I7UUFDeEIsU0FBRyxHQUFHLENBQUMsQ0FBQzs7UUEyQ1IsaUJBQWlCO0lBQ3JCLENBQUM7SUExQ0csMEJBQU0sR0FBTjtJQUVBLENBQUM7SUFFUyw0QkFBUSxHQUFsQjtRQUNJLE9BQU87UUFDUCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekQsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3RELHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBRUQsNkJBQVMsR0FBVDtRQUFBLGlCQVFDO1FBUEcsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFCLElBQUksT0FBTyxHQUFHLHVCQUFhLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUMxQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxRQUFRLEdBQUcsT0FBTyxDQUFDLElBQUksR0FBRyxVQUFVLENBQUM7UUFDMUQsaUJBQU8sQ0FBQyxlQUFlLENBQUMsb0JBQW9CLElBQUcsS0FBRyxJQUFJLENBQUMsR0FBSyxDQUFBLEVBQUUsVUFBQyxHQUFHO1lBQzlELEtBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztRQUNsQyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFDRCxpQ0FBYSxHQUFiO1FBQ0ksc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFDRCwyQkFBTyxHQUFQO1FBQ0ksc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVFLG9CQUFVLENBQUMsTUFBTSxDQUFDLGdCQUFNLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFDRCwrQkFBVyxHQUFYO1FBQ0ksc0JBQVksQ0FBQyxhQUFhLENBQUMscUJBQVMsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6RSxzQkFBWSxDQUFDLElBQUksQ0FBQyxxQkFBUyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUNELGdDQUFZLEdBQVo7UUFDSSxpQkFBTSxNQUFNLFdBQUUsQ0FBQztJQUNuQixDQUFDO0lBRUQsaUNBQWEsR0FBYjtRQUNJLGlCQUFNLEtBQUssV0FBRSxDQUFDO0lBQ2xCLENBQUM7SUF4REQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzs2Q0FDSztJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzZDQUNLO0lBR3hCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7OENBQ007SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsrQ0FDTztJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOytDQUNPO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7NENBQ0k7SUFiTCxTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBNkQ3QjtJQUFELGdCQUFDO0NBN0RELEFBNkRDLENBN0RzQyxtQkFBUyxHQTZEL0M7a0JBN0RvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IFNES01hbmFnZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1NES01hbmFnZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Na1V0aWxzXCI7XHJcbmltcG9ydCBCYXNlUGFuZWwgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay91aS9CYXNlUGFuZWxcIjtcclxuaW1wb3J0IEdsb2JhbCBmcm9tIFwiLi4vLi4vY29uc3RzL0dsb2JhbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wR2NWaWV3IGV4dGVuZHMgQmFzZVBhbmVsIHtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBnY0ljb246IGNjLlNwcml0ZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBkZXNjTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB0aXRsZUxiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bkNsb3NlOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuVmlkZW86IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5PazogY2MuTm9kZSA9IG51bGw7XHJcblxyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG4gICAgbUlkID0gMDtcclxuXHJcbiAgICBvbkxvYWQoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvLyDlhbPpl63pnaLmnb9cclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5DbG9zZSwgdGhpcy5vbkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5PaywgdGhpcy5vbkNsaWNrSGFuZGxlLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5WaWRlbywgdGhpcy5vblZpZGVvLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydFNob3coKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tSWQgPSB0aGlzLmluRGF0YVswXTtcclxuICAgICAgICBsZXQgY3JvcENmZyA9IENvbmZpZ01hbmFnZXIuZ2V0Q3JvcEJ5SWQodGhpcy5tSWQpO1xyXG4gICAgICAgIHRoaXMudGl0bGVMYi5zdHJpbmcgPSBjcm9wQ2ZnLm5hbWUgKyBcIumrmOS6p1wiO1xyXG4gICAgICAgIHRoaXMuZGVzY0xiLnN0cmluZyA9IFwi5Lq65ZOB5aSn54iG5Y+R77yMXCIgKyBjcm9wQ2ZnLm5hbWUgKyBcIuS6p+mHj+mjmeWNh++8jOWPr+aUtuiOt1wiO1xyXG4gICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9jcm9wL2ljb24vXCIgKyBgJHt0aGlzLm1JZH1gLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2NJY29uLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgb25DbGlja0hhbmRsZSgpIHtcclxuICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuQ1JPUF9HQywgMSk7XHJcbiAgICAgICAgdGhpcy5vbkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcbiAgICBvblZpZGVvKCkge1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5WSURFT19CQUNLLCB0aGlzLm9uVmlkZW9CYWNrLCB0aGlzKTtcclxuICAgICAgICBTREtNYW5hZ2VyLnNob3dBZChHbG9iYWwuVklERU9fQ09ORklHLnZpZGVvMTIpO1xyXG4gICAgfVxyXG4gICAgb25WaWRlb0JhY2soKSB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUJ5RXZlbnQoRXZlbnRUeXBlLlZJREVPX0JBQ0ssIHRoaXMub25WaWRlb0JhY2ssIHRoaXMpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5DUk9QX0dDLCA1KTtcclxuICAgICAgICB0aGlzLm9uVmlkZW9DbG9zZSgpO1xyXG4gICAgfVxyXG4gICAgb25WaWRlb0Nsb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlMSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xvc2VIYW5kbGUoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/CashierManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1cc6cTV8bpLFYRmkPpCFvA5', 'CashierManager');
// src/game/view/main/CashierManager.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var Utils_1 = require("../../../framework/tools/Utils");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var CashierManager = /** @class */ (function () {
    function CashierManager() {
        this.barragePool = new cc.NodePool();
        this.point = cc.v2(400, -280);
        this.pointLit = [];
        this.clonePoints = [];
        this.walkRoleList = [];
        this.roleList = [];
        this.frame = 0;
        this.isChange = 0;
    }
    CashierManager_1 = CashierManager;
    CashierManager.instance = function () {
        if (!this._instance) {
            this._instance = new CashierManager_1();
        }
        return this._instance;
    };
    CashierManager.prototype.init = function (cashier) {
        this.cashier = cashier;
        for (var i = 0; i < 6; i++) {
            var p = cc.v2(this.point.x + i * 5, this.point.y + i * 5);
            this.pointLit.push(p);
            this.clonePoints.push(p);
        }
    };
    CashierManager.prototype.addRole = function (role) {
        this.walkRoleList.push(role);
        this.move(role);
    };
    CashierManager.prototype.update = function (dt) {
        if (this.isChange) {
            this.isChange = 0;
            for (var i = 0; i < this.walkRoleList.length; i++) {
                this.move(this.walkRoleList[i]);
            }
        }
        // this.frame++;
        // if (this.frame > 3) {
        //     this.frame = 0;
        //     let len = this.walkRoleList.length;
        //     for (let i = 0; i < len; i++) {
        //         let src = this.walkRoleList[i];
        //         let node = src.node;
        //         let p = this.getSpeed(node.getPosition())
        //         if (node.x > this.clonePoints[0].x) node.x += p[0];
        //         if (node.y > this.clonePoints[0].y) node.y += p[1];
        //         if (this.clonePoints.length > 0) {
        //             if (node.x <= this.clonePoints[0].x && node.y <= this.clonePoints[0].y) {
        //                 this.clonePoints.shift();
        //                 let role = this.walkRoleList.splice(i, 1);
        //                 this.roleList.push(role)
        //             }
        //         } else {
        //             if (node.x <= this.clonePoints[0].x && node.y <= this.clonePoints[0].y) {
        //                 let role = this.walkRoleList.splice(i, 1);
        //                 this.roleList.push(role)
        //             }
        //         }
        //     }
        // }
    };
    CashierManager.prototype.getSpeed = function (point) {
        var angle = Utils_1.default.getVecAngle(point, this.clonePoints[0]);
        var radian = Utils_1.default.angleToPI(angle);
        var speedX = 5 * Math.cos(radian);
        var speedY = 5 * Math.cos(radian);
        return [speedX, speedY];
    };
    CashierManager.prototype.move = function (role) {
        var _this = this;
        var p = role.node.getPosition();
        var dis = MkUtils_1.default.twoPointDistance(p, this.point);
        role.node.stopAllActions();
        var action = cc.sequence(cc.moveTo(dis / 100, this.clonePoints[0]), cc.callFunc(function () {
            var index = _this.walkRoleList.indexOf(role);
            _this.walkRoleList.splice(index, 1);
            _this.roleList.push(role);
            role.finshAction();
            _this.cashier.addRole(role);
            if (_this.clonePoints.length > 1) {
                _this.isChange = 1;
                _this.clonePoints.shift();
            }
        }));
        var newAction = cc.speed(action, role.speed);
        role.node.runAction(newAction);
    };
    CashierManager.prototype.updateRole = function () {
        this.roleList.splice(0, 1);
        if (this.roleList.length < 6 && this.roleList.length > 0 && this.clonePoints.length < 6) {
            this.clonePoints.unshift(this.pointLit[this.roleList.length]);
        }
    };
    var CashierManager_1;
    CashierManager = CashierManager_1 = __decorate([
        ccclass
    ], CashierManager);
    return CashierManager;
}());
exports.default = CashierManager.instance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vQ2FzaGllck1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7OztBQUVsRiw0REFBdUQ7QUFDdkQsd0RBQW1EO0FBRzdDLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQUE7UUFHVyxnQkFBVyxHQUFnQixJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQVNwRCxVQUFLLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN6QixhQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ2QsZ0JBQVcsR0FBRyxFQUFFLENBQUM7UUFFakIsaUJBQVksR0FBRyxFQUFFLENBQUM7UUFDbEIsYUFBUSxHQUFHLEVBQUUsQ0FBQztRQWVkLFVBQUssR0FBRyxDQUFDLENBQUM7UUEwQ1YsYUFBUSxHQUFHLENBQUMsQ0FBQztJQXlCakIsQ0FBQzt1QkFuR0ssY0FBYztJQUtULHVCQUFRLEdBQWY7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNqQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksZ0JBQWMsRUFBRSxDQUFDO1NBQ3pDO1FBQ0QsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFTRCw2QkFBSSxHQUFKLFVBQUssT0FBc0I7UUFDdkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN4QixJQUFJLENBQUMsR0FBRyxFQUFFLENB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Ly8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Na1V0aWxzXCI7XHJcbmltcG9ydCBVdGlscyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL1V0aWxzXCI7XHJcbmltcG9ydCBDYXNoaWVyUHJlZmFiIGZyb20gXCIuL0Nhc2hpZXJQcmVmYWJcIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5jbGFzcyBDYXNoaWVyTWFuYWdlciB7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBDYXNoaWVyTWFuYWdlcjtcclxuICAgIHB1YmxpYyBiYXJyYWdlUG9vbDogY2MuTm9kZVBvb2wgPSBuZXcgY2MuTm9kZVBvb2woKTtcclxuXHJcbiAgICBzdGF0aWMgaW5zdGFuY2UoKTogQ2FzaGllck1hbmFnZXIge1xyXG4gICAgICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgQ2FzaGllck1hbmFnZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHBvaW50ID0gY2MudjIoNDAwLCAtMjgwKTtcclxuICAgIHBvaW50TGl0ID0gW107XHJcbiAgICBjbG9uZVBvaW50cyA9IFtdO1xyXG5cclxuICAgIHdhbGtSb2xlTGlzdCA9IFtdO1xyXG4gICAgcm9sZUxpc3QgPSBbXTtcclxuICAgIGNhc2hpZXI6IENhc2hpZXJQcmVmYWI7XHJcbiAgICBpbml0KGNhc2hpZXI6IENhc2hpZXJQcmVmYWIpIHtcclxuICAgICAgICB0aGlzLmNhc2hpZXIgPSBjYXNoaWVyO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBwID0gY2MudjIodGhpcy5wb2ludC54ICsgaSAqIDUsIHRoaXMucG9pbnQueSArIGkgKiA1KVxyXG4gICAgICAgICAgICB0aGlzLnBvaW50TGl0LnB1c2gocCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvbmVQb2ludHMucHVzaChwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkUm9sZShyb2xlKSB7XHJcbiAgICAgICAgdGhpcy53YWxrUm9sZUxpc3QucHVzaChyb2xlKTtcclxuICAgICAgICB0aGlzLm1vdmUocm9sZSk7XHJcbiAgICB9XHJcbiAgICBmcmFtZSA9IDA7XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0NoYW5nZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzQ2hhbmdlID0gMDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLndhbGtSb2xlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlKHRoaXMud2Fsa1JvbGVMaXN0W2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0aGlzLmZyYW1lKys7XHJcbiAgICAgICAgLy8gaWYgKHRoaXMuZnJhbWUgPiAzKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuZnJhbWUgPSAwO1xyXG4gICAgICAgIC8vICAgICBsZXQgbGVuID0gdGhpcy53YWxrUm9sZUxpc3QubGVuZ3RoO1xyXG4gICAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBsZXQgc3JjID0gdGhpcy53YWxrUm9sZUxpc3RbaV07XHJcbiAgICAgICAgLy8gICAgICAgICBsZXQgbm9kZSA9IHNyYy5ub2RlO1xyXG5cclxuICAgICAgICAvLyAgICAgICAgIGxldCBwID0gdGhpcy5nZXRTcGVlZChub2RlLmdldFBvc2l0aW9uKCkpXHJcbiAgICAgICAgLy8gICAgICAgICBpZiAobm9kZS54ID4gdGhpcy5jbG9uZVBvaW50c1swXS54KSBub2RlLnggKz0gcFswXTtcclxuICAgICAgICAvLyAgICAgICAgIGlmIChub2RlLnkgPiB0aGlzLmNsb25lUG9pbnRzWzBdLnkpIG5vZGUueSArPSBwWzFdO1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKHRoaXMuY2xvbmVQb2ludHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGlmIChub2RlLnggPD0gdGhpcy5jbG9uZVBvaW50c1swXS54ICYmIG5vZGUueSA8PSB0aGlzLmNsb25lUG9pbnRzWzBdLnkpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5jbG9uZVBvaW50cy5zaGlmdCgpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBsZXQgcm9sZSA9IHRoaXMud2Fsa1JvbGVMaXN0LnNwbGljZShpLCAxKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5yb2xlTGlzdC5wdXNoKHJvbGUpXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBpZiAobm9kZS54IDw9IHRoaXMuY2xvbmVQb2ludHNbMF0ueCAmJiBub2RlLnkgPD0gdGhpcy5jbG9uZVBvaW50c1swXS55KSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGxldCByb2xlID0gdGhpcy53YWxrUm9sZUxpc3Quc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnJvbGVMaXN0LnB1c2gocm9sZSlcclxuICAgICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3BlZWQocG9pbnQpIHtcclxuICAgICAgICBsZXQgYW5nbGUgPSBVdGlscy5nZXRWZWNBbmdsZShwb2ludCwgdGhpcy5jbG9uZVBvaW50c1swXSk7XHJcbiAgICAgICAgbGV0IHJhZGlhbiA9IFV0aWxzLmFuZ2xlVG9QSShhbmdsZSk7XHJcbiAgICAgICAgbGV0IHNwZWVkWCA9IDUgKiBNYXRoLmNvcyhyYWRpYW4pO1xyXG4gICAgICAgIGxldCBzcGVlZFkgPSA1ICogTWF0aC5jb3MocmFkaWFuKTtcclxuICAgICAgICByZXR1cm4gW3NwZWVkWCwgc3BlZWRZXTtcclxuICAgIH1cclxuICAgIGlzQ2hhbmdlID0gMDtcclxuICAgIG1vdmUocm9sZSkge1xyXG4gICAgICAgIGxldCBwID0gcm9sZS5ub2RlLmdldFBvc2l0aW9uKCk7XHJcbiAgICAgICAgbGV0IGRpcyA9IE1LVXRpbHMudHdvUG9pbnREaXN0YW5jZShwLCB0aGlzLnBvaW50KVxyXG4gICAgICAgIHJvbGUubm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgIGxldCBhY3Rpb24gPSBjYy5zZXF1ZW5jZShjYy5tb3ZlVG8oZGlzIC8gMTAwLCB0aGlzLmNsb25lUG9pbnRzWzBdKSwgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLndhbGtSb2xlTGlzdC5pbmRleE9mKHJvbGUpXHJcbiAgICAgICAgICAgIHRoaXMud2Fsa1JvbGVMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMucm9sZUxpc3QucHVzaChyb2xlKVxyXG4gICAgICAgICAgICByb2xlLmZpbnNoQWN0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FzaGllci5hZGRSb2xlKHJvbGUpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jbG9uZVBvaW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ2hhbmdlID0gMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvbmVQb2ludHMuc2hpZnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIGxldCBuZXdBY3Rpb24gPSBjYy5zcGVlZChhY3Rpb24sIHJvbGUuc3BlZWQpO1xyXG4gICAgICAgIHJvbGUubm9kZS5ydW5BY3Rpb24obmV3QWN0aW9uKVxyXG4gICAgfVxyXG4gICAgdXBkYXRlUm9sZSgpIHtcclxuICAgICAgICB0aGlzLnJvbGVMaXN0LnNwbGljZSgwLCAxKTtcclxuICAgICAgICBpZiAodGhpcy5yb2xlTGlzdC5sZW5ndGggPCA2ICYmIHRoaXMucm9sZUxpc3QubGVuZ3RoID4gMCAmJiB0aGlzLmNsb25lUG9pbnRzLmxlbmd0aCA8IDYpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9uZVBvaW50cy51bnNoaWZ0KHRoaXMucG9pbnRMaXRbdGhpcy5yb2xlTGlzdC5sZW5ndGhdKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBDYXNoaWVyTWFuYWdlci5pbnN0YW5jZSgpO1xyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/task/TaskRewardView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '390c9OFrt9AYYeFJeDX7Z2J', 'TaskRewardView');
// src/game/view/task/TaskRewardView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var PlayerModel_1 = require("../../datas/PlayerModel");
var EffectManager_1 = require("../../manager/EffectManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TaskRewardView = /** @class */ (function (_super) {
    __extends(TaskRewardView, _super);
    function TaskRewardView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.iconList = [];
        _this.btn_get = null;
        _this.btn_close = null;
        _this.rewardLab = null;
        _this.xfzsLab = null;
        _this.cropId = 0;
        return _this;
        // update (dt) {}
    }
    TaskRewardView.prototype.onEnable = function () {
        // 领取
        EventDispath_1.default.on(this.btn_get, this.onGet, this);
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onGet, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        this.initUI();
    };
    TaskRewardView.prototype.initUI = function () {
        var _this = this;
        if (this.data.taskId == 1) {
            this.rewardLab.string = "+" + Number(this.data.redBean).toFixed(2) + "元";
            this.iconList[0].active = true;
        }
        else if (this.data.taskId == 2) {
            this.rewardLab.string = "+" + this.data.gold;
            this.iconList[1].active = true;
        }
        else if (this.data.taskId == 3) {
            this.rewardLab.string = "+3";
            this.cropId = PlayerModel_1.default.getCurrentOrderCrop();
            this.iconList[2].active = true;
            MkUtils_1.default.loadSpriteFrame("texture/crop/icon/" + ("" + this.cropId), function (res) {
                _this.iconList[2].getComponent(cc.Sprite).spriteFrame = res;
            });
        }
        this.xfzsLab.string = "+" + this.data.xfzs;
    };
    TaskRewardView.prototype.startShow = function () {
        this.data = this.inData[0];
    };
    //领取奖励
    TaskRewardView.prototype.onGet = function () {
        if (this.data.taskId == 1) {
            PlayerModel_1.default.setMoney(this.data.userRedBean, this.data.redBean);
        }
        else if (this.data.taskId == 2) {
            PlayerModel_1.default.setGold(this.data.gold);
        }
        else if (this.data.taskId == 3) {
            var startNode = cc.v2(cc.winSize.width / 2, cc.winSize.height / 2);
            EffectManager_1.default.playCrop(startNode, this.cropId);
            PlayerModel_1.default.setHouseAddCrop(this.cropId, 3);
            PlayerModel_1.default.checkAddOrder(this.cropId, 3, function () {
                // UIMananger.showPanel(UIType.orderSuccessView);
                EventDispath_1.default.send(EventType_1.EventType.ORDER_COMPLETE_UPDATE);
            });
            // PlayerModel.setGold(this.data.gold)
            //增加作物
        }
        PlayerModel_1.default.setXfzs(this.data.xfzs);
        this.onClose();
    };
    TaskRewardView.prototype.onVideoBack = function () {
        // PlayerModel.setGold(this.data["money"] * 2, cc.v2(cc.winSize.width / 2, cc.winSize.height / 2))
    };
    TaskRewardView.prototype.onCloseHandler = function () {
        EventDispath_1.default.send(EventType_1.EventType.TASK_ITEM_CHANG, 0);
        this.onClose();
    };
    TaskRewardView.prototype.onClose = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property([cc.Node])
    ], TaskRewardView.prototype, "iconList", void 0);
    __decorate([
        property(cc.Node)
    ], TaskRewardView.prototype, "btn_get", void 0);
    __decorate([
        property(cc.Node)
    ], TaskRewardView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Label)
    ], TaskRewardView.prototype, "rewardLab", void 0);
    __decorate([
        property(cc.Label)
    ], TaskRewardView.prototype, "xfzsLab", void 0);
    TaskRewardView = __decorate([
        ccclass
    ], TaskRewardView);
    return TaskRewardView;
}(BasePanel_1.default));
exports.default = TaskRewardView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3Rhc2svVGFza1Jld2FyZFZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHbEYsd0VBQW1FO0FBQ25FLGtFQUFpRTtBQUNqRSw0REFBdUQ7QUFDdkQsNkRBQXdEO0FBRXhELHVEQUFrRDtBQUNsRCw2REFBd0Q7QUFFbEQsSUFBQSxLQUF3QixFQUFFLENBQUMsVUFBVSxFQUFuQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWtCLENBQUM7QUFHNUM7SUFBNEMsa0NBQVM7SUFBckQ7UUFBQSxxRUFtRkM7UUFoRkcsY0FBUSxHQUFjLEVBQUUsQ0FBQztRQUV6QixhQUFPLEdBQVksSUFBSSxDQUFDO1FBRXhCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFFMUIsZUFBUyxHQUFhLElBQUksQ0FBQztRQUUzQixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBSXpCLFlBQU0sR0FBRyxDQUFDLENBQUM7O1FBbUVYLGlCQUFpQjtJQUNyQixDQUFDO0lBbkVHLGlDQUFRLEdBQVI7UUFDSSxLQUFLO1FBQ0wsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2hELEtBQUs7UUFDTCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFbEQsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lB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O1lBQ3RDLE1BQU07U0FDVDtRQUVELHFCQUFXLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBRW5CLENBQUM7SUFDRCxvQ0FBVyxHQUFYO1FBQ0ksa0dBQWtHO0lBQ3RHLENBQUM7SUFDRCx1Q0FBYyxHQUFkO1FBQ0ksc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ25CLENBQUM7SUFDRCxnQ0FBTyxHQUFQO1FBQ0ksaUJBQU0sS0FBSyxXQUFFLENBQUM7SUFDbEIsQ0FBQztJQTdFRDtRQURDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztvREFDSztJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO21EQUNNO0lBRXhCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7cURBQ1E7SUFFMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztxREFDUTtJQUUzQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO21EQUNNO0lBWFIsY0FBYztRQURsQyxPQUFPO09BQ2EsY0FBYyxDQW1GbEM7SUFBRCxxQkFBQztDQW5GRCxBQW1GQyxDQW5GMkMsbUJBQVMsR0FtRnBEO2tCQW5Gb0IsY0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgQmFzZVBhbmVsIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdWkvQmFzZVBhbmVsXCI7XHJcbmltcG9ydCBHbG9iYWwgZnJvbSBcIi4uLy4uL2NvbnN0cy9HbG9iYWxcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgRWZmZWN0TWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9FZmZlY3RNYW5hZ2VyXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFza1Jld2FyZFZpZXcgZXh0ZW5kcyBCYXNlUGFuZWwge1xyXG5cclxuICAgIEBwcm9wZXJ0eShbY2MuTm9kZV0pXHJcbiAgICBpY29uTGlzdDogY2MuTm9kZVtdID0gW107XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9nZXQ6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fY2xvc2U6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcmV3YXJkTGFiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB4ZnpzTGFiOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcbiAgICBkYXRhO1xyXG4gICAgY3JvcElkID0gMDtcclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOmihuWPllxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9nZXQsIHRoaXMub25HZXQsIHRoaXMpO1xyXG4gICAgICAgIC8vIOmAgOWHulxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9jbG9zZSwgdGhpcy5vbkdldCwgdGhpcyk7XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5WSURFT19CQUNLLCB0aGlzLm9uVmlkZW9CYWNrLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmluaXRVSSgpO1xyXG4gICAgfVxyXG4gICAgaW5pdFVJKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGEudGFza0lkID09IDEpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMucmV3YXJkTGFiLnN0cmluZyA9IFwiK1wiICsgTnVtYmVyKHRoaXMuZGF0YS5yZWRCZWFuKS50b0ZpeGVkKDIpICsgXCLlhYNcIjtcclxuICAgICAgICAgICAgdGhpcy5pY29uTGlzdFswXS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhLnRhc2tJZCA9PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmV3YXJkTGFiLnN0cmluZyA9IFwiK1wiICsgdGhpcy5kYXRhLmdvbGQ7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbkxpc3RbMV0uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS50YXNrSWQgPT0gMykge1xyXG4gICAgICAgICAgICB0aGlzLnJld2FyZExhYi5zdHJpbmcgPSBcIiszXCI7XHJcbiAgICAgICAgICAgIHRoaXMuY3JvcElkID0gUGxheWVyTW9kZWwuZ2V0Q3VycmVudE9yZGVyQ3JvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmljb25MaXN0WzJdLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBNS1V0aWxzLmxvYWRTcHJpdGVGcmFtZShcInRleHR1cmUvY3JvcC9pY29uL1wiICsgYCR7dGhpcy5jcm9wSWR9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pY29uTGlzdFsyXS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMueGZ6c0xhYi5zdHJpbmcgPSBcIitcIiArdGhpcy5kYXRhLnhmenM7XHJcbiAgICB9XHJcbiAgICBzdGFydFNob3coKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5pbkRhdGFbMF1cclxuICAgIH1cclxuICAgIC8v6aKG5Y+W5aWW5YqxXHJcbiAgICBvbkdldCgpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS50YXNrSWQgPT0gMSkge1xyXG4gICAgICAgICAgICBQbGF5ZXJNb2RlbC5zZXRNb25leSh0aGlzLmRhdGEudXNlclJlZEJlYW4sIHRoaXMuZGF0YS5yZWRCZWFuKVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhLnRhc2tJZCA9PSAyKSB7XHJcbiAgICAgICAgICAgIFBsYXllck1vZGVsLnNldEdvbGQodGhpcy5kYXRhLmdvbGQpXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEudGFza0lkID09IDMpIHtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0Tm9kZSA9IGNjLnYyKGNjLndpblNpemUud2lkdGggLyAyLCBjYy53aW5TaXplLmhlaWdodCAvIDIpXHJcbiAgICAgICAgICAgIEVmZmVjdE1hbmFnZXIucGxheUNyb3Aoc3RhcnROb2RlLCB0aGlzLmNyb3BJZCk7XHJcbiAgICAgICAgICAgIFBsYXllck1vZGVsLnNldEhvdXNlQWRkQ3JvcCh0aGlzLmNyb3BJZCwgMyk7XHJcblxyXG4gICAgICAgICAgICBQbGF5ZXJNb2RlbC5jaGVja0FkZE9yZGVyKHRoaXMuY3JvcElkLCAzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUub3JkZXJTdWNjZXNzVmlldyk7XHJcbiAgICAgICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuT1JERVJfQ09NUExFVEVfVVBEQVRFKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAvLyBQbGF5ZXJNb2RlbC5zZXRHb2xkKHRoaXMuZGF0YS5nb2xkKVxyXG4gICAgICAgICAgICAvL+WinuWKoOS9nOeJqVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgUGxheWVyTW9kZWwuc2V0WGZ6cyh0aGlzLmRhdGEueGZ6cyk7XHJcbiAgICAgICAgdGhpcy5vbkNsb3NlKCk7XHJcblxyXG4gICAgfVxyXG4gICAgb25WaWRlb0JhY2soKTogdm9pZCB7XHJcbiAgICAgICAgLy8gUGxheWVyTW9kZWwuc2V0R29sZCh0aGlzLmRhdGFbXCJtb25leVwiXSAqIDIsIGNjLnYyKGNjLndpblNpemUud2lkdGggLyAyLCBjYy53aW5TaXplLmhlaWdodCAvIDIpKVxyXG4gICAgfVxyXG4gICAgb25DbG9zZUhhbmRsZXIoKSB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlRBU0tfSVRFTV9DSEFORywgMCk7XHJcbiAgICAgICAgdGhpcy5vbkNsb3NlKCk7XHJcbiAgICB9XHJcbiAgICBvbkNsb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/popView/PopZlView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a4e3exTl9hA7bfMTOd1d9V2', 'PopZlView');
// src/game/view/popView/PopZlView.ts

"use strict";
// 一建招揽
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var CConst_1 = require("../../consts/CConst");
var Global_1 = require("../../consts/Global");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PopZlView = /** @class */ (function (_super) {
    __extends(PopZlView, _super);
    function PopZlView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.numLb = null;
        _this.btnClose = null;
        _this.btnVideo = null;
        _this.btnOk = null;
        // LIFE-CYCLE CALLBACKS:
        _this.mId = 0;
        return _this;
        // update (dt) {}
    }
    PopZlView.prototype.onLoad = function () {
    };
    PopZlView.prototype.onEnable = function () {
        // 关闭面板
        EventDispath_1.default.on(this.btnClose, this.onCloseHandle, this);
        EventDispath_1.default.on(this.btnOk, this.onClickHandle, this);
        EventDispath_1.default.on(this.btnVideo, this.onVideo, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
    };
    PopZlView.prototype.startShow = function () {
        this.numLb.string = "" + ConfigManager_1.default.getPropById(CConst_1.propType.wall, PlayerModel_1.default.getUIConfig().walllv).add_num;
    };
    PopZlView.prototype.onClickHandle = function () {
        //升级围墙
        UIMananger_1.default.showPanel(UIType_1.default.LvUpView, null, null, UIEffectManager_1.UIEffectType.SCALE, 3);
        this.onCloseHandle();
    };
    PopZlView.prototype.onVideo = function () {
        SDKManager_1.default.showAd(Global_1.default.VIDEO_CONFIG.video1);
    };
    PopZlView.prototype.onVideoBack = function () {
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, this.onVideoBack, this);
        EventDispath_1.default.send(EventType_1.EventType.ONE_SOLICIT);
        this.onVideoClose();
    };
    PopZlView.prototype.onVideoClose = function () {
        _super.prototype.close1.call(this);
    };
    PopZlView.prototype.onCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Label)
    ], PopZlView.prototype, "numLb", void 0);
    __decorate([
        property(cc.Node)
    ], PopZlView.prototype, "btnClose", void 0);
    __decorate([
        property(cc.Node)
    ], PopZlView.prototype, "btnVideo", void 0);
    __decorate([
        property(cc.Node)
    ], PopZlView.prototype, "btnOk", void 0);
    PopZlView = __decorate([
        ccclass
    ], PopZlView);
    return PopZlView;
}(BasePanel_1.default));
exports.default = PopZlView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3BvcFZpZXcvUG9wWmxWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxPQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFUCxvRUFBK0Q7QUFDL0QsOEVBQTBFO0FBQzFFLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDZEQUF3RDtBQUN4RCw4Q0FBK0M7QUFDL0MsOENBQXlDO0FBQ3pDLDhDQUF5QztBQUN6Qyx1REFBa0Q7QUFDbEQsNkRBQXdEO0FBRWxELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQXVDLDZCQUFTO0lBQWhEO1FBQUEscUVBcURDO1FBbERHLFdBQUssR0FBYSxJQUFJLENBQUM7UUFFdkIsY0FBUSxHQUFZLElBQUksQ0FBQztRQUV6QixjQUFRLEdBQVksSUFBSSxDQUFDO1FBRXpCLFdBQUssR0FBWSxJQUFJLENBQUM7UUFHdEIsd0JBQXdCO1FBQ3hCLFNBQUcsR0FBRyxDQUFDLENBQUM7O1FBdUNSLGlCQUFpQjtJQUNyQixDQUFDO0lBdENHLDBCQUFNLEdBQU47SUFFQSxDQUFDO0lBRVMsNEJBQVEsR0FBbEI7UUFDSSxPQUFPO1FBQ1Asc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pELHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0RCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFbkQsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2hGLENBQUM7SUFFRCw2QkFBUyxHQUFUO1FBQ0ksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsRUFBRSxHQUFHLHVCQUFhLENBQUMsV0FBVyxDQUFDLGlCQUFRLENBQUMsSUFBSSxFQUFFLHFCQUFXLENBQUMsV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDO0lBQ2hILENBQUM7SUFDRCxpQ0FBYSxHQUFiO1FBQ0ksTUFBTTtRQUNOLG9CQUFVLENBQUMsU0FBUyxDQUFDLGdCQUFNLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsOEJBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFDRCwyQkFBTyxHQUFQO1FBQ0ksb0JBQVUsQ0FBQyxNQUFNLENBQUMsZ0JBQU0sQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUNELCtCQUFXLEdBQVg7UUFDSSxzQkFBWSxDQUFDLGFBQWEsQ0FBQyxxQkFBUyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pFLHNCQUFZLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFDRCxnQ0FBWSxHQUFaO1FBQ0ksaUJBQU0sTUFBTSxXQUFFLENBQUM7SUFDbkIsQ0FBQztJQUVELGlDQUFhLEdBQWI7UUFDSSxpQkFBTSxLQUFLLFdBQUUsQ0FBQztJQUNsQixDQUFDO0lBL0NEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7NENBQ0k7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsrQ0FDTztJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOytDQUNPO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7NENBQ0k7SUFUTCxTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBcUQ3QjtJQUFELGdCQUFDO0NBckRELEFBcURDLENBckRzQyxtQkFBUyxHQXFEL0M7a0JBckRvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8g5LiA5bu65oub5o+9XHJcblxyXG5pbXBvcnQgU0RLTWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvU0RLTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBVSUVmZmVjdFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlFZmZlY3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBVSU1hbmFuZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBCYXNlUGFuZWwgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay91aS9CYXNlUGFuZWxcIjtcclxuaW1wb3J0IHsgcHJvcFR5cGUgfSBmcm9tIFwiLi4vLi4vY29uc3RzL0NDb25zdFwiO1xyXG5pbXBvcnQgR2xvYmFsIGZyb20gXCIuLi8uLi9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0cy9VSVR5cGVcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wWmxWaWV3IGV4dGVuZHMgQmFzZVBhbmVsIHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBudW1MYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5DbG9zZTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0blZpZGVvOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuT2s6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuICAgIG1JZCA9IDA7XHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8g5YWz6Zet6Z2i5p2/XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuQ2xvc2UsIHRoaXMub25DbG9zZUhhbmRsZSwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuT2ssIHRoaXMub25DbGlja0hhbmRsZSwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuVmlkZW8sIHRoaXMub25WaWRlbywgdGhpcyk7XHJcblxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5WSURFT19CQUNLLCB0aGlzLm9uVmlkZW9CYWNrLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydFNob3coKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5udW1MYi5zdHJpbmcgPSBcIlwiICsgQ29uZmlnTWFuYWdlci5nZXRQcm9wQnlJZChwcm9wVHlwZS53YWxsLCBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLndhbGxsdikuYWRkX251bTtcclxuICAgIH1cclxuICAgIG9uQ2xpY2tIYW5kbGUoKSB7XHJcbiAgICAgICAgLy/ljYfnuqflm7TloplcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUuTHZVcFZpZXcsIG51bGwsIG51bGwsIFVJRWZmZWN0VHlwZS5TQ0FMRSwgMyk7XHJcbiAgICAgICAgdGhpcy5vbkNsb3NlSGFuZGxlKCk7XHJcbiAgICB9XHJcbiAgICBvblZpZGVvKCkge1xyXG4gICAgICAgIFNES01hbmFnZXIuc2hvd0FkKEdsb2JhbC5WSURFT19DT05GSUcudmlkZW8xKTtcclxuICAgIH1cclxuICAgIG9uVmlkZW9CYWNrKCkge1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5yZW1vdmVCeUV2ZW50KEV2ZW50VHlwZS5WSURFT19CQUNLLCB0aGlzLm9uVmlkZW9CYWNrLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuT05FX1NPTElDSVQpO1xyXG4gICAgICAgIHRoaXMub25WaWRlb0Nsb3NlKCk7XHJcbiAgICB9XHJcbiAgICBvblZpZGVvQ2xvc2UoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UxKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25DbG9zZUhhbmRsZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/hbPop/HardOpenView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '19b77tMaj9DCY4XyPjMaO2T', 'HardOpenView');
// src/game/view/hbPop/HardOpenView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispath_1 = require("../../../framework/message/EventDispath");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var PlayerModel_1 = require("../../datas/PlayerModel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 打开红包
 * TODO:
 */
var HardOpenView = /** @class */ (function (_super) {
    __extends(HardOpenView, _super);
    function HardOpenView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_open = null;
        _this.numLb = null;
        return _this;
    }
    HardOpenView.prototype.onEnable = function () {
        EventDispath_1.default.on(this.btn_open, this.onOpen, this);
        this.initUI();
    };
    HardOpenView.prototype.startShow = function () {
        this.mData = this.inData[0];
    };
    HardOpenView.prototype.initUI = function () {
        this.numLb.string = Number(this.mData.redBean).toFixed(2) + "元";
    };
    HardOpenView.prototype.onOpen = function () {
        PlayerModel_1.default.setMoney(this.mData.userRedBean, this.mData.redBean);
        // if (this.isFirst) {
        this.onBtnCloseHandle();
    };
    HardOpenView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], HardOpenView.prototype, "btn_open", void 0);
    __decorate([
        property(cc.Label)
    ], HardOpenView.prototype, "numLb", void 0);
    HardOpenView = __decorate([
        ccclass
    ], HardOpenView);
    return HardOpenView;
}(BasePanel_1.default));
exports.default = HardOpenView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L2hiUG9wL0hhcmRPcGVuVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtsRix3RUFBbUU7QUFHbkUsNkRBQXdEO0FBSXhELHVEQUFrRDtBQUc1QyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1Qzs7O0dBR0c7QUFFSDtJQUEwQyxnQ0FBUztJQUFuRDtRQUFBLHFFQThCQztRQTVCRyxjQUFRLEdBQVksSUFBSSxDQUFDO1FBRXpCLFdBQUssR0FBYSxJQUFJLENBQUM7O0lBMEIzQixDQUFDO0lBdkJHLCtCQUFRLEdBQVI7UUFFSSxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFbEQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxnQ0FBUyxHQUFUO1FBQ0ksSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCw2QkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUNwRSxDQUFDO0lBQ0QsNkJBQU0sR0FBTjtRQUNJLHFCQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDakUsc0JBQXNCO1FBQ3RCLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFFRCx1Q0FBZ0IsR0FBaEI7UUFDSSxpQkFBTSxLQUFLLFdBQUUsQ0FBQztJQUNsQixDQUFDO0lBM0JEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7a0RBQ087SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzsrQ0FDSTtJQUpOLFlBQVk7UUFEaEMsT0FBTztPQUNhLFlBQVksQ0E4QmhDO0lBQUQsbUJBQUM7Q0E5QkQsQUE4QkMsQ0E5QnlDLG1CQUFTLEdBOEJsRDtrQkE5Qm9CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgU0RLTWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvU0RLTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBVSUVmZmVjdFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlFZmZlY3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBVSU1hbmFuZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50RGlzcGF0aFwiO1xyXG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnRUeXBlXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgQmFzZVBhbmVsIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdWkvQmFzZVBhbmVsXCI7XHJcbmltcG9ydCB7IGNyb3BfY29uZmlnIH0gZnJvbSBcIi4uLy4uL2NvbnN0cy9DQ29uc3RcIjtcclxuaW1wb3J0IEdsb2JhbCBmcm9tIFwiLi4vLi4vY29uc3RzL0dsb2JhbFwiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IENvbmZpZ01hbmFnZXIgZnJvbSBcIi4uLy4uL21hbmFnZXIvQ29uZmlnTWFuYWdlclwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbi8qKlxyXG4gKiDmiZPlvIDnuqLljIVcclxuICogVE9ETzpcclxuICovXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhhcmRPcGVuVmlldyBleHRlbmRzIEJhc2VQYW5lbCB7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9vcGVuOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIG51bUxiOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgbURhdGE7XHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX29wZW4sIHRoaXMub25PcGVuLCB0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydFNob3coKSB7XHJcbiAgICAgICAgdGhpcy5tRGF0YSA9IHRoaXMuaW5EYXRhWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRVSSgpIHtcclxuICAgICAgICB0aGlzLm51bUxiLnN0cmluZyA9IE51bWJlcih0aGlzLm1EYXRhLnJlZEJlYW4pLnRvRml4ZWQoMikgKyBcIuWFg1wiO1xyXG4gICAgfVxyXG4gICAgb25PcGVuKCkge1xyXG4gICAgICAgIFBsYXllck1vZGVsLnNldE1vbmV5KHRoaXMubURhdGEudXNlclJlZEJlYW4sIHRoaXMubURhdGEucmVkQmVhbik7XHJcbiAgICAgICAgLy8gaWYgKHRoaXMuaXNGaXJzdCkge1xyXG4gICAgICAgIHRoaXMub25CdG5DbG9zZUhhbmRsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQnRuQ2xvc2VIYW5kbGUoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/task/TaskView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a8249LJXktOpJFC6trA330m', 'TaskView');
// src/game/view/task/TaskView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var AVirtualScrollView_1 = require("./AVirtualScrollView");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 升级界面
 * TODO:
 * initPropHasList这个方法可以移至更早的登录初始化环节
 */
var TaskView = /** @class */ (function (_super) {
    __extends(TaskView, _super);
    function TaskView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_close = null;
        _this.scroller = null;
        return _this;
    }
    TaskView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.TASK_UPDATE, this.initUI, this);
        this.initUI();
    };
    TaskView.prototype.onLoad = function () {
    };
    TaskView.prototype.start = function () {
    };
    TaskView.prototype.startShow = function () {
    };
    TaskView.prototype.initUI = function () {
        this.mData = SDKManager_1.default.getDailyTaskInfo();
        this.scroller.refreshData(this.mData);
    };
    /** 仅用于关闭操作 */
    TaskView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], TaskView.prototype, "btn_close", void 0);
    __decorate([
        property(AVirtualScrollView_1.default)
    ], TaskView.prototype, "scroller", void 0);
    TaskView = __decorate([
        ccclass
    ], TaskView);
    return TaskView;
}(BasePanel_1.default));
exports.default = TaskView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3Rhc2svVGFza1ZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsb0VBQStEO0FBQy9ELHdFQUFtRTtBQUNuRSxrRUFBaUU7QUFHakUsNkRBQXdEO0FBR3hELDJEQUFzRDtBQUVoRCxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1Qzs7OztHQUlHO0FBRUg7SUFBc0MsNEJBQVM7SUFBL0M7UUFBQSxxRUFtQ0M7UUFoQ0csZUFBUyxHQUFZLElBQUksQ0FBQztRQUcxQixjQUFRLEdBQXVCLElBQUksQ0FBQzs7SUE2QnhDLENBQUM7SUExQkcsMkJBQVEsR0FBUjtRQUNJLEtBQUs7UUFDTCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU3RCxzQkFBWSxDQUFDLGdCQUFnQixDQUFDLHFCQUFTLENBQUMsV0FBVyxFQUFDLElBQUksQ0FBQyxNQUFNLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDdEUsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFDUyx5QkFBTSxHQUFoQjtJQUVBLENBQUM7SUFDUyx3QkFBSyxHQUFmO0lBQ0EsQ0FBQztJQUVELDRCQUFTLEdBQVQ7SUFDQSxDQUFDO0lBRUQseUJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxLQUFLLEdBQUcsb0JBQVUsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQzNDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBR0QsY0FBYztJQUNkLG1DQUFnQixHQUFoQjtRQUNJLGlCQUFNLEtBQUssV0FBRSxDQUFDO0lBQ2xCLENBQUM7SUEvQkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsrQ0FDUTtJQUcxQjtRQURDLFFBQVEsQ0FBQyw0QkFBa0IsQ0FBQzs4Q0FDTztJQU5uQixRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBbUM1QjtJQUFELGVBQUM7Q0FuQ0QsQUFtQ0MsQ0FuQ3FDLG1CQUFTLEdBbUM5QztrQkFuQ29CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgU0RLTWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvU0RLTWFuYWdlclwiO1xyXG5pbXBvcnQgRXZlbnREaXNwYXRoIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tZXNzYWdlL0V2ZW50VHlwZVwiO1xyXG5pbXBvcnQgU29ydFV0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvU29ydFV0aWxzXCI7XHJcbmltcG9ydCBVdGlscyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL1V0aWxzXCI7XHJcbmltcG9ydCBCYXNlUGFuZWwgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay91aS9CYXNlUGFuZWxcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcbmltcG9ydCBBVmlydHVhbFNjcm9sbFZpZXcgZnJvbSBcIi4vQVZpcnR1YWxTY3JvbGxWaWV3XCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuLyoqXHJcbiAqIOWNh+e6p+eVjOmdolxyXG4gKiBUT0RPOlxyXG4gKiBpbml0UHJvcEhhc0xpc3Tov5nkuKrmlrnms5Xlj6/ku6Xnp7voh7Pmm7Tml6nnmoTnmbvlvZXliJ3lp4vljJbnjq/oioJcclxuICovXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhc2tWaWV3IGV4dGVuZHMgQmFzZVBhbmVsIHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9jbG9zZTogY2MuTm9kZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KEFWaXJ0dWFsU2Nyb2xsVmlldylcclxuICAgIHNjcm9sbGVyOiBBVmlydHVhbFNjcm9sbFZpZXcgPSBudWxsO1xyXG5cclxuICAgIG1EYXRhO1xyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgLy8g6YCA5Ye6XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2Nsb3NlLCB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUsIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVEFTS19VUERBVEUsdGhpcy5pbml0VUksdGhpcyk7XHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBvbkxvYWQoKTogdm9pZCB7XHJcblxyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIHN0YXJ0KCk6IHZvaWQge1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0U2hvdygpIHtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaW5pdFVJKCkge1xyXG4gICAgICAgIHRoaXMubURhdGEgPSBTREtNYW5hZ2VyLmdldERhaWx5VGFza0luZm8oKTtcclxuICAgICAgICB0aGlzLnNjcm9sbGVyLnJlZnJlc2hEYXRhKHRoaXMubURhdGEpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKiog5LuF55So5LqO5YWz6Zet5pON5L2cICovXHJcbiAgICBvbkJ0bkNsb3NlSGFuZGxlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/vegetables/VegetablesView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '850e3f+WcZFdqzDG55D2eBe', 'VegetablesView');
// src/game/view/vegetables/VegetablesView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var AVirtualScrollView_1 = require("../task/AVirtualScrollView");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 种菜界面
 * TODO:
 * 1、未解锁的图标显示的形式是蒙灰的效果还是加个锁子的效果；
 * 2、种菜界面的文档介绍要求点击解锁的是直接购买，但在详情界面是有已经解锁的蔬菜界面，同时点击详情界面的也可以购买，这里两段文档似乎有些冲突，目前处理方式是都弹详情，在详情中完成购买操作
 */
var VegetablesView = /** @class */ (function (_super) {
    __extends(VegetablesView, _super);
    function VegetablesView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_close = null;
        _this.btn_lvUp = null;
        _this.scroller = null;
        _this.VegetablesItem = null;
        _this.haveCropIds = [];
        return _this;
    }
    VegetablesView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        // 购买成功
        EventDispath_1.default.addEventListener(EventType_1.EventType.CROP_PLANT, this.onBtnCloseHandle, this);
        //土地升级
        EventDispath_1.default.on(this.btn_lvUp, this.onOpenLvUp, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.VEGETABLES_UPDATE, this.initUI, this);
        this.scroller.node.active = false;
        // MKUtils.setNodeDelay(this.node, 0.1, this.initUI.bind(this))
        this.initUI();
    };
    VegetablesView.prototype.onDisable = function () {
    };
    VegetablesView.prototype.on_Show = function (args) {
        // this.initUI();
        // // MKUtils.setNodeDelay(this.node, 0.1, this.initUI.bind(this))
        _super.prototype.on_Show.call(this, args);
    };
    VegetablesView.prototype.start = function () {
        if (PlayerModel_1.default.guideStep >= 0) {
            MkUtils_1.default.setNodeDelay(this.node, 0.5, function () {
                EventDispath_1.default.send(EventType_1.EventType.GUIDE_UPDATE);
            });
        }
    };
    VegetablesView.prototype.initUI = function () {
        var _this = this;
        this.scrollerData = [];
        this.scrollerData = ConfigManager_1.default.crop.slice(1);
        // 库存
        this.haveCropIds = PlayerModel_1.default.getUnlockCrop();
        this.haveCropIds.sort(function (a, b) {
            return a - b;
        });
        var hotIndex = 0;
        for (var i = 0; i < this.scrollerData.length; i++) {
            var cfg = this.scrollerData[i];
            var isLock = this.haveCropIds.indexOf(cfg.id) == -1;
            var isOrder = this.checkInOrder(cfg.id);
            var data = { isLock: isLock, isOrder: isOrder };
            if (isOrder)
                hotIndex = i;
            for (var key in data) {
                cfg[key] = data[key];
            }
            // let item = cc.instantiate(this.VegetablesItem);
            // if (item) {
            // if (i == 0) this.guideItem = item;//引导item
            // this.uScrollView.content.addChild(item);
            // }
        }
        this.scroller.refreshData(this.scrollerData);
        this.scroller.scrollToTop();
        MkUtils_1.default.setNodeDelay(this.node, 0.1, function () {
            _this.scroller.node.active = true;
        });
        // if (hotIndex > 12) {
        //     this.scroller.scrollTo(cc.v2(0, 0))
        // }
    };
    //检测是否在订单中
    VegetablesView.prototype.checkInOrder = function (id) {
        if (PlayerModel_1.default.haveOrder()) {
            var orderList = PlayerModel_1.default.getCurrentOrder().cropList;
            var arr = orderList.filter(function (data) {
                return data.cropId == id;
            });
            if (arr.length > 0)
                return true;
        }
        return false;
    };
    VegetablesView.prototype.onOpenLvUp = function () {
        //打开集市管理页面
        UIMananger_1.default.showPanel(UIType_1.default.LvUpView, null, null, UIEffectManager_1.UIEffectType.SCALE, 1);
        this.onBtnCloseHandle();
    };
    /** 仅用于关闭操作 */
    VegetablesView.prototype.onBtnCloseHandle = function () {
        EventDispath_1.default.send(EventType_1.EventType.VEGETABLE_CLOSE);
        _super.prototype.close.call(this);
    };
    VegetablesView.prototype.getGuidePoint = function () {
        var p = this.scroller.getItemByIndex(0).convertToWorldSpaceAR(cc.v2(0, 0));
        return p;
    };
    VegetablesView.prototype.getGuidePoint1 = function () {
        var p = this.scroller.getItemByIndex(1).convertToWorldSpaceAR(cc.v2(0, 0));
        return p;
    };
    __decorate([
        property(cc.Node)
    ], VegetablesView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Node)
    ], VegetablesView.prototype, "btn_lvUp", void 0);
    __decorate([
        property(AVirtualScrollView_1.default)
    ], VegetablesView.prototype, "scroller", void 0);
    __decorate([
        property(cc.Prefab)
    ], VegetablesView.prototype, "VegetablesItem", void 0);
    VegetablesView = __decorate([
        ccclass
    ], VegetablesView);
    return VegetablesView;
}(BasePanel_1.default));
exports.default = VegetablesView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3ZlZ2V0YWJsZXMvVmVnZXRhYmxlc1ZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsOEVBQTBFO0FBQzFFLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDREQUF1RDtBQUN2RCw2REFBd0Q7QUFFeEQsOENBQXlDO0FBQ3pDLHVEQUFrRDtBQUNsRCw2REFBd0Q7QUFDeEQsaUVBQTREO0FBR3RELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRTVDOzs7OztHQUtHO0FBRUg7SUFBNEMsa0NBQVM7SUFBckQ7UUFBQSxxRUEwSEM7UUF2SEcsZUFBUyxHQUFZLElBQUksQ0FBQTtRQUV6QixjQUFRLEdBQVksSUFBSSxDQUFBO1FBR3hCLGNBQVEsR0FBdUIsSUFBSSxDQUFDO1FBR3BDLG9CQUFjLEdBQWMsSUFBSSxDQUFDO1FBRWpDLGlCQUFXLEdBQUcsRUFBRSxDQUFDOztJQTZHckIsQ0FBQztJQTFHRyxpQ0FBUSxHQUFSO1FBQ0ksS0FBSztRQUNMLHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzdELE9BQU87UUFDUCxzQkFBWSxDQUFDLGdCQUFnQixDQUFDLHFCQUFTLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNqRixNQUFNO1FBQ04sc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FB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LENBQUM7SUFySEQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztxREFDTztJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO29EQUNNO0lBR3hCO1FBREMsUUFBUSxDQUFDLDRCQUFrQixDQUFDO29EQUNPO0lBR3BDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7MERBQ2E7SUFYaEIsY0FBYztRQURsQyxPQUFPO09BQ2EsY0FBYyxDQTBIbEM7SUFBRCxxQkFBQztDQTFIRCxBQTBIQyxDQTFIMkMsbUJBQVMsR0EwSHBEO2tCQTFIb0IsY0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Na1V0aWxzXCI7XHJcbmltcG9ydCBCYXNlUGFuZWwgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay91aS9CYXNlUGFuZWxcIjtcclxuaW1wb3J0IHsgY3JvcF9jb25maWcgfSBmcm9tIFwiLi4vLi4vY29uc3RzL0NDb25zdFwiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IENvbmZpZ01hbmFnZXIgZnJvbSBcIi4uLy4uL21hbmFnZXIvQ29uZmlnTWFuYWdlclwiO1xyXG5pbXBvcnQgQVZpcnR1YWxTY3JvbGxWaWV3IGZyb20gXCIuLi90YXNrL0FWaXJ0dWFsU2Nyb2xsVmlld1wiO1xyXG5pbXBvcnQgVmVnZXRhYmxlc0l0ZW0gZnJvbSBcIi4vVmVnZXRhYmxlc0l0ZW1cIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG4vKipcclxuICog56eN6I+c55WM6Z2iXHJcbiAqIFRPRE86XHJcbiAqIDHjgIHmnKrop6PplIHnmoTlm77moIfmmL7npLrnmoTlvaLlvI/mmK/okpnngbDnmoTmlYjmnpzov5jmmK/liqDkuKrplIHlrZDnmoTmlYjmnpzvvJtcclxuICogMuOAgeenjeiPnOeVjOmdoueahOaWh+aho+S7i+e7jeimgeaxgueCueWHu+ino+mUgeeahOaYr+ebtOaOpei0reS5sO+8jOS9huWcqOivpuaDheeVjOmdouaYr+acieW3sue7j+ino+mUgeeahOiUrOiPnOeVjOmdou+8jOWQjOaXtueCueWHu+ivpuaDheeVjOmdoueahOS5n+WPr+S7pei0reS5sO+8jOi/memHjOS4pOauteaWh+aho+S8vOS5juacieS6m+WGsueqge+8jOebruWJjeWkhOeQhuaWueW8j+aYr+mDveW8ueivpuaDhe+8jOWcqOivpuaDheS4reWujOaIkOi0reS5sOaTjeS9nFxyXG4gKi9cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVnZXRhYmxlc1ZpZXcgZXh0ZW5kcyBCYXNlUGFuZWwge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuX2Nsb3NlOiBjYy5Ob2RlID0gbnVsbFxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5fbHZVcDogY2MuTm9kZSA9IG51bGxcclxuXHJcbiAgICBAcHJvcGVydHkoQVZpcnR1YWxTY3JvbGxWaWV3KVxyXG4gICAgc2Nyb2xsZXI6IEFWaXJ0dWFsU2Nyb2xsVmlldyA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIFZlZ2V0YWJsZXNJdGVtOiBjYy5QcmVmYWIgPSBudWxsO1xyXG5cclxuICAgIGhhdmVDcm9wSWRzID0gW107XHJcblxyXG4gICAgc2Nyb2xsZXJEYXRhOiBhbnlbXTtcclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOmAgOWHulxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9jbG9zZSwgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuICAgICAgICAvLyDotK3kubDmiJDlip9cclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ1JPUF9QTEFOVCwgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuICAgICAgICAvL+Wcn+WcsOWNh+e6p1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9sdlVwLCB0aGlzLm9uT3Blbkx2VXAsIHRoaXMpO1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVkVHRVRBQkxFU19VUERBVEUsIHRoaXMuaW5pdFVJLCB0aGlzKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsZXIubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAvLyBNS1V0aWxzLnNldE5vZGVEZWxheSh0aGlzLm5vZGUsIDAuMSwgdGhpcy5pbml0VUkuYmluZCh0aGlzKSlcclxuICAgICAgICB0aGlzLmluaXRVSSgpO1xyXG5cclxuICAgIH1cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgIH1cclxuXHJcbiAgICBvbl9TaG93KGFyZ3M6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIC8vIHRoaXMuaW5pdFVJKCk7XHJcbiAgICAgICAgLy8gLy8gTUtVdGlscy5zZXROb2RlRGVsYXkodGhpcy5ub2RlLCAwLjEsIHRoaXMuaW5pdFVJLmJpbmQodGhpcykpXHJcbiAgICAgICAgc3VwZXIub25fU2hvdyhhcmdzKTtcclxuICAgIH1cclxuICAgIHByb3RlY3RlZCBzdGFydCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoUGxheWVyTW9kZWwuZ3VpZGVTdGVwID49IDApIHtcclxuICAgICAgICAgICAgTUtVdGlscy5zZXROb2RlRGVsYXkodGhpcy5ub2RlLCAwLjUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5HVUlERV9VUERBVEUpXHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbml0VUkoKSB7XHJcbiAgICAgICAgdGhpcy5zY3JvbGxlckRhdGEgPSBbXTtcclxuICAgICAgICB0aGlzLnNjcm9sbGVyRGF0YSA9IENvbmZpZ01hbmFnZXIuY3JvcC5zbGljZSgxKTtcclxuICAgICAgICAvLyDlupPlrZhcclxuICAgICAgICB0aGlzLmhhdmVDcm9wSWRzID0gUGxheWVyTW9kZWwuZ2V0VW5sb2NrQ3JvcCgpO1xyXG4gICAgICAgIHRoaXMuaGF2ZUNyb3BJZHMuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYSAtIGI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBsZXQgaG90SW5kZXggPSAwO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2Nyb2xsZXJEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBjZmcgPSB0aGlzLnNjcm9sbGVyRGF0YVtpXTtcclxuICAgICAgICAgICAgbGV0IGlzTG9jayA9IHRoaXMuaGF2ZUNyb3BJZHMuaW5kZXhPZihjZmcuaWQpID09IC0xO1xyXG4gICAgICAgICAgICBsZXQgaXNPcmRlciA9IHRoaXMuY2hlY2tJbk9yZGVyKGNmZy5pZCk7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0geyBpc0xvY2s6IGlzTG9jaywgaXNPcmRlcjogaXNPcmRlciB9O1xyXG4gICAgICAgICAgICBpZiAoaXNPcmRlcikgaG90SW5kZXggPSBpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY2ZnW2tleV0gPSBkYXRhW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbGV0IGl0ZW0gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLlZlZ2V0YWJsZXNJdGVtKTtcclxuICAgICAgICAgICAgLy8gaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgLy8gaWYgKGkgPT0gMCkgdGhpcy5ndWlkZUl0ZW0gPSBpdGVtOy8v5byV5a+8aXRlbVxyXG4gICAgICAgICAgICAvLyB0aGlzLnVTY3JvbGxWaWV3LmNvbnRlbnQuYWRkQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbGVyLnJlZnJlc2hEYXRhKHRoaXMuc2Nyb2xsZXJEYXRhKTtcclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGxlci5zY3JvbGxUb1RvcCgpO1xyXG4gICAgICAgIE1LVXRpbHMuc2V0Tm9kZURlbGF5KHRoaXMubm9kZSwgMC4xLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXIubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy8gaWYgKGhvdEluZGV4ID4gMTIpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5zY3JvbGxlci5zY3JvbGxUbyhjYy52MigwLCAwKSlcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgfVxyXG4gICAgLy/mo4DmtYvmmK/lkKblnKjorqLljZXkuK1cclxuICAgIGNoZWNrSW5PcmRlcihpZCkge1xyXG4gICAgICAgIGlmIChQbGF5ZXJNb2RlbC5oYXZlT3JkZXIoKSkge1xyXG4gICAgICAgICAgICBsZXQgb3JkZXJMaXN0ID0gUGxheWVyTW9kZWwuZ2V0Q3VycmVudE9yZGVyKCkuY3JvcExpc3Q7XHJcbiAgICAgICAgICAgIGxldCBhcnIgPSBvcmRlckxpc3QuZmlsdGVyKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jcm9wSWQgPT0gaWQ7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGlmIChhcnIubGVuZ3RoID4gMCkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgb25PcGVuTHZVcCgpIHtcclxuICAgICAgICAvL+aJk+W8gOmbhuW4gueuoeeQhumhtemdolxyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5MdlVwVmlldywgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCAxKTtcclxuICAgICAgICB0aGlzLm9uQnRuQ2xvc2VIYW5kbGUoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqIOS7heeUqOS6juWFs+mXreaTjeS9nCAqL1xyXG4gICAgb25CdG5DbG9zZUhhbmRsZSgpIHtcclxuICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuVkVHRVRBQkxFX0NMT1NFKVxyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R3VpZGVQb2ludCgpIHtcclxuICAgICAgICBsZXQgcCA9IHRoaXMuc2Nyb2xsZXIuZ2V0SXRlbUJ5SW5kZXgoMCkuY29udmVydFRvV29ybGRTcGFjZUFSKGNjLnYyKDAsIDApKTtcclxuICAgICAgICByZXR1cm4gcDtcclxuICAgIH1cclxuICAgIGdldEd1aWRlUG9pbnQxKCkge1xyXG4gICAgICAgIGxldCBwID0gdGhpcy5zY3JvbGxlci5nZXRJdGVtQnlJbmRleCgxKS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoMCwgMCkpO1xyXG4gICAgICAgIHJldHVybiBwO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/vegetables/VegetablesItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '06ca6CIYapGjaktI/341WQD', 'VegetablesItem');
// src/game/view/vegetables/VegetablesItem.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var AItemRenerer_1 = require("../task/AItemRenerer");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var VegetablesItem = /** @class */ (function (_super) {
    __extends(VegetablesItem, _super);
    function VegetablesItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn = null;
        _this.orderTips = null;
        _this.uImgCrop = null;
        _this.ulabelName = null;
        _this.uImgLock = null;
        _this.uImgMask = null;
        _this.isLock = true; // 当前item是否未解锁
        return _this;
    }
    VegetablesItem.prototype.onLoad = function () {
        // EventDispath.on(this.node, this.onSelect, this);
        // this.setTouchCallback(this.onSelect, this);
    };
    VegetablesItem.prototype.dataChanged = function () {
        // console.log(this.data);
        this.initUI();
    };
    VegetablesItem.prototype.initUI = function () {
        var _this = this;
        this.orderTips.active = false;
        if (this.data.isOrder)
            this.orderTips.active = true;
        MkUtils_1.default.loadSpriteFrame("texture/crop/icon/" + ("" + this.data["id"]), function (res) {
            _this.uImgCrop.spriteFrame = res;
        });
        this.ulabelName.string = "" + this.data.name;
        this.isLock = this.data.isLock;
        this.btn.active = this.isLock ? false : true;
        this.uImgLock.active = this.isLock ? true : false;
        this.uImgMask.active = this.uImgLock.active;
    };
    // setData(data: crop_config, haveIds: number[]) {
    //     MKUtils.loadSpriteFrame("texture/crop/singleIcon/" + `${data.id}`, (res) => {
    //         this.uImgCrop.spriteFrame = res;
    //     });
    //     this.ulabelName.string = `${data.name}`;
    //     this.ulabelCount.string = `${data.money}`;
    //     this.isLock = haveIds.indexOf(data.id) == -1;
    //     this.uImgLock.enabled = this.isLock ? true : false;
    //     this.uImgMask.enabled = this.uImgLock.enabled;
    //     // 是否是热卖
    //     let lastId = haveIds.length == 0 ? -1 : haveIds[haveIds.length - 1];
    //     let isHot = data.id == lastId;
    //     this.uImgFlag.enabled = isHot;
    //     this.uImgBgHot.enabled = isHot;
    //     this.uImgBg.enabled = !isHot;
    //     this.cropCfg = data;
    // }
    VegetablesItem.prototype.onSelect = function () {
        if (this.isLock) {
            this.onShowInfo();
            return;
        }
        EventDispath_1.default.send(EventType_1.EventType.CROP_PLANT, this.data.id);
        if (PlayerModel_1.default.guideStep >= 0) {
            EventDispath_1.default.send(EventType_1.EventType.GUIDE_UPDATE);
        }
    };
    /** 查看作物详情 */
    VegetablesItem.prototype.onShowInfo = function () {
        // 显示作物详情
        UIMananger_1.default.showPanel(UIType_1.default.VegetablesUnlockView, null, null, UIEffectManager_1.UIEffectType.SCALE, this.data.id);
    };
    VegetablesItem.prototype.onDestroy = function () {
        EventDispath_1.default.removeEventListeners(this);
    };
    __decorate([
        property(cc.Node)
    ], VegetablesItem.prototype, "btn", void 0);
    __decorate([
        property(cc.Node)
    ], VegetablesItem.prototype, "orderTips", void 0);
    __decorate([
        property(cc.Sprite)
    ], VegetablesItem.prototype, "uImgCrop", void 0);
    __decorate([
        property(cc.Label)
    ], VegetablesItem.prototype, "ulabelName", void 0);
    __decorate([
        property(cc.Node)
    ], VegetablesItem.prototype, "uImgLock", void 0);
    __decorate([
        property(cc.Node)
    ], VegetablesItem.prototype, "uImgMask", void 0);
    VegetablesItem = __decorate([
        ccclass
    ], VegetablesItem);
    return VegetablesItem;
}(AItemRenerer_1.default));
exports.default = VegetablesItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3ZlZ2V0YWJsZXMvVmVnZXRhYmxlc0l0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsOEVBQTBFO0FBQzFFLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFDbkUsa0VBQWlFO0FBQ2pFLDREQUF1RDtBQUV2RCw4Q0FBeUM7QUFDekMsdURBQWtEO0FBQ2xELHFEQUFpRDtBQUUzQyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUE0QyxrQ0FBcUI7SUFBakU7UUFBQSxxRUEyRkM7UUF0RkcsU0FBRyxHQUFZLElBQUksQ0FBQztRQUVwQixlQUFTLEdBQVksSUFBSSxDQUFDO1FBRzFCLGNBQVEsR0FBYyxJQUFJLENBQUM7UUFHM0IsZ0JBQVUsR0FBYSxJQUFJLENBQUM7UUFHNUIsY0FBUSxHQUFZLElBQUksQ0FBQztRQUd6QixjQUFRLEdBQVksSUFBSSxDQUFDO1FBRXpCLFlBQU0sR0FBWSxJQUFJLENBQUMsQ0FBUyxjQUFjOztJQXNFbEQsQ0FBQztJQXBFRywrQkFBTSxHQUFOO1FBQ0ksbURBQW1EO1FBQ25ELDhDQUE4QztJQUNsRCxDQUFDO0lBRVMsb0NBQVcsR0FBckI7UUFDSSwwQkFBMEI7UUFDMUIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFDRCwrQkFBTSxHQUFOO1FBQUEsaUJBZ0JDO1FBZEcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBRTlCLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPO1lBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBRXBELGlCQUFPLENBQUMsZUFBZSxDQUFDLG9CQUFvQixJQUFHLEtBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUcsQ0FBQSxFQUFFLFVBQUMsR0FBRztZQUNyRSxLQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUM7UUFDcEMsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxLQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBTSxDQUFDO1FBRTdDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDL0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDN0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDbEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7SUFFaEQsQ0FBQztJQUVELGtEQUFrRDtJQUNsRCxvRkFBb0Y7SUFDcEYsMkNBQTJDO0lBQzNDLFVBQVU7SUFDViwrQ0FBK0M7SUFDL0MsaURBQWlEO0lBRWpELG9EQUFvRDtJQUNwRCwwREFBMEQ7SUFDMUQscURBQXFEO0lBRXJELGVBQWU7SUFDZiwyRUFBMkU7SUFDM0UscUNBQXFDO0lBQ3JDLHFDQUFxQztJQUNyQyxzQ0FBc0M7SUFDdEMsb0NBQW9DO0lBRXBDLDJCQUEyQjtJQUMzQixJQUFJO0lBRUosaUNBQVEsR0FBUjtRQUNJLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNiLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUNsQixPQUFPO1NBQ1Y7UUFDRCxzQkFBWSxDQUFDLElBQUksQ0FBQyxxQkFBUyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3RELElBQUkscUJBQVcsQ0FBQyxTQUFTLElBQUksQ0FBQyxFQUFFO1lBQzVCLHNCQUFZLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsWUFBWSxDQUFDLENBQUE7U0FDNUM7SUFDTCxDQUFDO0lBRUQsYUFBYTtJQUNiLG1DQUFVLEdBQVY7UUFDSSxTQUFTO1FBQ1Qsb0JBQVUsQ0FBQyxTQUFTLENBQUMsZ0JBQU0sQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLDhCQUFZLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDcEcsQ0FBQztJQUVELGtDQUFTLEdBQVQ7UUFDSSxzQkFBWSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFyRkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzsrQ0FDRTtJQUVwQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3FEQUNRO0lBRzFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7b0RBQ087SUFHM0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztzREFDUztJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO29EQUNPO0lBR3pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7b0RBQ087SUFuQlIsY0FBYztRQURsQyxPQUFPO09BQ2EsY0FBYyxDQTJGbEM7SUFBRCxxQkFBQztDQTNGRCxBQTJGQyxDQTNGMkMsc0JBQWEsR0EyRnhEO2tCQTNGb0IsY0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IE1LVXRpbHMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay90b29scy9Na1V0aWxzXCI7XHJcbmltcG9ydCB7IGNyb3BfY29uZmlnIH0gZnJvbSBcIi4uLy4uL2NvbnN0cy9DQ29uc3RcIjtcclxuaW1wb3J0IFVJVHlwZSBmcm9tIFwiLi4vLi4vY29uc3RzL1VJVHlwZVwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCBBSXRlbVJlbmRlcmVyIGZyb20gXCIuLi90YXNrL0FJdGVtUmVuZXJlclwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlZ2V0YWJsZXNJdGVtIGV4dGVuZHMgQUl0ZW1SZW5kZXJlcjxzdHJpbmc+IHtcclxuXHJcblxyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgb3JkZXJUaXBzOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgdUltZ0Nyb3A6IGNjLlNwcml0ZSA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgdWxhYmVsTmFtZTogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdUltZ0xvY2s6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdUltZ01hc2s6IGNjLk5vZGUgPSBudWxsO1xyXG5cclxuICAgIGlzTG9jazogYm9vbGVhbiA9IHRydWU7ICAgICAgICAgLy8g5b2T5YmNaXRlbeaYr+WQpuacquino+mUgVxyXG5cclxuICAgIG9uTG9hZCgpIHtcclxuICAgICAgICAvLyBFdmVudERpc3BhdGgub24odGhpcy5ub2RlLCB0aGlzLm9uU2VsZWN0LCB0aGlzKTtcclxuICAgICAgICAvLyB0aGlzLnNldFRvdWNoQ2FsbGJhY2sodGhpcy5vblNlbGVjdCwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGRhdGFDaGFuZ2VkKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZGF0YSk7XHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH1cclxuICAgIGluaXRVSSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5vcmRlclRpcHMuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRhdGEuaXNPcmRlcikgdGhpcy5vcmRlclRpcHMuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgTUtVdGlscy5sb2FkU3ByaXRlRnJhbWUoXCJ0ZXh0dXJlL2Nyb3AvaWNvbi9cIiArIGAke3RoaXMuZGF0YVtcImlkXCJdfWAsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy51SW1nQ3JvcC5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnVsYWJlbE5hbWUuc3RyaW5nID0gYCR7dGhpcy5kYXRhLm5hbWV9YDtcclxuXHJcbiAgICAgICAgdGhpcy5pc0xvY2sgPSB0aGlzLmRhdGEuaXNMb2NrO1xyXG4gICAgICAgIHRoaXMuYnRuLmFjdGl2ZSA9IHRoaXMuaXNMb2NrID8gZmFsc2UgOiB0cnVlO1xyXG4gICAgICAgIHRoaXMudUltZ0xvY2suYWN0aXZlID0gdGhpcy5pc0xvY2sgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgdGhpcy51SW1nTWFzay5hY3RpdmUgPSB0aGlzLnVJbWdMb2NrLmFjdGl2ZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2V0RGF0YShkYXRhOiBjcm9wX2NvbmZpZywgaGF2ZUlkczogbnVtYmVyW10pIHtcclxuICAgIC8vICAgICBNS1V0aWxzLmxvYWRTcHJpdGVGcmFtZShcInRleHR1cmUvY3JvcC9zaW5nbGVJY29uL1wiICsgYCR7ZGF0YS5pZH1gLCAocmVzKSA9PiB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMudUltZ0Nyb3Auc3ByaXRlRnJhbWUgPSByZXM7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyAgICAgdGhpcy51bGFiZWxOYW1lLnN0cmluZyA9IGAke2RhdGEubmFtZX1gO1xyXG4gICAgLy8gICAgIHRoaXMudWxhYmVsQ291bnQuc3RyaW5nID0gYCR7ZGF0YS5tb25leX1gO1xyXG5cclxuICAgIC8vICAgICB0aGlzLmlzTG9jayA9IGhhdmVJZHMuaW5kZXhPZihkYXRhLmlkKSA9PSAtMTtcclxuICAgIC8vICAgICB0aGlzLnVJbWdMb2NrLmVuYWJsZWQgPSB0aGlzLmlzTG9jayA/IHRydWUgOiBmYWxzZTtcclxuICAgIC8vICAgICB0aGlzLnVJbWdNYXNrLmVuYWJsZWQgPSB0aGlzLnVJbWdMb2NrLmVuYWJsZWQ7XHJcblxyXG4gICAgLy8gICAgIC8vIOaYr+WQpuaYr+eDreWNllxyXG4gICAgLy8gICAgIGxldCBsYXN0SWQgPSBoYXZlSWRzLmxlbmd0aCA9PSAwID8gLTEgOiBoYXZlSWRzW2hhdmVJZHMubGVuZ3RoIC0gMV07XHJcbiAgICAvLyAgICAgbGV0IGlzSG90ID0gZGF0YS5pZCA9PSBsYXN0SWQ7XHJcbiAgICAvLyAgICAgdGhpcy51SW1nRmxhZy5lbmFibGVkID0gaXNIb3Q7XHJcbiAgICAvLyAgICAgdGhpcy51SW1nQmdIb3QuZW5hYmxlZCA9IGlzSG90O1xyXG4gICAgLy8gICAgIHRoaXMudUltZ0JnLmVuYWJsZWQgPSAhaXNIb3Q7XHJcblxyXG4gICAgLy8gICAgIHRoaXMuY3JvcENmZyA9IGRhdGE7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgb25TZWxlY3QoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNMb2NrKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25TaG93SW5mbygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5DUk9QX1BMQU5ULCB0aGlzLmRhdGEuaWQpO1xyXG4gICAgICAgIGlmIChQbGF5ZXJNb2RlbC5ndWlkZVN0ZXAgPj0gMCkge1xyXG4gICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuR1VJREVfVVBEQVRFKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiog5p+l55yL5L2c54mp6K+m5oOFICovXHJcbiAgICBvblNob3dJbmZvKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOaYvuekuuS9nOeJqeivpuaDhVxyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5WZWdldGFibGVzVW5sb2NrVmlldywgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCB0aGlzLmRhdGEuaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGVzdHJveSgpIHtcclxuICAgICAgICBFdmVudERpc3BhdGgucmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcyk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/task/TaskItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a6cd8kRDD1KC5Tf/mKOC+jL', 'TaskItem');
// src/game/view/task/TaskItem.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SDKManager_1 = require("../../../framework/manager/SDKManager");
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var UIType_1 = require("../../consts/UIType");
var AItemRenerer_1 = require("./AItemRenerer");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TaskItem = /** @class */ (function (_super) {
    __extends(TaskItem, _super);
    function TaskItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn1 = null;
        _this.btn2 = null;
        _this.descLb = null;
        _this.rewardLb = null;
        _this.taskIcon = null;
        _this.icon = null;
        _this.frameList = [];
        return _this;
    }
    // onLoad () {}
    TaskItem.prototype.start = function () {
    };
    TaskItem.prototype.dataChanged = function () {
        console.log(this.data);
        this.initUI();
    };
    TaskItem.prototype.initUI = function () {
        this.btn1.active = this.btn2.active = false;
        this.descLb.string = this.data.info + "(" + this.data.userTimes + "/" + this.data.times + ")";
        if (this.index == 0) {
            this.rewardLb.string = "少量红包";
        }
        else if (this.index == 1) {
            this.rewardLb.string = "少量钞票";
        }
        else if (this.index == 2) {
            this.rewardLb.string = "随机作物 ×3";
        }
        this.taskIcon.spriteFrame = this.frameList[this.index];
        this.icon.spriteFrame = this.frameList[this.index];
        if (this.data.userTimes >= this.data.times) {
            this.btn1.active = true;
        }
        else {
            this.btn2.active = true;
        }
    };
    TaskItem.prototype.onGet = function () {
        EventDispath_1.default.addEventListener(EventType_1.EventType.TASK_COMPLETE_BACK, this.onVideoBack, this);
        SDKManager_1.default.toFinishTask(this.data.taskId);
    };
    TaskItem.prototype.onVideoBack = function (data) {
        EventDispath_1.default.removeByEvent(EventType_1.EventType.TASK_COMPLETE_BACK, this.onVideoBack, this);
        var xfzs = 3;
        if (this.data.taskId == 1) {
            UIMananger_1.default.showPanel(UIType_1.default.taskRewardView, null, null, UIEffectManager_1.UIEffectType.SCALE, { taskId: this.data.taskId, redBean: data.redBean, userRedBean: data.userRedBean, xfzs: xfzs });
        }
        else if (this.data.taskId == 2) {
            var gold = MkUtils_1.default.randomNM(300, 500);
            UIMananger_1.default.showPanel(UIType_1.default.taskRewardView, null, null, UIEffectManager_1.UIEffectType.SCALE, { taskId: this.data.taskId, gold: gold, xfzs: xfzs });
        }
        else if (this.data.taskId == 3) {
            UIMananger_1.default.showPanel(UIType_1.default.taskRewardView, null, null, UIEffectManager_1.UIEffectType.SCALE, { taskId: this.data.taskId, cropId: 1, xfzs: xfzs });
        }
        EventDispath_1.default.send(EventType_1.EventType.TASK_UPDATE);
    };
    __decorate([
        property(cc.Node)
    ], TaskItem.prototype, "btn1", void 0);
    __decorate([
        property(cc.Node)
    ], TaskItem.prototype, "btn2", void 0);
    __decorate([
        property(cc.Label)
    ], TaskItem.prototype, "descLb", void 0);
    __decorate([
        property(cc.Label)
    ], TaskItem.prototype, "rewardLb", void 0);
    __decorate([
        property(cc.Sprite)
    ], TaskItem.prototype, "taskIcon", void 0);
    __decorate([
        property(cc.Sprite)
    ], TaskItem.prototype, "icon", void 0);
    __decorate([
        property([cc.SpriteFrame])
    ], TaskItem.prototype, "frameList", void 0);
    TaskItem = __decorate([
        ccclass
    ], TaskItem);
    return TaskItem;
}(AItemRenerer_1.default));
exports.default = TaskItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3Rhc2svVGFza0l0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsb0VBQStEO0FBQy9ELDhFQUEwRTtBQUMxRSxvRUFBK0Q7QUFDL0Qsd0VBQW1FO0FBQ25FLGtFQUFpRTtBQUVqRSw0REFBdUQ7QUFFdkQsOENBQXlDO0FBRXpDLCtDQUEyQztBQUVyQyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1QztJQUFzQyw0QkFBcUI7SUFBM0Q7UUFBQSxxRUFxRUM7UUFsRUcsVUFBSSxHQUFZLElBQUksQ0FBQztRQUVyQixVQUFJLEdBQVksSUFBSSxDQUFDO1FBRXJCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsY0FBUSxHQUFhLElBQUksQ0FBQztRQUUxQixjQUFRLEdBQWMsSUFBSSxDQUFDO1FBRTNCLFVBQUksR0FBYyxJQUFJLENBQUM7UUFFdkIsZUFBUyxHQUFxQixFQUFFLENBQUM7O0lBc0RyQyxDQUFDO0lBckRHLGVBQWU7SUFFZix3QkFBSyxHQUFMO0lBRUEsQ0FBQztJQUVTLDhCQUFXLEdBQXJCO1FBQ0ksT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFDRCx5QkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQzVDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO1FBQzlGLElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLEVBQUU7WUFDakIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO1NBQ2hDO2FBQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsRUFBRTtZQUN4QixJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7U0FDaEM7YUFBTSxJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxFQUFFO1lBQ3hCLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQTtTQUNuQztRQUVELElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3ZELElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRW5ELElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDeEMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQzNCO2FBQU07WUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FDM0I7SUFDTCxDQUFDO0lBRUQsd0JBQUssR0FBTDtRQUVJLHNCQUFZLENBQUMsZ0JBQWdCLENBQUMscUJBQVMsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3BGLG9CQUFVLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFOUMsQ0FBQztJQUNELDhCQUFXLEdBQVgsVUFBWSxJQUFJO1FBQ1osc0JBQVksQ0FBQyxhQUFhLENBQUMscUJBQVMsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pGLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQztRQUNiLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO1lBQ3ZCLG9CQUFVLENBQUMsU0FBUyxDQUFDLGdCQUFNLENBQUMsY0FBYyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsOEJBQVksQ0FBQyxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBRSxDQUFDLENBQUE7U0FFNUs7YUFBTSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtZQUM5QixJQUFJLElBQUksR0FBRyxpQkFBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUMsR0FBRyxDQUFDLENBQUE7WUFDcEMsb0JBQVUsQ0FBQyxTQUFTLENBQUMsZ0JBQU0sQ0FBQyxjQUFjLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSw4QkFBWSxDQUFDLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUUsQ0FBQyxDQUFBO1NBQ2xJO2FBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7WUFFOUIsb0JBQVUsQ0FBQyxTQUFTLENBQUMsZ0JBQU0sQ0FBQyxjQUFjLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSw4QkFBWSxDQUFDLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUUsQ0FBQyxDQUFBO1NBQ2pJO1FBRUQsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBakVEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7MENBQ0c7SUFFckI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzswQ0FDRztJQUVyQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzRDQUNLO0lBRXhCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7OENBQ087SUFFMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzs4Q0FDTztJQUUzQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzBDQUNHO0lBRXZCO1FBREMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDOytDQUNNO0lBZmhCLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0FxRTVCO0lBQUQsZUFBQztDQXJFRCxBQXFFQyxDQXJFcUMsc0JBQWEsR0FxRWxEO2tCQXJFb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IENvbXBvbmVudEhlbHBlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL0NvbXBvbmVudEhlbHBlclwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IEdsb2JhbCBmcm9tIFwiLi4vLi4vY29uc3RzL0dsb2JhbFwiO1xyXG5pbXBvcnQgVUlUeXBlIGZyb20gXCIuLi8uLi9jb25zdHMvVUlUeXBlXCI7XHJcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi4vLi4vZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IEFJdGVtUmVuZGVyZXIgZnJvbSBcIi4vQUl0ZW1SZW5lcmVyXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYXNrSXRlbSBleHRlbmRzIEFJdGVtUmVuZGVyZXI8c3RyaW5nPiB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG4xOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgYnRuMjogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBkZXNjTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHJld2FyZExiOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgdGFza0ljb246IGNjLlNwcml0ZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgaWNvbjogY2MuU3ByaXRlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShbY2MuU3ByaXRlRnJhbWVdKVxyXG4gICAgZnJhbWVMaXN0OiBjYy5TcHJpdGVGcmFtZVtdID0gW107XHJcbiAgICAvLyBvbkxvYWQgKCkge31cclxuXHJcbiAgICBzdGFydCgpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGRhdGFDaGFuZ2VkKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YSk7XHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH1cclxuICAgIGluaXRVSSgpIHtcclxuICAgICAgICB0aGlzLmJ0bjEuYWN0aXZlID0gdGhpcy5idG4yLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGVzY0xiLnN0cmluZyA9IHRoaXMuZGF0YS5pbmZvICsgXCIoXCIgKyB0aGlzLmRhdGEudXNlclRpbWVzICsgXCIvXCIgKyB0aGlzLmRhdGEudGltZXMgKyBcIilcIjtcclxuICAgICAgICBpZiAodGhpcy5pbmRleCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmV3YXJkTGIuc3RyaW5nID0gXCLlsJHph4/nuqLljIVcIlxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbmRleCA9PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmV3YXJkTGIuc3RyaW5nID0gXCLlsJHph4/pkp7npahcIlxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbmRleCA9PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmV3YXJkTGIuc3RyaW5nID0gXCLpmo/mnLrkvZzniakgw5czXCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudGFza0ljb24uc3ByaXRlRnJhbWUgPSB0aGlzLmZyYW1lTGlzdFt0aGlzLmluZGV4XTtcclxuICAgICAgICB0aGlzLmljb24uc3ByaXRlRnJhbWUgPSB0aGlzLmZyYW1lTGlzdFt0aGlzLmluZGV4XTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS51c2VyVGltZXMgPj0gdGhpcy5kYXRhLnRpbWVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuMS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuMi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkdldCgpIHtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlRBU0tfQ09NUExFVEVfQkFDSywgdGhpcy5vblZpZGVvQmFjaywgdGhpcyk7XHJcbiAgICAgICAgU0RLTWFuYWdlci50b0ZpbmlzaFRhc2sodGhpcy5kYXRhLnRhc2tJZCk7XHJcblxyXG4gICAgfVxyXG4gICAgb25WaWRlb0JhY2soZGF0YSkge1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5yZW1vdmVCeUV2ZW50KEV2ZW50VHlwZS5UQVNLX0NPTVBMRVRFX0JBQ0ssIHRoaXMub25WaWRlb0JhY2ssIHRoaXMpO1xyXG4gICAgICAgIGxldCB4ZnpzID0gMztcclxuICAgICAgICBpZiAodGhpcy5kYXRhLnRhc2tJZCA9PSAxKSB7XHJcbiAgICAgICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS50YXNrUmV3YXJkVmlldywgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCB7IHRhc2tJZDogdGhpcy5kYXRhLnRhc2tJZCwgcmVkQmVhbjogZGF0YS5yZWRCZWFuLCB1c2VyUmVkQmVhbjogZGF0YS51c2VyUmVkQmVhbix4ZnpzOnhmenMgfSlcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEudGFza0lkID09IDIpIHtcclxuICAgICAgICAgICAgbGV0IGdvbGQgPSBNS1V0aWxzLnJhbmRvbU5NKDMwMCw1MDApXHJcbiAgICAgICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS50YXNrUmV3YXJkVmlldywgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCB7IHRhc2tJZDogdGhpcy5kYXRhLnRhc2tJZCwgZ29sZDogZ29sZCx4ZnpzOnhmenMgfSlcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS50YXNrSWQgPT0gMykge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLnRhc2tSZXdhcmRWaWV3LCBudWxsLCBudWxsLCBVSUVmZmVjdFR5cGUuU0NBTEUsIHsgdGFza0lkOiB0aGlzLmRhdGEudGFza0lkLCBjcm9wSWQ6IDEseGZ6czp4ZnpzIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5UQVNLX1VQREFURSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/xfzs/XfzsView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a111eqvaJBKG54Attf1iiBx', 'XfzsView');
// src/game/view/xfzs/XfzsView.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var BasePanel_1 = require("../../../framework/ui/BasePanel");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 幸福指数
 * TODO:
 */
var XfzsView = /** @class */ (function (_super) {
    __extends(XfzsView, _super);
    function XfzsView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.btn_help = null;
        _this.btn_order = null;
        _this.btn_close = null;
        _this.xingfuLb = null;
        return _this;
    }
    XfzsView.prototype.onEnable = function () {
        // 退出
        EventDispath_1.default.on(this.btn_close, this.onBtnCloseHandle, this);
        EventDispath_1.default.on(this.btn_help, this.onHelp, this);
        EventDispath_1.default.on(this.btn_order, this.onOrder, this);
        this.initUI();
    };
    XfzsView.prototype.onDisable = function () {
    };
    XfzsView.prototype.initUI = function () {
        this.xingfuLb.string = PlayerModel_1.default.getXfzs() + "";
    };
    XfzsView.prototype.onHelp = function () {
        UIMananger_1.default.showPanel(UIType_1.default.xfzsHelpView);
    };
    XfzsView.prototype.onOrder = function () {
        UIMananger_1.default.showPanel(UIType_1.default.orderQualityView);
    };
    XfzsView.prototype.onBtnCloseHandle = function () {
        _super.prototype.close.call(this);
    };
    __decorate([
        property(cc.Node)
    ], XfzsView.prototype, "btn_help", void 0);
    __decorate([
        property(cc.Node)
    ], XfzsView.prototype, "btn_order", void 0);
    __decorate([
        property(cc.Node)
    ], XfzsView.prototype, "btn_close", void 0);
    __decorate([
        property(cc.Label)
    ], XfzsView.prototype, "xingfuLb", void 0);
    XfzsView = __decorate([
        ccclass
    ], XfzsView);
    return XfzsView;
}(BasePanel_1.default));
exports.default = XfzsView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3hmenMvWGZ6c1ZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJbEYsb0VBQStEO0FBQy9ELHdFQUFtRTtBQUluRSw2REFBd0Q7QUFHeEQsOENBQXlDO0FBQ3pDLHVEQUFrRDtBQUk1QyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUU1Qzs7O0dBR0c7QUFFSDtJQUFzQyw0QkFBUztJQUEvQztRQUFBLHFFQXdDQztRQXRDRyxjQUFRLEdBQVksSUFBSSxDQUFDO1FBRXpCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFFMUIsZUFBUyxHQUFZLElBQUksQ0FBQztRQUUxQixjQUFRLEdBQWEsSUFBSSxDQUFDOztJQWdDOUIsQ0FBQztJQTlCRywyQkFBUSxHQUFSO1FBQ0ksS0FBSztRQUNMLHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdELHNCQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRCxzQkFBWSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFcEQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFDRCw0QkFBUyxHQUFUO0lBQ0EsQ0FBQztJQUdELHlCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxxQkFBVyxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUN0RCxDQUFDO0lBR0QseUJBQU0sR0FBTjtRQUNJLG9CQUFVLENBQUMsU0FBUyxDQUFDLGdCQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUdELDBCQUFPLEdBQVA7UUFDSSxvQkFBVSxDQUFDLFNBQVMsQ0FBQyxnQkFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVELG1DQUFnQixHQUFoQjtRQUNJLGlCQUFNLEtBQUssV0FBRSxDQUFDO0lBQ2xCLENBQUM7SUFyQ0Q7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs4Q0FDTztJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOytDQUNRO0lBRTFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7K0NBQ1E7SUFFMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs4Q0FDTztJQVJULFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0F3QzVCO0lBQUQsZUFBQztDQXhDRCxBQXdDQyxDQXhDcUMsbUJBQVMsR0F3QzlDO2tCQXhDb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IENvbXBvbmVudEhlbHBlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL0NvbXBvbmVudEhlbHBlclwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IEJhc2VQYW5lbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3VpL0Jhc2VQYW5lbFwiO1xyXG5pbXBvcnQgeyBsZXZlbFVwX2NvbmZpZyB9IGZyb20gXCIuLi8uLi9jb25zdHMvQ0NvbnN0XCI7XHJcbmltcG9ydCBHbG9iYWwgZnJvbSBcIi4uLy4uL2NvbnN0cy9HbG9iYWxcIjtcclxuaW1wb3J0IFVJVHlwZSBmcm9tIFwiLi4vLi4vY29uc3RzL1VJVHlwZVwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCBDb25maWdNYW5hZ2VyIGZyb20gXCIuLi8uLi9tYW5hZ2VyL0NvbmZpZ01hbmFnZXJcIjtcclxuaW1wb3J0IHsgUG9wVHlwZSB9IGZyb20gXCIuLi9wb3BWaWV3L1BvcFZpZXcxXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuLyoqXHJcbiAqIOW5uOemj+aMh+aVsFxyXG4gKiBUT0RPOlxyXG4gKi9cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWGZ6c1ZpZXcgZXh0ZW5kcyBCYXNlUGFuZWwge1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBidG5faGVscDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9vcmRlcjogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ0bl9jbG9zZTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB4aW5nZnVMYjogY2MuTGFiZWwgPSBudWxsO1xyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIOmAgOWHulxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5vbih0aGlzLmJ0bl9jbG9zZSwgdGhpcy5vbkJ0bkNsb3NlSGFuZGxlLCB0aGlzKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnRuX2hlbHAsIHRoaXMub25IZWxwLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGgub24odGhpcy5idG5fb3JkZXIsIHRoaXMub25PcmRlciwgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9XHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGluaXRVSSgpIHtcclxuICAgICAgICB0aGlzLnhpbmdmdUxiLnN0cmluZyA9IFBsYXllck1vZGVsLmdldFhmenMoKSArIFwiXCI7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uSGVscCgpIHtcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUueGZ6c0hlbHBWaWV3KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgb25PcmRlcigpOiB2b2lkIHtcclxuICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUub3JkZXJRdWFsaXR5Vmlldyk7XHJcbiAgICB9XHJcblxyXG4gICAgb25CdG5DbG9zZUhhbmRsZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/warehouse/WarehouseItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bed78OSIfNCbL1iRYw3UnQM', 'WarehouseItem');
// src/game/view/warehouse/WarehouseItem.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var ConfigManager_1 = require("../../manager/ConfigManager");
var AItemRenerer_1 = require("../task/AItemRenerer");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var WarehouseItem = /** @class */ (function (_super) {
    __extends(WarehouseItem, _super);
    function WarehouseItem() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.uImgCrop = null;
        _this.ulabelRepertory = null; // 库存
        _this.ulabelName = null;
        return _this;
    }
    WarehouseItem.prototype.onLoad = function () {
        // EventDispath.on(this.node, this.onSelect, this);
    };
    WarehouseItem.prototype.dataChanged = function () {
        // console.log(this.data);
        this.initUI();
    };
    WarehouseItem.prototype.initUI = function () {
        var _this = this;
        var cropCfg = ConfigManager_1.default.getCropById(this.data.cropId);
        this.ulabelName.string = "" + cropCfg.name;
        this.ulabelRepertory.string = "\u6570\u91CF:" + this.data.num;
        MkUtils_1.default.loadSpriteFrame("texture/crop/icon/" + ("" + this.data.cropId), function (res) {
            _this.uImgCrop.spriteFrame = res;
        });
    };
    WarehouseItem.prototype.onSelect = function () {
        // cc.log("点击了item");
    };
    WarehouseItem.prototype.onDestroy = function () {
        // EventDispath.removeEventListeners(this);
    };
    __decorate([
        property(cc.Sprite)
    ], WarehouseItem.prototype, "uImgCrop", void 0);
    __decorate([
        property(cc.Label)
    ], WarehouseItem.prototype, "ulabelRepertory", void 0);
    __decorate([
        property(cc.Label)
    ], WarehouseItem.prototype, "ulabelName", void 0);
    WarehouseItem = __decorate([
        ccclass
    ], WarehouseItem);
    return WarehouseItem;
}(AItemRenerer_1.default));
exports.default = WarehouseItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3dhcmVob3VzZS9XYXJlaG91c2VJdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR2xGLDREQUF1RDtBQUN2RCw2REFBd0Q7QUFFeEQscURBQWlEO0FBRTNDLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQTJDLGlDQUFxQjtJQUFoRTtRQUFBLHFFQWtDQztRQS9CRyxjQUFRLEdBQWMsSUFBSSxDQUFDO1FBRzNCLHFCQUFlLEdBQWEsSUFBSSxDQUFDLENBQUcsS0FBSztRQUd6QyxnQkFBVSxHQUFhLElBQUksQ0FBQzs7SUF5QmhDLENBQUM7SUF2QkcsOEJBQU0sR0FBTjtRQUNJLG1EQUFtRDtJQUN2RCxDQUFDO0lBQ1MsbUNBQVcsR0FBckI7UUFDSSwwQkFBMEI7UUFDMUIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFDRCw4QkFBTSxHQUFOO1FBQUEsaUJBT0M7UUFORyxJQUFJLE9BQU8sR0FBRyx1QkFBYSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLEtBQUcsT0FBTyxDQUFDLElBQU0sQ0FBQztRQUMzQyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sR0FBRyxrQkFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUssQ0FBQztRQUNwRCxpQkFBTyxDQUFDLGVBQWUsQ0FBQyxvQkFBb0IsSUFBRyxLQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBUSxDQUFBLEVBQUUsVUFBQyxHQUFHO1lBQ3RFLEtBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztRQUNwQyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxnQ0FBUSxHQUFSO1FBQ0kscUJBQXFCO0lBQ3pCLENBQUM7SUFFRCxpQ0FBUyxHQUFUO1FBQ0ksMkNBQTJDO0lBQy9DLENBQUM7SUE5QkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzttREFDTztJQUczQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzBEQUNjO0lBR2pDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7cURBQ1M7SUFUWCxhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBa0NqQztJQUFELG9CQUFDO0NBbENELEFBa0NDLENBbEMwQyxzQkFBYSxHQWtDdkQ7a0JBbENvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHN0b3JlQ29uZmlnIH0gZnJvbSBcIi4uL21haW4vV2FyZWhvdXNlUHJlZmFiXCI7XHJcbmltcG9ydCBBSXRlbVJlbmRlcmVyIGZyb20gXCIuLi90YXNrL0FJdGVtUmVuZXJlclwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdhcmVob3VzZUl0ZW0gZXh0ZW5kcyBBSXRlbVJlbmRlcmVyPHN0cmluZz4ge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICB1SW1nQ3JvcDogY2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB1bGFiZWxSZXBlcnRvcnk6IGNjLkxhYmVsID0gbnVsbDsgICAvLyDlupPlrZhcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB1bGFiZWxOYW1lOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIC8vIEV2ZW50RGlzcGF0aC5vbih0aGlzLm5vZGUsIHRoaXMub25TZWxlY3QsIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIGRhdGFDaGFuZ2VkKCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZGF0YSk7XHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH1cclxuICAgIGluaXRVSSgpIHtcclxuICAgICAgICBsZXQgY3JvcENmZyA9IENvbmZpZ01hbmFnZXIuZ2V0Q3JvcEJ5SWQodGhpcy5kYXRhLmNyb3BJZCk7XHJcbiAgICAgICAgdGhpcy51bGFiZWxOYW1lLnN0cmluZyA9IGAke2Nyb3BDZmcubmFtZX1gO1xyXG4gICAgICAgIHRoaXMudWxhYmVsUmVwZXJ0b3J5LnN0cmluZyA9IGDmlbDph486JHt0aGlzLmRhdGEubnVtfWA7XHJcbiAgICAgICAgTUtVdGlscy5sb2FkU3ByaXRlRnJhbWUoXCJ0ZXh0dXJlL2Nyb3AvaWNvbi9cIiArIGAke3RoaXMuZGF0YS5jcm9wSWR9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnVJbWdDcm9wLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU2VsZWN0KCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNjLmxvZyhcIueCueWHu+S6hml0ZW1cIik7XHJcbiAgICB9XHJcblxyXG4gICAgb25EZXN0cm95KCkge1xyXG4gICAgICAgIC8vIEV2ZW50RGlzcGF0aC5yZW1vdmVFdmVudExpc3RlbmVycyh0aGlzKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/base/BasePoolObject.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '474adf4xBFL37H8Il57DG0R', 'BasePoolObject');
// src/framework/base/BasePoolObject.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//prefab实例的引用壳子 主要用于复用
var BasePoolObject = /** @class */ (function () {
    function BasePoolObject() {
        this.isActive = false; //当前prefab是否可用
        this.isObjectActive = false; //该壳子是否可用
        this.pName = null; //prefab name
        this.target = null; //该实例的prefab 使用在的目标对象
        this.prefab = null;
    }
    /**
     *
     * @param name 名称
     * @param instance 对象池实例
     * @param target 绑定到目标对象的唯一标识
     */
    BasePoolObject.prototype.setData = function (name, instance, target) {
        this.isActive = true;
        this.isObjectActive = true;
        this.target = target;
        this.prefab = instance;
        this.pName = name;
    };
    BasePoolObject.prototype.setTarget = function (target) {
        this.isActive = true;
        this.isObjectActive = true;
        this.target = target;
    };
    //重置表示prefab还能被使用
    BasePoolObject.prototype.reset = function () {
        this.isActive = false;
        this.target = null;
    };
    BasePoolObject.prototype.isSameNode = function (uuid) {
        if (cc.isValid(this.prefab)) {
            return this.prefab.uuid === uuid;
        }
        return false;
    };
    //prefab不能被用，但是壳子还可以被使用
    BasePoolObject.prototype.clear = function () {
        this.isActive = false;
        this.pName = null; //prefab name
        this.target = null;
        this.isObjectActive = false;
        if (cc.isValid(this.prefab)) {
            this.prefab.destroy();
        }
        this.prefab = null;
    };
    return BasePoolObject;
}());
exports.default = BasePoolObject;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL2Jhc2UvQmFzZVBvb2xPYmplY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxzQkFBc0I7QUFDdEI7SUFBQTtRQUVXLGFBQVEsR0FBVyxLQUFLLENBQUMsQ0FBQSxjQUFjO1FBQ3ZDLG1CQUFjLEdBQVcsS0FBSyxDQUFDLENBQUEsU0FBUztRQUN4QyxVQUFLLEdBQVUsSUFBSSxDQUFDLENBQUEsYUFBYTtRQUNqQyxXQUFNLEdBQU8sSUFBSSxDQUFDLENBQUEscUJBQXFCO1FBQ3ZDLFdBQU0sR0FBVyxJQUFJLENBQUM7SUErQ2pDLENBQUM7SUE3Q0c7Ozs7O09BS0c7SUFDSCxnQ0FBTyxHQUFQLFVBQVEsSUFBVyxFQUFDLFFBQWdCLEVBQUMsTUFBb0I7UUFDckQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7UUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUM7UUFDdkIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7SUFDdEIsQ0FBQztJQUVELGtDQUFTLEdBQVQsVUFBVSxNQUFvQjtRQUMxQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztRQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN6QixDQUFDO0lBRUQsaUJBQWlCO0lBQ2pCLDhCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUN0QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztJQUN2QixDQUFDO0lBRUQsbUNBQVUsR0FBVixVQUFXLElBQUk7UUFFWCxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ3pCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDO1NBQ3BDO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELHVCQUF1QjtJQUN2Qiw4QkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFDdEIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQSxhQUFhO1FBQy9CLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ25CLElBQUksQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDO1FBQzVCLElBQUksRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDekIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUN6QjtRQUNELElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQ3ZCLENBQUM7SUFDTCxxQkFBQztBQUFELENBckRBLEFBcURDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvL3ByZWZhYuWunuS+i+eahOW8leeUqOWjs+WtkCDkuLvopoHnlKjkuo7lpI3nlKhcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZVBvb2xPYmplY3Rcclxue1xyXG4gICAgcHVibGljIGlzQWN0aXZlOmJvb2xlYW4gPSBmYWxzZTsvL+W9k+WJjXByZWZhYuaYr+WQpuWPr+eUqFxyXG4gICAgcHVibGljIGlzT2JqZWN0QWN0aXZlOmJvb2xlYW4gPSBmYWxzZTsvL+ivpeWjs+WtkOaYr+WQpuWPr+eUqFxyXG4gICAgcHVibGljIHBOYW1lOnN0cmluZyA9IG51bGw7Ly9wcmVmYWIgbmFtZVxyXG4gICAgcHVibGljIHRhcmdldDphbnkgPSBudWxsOy8v6K+l5a6e5L6L55qEcHJlZmFiIOS9v+eUqOWcqOeahOebruagh+WvueixoVxyXG4gICAgcHVibGljIHByZWZhYjpjYy5Ob2RlID0gbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIG5hbWUg5ZCN56ewXHJcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2Ug5a+56LGh5rGg5a6e5L6LXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IOe7keWumuWIsOebruagh+WvueixoeeahOWUr+S4gOagh+ivhlxyXG4gICAgICovXHJcbiAgICBzZXREYXRhKG5hbWU6c3RyaW5nLGluc3RhbmNlOmNjLk5vZGUsdGFyZ2V0Om51bWJlcnxzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaXNPYmplY3RBY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgIHRoaXMucHJlZmFiID0gaW5zdGFuY2U7XHJcbiAgICAgICAgdGhpcy5wTmFtZSA9IG5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGFyZ2V0KHRhcmdldDpudW1iZXJ8c3RyaW5nKXtcclxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmlzT2JqZWN0QWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuICAgIH1cclxuXHJcbiAgICAvL+mHjee9ruihqOekunByZWZhYui/mOiDveiiq+S9v+eUqFxyXG4gICAgcmVzZXQoKXtcclxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlzU2FtZU5vZGUodXVpZClcclxuICAgIHtcclxuICAgICAgICBpZiAoY2MuaXNWYWxpZCh0aGlzLnByZWZhYikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlZmFiLnV1aWQgPT09IHV1aWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvL3ByZWZhYuS4jeiDveiiq+eUqO+8jOS9huaYr+Wjs+WtkOi/mOWPr+S7peiiq+S9v+eUqFxyXG4gICAgY2xlYXIoKXtcclxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wTmFtZSA9IG51bGw7Ly9wcmVmYWIgbmFtZVxyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzT2JqZWN0QWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQodGhpcy5wcmVmYWIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJlZmFiLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcmVmYWIgPSBudWxsO1xyXG4gICAgfVxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/helper/StorageHelper.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0749a0nyQxK55Bic4xXIWLa', 'StorageHelper');
// src/framework/helper/StorageHelper.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var StorageHelper = /** @class */ (function () {
    function StorageHelper() {
    }
    StorageHelper.saveValueByKey = function (key, value) {
        cc.sys.localStorage.setItem(key, value);
    };
    StorageHelper.getValueByKey = function (key) {
        return cc.sys.localStorage.getItem(key);
    };
    StorageHelper.saveJsonByKey = function (key, value) {
        this.saveValueByKey(key, JSON.stringify(value));
    };
    StorageHelper.getJsonByKey = function (key) {
        var jsonStr = cc.sys.localStorage.getItem(key);
        if (jsonStr) {
            return JSON.parse(jsonStr);
        }
        return null;
    };
    StorageHelper.removeValueByKey = function (key) {
        return cc.sys.localStorage.removeItem(key);
    };
    StorageHelper.removeAll = function () {
        cc.sys.localStorage.clear();
    };
    return StorageHelper;
}());
exports.default = StorageHelper;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL2hlbHBlci9TdG9yYWdlSGVscGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7SUFBQTtJQXFDQSxDQUFDO0lBbkNVLDRCQUFjLEdBQXJCLFVBQXNCLEdBQVUsRUFBQyxLQUFtQjtRQUVoRCxFQUFFLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFTSwyQkFBYSxHQUFwQixVQUFxQixHQUFVO1FBRTNCLE9BQU8sRUFBRSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFFTSwyQkFBYSxHQUFwQixVQUFxQixHQUFVLEVBQUMsS0FBWTtRQUV4QyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVNLDBCQUFZLEdBQW5CLFVBQW9CLEdBQVU7UUFFMUIsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQy9DLElBQUcsT0FBTyxFQUNWO1lBQ0ksT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzlCO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFFaEIsQ0FBQztJQUVNLDhCQUFnQixHQUF2QixVQUF3QixHQUFVO1FBRTlCLE9BQU8sRUFBRSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFFTSx1QkFBUyxHQUFoQjtRQUVJLEVBQUUsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2hDLENBQUM7SUFDTCxvQkFBQztBQUFELENBckNBLEFBcUNDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yYWdlSGVscGVyIHtcclxuXHJcbiAgICBzdGF0aWMgc2F2ZVZhbHVlQnlLZXkoa2V5OnN0cmluZyx2YWx1ZTpzdHJpbmd8bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRWYWx1ZUJ5S2V5KGtleTpzdHJpbmcpOiBzdHJpbmdcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHN0YXRpYyBzYXZlSnNvbkJ5S2V5KGtleTpzdHJpbmcsdmFsdWU6b2JqZWN0KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuc2F2ZVZhbHVlQnlLZXkoa2V5LEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEpzb25CeUtleShrZXk6c3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBqc29uU3RyID0gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgaWYoanNvblN0cilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmVtb3ZlVmFsdWVCeUtleShrZXk6c3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBjYy5zeXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcmVtb3ZlQWxsKClcclxuICAgIHtcclxuICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICB9XHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/manager/GamePoolManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '72e0cNmW0dEKaTfaU0wYfBI', 'GamePoolManager');
// src/framework/manager/GamePoolManager.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BasePoolObject_1 = require("../base/BasePoolObject");
//游戏对象池 TODO 缓存依附对象的唯一id,重新class 自增id
var GamePoolManager = /** @class */ (function () {
    function GamePoolManager() {
        this.poolDic = {};
        this.pobjectCaches = []; //实例prefab对象的缓存
        this.objectIndex = 0;
        this.prefabIndex = 0; //prefab的index
        this.prePrefabName = null; //上一个prefab的名称
    }
    GamePoolManager.getInstance = function () {
        if (!this._instance) {
            this._instance = new GamePoolManager();
        }
        return this._instance;
    };
    //注册的时候 target 支持 class 和 string两种类型
    GamePoolManager.prototype.instance = function (prefab, target) {
        if (!!prefab) {
            var targetId = this._getTargetKey(target);
            if (!targetId) {
                cc.error('实例Prefab没有设置target或者target不是class-->' + prefab.name);
                return null;
            }
            //优化 查询速度
            if (prefab.name != this.prePrefabName) {
                this.prefabIndex = 0;
                this.prePrefabName = prefab.name;
            }
            if (!this.poolDic.hasOwnProperty(prefab.name)) {
                this.poolDic[prefab.name] = [];
            }
            var arr = this.poolDic[prefab.name];
            for (var index = this.prefabIndex; index < arr.length; index++) {
                if (!arr[index].isActive && cc.isValid(arr[index].prefab)) {
                    arr[index].setTarget(targetId);
                    this.prefabIndex = index;
                    return arr[index].prefab;
                }
            }
            var object = this._getObject();
            var instance = cc.instantiate(prefab);
            targetId = this._getTargetKey(instance);
            object.setData(prefab.name, instance, targetId);
            arr.push(object);
            this.prefabIndex = arr.length - 1;
            return instance;
        }
        return null;
    };
    /**
     * 放回对象身上的某个实例
     * @param target
     * @param node
     */
    GamePoolManager.prototype.putBackItem = function (target, node) {
        if (!cc.isValid(node)) {
            return;
        }
        var elements = this._getObjectByTarget(target);
        this.prefabIndex = 0;
        if (!!elements) {
            for (var index = 0; index < elements.length; index++) {
                var element = elements[index];
                if (element.isSameNode(node.uuid)) {
                    element.reset();
                }
            }
        }
    };
    /**
     * 回收所有对应的prefab名
     * @param name
     */
    GamePoolManager.prototype.putBackByName = function (name) {
        if (this.poolDic.hasOwnProperty(name)) {
            this.prefabIndex = 0;
            var elements = this.poolDic[name];
            if (!!elements) {
                for (var index = 0; index < elements.length; index++) {
                    var element = elements[index];
                    element.reset();
                }
            }
        }
    };
    GamePoolManager.prototype.putBackByTarget = function (target) {
        var elements = this._getObjectByTarget(target);
        this.prefabIndex = 0;
        if (!!elements) {
            for (var index = 0; index < elements.length; index++) {
                var element = elements[index];
                element.reset();
            }
        }
    };
    GamePoolManager.prototype.clearByTarget = function (target) {
        var elements = this._getObjectByTarget(target);
        this.prefabIndex = 0;
        if (!!elements) {
            for (var index = 0; index < elements.length; index++) {
                var element = elements[index];
                element.clear();
            }
            elements.length = 0;
            this._resetObjectIndex();
        }
    };
    //name 是prefab的名称
    GamePoolManager.prototype.clearByName = function (name) {
        if (this.poolDic.hasOwnProperty(name)) {
            this.prefabIndex = 0;
            var elements = this.poolDic[name];
            if (!!elements) {
                for (var index = 0; index < elements.length; index++) {
                    var element = elements[index];
                    element.clear();
                }
                elements.length = 0;
                this._resetObjectIndex();
            }
        }
    };
    /**
     *
     * @param target
     */
    GamePoolManager.prototype._getObjectByTarget = function (target) {
        if (!!target) {
            var results = [];
            var classID = this._getTargetKey(target);
            if (!!classID) {
                for (var key in this.poolDic) {
                    var elements = this.poolDic[key];
                    if (!!elements && elements.length > 0) {
                        for (var index = 0; index < elements.length; index++) {
                            var element = elements[index];
                            var id = element.target;
                            if (classID === id) {
                                results.push(element);
                            }
                        }
                    }
                }
                return results;
            }
            else {
                cc.error('GamePoolHelper 放回 或者清理时 target 不合法');
            }
            return null;
        }
        return null;
    };
    //获得需要缓存对象的key
    GamePoolManager.prototype._getTargetKey = function (target) {
        var targetId = null;
        if (!!target) {
            var isStr = cc.js.isString(target);
            if (isStr) {
                targetId = target;
            }
            else {
                if (!!target.uuid) {
                    targetId = target.uuid;
                }
                else {
                    targetId = cc.js._getClassId(target);
                }
            }
        }
        else {
            cc.error('GamePoolHelper中缓存对象不存在');
        }
        return targetId;
    };
    //重置壳子 可用的索引
    GamePoolManager.prototype._resetObjectIndex = function () {
        for (var index = 0; index < this.pobjectCaches.length; index++) {
            var element = this.pobjectCaches[index];
            if (!element.isObjectActive) {
                this.objectIndex = index;
                break;
            }
        }
    };
    GamePoolManager.prototype._getObject = function () {
        for (var index = this.objectIndex; index < this.pobjectCaches.length; index++) {
            var element = this.pobjectCaches[index];
            if (!element.isObjectActive) {
                this.objectIndex = index;
                return element;
            }
        }
        var obj = new BasePoolObject_1.default();
        this.pobjectCaches.push(obj);
        this.objectIndex = this.pobjectCaches.length - 1;
        return obj;
    };
    GamePoolManager.prototype.initRolePool = function (prefab) {
        this.rolePool = new cc.NodePool();
        var initCount = 15;
        for (var i = 0; i < initCount; ++i) {
            var role = cc.instantiate(prefab); // 创建节点
            this.rolePool.put(role); // 通过 put 接口放入对象池
        }
    };
    GamePoolManager.prototype.createRole = function (prefab) {
        var role = null;
        if (this.rolePool.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象
            role = this.rolePool.get();
        }
        else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建
            role = cc.instantiate(prefab);
        }
        return role;
    };
    GamePoolManager.prototype.putRole = function (role) {
        this.rolePool.put(role);
    };
    return GamePoolManager;
}());
exports.default = GamePoolManager.getInstance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL21hbmFnZXIvR2FtZVBvb2xNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseURBQW9EO0FBRXBELHFDQUFxQztBQUNyQztJQUFBO1FBQ1ksWUFBTyxHQUFHLEVBQUUsQ0FBQztRQUNiLGtCQUFhLEdBQUcsRUFBRSxDQUFDLENBQUEsZUFBZTtRQUNsQyxnQkFBVyxHQUFXLENBQUMsQ0FBQztRQUN4QixnQkFBVyxHQUFXLENBQUMsQ0FBQyxDQUFFLGNBQWM7UUFDeEMsa0JBQWEsR0FBVyxJQUFJLENBQUMsQ0FBQSxjQUFjO0lBa092RCxDQUFDO0lBL05VLDJCQUFXLEdBQWxCO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDakIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO1NBQzFDO1FBQ0QsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRCxvQ0FBb0M7SUFDcEMsa0NBQVEsR0FBUixVQUFTLE1BQU0sRUFBRSxNQUFNO1FBQ25CLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRTtZQUNWLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDMUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDWCxFQUFFLENBQUMsS0FBSyxDQUFDLHNDQUFzQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDL0QsT0FBTyxJQUFJLENBQUM7YUFDZjtZQUVELFNBQVM7WUFDVCxJQUFJLE1BQU0sQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtnQkFDbkMsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7Z0JBQ3JCLElBQUksQ0FBQyxhQUFhLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQzthQUNwQztZQUVELElBQUksQ0FBQyxJQUFJLENBQUMsT0FB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QyxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSwyQkFBMkI7WUFDdkQsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUM7U0FDOUI7YUFBTSxFQUFFLG1EQUFtRDtZQUN4RCxJQUFJLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUNqQztRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxpQ0FBTyxHQUFQLFVBQVEsSUFBSTtRQUNSLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFDTCxzQkFBQztBQUFELENBdk9BLEFBdU9DLElBQUE7QUFFRCxrQkFBZSxlQUFlLENBQUMsV0FBVyxFQUFFLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZVBvb2xPYmplY3QgZnJvbSBcIi4uL2Jhc2UvQmFzZVBvb2xPYmplY3RcIjtcclxuXHJcbi8v5ri45oiP5a+56LGh5rGgIFRPRE8g57yT5a2Y5L6d6ZmE5a+56LGh55qE5ZSv5LiAaWQs6YeN5pawY2xhc3Mg6Ieq5aKeaWRcclxuY2xhc3MgR2FtZVBvb2xNYW5hZ2VyIHtcclxuICAgIHByaXZhdGUgcG9vbERpYyA9IHt9O1xyXG4gICAgcHJpdmF0ZSBwb2JqZWN0Q2FjaGVzID0gW107Ly/lrp7kvotwcmVmYWLlr7nosaHnmoTnvJPlrZhcclxuICAgIHByaXZhdGUgb2JqZWN0SW5kZXg6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIHByZWZhYkluZGV4OiBudW1iZXIgPSAwOyAgLy9wcmVmYWLnmoRpbmRleFxyXG4gICAgcHJpdmF0ZSBwcmVQcmVmYWJOYW1lOiBzdHJpbmcgPSBudWxsOy8v5LiK5LiA5LiqcHJlZmFi55qE5ZCN56ewXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U6IEdhbWVQb29sTWFuYWdlcjtcclxuXHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogR2FtZVBvb2xNYW5hZ2VyIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IEdhbWVQb29sTWFuYWdlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ms6jlhoznmoTml7blgJkgdGFyZ2V0IOaUr+aMgSBjbGFzcyDlkowgc3RyaW5n5Lik56eN57G75Z6LXHJcbiAgICBpbnN0YW5jZShwcmVmYWIsIHRhcmdldCk6IGNjLk5vZGUge1xyXG4gICAgICAgIGlmICghIXByZWZhYikge1xyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0SWQgPSB0aGlzLl9nZXRUYXJnZXRLZXkodGFyZ2V0KTtcclxuICAgICAgICAgICAgaWYgKCF0YXJnZXRJZCkge1xyXG4gICAgICAgICAgICAgICAgY2MuZXJyb3IoJ+WunuS+i1ByZWZhYuayoeacieiuvue9rnRhcmdldOaIluiAhXRhcmdldOS4jeaYr2NsYXNzLS0+JyArIHByZWZhYi5uYW1lKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL+S8mOWMliDmn6Xor6LpgJ/luqZcclxuICAgICAgICAgICAgaWYgKHByZWZhYi5uYW1lICE9IHRoaXMucHJlUHJlZmFiTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVmYWJJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZVByZWZhYk5hbWUgPSBwcmVmYWIubmFtZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBvb2xEaWMuaGFzT3duUHJvcGVydHkocHJlZmFiLm5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvb2xEaWNbcHJlZmFiLm5hbWVdID0gW107XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBhcnIgPSB0aGlzLnBvb2xEaWNbcHJlZmFiLm5hbWVdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IHRoaXMucHJlZmFiSW5kZXg7IGluZGV4IDwgYXJyLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhcnJbaW5kZXhdLmlzQWN0aXZlICYmIGNjLmlzVmFsaWQoYXJyW2luZGV4XS5wcmVmYWIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyW2luZGV4XS5zZXRUYXJnZXQodGFyZ2V0SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlZmFiSW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJyW2luZGV4XS5wcmVmYWI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG9iamVjdCA9IHRoaXMuX2dldE9iamVjdCgpO1xyXG4gICAgICAgICAgICBsZXQgaW5zdGFuY2UgPSBjYy5pbnN0YW50aWF0ZShwcmVmYWIpO1xyXG4gICAgICAgICAgICB0YXJnZXRJZCA9IHRoaXMuX2dldFRhcmdldEtleShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIG9iamVjdC5zZXREYXRhKHByZWZhYi5uYW1lLCBpbnN0YW5jZSwgdGFyZ2V0SWQpO1xyXG4gICAgICAgICAgICBhcnIucHVzaChvYmplY3QpO1xyXG4gICAgICAgICAgICB0aGlzLnByZWZhYkluZGV4ID0gYXJyLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmlL7lm57lr7nosaHouqvkuIrnmoTmn5DkuKrlrp7kvotcclxuICAgICAqIEBwYXJhbSB0YXJnZXQgXHJcbiAgICAgKiBAcGFyYW0gbm9kZSBcclxuICAgICAqL1xyXG4gICAgcHV0QmFja0l0ZW0odGFyZ2V0LCBub2RlKSB7XHJcbiAgICAgICAgaWYgKCFjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGVsZW1lbnRzID0gdGhpcy5fZ2V0T2JqZWN0QnlUYXJnZXQodGFyZ2V0KTtcclxuICAgICAgICB0aGlzLnByZWZhYkluZGV4ID0gMDtcclxuICAgICAgICBpZiAoISFlbGVtZW50cykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZWxlbWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuaXNTYW1lTm9kZShub2RlLnV1aWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Zue5pS25omA5pyJ5a+55bqU55qEcHJlZmFi5ZCNXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBcclxuICAgICAqL1xyXG4gICAgcHV0QmFja0J5TmFtZShuYW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucG9vbERpYy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgICAgICB0aGlzLnByZWZhYkluZGV4ID0gMDtcclxuICAgICAgICAgICAgbGV0IGVsZW1lbnRzID0gdGhpcy5wb29sRGljW25hbWVdO1xyXG4gICAgICAgICAgICBpZiAoISFlbGVtZW50cykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGVsZW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1dEJhY2tCeVRhcmdldCh0YXJnZXQpIHtcclxuICAgICAgICBsZXQgZWxlbWVudHMgPSB0aGlzLl9nZXRPYmplY3RCeVRhcmdldCh0YXJnZXQpO1xyXG4gICAgICAgIHRoaXMucHJlZmFiSW5kZXggPSAwO1xyXG4gICAgICAgIGlmICghIWVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBlbGVtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJCeVRhcmdldCh0YXJnZXQpIHtcclxuICAgICAgICBsZXQgZWxlbWVudHMgPSB0aGlzLl9nZXRPYmplY3RCeVRhcmdldCh0YXJnZXQpO1xyXG4gICAgICAgIHRoaXMucHJlZmFiSW5kZXggPSAwO1xyXG4gICAgICAgIGlmICghIWVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBlbGVtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxlbWVudHMubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgdGhpcy5fcmVzZXRPYmplY3RJbmRleCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL25hbWUg5pivcHJlZmFi55qE5ZCN56ewXHJcbiAgICBjbGVhckJ5TmFtZShuYW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucG9vbERpYy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgICAgICB0aGlzLnByZWZhYkluZGV4ID0gMDtcclxuICAgICAgICAgICAgbGV0IGVsZW1lbnRzID0gdGhpcy5wb29sRGljW25hbWVdO1xyXG4gICAgICAgICAgICBpZiAoISFlbGVtZW50cykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGVsZW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2V0T2JqZWN0SW5kZXgoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9nZXRPYmplY3RCeVRhcmdldCh0YXJnZXQpIHtcclxuICAgICAgICBpZiAoISF0YXJnZXQpIHtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdHMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGNsYXNzSUQgPSB0aGlzLl9nZXRUYXJnZXRLZXkodGFyZ2V0KTtcclxuICAgICAgICAgICAgaWYgKCEhY2xhc3NJRCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5wb29sRGljKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLnBvb2xEaWNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISFlbGVtZW50cyAmJiBlbGVtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBlbGVtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGVsZW1lbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYXNzSUQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2MuZXJyb3IoJ0dhbWVQb29sSGVscGVyIOaUvuWbniDmiJbogIXmuIXnkIbml7YgdGFyZ2V0IOS4jeWQiOazlScpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ojrflvpfpnIDopoHnvJPlrZjlr7nosaHnmoRrZXlcclxuICAgIHByaXZhdGUgX2dldFRhcmdldEtleSh0YXJnZXQpIHtcclxuICAgICAgICBsZXQgdGFyZ2V0SWQgPSBudWxsO1xyXG4gICAgICAgIGlmICghIXRhcmdldCkge1xyXG4gICAgICAgICAgICBsZXQgaXNTdHIgPSBjYy5qcy5pc1N0cmluZyh0YXJnZXQpO1xyXG4gICAgICAgICAgICBpZiAoaXNTdHIpIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldElkID0gdGFyZ2V0XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoISF0YXJnZXQudXVpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldElkID0gdGFyZ2V0LnV1aWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldElkID0gY2MuanMuX2dldENsYXNzSWQodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNjLmVycm9yKCdHYW1lUG9vbEhlbHBlcuS4ree8k+WtmOWvueixoeS4jeWtmOWcqCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ph43nva7lo7PlrZAg5Y+v55So55qE57Si5byVXHJcbiAgICBwcml2YXRlIF9yZXNldE9iamVjdEluZGV4KCkge1xyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnBvYmplY3RDYWNoZXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnBvYmplY3RDYWNoZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQuaXNPYmplY3RBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0SW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2dldE9iamVjdCgpIHtcclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IHRoaXMub2JqZWN0SW5kZXg7IGluZGV4IDwgdGhpcy5wb2JqZWN0Q2FjaGVzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5wb2JqZWN0Q2FjaGVzW2luZGV4XTtcclxuICAgICAgICAgICAgaWYgKCFlbGVtZW50LmlzT2JqZWN0QWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdEluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgb2JqID0gbmV3IEJhc2VQb29sT2JqZWN0KCk7XHJcbiAgICAgICAgdGhpcy5wb2JqZWN0Q2FjaGVzLnB1c2gob2JqKTtcclxuICAgICAgICB0aGlzLm9iamVjdEluZGV4ID0gdGhpcy5wb2JqZWN0Q2FjaGVzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuXHJcbiAgICByb2xlUG9vbDogY2MuTm9kZVBvb2w7XHJcbiAgICBpbml0Um9sZVBvb2wocHJlZmFiKSB7XHJcbiAgICAgICAgdGhpcy5yb2xlUG9vbCA9IG5ldyBjYy5Ob2RlUG9vbCgpO1xyXG4gICAgICAgIGxldCBpbml0Q291bnQgPSAxNTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluaXRDb3VudDsgKytpKSB7XHJcbiAgICAgICAgICAgIGxldCByb2xlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKTsgLy8g5Yib5bu66IqC54K5XHJcbiAgICAgICAgICAgIHRoaXMucm9sZVBvb2wucHV0KHJvbGUpOyAvLyDpgJrov4cgcHV0IOaOpeWPo+aUvuWFpeWvueixoeaxoFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgY3JlYXRlUm9sZShwcmVmYWIpIHtcclxuICAgICAgICBsZXQgcm9sZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMucm9sZVBvb2wuc2l6ZSgpID4gMCkgeyAvLyDpgJrov4cgc2l6ZSDmjqXlj6PliKTmlq3lr7nosaHmsaDkuK3mmK/lkKbmnInnqbrpl7LnmoTlr7nosaFcclxuICAgICAgICAgICAgcm9sZSA9IHRoaXMucm9sZVBvb2wuZ2V0KCk7XHJcbiAgICAgICAgfSBlbHNlIHsgLy8g5aaC5p6c5rKh5pyJ56m66Zey5a+56LGh77yM5Lmf5bCx5piv5a+56LGh5rGg5Lit5aSH55So5a+56LGh5LiN5aSf5pe277yM5oiR5Lus5bCx55SoIGNjLmluc3RhbnRpYXRlIOmHjeaWsOWIm+W7ulxyXG4gICAgICAgICAgICByb2xlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJvbGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHV0Um9sZShyb2xlKSB7XHJcbiAgICAgICAgdGhpcy5yb2xlUG9vbC5wdXQocm9sZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEdhbWVQb29sTWFuYWdlci5nZXRJbnN0YW5jZSgpOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/manager/LoaderManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '39d98DuCbVHjaiNY0xfwvkU', 'LoaderManager');
// src/framework/manager/LoaderManager.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Handler_1 = require("../base/Handler");
var GroupLoader_1 = require("../loader/GroupLoader");
var Loader_1 = require("../loader/Loader");
var ComponentHelper_1 = require("../tools/ComponentHelper");
var LoaderManager = /** @class */ (function () {
    function LoaderManager() {
        //模块配置数据,由外部传入
        this.moudleConfigs = {};
        //loader 模块加载器
        this.moudleLoaders = {};
        this.groupLoader = null;
    }
    LoaderManager.instance = function () {
        if (!this._instance) {
            this._instance = new LoaderManager();
        }
        return this._instance;
    };
    /**
     *
     * @param fileName 文件名
     * @param type 文件类型
     * @param handler 回调函数
     * @param mname 模块名
     */
    LoaderManager.prototype.loadRes = function (fileName, type, handler, mname) {
        var info = this.checkModuleConfig(mname);
        if (!!info) {
            if (!this.moudleLoaders[mname]) {
                this.moudleLoaders[mname] = new Loader_1.default(info.isRelease);
            }
            var url = info.url + '/' + fileName;
            this.moudleLoaders[mname].addLoaderItem(url, type, handler);
        }
        else {
            cc.error('module no exist: ' + mname);
        }
    };
    /**
     * 设置模块数据 外部调用
     * @param data 模块数据
     */
    LoaderManager.prototype.setModuleConfig = function (data) {
        if (!!data) {
            if (!this.moudleConfigs.hasOwnProperty(data.mname)) {
                this.moudleConfigs[data.mname] = data;
            }
        }
        else {
            cc.error('module config error');
        }
    };
    /**
     * 加载sprite
     * @param fileName
     * @param handler
     * @param mname
     */
    LoaderManager.prototype.loaderSpriteFrame = function (fileName, handler, mname) {
        this.loadRes(fileName, cc.SpriteFrame, handler, mname);
    };
    /**
     * 加载Prefab
     * @param fileName
     * @param handler
     * @param mname
     */
    LoaderManager.prototype.loaderPrefab = function (fileName, handler, mname) {
        this.loadRes(fileName, cc.Prefab, handler, mname);
    };
    /**
     * 加载json
     * @param fileName
     * @param handler
     * @param mname
     */
    LoaderManager.prototype.loaderJson = function (fileName, handler, mname) {
        this.loadRes(fileName, cc.JsonAsset, handler, mname);
    };
    /**
     * 加载spine
     * @param fileName
     * @param handler
     * @param mname
     */
    LoaderManager.prototype.loaderSpine = function (fileName, handler, mname) {
        this.loadRes(fileName, sp.SkeletonData, handler, mname);
    };
    /**
     * 加载动画
     * @param fileName
     * @param handler
     * @param mname
     */
    LoaderManager.prototype.loaderAniamteClip = function (fileName, handler, mname) {
        this.loadRes(fileName, cc.AnimationClip, handler, mname);
    };
    /**
     * 加载sprite并赋值
     * @param node sprite节点
     * @param fileName 文件名
     * @param mname 模块名
     */
    LoaderManager.prototype.load2Sprite = function (node, fileName, mname) {
        this.loadRes(fileName, cc.SpriteFrame, Handler_1.default.create(function (res) {
            ComponentHelper_1.default.spriteFrame(node, res);
        }, this), mname);
    };
    /**
     * 资源按组加载
     * @param resArr 资源集合
     * @param handler 全部加载完成回调
     */
    LoaderManager.prototype.loaderResByGroup = function (resArr, handler) {
        if (!this.groupLoader) {
            this.groupLoader = new GroupLoader_1.default();
        }
        this.groupLoader.addGroup(resArr, handler);
    };
    //通过loaderInfo加载资源 主要用于资源内存管理
    /**
     * 检查释放配置过对应的模块
     * @param moduleName 模块名称
     */
    LoaderManager.prototype.checkModuleConfig = function (moduleName) {
        if (!!this.moudleConfigs[moduleName]) {
            return this.moudleConfigs[moduleName];
        }
        return null;
    };
    /**
     * 释放模块
     * @param moduleName 模块名称
     */
    LoaderManager.prototype.releaseByModule = function (moduleName) {
        var exsitResource = {};
        //生成排除的资源集合
        for (var key in this.moudleLoaders) {
            if (!this.moudleLoaders[key].needRelease && key != moduleName) {
                this.moudleLoaders[key].getAllResUID(exsitResource);
            }
        }
        var needRelease = this.moudleLoaders[moduleName];
        if (needRelease) {
            needRelease.release(exsitResource);
        }
        // cc.log(this.moudleLoaders);
    };
    LoaderManager.prototype.releaseAllModule = function () {
        for (var key in this.moudleLoaders) {
            this.moudleLoaders[key].releaseItem();
        }
    };
    //mname 模块名
    LoaderManager.prototype.isRelease = function (mname) {
        if (this.moudleLoaders.hasOwnProperty(mname)) {
            return this.moudleLoaders[mname].needRelease;
        }
        return false;
    };
    return LoaderManager;
}());
exports.default = LoaderManager.instance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL21hbmFnZXIvTG9hZGVyTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUFzQztBQUN0QyxxREFBZ0Q7QUFFaEQsMkNBQXNDO0FBQ3RDLDREQUF1RDtBQWN2RDtJQUFBO1FBRUksY0FBYztRQUNOLGtCQUFhLEdBQWUsRUFBRSxDQUFDO1FBQ3ZDLGNBQWM7UUFDTixrQkFBYSxHQUFXLEVBQUUsQ0FBQztRQUMzQixnQkFBVyxHQUFlLElBQUksQ0FBQztJQStLM0MsQ0FBQztJQTNLaUIsc0JBQVEsR0FBdEI7UUFFSSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNqQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksYUFBYSxFQUFFLENBQUM7U0FDeEM7UUFDRCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUVEOzs7Ozs7T0FNRztJQUNILCtCQUFPLEdBQVAsVUFBUSxRQUFlLEVBQUMsSUFBUSxFQUFDLE9BQWUsRUFBQyxLQUFZO1FBQ3pELElBQUksSUFBSSxHQUFjLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNwRCxJQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUU7WUFDUCxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsRUFBQztnQkFDM0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLGdCQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2FBQzFEO1lBQ0QsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsUUFBUSxDQUFDO1lBQ3BDLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBQyxJQUFJLEVBQUMsT0FBTyxDQUFDLENBQUM7U0FDN0Q7YUFBTTtZQUNILEVBQUUs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aUI7UUFDN0IsSUFBSSxhQUFhLEdBQUcsRUFBRSxDQUFDO1FBQ3ZCLFdBQVc7UUFDWCxLQUFLLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsV0FBVyxJQUFJLEdBQUcsSUFBSSxVQUFVLEVBQUU7Z0JBQzNELElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxDQUFDO2FBQ3ZEO1NBQ0o7UUFDRCxJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pELElBQUksV0FBVyxFQUFFO1lBQ2IsV0FBVyxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztTQUN0QztRQUNELDhCQUE4QjtJQUNsQyxDQUFDO0lBRUQsd0NBQWdCLEdBQWhCO1FBRUksS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ2hDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7U0FDekM7SUFDTCxDQUFDO0lBRUQsV0FBVztJQUNYLGlDQUFTLEdBQVQsVUFBVSxLQUFZO1FBRWxCLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDMUMsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQztTQUNoRDtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFTCxvQkFBQztBQUFELENBckxBLEFBcUxDLElBQUE7QUFDRCxrQkFBZSxhQUFhLENBQUMsUUFBUSxFQUFFLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSGFuZGxlciBmcm9tIFwiLi4vYmFzZS9IYW5kbGVyXCI7XHJcbmltcG9ydCBHcm91cExvYWRlciBmcm9tIFwiLi4vbG9hZGVyL0dyb3VwTG9hZGVyXCI7XHJcbmltcG9ydCB7IEdyb3VwRmlsZURhdGEgfSBmcm9tIFwiLi4vbG9hZGVyL0dyb3VwRGF0YVwiO1xyXG5pbXBvcnQgTG9hZGVyIGZyb20gXCIuLi9sb2FkZXIvTG9hZGVyXCI7XHJcbmltcG9ydCBDb21wb25lbnRIZWxwZXIgZnJvbSBcIi4uL3Rvb2xzL0NvbXBvbmVudEhlbHBlclwiO1xyXG5pbXBvcnQgVUlNYW5hbmdlciBmcm9tIFwiLi9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4uLy4uL2dhbWUvY29uc3RzL1VJVHlwZVwiO1xyXG5pbXBvcnQgeyBVSUVmZmVjdFR5cGUgfSBmcm9tIFwiLi9VSUVmZmVjdE1hbmFnZXJcIjtcclxuXHJcbi8qKlxyXG4gKiDotYTmupDliqDovb3mqKHlnZfmlbDmja5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgbW9kdWxlRGF0YSB7XHJcbiAgICBtbmFtZTpzdHJpbmcsLy/mqKHlnZflkI3np7BcclxuICAgIHVybDpzdHJpbmcsIC8v5qih5Z2X5a+55bqU55qE6Lev5b6EXHJcbiAgICBpc1JlbGVhc2U6Ym9vbGVhbiAvL+mHiuaUvuWPr+S7pemHiuaUvlxyXG59XHJcblxyXG5jbGFzcyBMb2FkZXJNYW5hZ2VyXHJcbntcclxuICAgIC8v5qih5Z2X6YWN572u5pWw5o2uLOeUseWklumDqOS8oOWFpVxyXG4gICAgcHJpdmF0ZSBtb3VkbGVDb25maWdzID0gPG1vZHVsZURhdGE+e307XHJcbiAgICAvL2xvYWRlciDmqKHlnZfliqDovb3lmahcclxuICAgIHByaXZhdGUgbW91ZGxlTG9hZGVycyA9IDxMb2FkZXI+e307XHJcbiAgICBwcml2YXRlIGdyb3VwTG9hZGVyOkdyb3VwTG9hZGVyID0gbnVsbDtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U6TG9hZGVyTWFuYWdlcjtcclxuICAgIFxyXG4gICAgcHVibGljIHN0YXRpYyBpbnN0YW5jZSgpOkxvYWRlck1hbmFnZXJcclxuICAgIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IExvYWRlck1hbmFnZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gZmlsZU5hbWUg5paH5Lu25ZCNXHJcbiAgICAgKiBAcGFyYW0gdHlwZSDmlofku7bnsbvlnotcclxuICAgICAqIEBwYXJhbSBoYW5kbGVyIOWbnuiwg+WHveaVsFxyXG4gICAgICogQHBhcmFtIG1uYW1lIOaooeWdl+WQjVxyXG4gICAgICovXHJcbiAgICBsb2FkUmVzKGZpbGVOYW1lOnN0cmluZyx0eXBlOmFueSxoYW5kbGVyOkhhbmRsZXIsbW5hbWU6c3RyaW5nKXtcclxuICAgICAgICBsZXQgaW5mbzptb2R1bGVEYXRhID0gdGhpcy5jaGVja01vZHVsZUNvbmZpZyhtbmFtZSk7XHJcbiAgICAgICAgaWYoISFpbmZvKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5tb3VkbGVMb2FkZXJzW21uYW1lXSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdWRsZUxvYWRlcnNbbW5hbWVdID0gbmV3IExvYWRlcihpbmZvLmlzUmVsZWFzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHVybCA9IGluZm8udXJsICsgJy8nICsgZmlsZU5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMubW91ZGxlTG9hZGVyc1ttbmFtZV0uYWRkTG9hZGVySXRlbSh1cmwsdHlwZSxoYW5kbGVyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYy5lcnJvcignbW9kdWxlIG5vIGV4aXN0OiAnICsgbW5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuvue9ruaooeWdl+aVsOaNriDlpJbpg6josIPnlKhcclxuICAgICAqIEBwYXJhbSBkYXRhIOaooeWdl+aVsOaNrlxyXG4gICAgICovXHJcbiAgICBzZXRNb2R1bGVDb25maWcoZGF0YTptb2R1bGVEYXRhKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghIWRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm1vdWRsZUNvbmZpZ3MuaGFzT3duUHJvcGVydHkoZGF0YS5tbmFtZSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubW91ZGxlQ29uZmlnc1tkYXRhLm1uYW1lXSA9IGRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYy5lcnJvcignbW9kdWxlIGNvbmZpZyBlcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9vXNwcml0ZVxyXG4gICAgICogQHBhcmFtIGZpbGVOYW1lIFxyXG4gICAgICogQHBhcmFtIGhhbmRsZXIgXHJcbiAgICAgKiBAcGFyYW0gbW5hbWUgXHJcbiAgICAgKi9cclxuICAgIGxvYWRlclNwcml0ZUZyYW1lKGZpbGVOYW1lOnN0cmluZyxoYW5kbGVyOkhhbmRsZXIsbW5hbWU6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLmxvYWRSZXMoZmlsZU5hbWUsY2MuU3ByaXRlRnJhbWUsaGFuZGxlcixtbmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliqDovb1QcmVmYWJcclxuICAgICAqIEBwYXJhbSBmaWxlTmFtZSBcclxuICAgICAqIEBwYXJhbSBoYW5kbGVyIFxyXG4gICAgICogQHBhcmFtIG1uYW1lIFxyXG4gICAgICovXHJcbiAgICBsb2FkZXJQcmVmYWIoZmlsZU5hbWU6c3RyaW5nLGhhbmRsZXI6SGFuZGxlcixtbmFtZTpzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5sb2FkUmVzKGZpbGVOYW1lLGNjLlByZWZhYixoYW5kbGVyLG1uYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9vWpzb25cclxuICAgICAqIEBwYXJhbSBmaWxlTmFtZSBcclxuICAgICAqIEBwYXJhbSBoYW5kbGVyIFxyXG4gICAgICogQHBhcmFtIG1uYW1lIFxyXG4gICAgICovXHJcbiAgICBsb2FkZXJKc29uKGZpbGVOYW1lOnN0cmluZyxoYW5kbGVyOkhhbmRsZXIsbW5hbWU6c3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkUmVzKGZpbGVOYW1lLGNjLkpzb25Bc3NldCxoYW5kbGVyLG1uYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9vXNwaW5lXHJcbiAgICAgKiBAcGFyYW0gZmlsZU5hbWUgXHJcbiAgICAgKiBAcGFyYW0gaGFuZGxlciBcclxuICAgICAqIEBwYXJhbSBtbmFtZSBcclxuICAgICAqL1xyXG4gICAgbG9hZGVyU3BpbmUoZmlsZU5hbWU6c3RyaW5nLGhhbmRsZXI6SGFuZGxlcixtbmFtZTpzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmxvYWRSZXMoZmlsZU5hbWUsc3AuU2tlbGV0b25EYXRhLGhhbmRsZXIsbW5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yqg6L295Yqo55S7XHJcbiAgICAgKiBAcGFyYW0gZmlsZU5hbWUgXHJcbiAgICAgKiBAcGFyYW0gaGFuZGxlciBcclxuICAgICAqIEBwYXJhbSBtbmFtZSBcclxuICAgICAqL1xyXG4gICAgbG9hZGVyQW5pYW10ZUNsaXAoZmlsZU5hbWU6c3RyaW5nLGhhbmRsZXI6SGFuZGxlcixtbmFtZTpzdHJpbmcpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5sb2FkUmVzKGZpbGVOYW1lLGNjLkFuaW1hdGlvbkNsaXAsaGFuZGxlcixtbmFtZSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWKoOi9vXNwcml0ZeW5tui1i+WAvFxyXG4gICAgICogQHBhcmFtIG5vZGUgc3ByaXRl6IqC54K5XHJcbiAgICAgKiBAcGFyYW0gZmlsZU5hbWUg5paH5Lu25ZCNXHJcbiAgICAgKiBAcGFyYW0gbW5hbWUg5qih5Z2X5ZCNXHJcbiAgICAgKi9cclxuICAgIGxvYWQyU3ByaXRlKG5vZGU6Y2MuTm9kZSxmaWxlTmFtZTpzdHJpbmcsbW5hbWU6c3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubG9hZFJlcyhmaWxlTmFtZSxjYy5TcHJpdGVGcmFtZSxIYW5kbGVyLmNyZWF0ZSgocmVzKT0+e1xyXG4gICAgICAgICAgICBDb21wb25lbnRIZWxwZXIuc3ByaXRlRnJhbWUobm9kZSxyZXMpO1xyXG4gICAgICAgIH0sdGhpcyksbW5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6LWE5rqQ5oyJ57uE5Yqg6L29XHJcbiAgICAgKiBAcGFyYW0gcmVzQXJyIOi1hOa6kOmbhuWQiFxyXG4gICAgICogQHBhcmFtIGhhbmRsZXIg5YWo6YOo5Yqg6L295a6M5oiQ5Zue6LCDXHJcbiAgICAgKi9cclxuICAgIGxvYWRlclJlc0J5R3JvdXAocmVzQXJyOkFycmF5PEdyb3VwRmlsZURhdGE+LGhhbmRsZXI6SGFuZGxlcilcclxuICAgIHtcclxuICAgICAgICBpZiAoIXRoaXMuZ3JvdXBMb2FkZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5ncm91cExvYWRlciA9IG5ldyBHcm91cExvYWRlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdyb3VwTG9hZGVyLmFkZEdyb3VwKHJlc0FycixoYW5kbGVyKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy/pgJrov4dsb2FkZXJJbmZv5Yqg6L296LWE5rqQIOS4u+imgeeUqOS6jui1hOa6kOWGheWtmOeuoeeQhlxyXG4gICAgLyoqXHJcbiAgICAgKiDmo4Dmn6Xph4rmlL7phY3nva7ov4flr7nlupTnmoTmqKHlnZdcclxuICAgICAqIEBwYXJhbSBtb2R1bGVOYW1lIOaooeWdl+WQjeensFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNoZWNrTW9kdWxlQ29uZmlnKG1vZHVsZU5hbWU6c3RyaW5nKTptb2R1bGVEYXRhXHJcbiAgICB7IFxyXG4gICAgICAgIGlmICghIXRoaXMubW91ZGxlQ29uZmlnc1ttb2R1bGVOYW1lXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb3VkbGVDb25maWdzW21vZHVsZU5hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmHiuaUvuaooeWdl1xyXG4gICAgICogQHBhcmFtIG1vZHVsZU5hbWUg5qih5Z2X5ZCN56ewXHJcbiAgICAgKi9cclxuICAgIHJlbGVhc2VCeU1vZHVsZShtb2R1bGVOYW1lOnN0cmluZyl7XHJcbiAgICAgICAgbGV0IGV4c2l0UmVzb3VyY2UgPSB7fTtcclxuICAgICAgICAvL+eUn+aIkOaOkumZpOeahOi1hOa6kOmbhuWQiFxyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLm1vdWRsZUxvYWRlcnMpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm1vdWRsZUxvYWRlcnNba2V5XS5uZWVkUmVsZWFzZSAmJiBrZXkgIT0gbW9kdWxlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3VkbGVMb2FkZXJzW2tleV0uZ2V0QWxsUmVzVUlEKGV4c2l0UmVzb3VyY2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBuZWVkUmVsZWFzZSA9IHRoaXMubW91ZGxlTG9hZGVyc1ttb2R1bGVOYW1lXTtcclxuICAgICAgICBpZiAobmVlZFJlbGVhc2UpIHtcclxuICAgICAgICAgICAgbmVlZFJlbGVhc2UucmVsZWFzZShleHNpdFJlc291cmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2MubG9nKHRoaXMubW91ZGxlTG9hZGVycyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVsZWFzZUFsbE1vZHVsZSgpXHJcbiAgICB7XHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMubW91ZGxlTG9hZGVycykge1xyXG4gICAgICAgICAgICB0aGlzLm1vdWRsZUxvYWRlcnNba2V5XS5yZWxlYXNlSXRlbSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL21uYW1lIOaooeWdl+WQjVxyXG4gICAgaXNSZWxlYXNlKG1uYW1lOnN0cmluZylcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5tb3VkbGVMb2FkZXJzLmhhc093blByb3BlcnR5KG1uYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb3VkbGVMb2FkZXJzW21uYW1lXS5uZWVkUmVsZWFzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICBcclxufVxyXG5leHBvcnQgZGVmYXVsdCBMb2FkZXJNYW5hZ2VyLmluc3RhbmNlKCk7Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/main/FieldPrefab.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9a9390MAHBFp654TaWVz65J', 'FieldPrefab');
// src/game/view/main/FieldPrefab.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.CropState = void 0;
var JSHelper_1 = require("../../../framework/helper/JSHelper");
var UIEffectManager_1 = require("../../../framework/manager/UIEffectManager");
var UIMananger_1 = require("../../../framework/manager/UIMananger");
var EventDispath_1 = require("../../../framework/message/EventDispath");
var EventType_1 = require("../../../framework/message/EventType");
var ComponentHelper_1 = require("../../../framework/tools/ComponentHelper");
var MkUtils_1 = require("../../../framework/tools/MkUtils");
var Utils_1 = require("../../../framework/tools/Utils");
var CConst_1 = require("../../consts/CConst");
var Global_1 = require("../../consts/Global");
var UIType_1 = require("../../consts/UIType");
var PlayerModel_1 = require("../../datas/PlayerModel");
var ConfigManager_1 = require("../../manager/ConfigManager");
var EffectManager_1 = require("../../manager/EffectManager");
var PopView1_1 = require("../popView/PopView1");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var CropState;
(function (CropState) {
    CropState[CropState["EMPTY"] = 0] = "EMPTY";
    CropState[CropState["SEEDING"] = 1] = "SEEDING";
    CropState[CropState["PEST"] = 2] = "PEST";
    CropState[CropState["RIPE"] = 3] = "RIPE";
})(CropState = exports.CropState || (exports.CropState = {}));
var FieldPrefab = /** @class */ (function (_super) {
    __extends(FieldPrefab, _super);
    function FieldPrefab() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.bg = null;
        _this.buildTips = null;
        _this.crop = null;
        _this.qipao = null;
        _this.qpJs = null;
        _this.qipaoIcon = null;
        _this.qipaoDesc = null;
        _this.qpJsLb = null;
        _this.tipsLb = null;
        _this.getTips = null;
        _this.getTipsLb = null;
        _this.getIcon = null;
        _this.timePro = null;
        _this.proBg = null;
        _this.pro = null;
        _this.timeLb = null;
        _this.lvUpEff = null;
        _this.changeSkinEff = null;
        _this.haichong = null;
        _this.chuchong = null;
        _this.qipaoFrame = [];
        _this.config = {
            id: 0,
            type: 0,
            state: 0,
            cropState: 0,
            cropId: 0,
            lastTime: 0,
            level: 1,
        };
        _this.interval = 0;
        _this.currentCropState = CropState.EMPTY;
        _this.isAddSpeed = false; //是否加速中
        _this.addSpeedTime = 3;
        _this.one_speed = 1;
        _this.addSpeedPro = 0;
        _this.mIndex = -1;
        _this.saveDataTime = 0; //几秒保存一次数据
        _this.totalTime = 0; //成熟所需总时间
        //检测加速钞票是否充足
        _this.diffGold = 0;
        return _this;
    }
    FieldPrefab.prototype.onLoad = function () {
        this.buildTips.active = false;
        this.lvUpEff.node.active = false;
        this.changeSkinEff.node.active = false;
        this.thisPoint = this.node;
    };
    FieldPrefab.prototype.start = function () {
    };
    FieldPrefab.prototype.onEnable = function () {
        EventDispath_1.default.on(this.qipao, this.onQipaoClick, this, 0, false);
        EventDispath_1.default.on(this.buildTips, this.onBuild, this, 0, false);
        EventDispath_1.default.addEventListener(EventType_1.EventType.CROP_ADD_SPEED, this.addSpeed, this);
        EventDispath_1.default.addEventListener(EventType_1.EventType.FIELD_BUILD, this.onBuildBack, this);
    };
    FieldPrefab.prototype.onBuild = function () {
        //弹出场景元素信息面板
        // this.buildTips.active = false;
        // this.config = {
        //     id: this.config.id,
        //     type: this.config.type,
        //     state: 1,
        //     cropState: 0,
        //     cropId: 0,
        //     lastTime: 0,
        //     level: 1,
        // }
        var _this = this;
        // PlayerModel.changeFieldSkin(this.mIndex, 1)
        // this.changeState(CropState.EMPTY);
        // this.changeSkin();
        // MKUtils.setNodeDelay(this.node, 1, () => {
        //     this.qipaoAnim();
        // })
        EventDispath_1.default.addEventListener(EventType_1.EventType.VIDEO_BACK, this.selectBack, this);
        // let id = this.config.id + "01"
        // SDKManager.getUnlockConfig(7, Number(id));
        UIMananger_1.default.showPanel(UIType_1.default.popView1, null, function () {
            EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, _this.selectBack, _this);
        }, UIEffectManager_1.UIEffectType.SCALE, PopView1_1.PopType.FIELD);
    };
    FieldPrefab.prototype.selectBack = function () {
        MkUtils_1.default.alertTips("扩建土地成功");
        this.buildTips.active = false;
        PlayerModel_1.default.changeFieldSkin(this.mIndex, 1);
        this.changeSkin();
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VIDEO_BACK, this.selectBack, this);
        // UIMananger.showPanel(UIType.GoodsInfoView, null, null, UIEffectType.SCALE, { selectType: LVUP_TYPE.FIELD, id: id, amount: data.amount });
    };
    FieldPrefab.prototype.onBuildBack = function (index) {
        if (this.mIndex == index)
            this.selectBack();
    };
    FieldPrefab.prototype.update = function (dt) {
        if (this.config.lastTime > 0 && this.config.cropState < 2 && this.config.cropState > 0 && !this.isAddSpeed) {
            this.interval++;
            if (this.interval >= 70) {
                this.saveDataTime++;
                this.config.lastTime--;
                this.proBg.active = true;
                this.pro.fillRange = (this.totalTime - this.config.lastTime) / this.totalTime;
                // if (this.config.lastTime <= 0) {
                //     this.proBg.active = false;
                //     this.timeLb.node.active = false;
                // }
                ComponentHelper_1.default.labelTimeFormat(this.timeLb.node, this.config.lastTime);
                this.interval = 0;
                // if ((this.totalTime - this.config.lastTime) < this.totalTime) {
                // if (this.currentCropState != CropState.SEEDING) {
                //     this.currentCropState = CropState.SEEDING;
                //     this.changeState(CropState.SEEDING)
                // }
                // } else 
                if (this.config.lastTime <= 1) {
                    if (this.currentCropState != CropState.RIPE) {
                        PlayerModel_1.default.setCropRipetimes();
                        this.checkHaichogn();
                    }
                }
            }
            if (this.saveDataTime >= 3) {
                this.saveDataTime = 0;
                PlayerModel_1.default.saveData();
            }
        }
        else {
            if (this.isAddSpeed) {
                this.addSpeedPro += dt;
                // this.timePro.progress = (this.totalTime - this.addSpeedTime) / this.totalTime;
                this.pro.fillRange = (this.totalTime - this.addSpeedTime) / this.totalTime;
                this.addSpeedTime -= this.one_speed;
                if (this.addSpeedTime < 0)
                    this.addSpeedTime = 0;
                ComponentHelper_1.default.labelTimeFormat(this.timeLb.node, this.addSpeedTime);
                if (this.totalTime - this.addSpeedTime >= this.totalTime) {
                    this.isAddSpeed = false;
                    if (this.currentCropState != CropState.RIPE && this.config.lastTime <= 0) {
                        PlayerModel_1.default.setCropRipetimes();
                        this.checkHaichogn();
                    }
                    this.addSpeedPro = 0;
                }
            }
        }
    };
    //成熟检测是否有害虫
    FieldPrefab.prototype.checkHaichogn = function () {
        if (PlayerModel_1.default.getCropRipetimes() >= 9 && PlayerModel_1.default.pestNum < 2) {
            var addCfg = ConfigManager_1.default.getPropById(CConst_1.propType.scarecrow, PlayerModel_1.default.getUIConfig().scarecrowlv);
            var rate = addCfg.add_num;
            var random = MkUtils_1.default.randomNMF(0, 100);
            if (random < rate) {
                PlayerModel_1.default.pestNum++;
                this.currentCropState = CropState.PEST;
                this.changeState(CropState.PEST);
            }
            else {
                this.currentCropState = CropState.RIPE;
                this.changeState(CropState.RIPE);
            }
        }
        else {
            this.currentCropState = CropState.RIPE;
            this.changeState(CropState.RIPE);
        }
    };
    FieldPrefab.prototype.setData = function (index) {
        this.mIndex = index;
        this.changeSkin(0);
        // if (!PlayerModel.guideState && index == 0) {
        //     EventDispath.addEventListener(EventType.CROP_PLANT, this.onPlant, this);
        // }
    };
    FieldPrefab.prototype.changeSkin = function (isLvUp) {
        var _this = this;
        if (isLvUp === void 0) { isLvUp = 1; }
        var cfg = PlayerModel_1.default.getFieldListCfg()[this.mIndex];
        this.config = cfg;
        if (this.config.cropId != 0) {
            if (Global_1.default.isCeshi_version)
                this.totalTime = 5;
            else
                this.getPlantTime();
        }
        if (isLvUp == 0 && this.config.cropState == CropState.SEEDING) {
            var offlineTime = PlayerModel_1.default.offlineLastTimestamp;
            var currentTime = Math.floor(new Date().getTime() / 1000);
            var time = currentTime - offlineTime;
            if (this.config.lastTime > time) {
                this.config.lastTime -= time;
            }
            else {
                this.config.lastTime = 0;
                // this.changeState(CropState.RIPE);
                this.config.cropState = CropState.RIPE;
            }
        }
        this.currentCropState = this.config.cropState;
        if (this.config.state > 0) {
            this.buildTips.active = false;
            // if (this.config.lastTime < 0) {
            //     this.config.cropState = CropState.RIPE;
            // }
            var cState = this.config.cropState;
            this.changeState(cState);
            this.qipaoAnim();
        }
        else {
            this.qipao.active = false;
            this.buildTips.active = true;
        }
        if (cfg.level == 0)
            return;
        MkUtils_1.default.loadSpriteFrame("texture/prop/field/" + ("0" + cfg.level), function (res) {
            _this.bg.spriteFrame = res;
            if (isLvUp) {
                _this.changeSkinEff.node.active = true;
                _this.changeSkinEff.animation = "animation";
            }
        });
    };
    //切换状态
    FieldPrefab.prototype.changeState = function (cState) {
        var _this = this;
        this.config.cropState = cState;
        this.crop.node.active = true;
        this.crop.node.stopAllActions();
        this.qipao.active = true;
        this.qpJs.active = false;
        this.qipaoIcon.node.active = true;
        if (cState != CropState.EMPTY) {
            MkUtils_1.default.loadSpriteFrame("texture/crop/singleIcon/" + ("" + this.config.cropId), function (res) {
                _this.getIcon.spriteFrame = res;
            });
        }
        this.timeLb.node.active = false;
        this.proBg.active = false;
        this.pro.fillRange = 0;
        if (cState == CropState.EMPTY) {
            this.crop.node.active = false;
            this.timePro.node.active = false;
            this.proBg.active = false;
            this.qipaoIcon.spriteFrame = this.qipaoFrame[0];
            this.qipaoDesc.string = "种植";
        }
        else if (cState == CropState.SEEDING) {
            MkUtils_1.default.loadSpriteFrame("texture/crop/ripe/" + ("" + this.config.cropId), function (res) {
                _this.crop.spriteFrame = res;
            });
            // ComponentHelper.setHeartAction(this.crop.node, 1, false, 1.03);
            this.qipaoIcon.node.active = false;
            this.qpJs.active = true;
            this.qpJsLb.string = ConfigManager_1.default.add_speed_gold + "";
            this.qipaoDesc.string = "加速";
            this.timeLb.node.active = true;
            this.proBg.active = true;
        }
        else if (cState == CropState.RIPE) {
            JSHelper_1.default.playEffect("crop_ripe");
            MkUtils_1.default.loadSpriteFrame("texture/crop/ripe/" + ("" + this.config.cropId), function (res) {
                _this.crop.spriteFrame = res;
            });
            MkUtils_1.default.loadSpriteFrame("texture/crop/singleIcon/" + ("" + this.config.cropId), function (res) {
                _this.qipaoIcon.spriteFrame = res;
            });
            this.timePro.node.active = false;
            this.proBg.active = false;
            this.qipaoDesc.string = "收获";
        }
        else if (cState == CropState.PEST) {
            this.qipaoIcon.spriteFrame = this.qipaoFrame[1];
            JSHelper_1.default.playEffect("crop_ripe");
            MkUtils_1.default.loadSpriteFrame("texture/crop/ripe/" + ("" + this.config.cropId), function (res) {
                _this.crop.spriteFrame = res;
            });
            this.timePro.node.active = false;
            this.proBg.active = false;
            this.qipaoDesc.string = "除虫";
            this.haichong.node.active = true;
            this.haichong.animation = "haichong";
            this.haichong.timeScale = 0.6;
        }
        //第一版bug修改注释升级效果
        // if (cState != CropState.EMPTY) {
        //     this.lvUpEff.node.active = true;
        //     this.lvUpEff.animation = "shengji";
        // }
        PlayerModel_1.default.saveUiData();
    };
    //气泡点击
    FieldPrefab.prototype.onQipaoClick = function () {
        if (this.isAddSpeed)
            return;
        switch (this.config.cropState) {
            case 0: //种植
                if (PlayerModel_1.default.guideStep >= 0) {
                    EventDispath_1.default.send(EventType_1.EventType.GUIDE_Hide);
                }
                //打开作物面板，选择作物
                EventDispath_1.default.addEventListener(EventType_1.EventType.CROP_PLANT, this.onPlant, this);
                EventDispath_1.default.addEventListener(EventType_1.EventType.VEGETABLE_CLOSE, this.onVrgetableClose, this);
                UIMananger_1.default.showPanel(UIType_1.default.VegetablesView, null, null, null);
                break;
            case 1: //加速
                if (this.checkGold()) {
                    // EventDispath.send(EventType.JX_SC, { type: 1, point: this.thisPoint });
                    // EventDispath.addEventListener(EventType.JIASU, this.onJiasu, this);
                    this.onJiasu();
                }
                break;
            case 2: //除虫
                UIMananger_1.default.showPanel(UIType_1.default.clearPestView, null, null, UIEffectManager_1.UIEffectType.SCALE, this.thisPoint, this.config);
                EventDispath_1.default.addEventListener(EventType_1.EventType.CLEAR_PEST_CLOSE, this.closePest, this);
                EventDispath_1.default.addEventListener(EventType_1.EventType.SHACHONG, this.onShachong, this);
                break;
            case 3: //收获
                if (PlayerModel_1.default.guideStep >= 0) {
                    EventDispath_1.default.send(EventType_1.EventType.GUIDE_Hide);
                    EventDispath_1.default.send(EventType_1.EventType.MAIN_LOCK, true);
                }
                this.checkGetCrop();
                break;
            default:
                break;
        }
    };
    //种植
    FieldPrefab.prototype.onPlant = function (id) {
        var _this = this;
        EventDispath_1.default.removeByEvent(EventType_1.EventType.CROP_PLANT, this.onPlant, this);
        console.log("种植id：", id);
        // SDKManager.onEvent(Global.EVENT_ACTION.client_seed)
        PlayerModel_1.default.setPlantNumById(id);
        this.config.cropId = id;
        this.config.cropState = 1;
        if (Global_1.default.isCeshi_version)
            this.totalTime = 5;
        else
            this.getPlantTime();
        this.config.lastTime = this.totalTime;
        PlayerModel_1.default.saveUiData();
        MkUtils_1.default.setNodeDelay(this.node, 0.1, function () {
            _this.currentCropState = CropState.SEEDING;
            _this.changeState(CropState.SEEDING);
        });
        EventDispath_1.default.send(EventType_1.EventType.UPDATE_FIELD_TIPS);
    };
    FieldPrefab.prototype.onVrgetableClose = function () {
        EventDispath_1.default.removeByEvent(EventType_1.EventType.CROP_PLANT, this.onPlant, this);
        EventDispath_1.default.removeByEvent(EventType_1.EventType.VEGETABLE_CLOSE, this.onVrgetableClose, this);
    };
    FieldPrefab.prototype.checkGold = function () {
        var gold = PlayerModel_1.default.getGold();
        if (gold < ConfigManager_1.default.add_speed_gold) {
            // this.diffGold = ConfigManager.add_speed_gold - gold;
            // EventDispath.addEventListener(EventType.VIDEO_BACK, this.addGold, this);
            UIMananger_1.default.showPanel(UIType_1.default.popView1, null, function () {
                // EventDispath.removeByEvent(EventType.VIDEO_BACK, this.addGold, this);
            }, UIEffectManager_1.UIEffectType.SCALE, PopView1_1.PopType.GOLD2, 1000);
            return false;
        }
        return true;
    };
    //加速
    FieldPrefab.prototype.onJiasu = function () {
        PlayerModel_1.default.setGold(-ConfigManager_1.default.add_speed_gold);
        this.addSpeed();
        // let cfg = ConfigManager.getPropById(propType.pipe, PlayerModel.getUIConfig().pipelv);
        // this.config.lastTime -= cfg.add_num * 60;
        // this.addSpeedTime = cfg.add_num * 60;
        // this.isAddSpeed = true;
        // this.flyJsTips(cfg.add_num)
        // EventDispath.removeByEvent(EventType.JIASU, this.onJiasu, this);
    };
    //关闭除虫面板
    FieldPrefab.prototype.closePest = function () {
        EventDispath_1.default.removeByEvent(EventType_1.EventType.SHACHONG, this.onShachong, this);
    };
    //除虫
    FieldPrefab.prototype.onShachong = function (data) {
        var _this = this;
        EventDispath_1.default.removeByEvent(EventType_1.EventType.SHACHONG, this.onShachong, this);
        this.chuchong.node.active = true;
        this.chuchong.animation = "shachong";
        this.qipao.active = false;
        this.chuchong.setCompleteListener(function (trackEntry, loopCount) {
            _this.chuchong.setCompleteListener(null);
            _this.chuchong.node.active = false;
            _this.haichong.node.active = false;
            _this.changeState(CropState.RIPE);
            UIMananger_1.default.showPanel(UIType_1.default.popRewardView, null, function () {
            }, UIEffectManager_1.UIEffectType.SCALE, 0, data);
        });
        PlayerModel_1.default.pestNum--;
    };
    //收获
    FieldPrefab.prototype.checkGetCrop = function () {
        var _this = this;
        var getNum = 1;
        if (PlayerModel_1.default.crop_get_num >= ConfigManager_1.default.crop_maxGet_interval) {
            var random = MkUtils_1.default.randomNMF(0, 1);
            if (random < ConfigManager_1.default.crop_maxGet_rate) {
                getNum = ConfigManager_1.default.crop_maxGet_num;
                PlayerModel_1.default.crop_get_num = 0;
                EventDispath_1.default.addEventListener(EventType_1.EventType.CROP_GC, this.getCrop, this);
                // MKUtils.alertTips("弹出高产页面")
                UIMananger_1.default.showPanel(UIType_1.default.popGcView, null, function () {
                    EventDispath_1.default.removeByEvent(EventType_1.EventType.CROP_GC, _this.getCrop, _this);
                }, UIEffectManager_1.UIEffectType.SCALE, this.config.cropId);
                return;
            }
        }
        if (this.checkHouseMax(getNum)) {
            MkUtils_1.default.alertTips("仓库放不下了，快点卖出作物赚钱吧");
            return;
        }
        this.getCrop(1);
    };
    FieldPrefab.prototype.getCrop = function (num) {
        var _this = this;
        EventDispath_1.default.send(EventType_1.EventType.CROP_GET);
        this.changeState(CropState.EMPTY);
        this.qipao.active = false;
        EventDispath_1.default.removeByEvent(EventType_1.EventType.CROP_GC, this.getCrop, this);
        this.flyGetTips(num);
        PlayerModel_1.default.crop_get_num++;
        JSHelper_1.default.playEffect("crop_ripe", false, true);
        this.lvUpEff.animation = "shengji";
        var startNode = this.node.convertToWorldSpaceAR(cc.v2(0, 0));
        EffectManager_1.default.playCrop(startNode, this.config.cropId, 8, function () {
            if (!PlayerModel_1.default.guideState)
                EventDispath_1.default.send(EventType_1.EventType.MAIN_LOCK, false);
        });
        PlayerModel_1.default.setHouseAddCrop(this.config.cropId, num);
        PlayerModel_1.default.setCropGetNum(num);
        PlayerModel_1.default.setXfzs(0.2);
        this.scheduleOnce(function () {
            PlayerModel_1.default.checkAddOrder(_this.config.cropId, num, function () {
                // UIMananger.showPanel(UIType.orderSuccessView);
                EventDispath_1.default.send(EventType_1.EventType.ORDER_COMPLETE_UPDATE);
                if (PlayerModel_1.default.guideStep >= 0) {
                    EventDispath_1.default.send(EventType_1.EventType.GUIDE_UPDATE);
                }
            }, function () {
                if (PlayerModel_1.default.guideStep >= 0) {
                    EventDispath_1.default.send(EventType_1.EventType.GUIDE_UPDATE);
                }
                //辛苦红包判断
                if (PlayerModel_1.default.getCropGetNum() >= ConfigManager_1.default.hard_hb_interval) {
                    PlayerModel_1.default.setCropGetNum(-PlayerModel_1.default.getCropGetNum());
                    if (!UIMananger_1.default.checkPanel(UIType_1.default.orderSuccessView)) {
                        UIMananger_1.default.showPanel(UIType_1.default.hardView, null, null, UIEffectManager_1.UIEffectType.SCALE, 0);
                    }
                }
            });
            _this.reset();
            EventDispath_1.default.send(EventType_1.EventType.UPDATE_FIELD_TIPS);
            MkUtils_1.default.setNodeDelay(_this.node, 0.5, function () {
                _this.qipaoAnim();
            });
        }, 1);
        // SDKManager.onEvent(Global.EVENT_ACTION.client_get_crops)
    };
    //钞票不足，看视频
    FieldPrefab.prototype.addGold = function () {
        // PlayerModel.setGold(this.diffGold);
        // EventDispath.removeByEvent(EventType.VIDEO_BACK, this.addGold, this);
    };
    //加速
    FieldPrefab.prototype.addSpeed = function () {
        var _this = this;
        if (this.config.cropState != CropState.SEEDING)
            return;
        this.qipao.active = false;
        this.haichong.node.active = true;
        this.haichong.animation = "jiasu";
        this.haichong.setCompleteListener(function (trackEntry, loopCount) {
            _this.haichong.setCompleteListener(null);
            _this.haichong.node.active = false;
            var cfg = ConfigManager_1.default.getPropById(CConst_1.propType.pipe, PlayerModel_1.default.getUIConfig().pipelv);
            if (_this.config.lastTime > cfg.add_num * 60) {
                _this.config.lastTime -= cfg.add_num * 60;
                _this.addSpeedTime = cfg.add_num * 60;
            }
            else {
                _this.addSpeedTime = _this.config.lastTime;
                _this.config.lastTime -= cfg.add_num * 60;
            }
            if (_this.addSpeedTime > 100) {
                _this.one_speed = 4;
            }
            _this.isAddSpeed = true;
            _this.flyJsTips(cfg.add_num);
        });
    };
    FieldPrefab.prototype.reset = function () {
        this.config.cropId = 0;
        this.config.lastTime = 0;
        this.crop.node.active = false;
        this.qipao.active = false;
        PlayerModel_1.default.saveData();
    };
    FieldPrefab.prototype.qipaoAnim = function () {
        this.qipao.active = true;
        this.qipao.stopAllActions();
        this.qipao.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(0.3, 1.2), cc.scaleTo(0.3, 1), cc.scaleTo(0.3, 1.2), cc.scaleTo(0.3, 1), cc.delayTime(2))));
    };
    //检测仓库是否达到上限
    FieldPrefab.prototype.checkHouseMax = function (value) {
        var lv = PlayerModel_1.default.getUIConfig().warehouselv;
        // let arr = ConfigManager.prop.filter((value) => {
        //     return value.id == Number(propType.warehouse + `0${id}`);
        // })
        var cfg = ConfigManager_1.default.getPropById(CConst_1.propType.warehouse, lv);
        var currentNum = PlayerModel_1.default.getCurrentPutNum();
        if ((cfg.add_num - currentNum) < value)
            return true;
        return false;
    };
    FieldPrefab.prototype.getPlantTime = function () {
        var time = ConfigManager_1.default.getCropTime(this.config.cropId, PlayerModel_1.default.getPlantNumById(this.config.cropId));
        var add = PlayerModel_1.default.getTimeAdd(this.config.type, this.config.level);
        this.totalTime = time - add * time;
    };
    FieldPrefab.prototype.flyJsTips = function (num) {
        var _this = this;
        this.tipsLb.node.stopAllActions();
        this.tipsLb.node.active = true;
        this.tipsLb.node.opacity = 255;
        this.tipsLb.string = "-" + num + "\u5206\u949F";
        this.tipsLb.node.runAction(cc.sequence(cc.moveTo(Utils_1.default._FT(30), cc.v2(this.tipsLb.node.x, 100)), cc.fadeOut(Utils_1.default._FT(15)), cc.callFunc(function () {
            _this.tipsLb.node.active = false;
            _this.tipsLb.node.y = 0;
        })));
    };
    FieldPrefab.prototype.flyGetTips = function (num) {
        var _this = this;
        this.getTipsLb.string = "+" + num;
        this.getTips.stopAllActions();
        this.getTips.active = true;
        this.getTips.opacity = 255;
        this.getTips.runAction(cc.sequence(cc.moveTo(Utils_1.default._FT(30), cc.v2(this.getTips.x, 150)), cc.fadeOut(Utils_1.default._FT(15)), cc.callFunc(function () {
            _this.getTips.active = false;
            _this.getTips.y = 0;
        })));
    };
    __decorate([
        property(cc.Sprite)
    ], FieldPrefab.prototype, "bg", void 0);
    __decorate([
        property(cc.Node)
    ], FieldPrefab.prototype, "buildTips", void 0);
    __decorate([
        property(cc.Sprite)
    ], FieldPrefab.prototype, "crop", void 0);
    __decorate([
        property(cc.Node)
    ], FieldPrefab.prototype, "qipao", void 0);
    __decorate([
        property(cc.Node)
    ], FieldPrefab.prototype, "qpJs", void 0);
    __decorate([
        property(cc.Sprite)
    ], FieldPrefab.prototype, "qipaoIcon", void 0);
    __decorate([
        property(cc.Label)
    ], FieldPrefab.prototype, "qipaoDesc", void 0);
    __decorate([
        property(cc.Label)
    ], FieldPrefab.prototype, "qpJsLb", void 0);
    __decorate([
        property(cc.Label)
    ], FieldPrefab.prototype, "tipsLb", void 0);
    __decorate([
        property(cc.Node)
    ], FieldPrefab.prototype, "getTips", void 0);
    __decorate([
        property(cc.Label)
    ], FieldPrefab.prototype, "getTipsLb", void 0);
    __decorate([
        property(cc.Sprite)
    ], FieldPrefab.prototype, "getIcon", void 0);
    __decorate([
        property(cc.ProgressBar)
    ], FieldPrefab.prototype, "timePro", void 0);
    __decorate([
        property(cc.Node)
    ], FieldPrefab.prototype, "proBg", void 0);
    __decorate([
        property(cc.Sprite)
    ], FieldPrefab.prototype, "pro", void 0);
    __decorate([
        property(cc.Label)
    ], FieldPrefab.prototype, "timeLb", void 0);
    __decorate([
        property(sp.Skeleton)
    ], FieldPrefab.prototype, "lvUpEff", void 0);
    __decorate([
        property(sp.Skeleton)
    ], FieldPrefab.prototype, "changeSkinEff", void 0);
    __decorate([
        property(sp.Skeleton)
    ], FieldPrefab.prototype, "haichong", void 0);
    __decorate([
        property(sp.Skeleton)
    ], FieldPrefab.prototype, "chuchong", void 0);
    __decorate([
        property([cc.SpriteFrame])
    ], FieldPrefab.prototype, "qipaoFrame", void 0);
    FieldPrefab = __decorate([
        ccclass
    ], FieldPrefab);
    return FieldPrefab;
}(cc.Component));
exports.default = FieldPrefab;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L21haW4vRmllbGRQcmVmYWIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWxGLCtEQUEwRDtBQUUxRCw4RUFBMEU7QUFDMUUsb0VBQStEO0FBQy9ELHdFQUFtRTtBQUNuRSxrRUFBaUU7QUFDakUsNEVBQXVFO0FBQ3ZFLDREQUF1RDtBQUN2RCx3REFBbUQ7QUFDbkQsOENBQStDO0FBQy9DLDhDQUF5QztBQUN6Qyw4Q0FBeUM7QUFDekMsdURBQWtEO0FBQ2xELDZEQUF3RDtBQUN4RCw2REFBd0Q7QUFDeEQsZ0RBQThDO0FBRXhDLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBWTVDLElBQVksU0FLWDtBQUxELFdBQVksU0FBUztJQUNqQiwyQ0FBSyxDQUFBO0lBQ0wsK0NBQU8sQ0FBQTtJQUNQLHlDQUFJLENBQUE7SUFDSix5Q0FBSSxDQUFBO0FBQ1IsQ0FBQyxFQUxXLFNBQVMsR0FBVCxpQkFBUyxLQUFULGlCQUFTLFFBS3BCO0FBR0Q7SUFBeUMsK0JBQVk7SUFBckQ7UUFBQSxxRUFrbUJDO1FBL2xCRyxRQUFFLEdBQWMsSUFBSSxDQUFDO1FBRXJCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFFMUIsVUFBSSxHQUFjLElBQUksQ0FBQztRQUd2QixXQUFLLEdBQVksSUFBSSxDQUFDO1FBRXRCLFVBQUksR0FBWSxJQUFJLENBQUM7UUFFckIsZUFBUyxHQUFjLElBQUksQ0FBQztRQUU1QixlQUFTLEdBQWEsSUFBSSxDQUFDO1FBRTNCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFHeEIsWUFBTSxHQUFhLElBQUksQ0FBQztRQUV4QixhQUFPLEdBQVksSUFBSSxDQUFDO1FBRXhCLGVBQVMsR0FBYSxJQUFJLENBQUM7UUFFM0IsYUFBTyxHQUFjLElBQUksQ0FBQztRQUcxQixhQUFPLEdBQW1CLElBQUksQ0FBQztRQUUvQixXQUFLLEdBQVksSUFBSSxDQUFDO1FBRXRCLFNBQUcsR0FBYyxJQUFJLENBQUM7UUFFdEIsWUFBTSxHQUFhLElBQUksQ0FBQztRQUV4QixhQUFPLEdBQWdCLElBQUksQ0FBQztRQUU1QixtQkFBYSxHQUFnQixJQUFJLENBQUM7UUFFbEMsY0FBUSxHQUFnQixJQUFJLENBQUM7UUFFN0IsY0FBUSxHQUFnQixJQUFJLENBQUM7UUFFN0IsZ0JBQVUsR0FBcUIsRUFBRSxDQUFDO1FBRWxDLFlBQU0sR0FBZ0I7WUFDbEIsRUFBRSxFQUFFLENBQUM7WUFDTCxJQUFJLEVBQUUsQ0FBQztZQUNQLEtBQUssRUFBRSxDQUFDO1lBQ1IsU0FBUyxFQUFFLENBQUM7WUFDWixNQUFNLEVBQUUsQ0FBQztZQUNULFFBQVEsRUFBRSxDQUFDO1lBQ1gsS0FBSyxFQUFFLENBQUM7U0FDWCxDQUFBO1FBQ0QsY0FBUSxHQUFHLENBQUMsQ0FBQztRQUNiLHNCQUFnQixHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUM7UUFDbkMsZ0JBQVUsR0FBRyxLQUFLLENBQUMsQ0FBQSxPQUFPO1FBQzFCLGtCQUFZLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLGVBQVMsR0FBRyxDQUFDLENBQUM7UUFDZCxpQkFBVyxHQUFHLENBQUMsQ0FBQztRQUNoQixZQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDWixrQkFBWSxHQUFHLENBQUMsQ0FBQyxDQUFBLFVBQVU7UUFDM0IsZUFBUyxHQUFHLENBQUMsQ0FBQyxDQUFBLFNBQVM7UUFxVXZCLFlBQVk7UUFDWixjQUFRLEdBQUcsQ0FBQyxDQUFDOztJQTJOakIsQ0FBQztJQTdoQkcsNEJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUM5QixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ2pDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFFdkMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQy9CLENBQUM7SUFDRCwyQkFBSyxHQUFMO0lBRUEsQ0FBQztJQUNTLDhCQUFRLEdBQWxCO1FBQ0ksc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDL0Qsc0JBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFOUQsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzdFLHNCQUFZLENBQUMsZ0JBQWdCLENBQUMscUJBQVMsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNqRixDQUFDO0lBRUQsNkJBQU8sR0FBUDtRQUNJLFlBQVk7UUFDWixpQ0FBaUM7UUFDakMsa0JBQWtCO1FBQ2xCLDBCQUEwQjtRQUMxQiw4QkFBOEI7UUFDOUIsZ0JBQWdCO1FBQ2hCLG9CQUFvQjtRQUNwQixpQkFBaUI7UUFDakIsbUJBQW1CO1FBQ25CLGdCQUFnQjtRQUNoQixJQUFJO1FBWFIsaUJBeUJDO1FBWkcsOENBQThDO1FBQzlDLHFDQUFxQztRQUNyQyxxQkFBcUI7UUFDckIsNkNBQTZDO1FBQzdDLHdCQUF3QjtRQUN4QixLQUFLO1FBQ0wsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzNFLGlDQUFpQztRQUNqQyw2Q0FBNkM7UUFDN0Msb0JBQVUsQ0FBQyxTQUFTLENBQUMsZ0JBQU0sQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFO1lBQ3hDLHNCQUFZLENBQUMsYUFBYSxDQUFDLHFCQUFTLENBQUMsVUFBVSxFQUFFLEtBQUksQ0FBQyxVQUFVLEVBQUUsS0FBSSxDQUFDLENBQUM7UUFDNUUsQ0FBQyxFQUFFLDhCQUFZLENBQUMsS0FBSyxFQUFFLGtCQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUNELGdDQUFVLEdBQVY7UUFDSSxpQkFBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQTtRQUMzQixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDOUIscUJBQVcsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQTtRQUMzQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDbEIsc0JBQVksQ0FBQyxhQUFhLENBQUMscUJBQVMsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN4RSw0SUFBNEk7SUFDaEosQ0FBQztJQUNELGlDQUFXLEdBQVgsVUFBWSxLQUFLO1FBQ2IsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLEtBQUs7WUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDaEQsQ0FBQztJQUVTLDRCQUFNLEdBQWhCLFVBQWlCLEVBQVU7UUFDdkIsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDeEcsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ2hCLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxFQUFFLEVBQUU7Z0JBQ3JCLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztnQkFDcEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFFdkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO2dCQUN6QixJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO2dCQUU5RSxtQ0FBbUM7Z0JBQ25DLGlDQUFpQztnQkFDakMsdUNBQXVDO2dCQUN2QyxJQUFJO2dCQUNKLHlCQUFlLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3hFLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO2dCQUNsQixrRUFBa0U7Z0JBQ2xFLG9EQUFvRDtnQkFDcEQsaURBQWlEO2dCQUNqRCwwQ0FBMEM7Z0JBQzFDLElBQUk7Z0JBRUosVUFBVTtnQkFDVixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxJQUFJLENBQUMsRUFBRTtvQkFDM0IsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLElBQUksU0FBUyxDQUFDLElBQUksRUFBRTt3QkFDekMscUJBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO3dCQUMvQixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7cUJBQ3hCO2lCQUNKO2FBQ0o7WUFDRCxJQUFJLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxFQUFFO2dCQUN4QixJQUFJLENBQUMsWUFBWSxHQUFDLENBQUMsQ0FBQztnQkFDcEIscUJBQVcsQ0FBQyxRQUFRLEVBQUUsQ0FBQzthQUMxQjtTQUNKO2FBQU07WUFDQyxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQ2pCLElBQUksQ0FBQyxXQUFXLElBQUksRUFBRSxDQUFDO2dCQUN2QixpRkFBaUY7Z0JBQ2pGLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFDM0UsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFBO2dCQUNuQyxJQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQztvQkFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztnQkFDakQseUJBQWUsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUNyRSxJQUFJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO29CQUN0RCxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztvQkFDeEIsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLElBQUksU0FBUyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsSUFBSSxDQUFDLEVBQUU7d0JBQ3RFLHFCQUFXLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQzt3QkFDL0IsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO3FCQUN4QjtvQkFDRCxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQztpQkFDeEI7YUFDSjtTQUNSO0lBQ0wsQ0FBQztJQUNELFdBQVc7SUFDWCxtQ0FBYSxHQUFiO1FBQ0ksSUFBSSxxQkFBVyxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxJQUFJLHFCQUFXLENBQUMsT0FBTyxHQUFHLENBQUMsRUFBRTtZQUNoRSxJQUFJLE1BQU0sR0FBRyx1QkFBYSxDQUFDLFdBQVcsQ0FBQyxpQkFBUSxDQUFDLFNBQVMsRUFBRSxxQkFBVyxDQUFDLFdBQVcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFBO1lBQ2pHLElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUM7WUFDMUIsSUFBSSxNQUFNLEdBQUcsaUJBQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFBO1lBQ3RDLElBQUksTUFBTSxHQUFHLElBQUksRUFBRTtnQkFDZixxQkFBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUN0QixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQztnQkFDdkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUE7YUFDbkM7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUM7Z0JBQ3ZDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFBO2FBQ25DO1NBQ0o7YUFBTTtZQUNILElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFBO1NBQ25DO0lBQ0wsQ0FBQztJQUVELDZCQUFPLEdBQVAsVUFBUSxLQUFLO1FBQ1QsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQiwrQ0FBK0M7UUFDL0MsK0VBQStFO1FBQy9FLElBQUk7SUFDUixDQUFDO0lBRUQsZ0NBQVUsR0FBVixVQUFXLE1BQVU7UUFBckIsaUJBK0NDO1FBL0NVLHVCQUFBLEVBQUEsVUFBVTtRQUNqQixJQUFJLEdBQUcsR0FBRyxxQkFBVyxDQUFDLGVBQWUsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztRQUVsQixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtZQUV6QixJQUFJLGdCQUFNLENBQUMsZUFBZTtnQkFBRSxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQzs7Z0JBQzFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztTQUM1QjtRQUVELElBQUksTUFBTSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsSUFBSSxTQUFTLENBQUMsT0FBTyxFQUFFO1lBQzNELElBQUksV0FBVyxHQUFHLHFCQUFXLENBQUMsb0JBQW9CLENBQUM7WUFDbkQsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO1lBQzFELElBQUksSUFBSSxHQUFHLFdBQVcsR0FBRyxXQUFXLENBQUM7WUFDckMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxJQUFJLEVBQUU7Z0JBQzdCLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQzthQUNoQztpQkFBTTtnQkFDSCxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7Z0JBQ3pCLG9DQUFvQztnQkFFcEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQzthQUMxQztTQUNKO1FBRUQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBQzlDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUM5QixrQ0FBa0M7WUFDbEMsOENBQThDO1lBQzlDLElBQUk7WUFDSixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztZQUNuQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztTQUVwQjthQUFNO1lBQ0gsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQzFCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUNoQztRQUVELElBQUksR0FBRyxDQUFDLEtBQUssSUFBSSxDQUFDO1lBQUUsT0FBTztRQUMzQixpQkFBTyxDQUFDLGVBQWUsQ0FBQyxxQkFBcUIsSUFBRyxNQUFJLEdBQUcsQ0FBQyxLQUFPLENBQUEsRUFBRSxVQUFDLEdBQUc7WUFDakUsS0FBSSxDQUFDLEVBQUUsQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1lBQzFCLElBQUksTUFBTSxFQUFFO2dCQUNSLEtBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7Z0JBQ3RDLEtBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxHQUFHLFdBQVcsQ0FBQzthQUM5QztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELE1BQU07SUFDTixpQ0FBVyxHQUFYLFVBQVksTUFBTTtRQUFsQixpQkFxRUM7UUFwRUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDO1FBQy9CLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDaEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBRXpCLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUN6QixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBRWxDLElBQUksTUFBTSxJQUFJLFNBQVMsQ0FBQyxLQUFLLEVBQUU7WUFDM0IsaUJBQU8sQ0FBQyxlQUFlLENBQUMsMEJBQTBCLElBQUcsS0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQVEsQ0FBQSxFQUFFLFVBQUMsR0FBRztnQkFDOUUsS0FBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1lBQ25DLENBQUMsQ0FBQyxDQUFDO1NBQ047UUFDRCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDdkIsSUFBSSxNQUFNLElBQUksU0FBUyxDQUFDLEtBQUssRUFBRTtZQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQzlCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDakMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQzFCLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFBO1NBQy9CO2FBQU0sSUFBSSxNQUFNLElBQUksU0FBUyxDQUFDLE9BQU8sRUFBRTtZQUNwQyxpQkFBTyxDQUFDLGVBQWUsQ0FBQyxvQkFBb0IsSUFBRyxLQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBUSxDQUFBLEVBQUUsVUFBQyxHQUFHO2dCQUN4RSxLQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUM7WUFDaEMsQ0FBQyxDQUFDLENBQUM7WUFDSCxrRUFBa0U7WUFDbEUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUNuQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDeEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsdUJBQWEsQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDO1lBQ3ZELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQTtZQUU1QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQy9CLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUM1QjthQUFNLElBQUksTUFBTSxJQUFJLFNBQVMsQ0FBQyxJQUFJLEVBQUU7WUFFakMsa0JBQVEsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDakMsaUJBQU8sQ0FBQyxlQUFlLENBQUMsb0JBQW9CLElBQUcsS0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQVEsQ0FBQSxFQUFFLFVBQUMsR0FBRztnQkFDeEUsS0FBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1lBQ2hDLENBQUMsQ0FBQyxDQUFDO1lBQ0gsaUJBQU8sQ0FBQyxlQUFlLENBQUMsMEJBQTBCLElBQUcsS0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQVEsQ0FBQSxFQUFFLFVBQUMsR0FBRztnQkFDOUUsS0FBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1lBQ3JDLENBQUMsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUNqQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDMUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFBO1NBQy9CO2FBQU0sSUFBSSxNQUFNLElBQUksU0FBUyxDQUFDLElBQUksRUFBRTtZQUNqQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hELGtCQUFRLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ2pDLGlCQUFPLENBQUMsZUFBZSxDQUFDLG9CQUFvQixJQUFHLEtBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFRLENBQUEsRUFBRSxVQUFDLEdBQUc7Z0JBQ3hFLEtBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztZQUNoQyxDQUFDLENBQUMsQ0FBQztZQUNILElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDakMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQzFCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQTtZQUU1QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQ2pDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQztZQUNyQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUM7U0FDakM7UUFDRCxnQkFBZ0I7UUFDaEIsbUNBQW1DO1FBQ25DLHVDQUF1QztRQUN2QywwQ0FBMEM7UUFDMUMsSUFBSTtRQUNKLHFCQUFXLENBQUMsVUFBVSxFQUFFLENBQUM7SUFFN0IsQ0FBQztJQUNELE1BQU07SUFDTixrQ0FBWSxHQUFaO1FBQ0ksSUFBSSxJQUFJLENBQUMsVUFBVTtZQUFFLE9BQU87UUFDNUIsUUFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRTtZQUMzQixLQUFLLENBQUMsRUFBQyxJQUFJO2dCQUNQLElBQUkscUJBQVcsQ0FBQyxTQUFTLElBQUksQ0FBQyxFQUFFO29CQUM1QixzQkFBWSxDQUFDLElBQUksQ0FBQyxxQkFBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO2lCQUMzQztnQkFDRCxhQUFhO2dCQUNiLHNCQUFZLENBQUMsZ0JBQWdCLENBQUMscUJBQVMsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDeEUsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUE7Z0JBQ3JGLG9CQUFVLENBQUMsU0FBUyxDQUFDLGdCQUFNLENBQUMsY0FBYyxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQzNELE1BQU07WUFDVixLQUFLLENBQUMsRUFBQyxJQUFJO2dCQUNQLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFO29CQUNsQiwwRUFBMEU7b0JBQzFFLHNFQUFzRTtvQkFDdEUsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO2lCQUNsQjtnQkFDRCxNQUFNO1lBQ1YsS0FBSyxDQUFDLEVBQUMsSUFBSTtnQkFDUCxvQkFBVSxDQUFDLFNBQVMsQ0FBQyxnQkFBTSxDQUFDLGFBQWEsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLDhCQUFZLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO2dCQUV2RyxzQkFBWSxDQUFDLGdCQUFnQixDQUFDLHFCQUFTLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDaEYsc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUN6RSxNQUFNO1lBQ1YsS0FBSyxDQUFDLEVBQUMsSUFBSTtnQkFDUCxJQUFJLHFCQUFXLENBQUMsU0FBUyxJQUFJLENBQUMsRUFBRTtvQkFDNUIsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztvQkFDeEMsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7aUJBQ2hEO2dCQUNELElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztnQkFDcEIsTUFBTTtZQUNWO2dCQUNJLE1BQU07U0FDYjtJQUNMLENBQUM7SUFDRCxJQUFJO0lBQ0osNkJBQU8sR0FBUCxVQUFRLEVBQUU7UUFBVixpQkFzQkM7UUFyQkcsc0JBQVksQ0FBQyxhQUFhLENBQUMscUJBQVMsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNyRSxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztRQUN6QixzREFBc0Q7UUFFdEQscUJBQVcsQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztRQUUxQixJQUFJLGdCQUFNLENBQUMsZUFBZTtZQUFFLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDOztZQUMxQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUV0QyxxQkFBVyxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3pCLGlCQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFO1lBQ2pDLEtBQUksQ0FBQyxnQkFBZ0IsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDO1lBQzFDLEtBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFBO1FBQ3ZDLENBQUMsQ0FBQyxDQUFBO1FBRUYsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBRW5ELENBQUM7SUFDRCxzQ0FBZ0IsR0FBaEI7UUFDSSxzQkFBWSxDQUFDLGFBQWEsQ0FBQyxxQkFBUyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3JFLHNCQUFZLENBQUMsYUFBYSxDQUFDLHFCQUFTLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQTtJQUN0RixDQUFDO0lBR0QsK0JBQVMsR0FBVDtRQUNJLElBQUksSUFBSSxHQUFHLHFCQUFXLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDakMsSUFBSSxJQUFJLEdBQUcsdUJBQWEsQ0FBQyxjQUFjLEVBQUU7WUFDckMsdURBQXVEO1lBQ3ZELDJFQUEyRTtZQUMzRSxvQkFBVSxDQUFDLFNBQVMsQ0FBQyxnQkFBTSxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUU7Z0JBQ3hDLHdFQUF3RTtZQUM1RSxDQUFDLEVBQUUsOEJBQVksQ0FBQyxLQUFLLEVBQUUsa0JBQU8sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDNUMsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0QsSUFBSTtJQUNKLDZCQUFPLEdBQVA7UUFDSSxxQkFBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLHVCQUFhLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2hCLHdGQUF3RjtRQUN4Riw0Q0FBNEM7UUFDNUMsd0NBQXdDO1FBQ3hDLDBCQUEwQjtRQUMxQiw4QkFBOEI7UUFDOUIsbUVBQW1FO0lBQ3ZFLENBQUM7SUFDRCxRQUFRO0lBQ1IsK0JBQVMsR0FBVDtRQUNJLHNCQUFZLENBQUMsYUFBYSxDQUFDLHFCQUFTLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDMUUsQ0FBQztJQUNELElBQUk7SUFDSixnQ0FBVSxHQUFWLFVBQVcsSUFBSTtRQUFmLGlCQWVDO1FBZEcsc0JBQVksQ0FBQyxhQUFhLENBQUMscUJBQVMsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUV0RSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQztRQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDMUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxVQUFDLFVBQVUsRUFBRSxTQUFTO1lBQ3BELEtBQUksQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDeEMsS0FBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUNsQyxLQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ2xDLEtBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2pDLG9CQUFVLENBQUMsU0FBUyxDQUFDLGdCQUFNLENBQUMsYUFBYSxFQUFFLElBQUksRUFBRTtZQUNqRCxDQUFDLEVBQUUsOEJBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFBO1FBQ25DLENBQUMsQ0FBQyxDQUFBO1FBQ0YscUJBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUMxQixDQUFDO0lBQ0QsSUFBSTtJQUNKLGtDQUFZLEdBQVo7UUFBQSxpQkFxQkM7UUFwQkcsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxxQkFBVyxDQUFDLFlBQVksSUFBSSx1QkFBYSxDQUFDLG9CQUFvQixFQUFFO1lBQ2hFLElBQUksTUFBTSxHQUFHLGlCQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNyQyxJQUFJLE1BQU0sR0FBRyx1QkFBYSxDQUFDLGdCQUFnQixFQUFFO2dCQUN6QyxNQUFNLEdBQUcsdUJBQWEsQ0FBQyxlQUFlLENBQUM7Z0JBQ3ZDLHFCQUFXLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQztnQkFDN0Isc0JBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBUyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUNyRSw4QkFBOEI7Z0JBQzlCLG9CQUFVLENBQUMsU0FBUyxDQUFDLGdCQUFNLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRTtvQkFDekMsc0JBQVksQ0FBQyxhQUFhLENBQUMscUJBQVMsQ0FBQyxPQUFPLEVBQUUsS0FBSSxDQUFDLE9BQU8sRUFBRSxLQUFJLENBQUMsQ0FBQztnQkFDdEUsQ0FBQyxFQUFFLDhCQUFZLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzNDLE9BQU87YUFDVjtTQUNKO1FBRUQsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQzVCLGlCQUFPLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLENBQUE7WUFDckMsT0FBTztTQUNWO1FBQ0QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwQixDQUFDO0lBQ0QsNkJBQU8sR0FBUCxVQUFRLEdBQUc7UUFBWCxpQkFrREM7UUFoREcsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUNqQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDMUIsc0JBQVksQ0FBQyxhQUFhLENBQUMscUJBQVMsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRSxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRXJCLHFCQUFXLENBQUMsWUFBWSxFQUFFLENBQUM7UUFFM0Isa0JBQVEsQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFHbkMsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdELHVCQUFhLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUU7WUFDckQsSUFBSSxDQUFDLHFCQUFXLENBQUMsVUFBVTtnQkFBRSxzQkFBWSxDQUFDLElBQUksQ0FBQyxxQkFBUyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUMvRSxDQUFDLENBQUMsQ0FBQztRQUNILHFCQUFXLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3JELHFCQUFXLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQy9CLHFCQUFXLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDZCxxQkFBVyxDQUFDLGFBQWEsQ0FBQyxLQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7Z0JBQy9DLGlEQUFpRDtnQkFDakQsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO2dCQUNsRCxJQUFJLHFCQUFXLENBQUMsU0FBUyxJQUFJLENBQUMsRUFBRTtvQkFDNUIsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQTtpQkFDNUM7WUFDTCxDQUFDLEVBQUU7Z0JBQ0MsSUFBSSxxQkFBVyxDQUFDLFNBQVMsSUFBSSxDQUFDLEVBQUU7b0JBQzVCLHNCQUFZLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsWUFBWSxDQUFDLENBQUE7aUJBQzVDO2dCQUNELFFBQVE7Z0JBQ1IsSUFBSSxxQkFBVyxDQUFDLGFBQWEsRUFBRSxJQUFJLHVCQUFhLENBQUMsZ0JBQWdCLEVBQUU7b0JBQy9ELHFCQUFXLENBQUMsYUFBYSxDQUFDLENBQUMscUJBQVcsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDO29CQUN4RCxJQUFJLENBQUMsb0JBQVUsQ0FBQyxVQUFVLENBQUMsZ0JBQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO3dCQUNqRCxvQkFBVSxDQUFDLFNBQVMsQ0FBQyxnQkFBTSxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLDhCQUFZLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO3FCQUM1RTtpQkFDSjtZQUVMLENBQUMsQ0FBQyxDQUFBO1lBRUYsS0FBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ2Isc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQy9DLGlCQUFPLENBQUMsWUFBWSxDQUFDLEtBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFO2dCQUNqQyxLQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDckIsQ0FBQyxDQUFDLENBQUE7UUFDTixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDTiwyREFBMkQ7SUFFL0QsQ0FBQztJQUNELFVBQVU7SUFDViw2QkFBTyxHQUFQO1FBQ0ksc0NBQXNDO1FBQ3RDLHdFQUF3RTtJQUM1RSxDQUFDO0lBQ0QsSUFBSTtJQUNKLDhCQUFRLEdBQVI7UUFBQSxpQkF5QkM7UUF4QkcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsSUFBSSxTQUFTLENBQUMsT0FBTztZQUFFLE9BQU87UUFDdkQsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQzFCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDakMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsVUFBQyxVQUFVLEVBQUUsU0FBUztZQUNwRCxLQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3hDLEtBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFFbEMsSUFBSSxHQUFHLEdBQUcsdUJBQWEsQ0FBQyxXQUFXLENBQUMsaUJBQVEsQ0FBQyxJQUFJLEVBQUUscUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNyRixJQUFJLEtBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQyxPQUFPLEdBQUcsRUFBRSxFQUFFO2dCQUN6QyxLQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsSUFBSSxHQUFHLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztnQkFDekMsS0FBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQzthQUN4QztpQkFBTTtnQkFFSCxLQUFJLENBQUMsWUFBWSxHQUFHLEtBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO2dCQUN6QyxLQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsSUFBSSxHQUFHLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQzthQUM1QztZQUNELElBQUksS0FBSSxDQUFDLFlBQVksR0FBRyxHQUFHLEVBQUU7Z0JBQ3pCLEtBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFBO2FBQ3JCO1lBQ0QsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7WUFDdkIsS0FBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUE7UUFDL0IsQ0FBQyxDQUFDLENBQUE7SUFFTixDQUFDO0lBRUQsMkJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUN2QixJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUM5QixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFFMUIscUJBQVcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUMzQixDQUFDO0lBQ0QsK0JBQVMsR0FBVDtRQUNJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUN6QixJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQzVCLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxhQUFhLENBQ2pDLEVBQUUsQ0FBQyxRQUFRLENBQ1AsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQ3BCLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUNsQixFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFDcEIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQ2xCLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQ2xCLENBQ0osQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUNELFlBQVk7SUFDWixtQ0FBYSxHQUFiLFVBQWMsS0FBSztRQUNmLElBQUksRUFBRSxHQUFHLHFCQUFXLENBQUMsV0FBVyxFQUFFLENBQUMsV0FBVyxDQUFDO1FBQy9DLG1EQUFtRDtRQUNuRCxnRUFBZ0U7UUFDaEUsS0FBSztRQUNMLElBQUksR0FBRyxHQUFHLHVCQUFhLENBQUMsV0FBVyxDQUFDLGlCQUFRLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQzVELElBQUksVUFBVSxHQUFHLHFCQUFXLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUNoRCxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxVQUFVLENBQUMsR0FBRyxLQUFLO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFDcEQsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELGtDQUFZLEdBQVo7UUFDSSxJQUFJLElBQUksR0FBRyx1QkFBYSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxxQkFBVyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDMUcsSUFBSSxHQUFHLEdBQUcscUJBQVcsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUNyRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDO0lBQ3ZDLENBQUM7SUFFRCwrQkFBUyxHQUFULFVBQVUsR0FBRztRQUFiLGlCQWFDO1FBWkcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDbEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUMvQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDO1FBQy9CLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQUksR0FBRyxpQkFBSSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUNsQyxFQUFFLENBQUMsTUFBTSxDQUFDLGVBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFDeEQsRUFBRSxDQUFDLE9BQU8sQ0FBQyxlQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQ3pCLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFDUixLQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ2hDLEtBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDM0IsQ0FBQyxDQUFDLENBQ0wsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELGdDQUFVLEdBQVYsVUFBVyxHQUFHO1FBQWQsaUJBYUM7UUFaRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDOUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQzNCLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQztRQUMzQixJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUM5QixFQUFFLENBQUMsTUFBTSxDQUFDLGVBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUNwRCxFQUFFLENBQUMsT0FBTyxDQUFDLGVBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFDekIsRUFBRSxDQUFDLFFBQVEsQ0FBQztZQUNSLEtBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUM1QixLQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkIsQ0FBQyxDQUFDLENBQ0wsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQTlsQkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzsyQ0FDQztJQUVyQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2tEQUNRO0lBRTFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7NkNBQ0c7SUFHdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs4Q0FDSTtJQUV0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzZDQUNHO0lBRXJCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7a0RBQ1E7SUFFNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztrREFDUTtJQUUzQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOytDQUNLO0lBR3hCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7K0NBQ0s7SUFFeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztnREFDTTtJQUV4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2tEQUNRO0lBRTNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0RBQ007SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQztnREFDTTtJQUUvQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzhDQUNJO0lBRXRCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7NENBQ0U7SUFFdEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzsrQ0FDSztJQUV4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDO2dEQUNNO0lBRTVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7c0RBQ1k7SUFFbEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQztpREFDTztJQUU3QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDO2lEQUNPO0lBRTdCO1FBREMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDO21EQUNPO0lBOUNqQixXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBa21CL0I7SUFBRCxrQkFBQztDQWxtQkQsQUFrbUJDLENBbG1Cd0MsRUFBRSxDQUFDLFNBQVMsR0FrbUJwRDtrQkFsbUJvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gVHlwZVNjcmlwdDpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxyXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxyXG5cclxuaW1wb3J0IEpTSGVscGVyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvaGVscGVyL0pTSGVscGVyXCI7XHJcbmltcG9ydCBTREtNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9TREtNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFVJRWZmZWN0VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWFuYWdlci9VSUVmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvbWVzc2FnZS9FdmVudFR5cGVcIjtcclxuaW1wb3J0IENvbXBvbmVudEhlbHBlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL0NvbXBvbmVudEhlbHBlclwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IFV0aWxzIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvdG9vbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgcHJvcFR5cGUgfSBmcm9tIFwiLi4vLi4vY29uc3RzL0NDb25zdFwiO1xyXG5pbXBvcnQgR2xvYmFsIGZyb20gXCIuLi8uLi9jb25zdHMvR2xvYmFsXCI7XHJcbmltcG9ydCBVSVR5cGUgZnJvbSBcIi4uLy4uL2NvbnN0cy9VSVR5cGVcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9kYXRhcy9QbGF5ZXJNb2RlbFwiO1xyXG5pbXBvcnQgQ29uZmlnTWFuYWdlciBmcm9tIFwiLi4vLi4vbWFuYWdlci9Db25maWdNYW5hZ2VyXCI7XHJcbmltcG9ydCBFZmZlY3RNYW5hZ2VyIGZyb20gXCIuLi8uLi9tYW5hZ2VyL0VmZmVjdE1hbmFnZXJcIjtcclxuaW1wb3J0IHsgUG9wVHlwZSB9IGZyb20gXCIuLi9wb3BWaWV3L1BvcFZpZXcxXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBGaWVsZENvbmZpZyB7XHJcbiAgICBpZDogbnVtYmVyLC8v5Zyw5Z2X55qu6IKkSURcclxuICAgIHR5cGU6IG51bWJlciwgLy/lnLDlnZfnsbvlnotcclxuICAgIHN0YXRlOiBudW1iZXIsLy/lnLDlnZfnirbmgIHvvIww5pyq6Kej6ZSB77yMMeino+mUgVxyXG4gICAgY3JvcFN0YXRlOiBudW1iZXIsLy/mpI3niannirbmgIHvvIww6Zey572u77yMMeenjeWtkO+8jDLlubzoi5fvvIwz5oiQ54afLDTlj6/ljZblh7pcclxuICAgIGNyb3BJZDogbnVtYmVyLC8v56eN5qSN5L2c54mpSURcclxuICAgIGxhc3RUaW1lOiBudW1iZXIsLy/liankvZnmiJDnhp/ml7bpl7RcclxuICAgIGxldmVsOiBudW1iZXIsIC8vIOWcsOWdl+etiee6p1xyXG59XHJcblxyXG5leHBvcnQgZW51bSBDcm9wU3RhdGUge1xyXG4gICAgRU1QVFksLy8w6Zey572uXHJcbiAgICBTRUVESU5HLC8v56eN5qSN5LitXHJcbiAgICBQRVNULC8v5a6z6JmrXHJcbiAgICBSSVBFLC8v5Y+v5pS26I63XHJcbn1cclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpZWxkUHJlZmFiIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgYmc6IGNjLlNwcml0ZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIGJ1aWxkVGlwczogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgY3JvcDogY2MuU3ByaXRlID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIHFpcGFvOiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgcXBKczogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgcWlwYW9JY29uOiBjYy5TcHJpdGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxyXG4gICAgcWlwYW9EZXNjOiBjYy5MYWJlbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBxcEpzTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICB0aXBzTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgZ2V0VGlwczogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXHJcbiAgICBnZXRUaXBzTGI6IGNjLkxhYmVsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXHJcbiAgICBnZXRJY29uOiBjYy5TcHJpdGUgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Qcm9ncmVzc0JhcilcclxuICAgIHRpbWVQcm86IGNjLlByb2dyZXNzQmFyID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgcHJvQmc6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIHBybzogY2MuU3ByaXRlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIHRpbWVMYjogY2MuTGFiZWwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KHNwLlNrZWxldG9uKVxyXG4gICAgbHZVcEVmZjogc3AuU2tlbGV0b24gPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KHNwLlNrZWxldG9uKVxyXG4gICAgY2hhbmdlU2tpbkVmZjogc3AuU2tlbGV0b24gPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KHNwLlNrZWxldG9uKVxyXG4gICAgaGFpY2hvbmc6IHNwLlNrZWxldG9uID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShzcC5Ta2VsZXRvbilcclxuICAgIGNodWNob25nOiBzcC5Ta2VsZXRvbiA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoW2NjLlNwcml0ZUZyYW1lXSlcclxuICAgIHFpcGFvRnJhbWU6IGNjLlNwcml0ZUZyYW1lW10gPSBbXTtcclxuXHJcbiAgICBjb25maWc6IEZpZWxkQ29uZmlnID0ge1xyXG4gICAgICAgIGlkOiAwLFxyXG4gICAgICAgIHR5cGU6IDAsXHJcbiAgICAgICAgc3RhdGU6IDAsXHJcbiAgICAgICAgY3JvcFN0YXRlOiAwLFxyXG4gICAgICAgIGNyb3BJZDogMCxcclxuICAgICAgICBsYXN0VGltZTogMCxcclxuICAgICAgICBsZXZlbDogMSxcclxuICAgIH1cclxuICAgIGludGVydmFsID0gMDtcclxuICAgIGN1cnJlbnRDcm9wU3RhdGUgPSBDcm9wU3RhdGUuRU1QVFk7XHJcbiAgICBpc0FkZFNwZWVkID0gZmFsc2U7Ly/mmK/lkKbliqDpgJ/kuK1cclxuICAgIGFkZFNwZWVkVGltZSA9IDM7XHJcbiAgICBvbmVfc3BlZWQgPSAxO1xyXG4gICAgYWRkU3BlZWRQcm8gPSAwO1xyXG4gICAgbUluZGV4ID0gLTE7XHJcbiAgICBzYXZlRGF0YVRpbWUgPSAwOy8v5Yeg56eS5L+d5a2Y5LiA5qyh5pWw5o2uXHJcbiAgICB0b3RhbFRpbWUgPSAwOy8v5oiQ54af5omA6ZyA5oC75pe26Ze0XHJcblxyXG5cclxuICAgIHRoaXNQb2ludDtcclxuICAgIG9uTG9hZCgpIHtcclxuICAgICAgICB0aGlzLmJ1aWxkVGlwcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmx2VXBFZmYubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNoYW5nZVNraW5FZmYubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy50aGlzUG9pbnQgPSB0aGlzLm5vZGU7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuXHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMucWlwYW8sIHRoaXMub25RaXBhb0NsaWNrLCB0aGlzLCAwLCBmYWxzZSk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLm9uKHRoaXMuYnVpbGRUaXBzLCB0aGlzLm9uQnVpbGQsIHRoaXMsIDAsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNST1BfQUREX1NQRUVELCB0aGlzLmFkZFNwZWVkLCB0aGlzKTtcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuRklFTERfQlVJTEQsIHRoaXMub25CdWlsZEJhY2ssIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQnVpbGQoKSB7XHJcbiAgICAgICAgLy/lvLnlh7rlnLrmma/lhYPntKDkv6Hmga/pnaLmnb9cclxuICAgICAgICAvLyB0aGlzLmJ1aWxkVGlwcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAvLyB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAvLyAgICAgaWQ6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgIC8vICAgICB0eXBlOiB0aGlzLmNvbmZpZy50eXBlLFxyXG4gICAgICAgIC8vICAgICBzdGF0ZTogMSxcclxuICAgICAgICAvLyAgICAgY3JvcFN0YXRlOiAwLFxyXG4gICAgICAgIC8vICAgICBjcm9wSWQ6IDAsXHJcbiAgICAgICAgLy8gICAgIGxhc3RUaW1lOiAwLFxyXG4gICAgICAgIC8vICAgICBsZXZlbDogMSxcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vIFBsYXllck1vZGVsLmNoYW5nZUZpZWxkU2tpbih0aGlzLm1JbmRleCwgMSlcclxuICAgICAgICAvLyB0aGlzLmNoYW5nZVN0YXRlKENyb3BTdGF0ZS5FTVBUWSk7XHJcbiAgICAgICAgLy8gdGhpcy5jaGFuZ2VTa2luKCk7XHJcbiAgICAgICAgLy8gTUtVdGlscy5zZXROb2RlRGVsYXkodGhpcy5ub2RlLCAxLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMucWlwYW9BbmltKCk7XHJcbiAgICAgICAgLy8gfSlcclxuICAgICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5zZWxlY3RCYWNrLCB0aGlzKTtcclxuICAgICAgICAvLyBsZXQgaWQgPSB0aGlzLmNvbmZpZy5pZCArIFwiMDFcIlxyXG4gICAgICAgIC8vIFNES01hbmFnZXIuZ2V0VW5sb2NrQ29uZmlnKDcsIE51bWJlcihpZCkpO1xyXG4gICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5wb3BWaWV3MSwgbnVsbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBFdmVudERpc3BhdGgucmVtb3ZlQnlFdmVudChFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5zZWxlY3RCYWNrLCB0aGlzKTtcclxuICAgICAgICB9LCBVSUVmZmVjdFR5cGUuU0NBTEUsIFBvcFR5cGUuRklFTEQpO1xyXG4gICAgfVxyXG4gICAgc2VsZWN0QmFjaygpIHtcclxuICAgICAgICBNS1V0aWxzLmFsZXJ0VGlwcyhcIuaJqeW7uuWcn+WcsOaIkOWKn1wiKVxyXG4gICAgICAgIHRoaXMuYnVpbGRUaXBzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIFBsYXllck1vZGVsLmNoYW5nZUZpZWxkU2tpbih0aGlzLm1JbmRleCwgMSlcclxuICAgICAgICB0aGlzLmNoYW5nZVNraW4oKTtcclxuICAgICAgICBFdmVudERpc3BhdGgucmVtb3ZlQnlFdmVudChFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5zZWxlY3RCYWNrLCB0aGlzKTtcclxuICAgICAgICAvLyBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUuR29vZHNJbmZvVmlldywgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCB7IHNlbGVjdFR5cGU6IExWVVBfVFlQRS5GSUVMRCwgaWQ6IGlkLCBhbW91bnQ6IGRhdGEuYW1vdW50IH0pO1xyXG4gICAgfVxyXG4gICAgb25CdWlsZEJhY2soaW5kZXgpIHtcclxuICAgICAgICBpZiAodGhpcy5tSW5kZXggPT0gaW5kZXgpIHRoaXMuc2VsZWN0QmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCB1cGRhdGUoZHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sYXN0VGltZSA+IDAgJiYgdGhpcy5jb25maWcuY3JvcFN0YXRlIDwgMiAmJiB0aGlzLmNvbmZpZy5jcm9wU3RhdGUgPiAwICYmICF0aGlzLmlzQWRkU3BlZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnZhbCsrO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnRlcnZhbCA+PSA3MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlRGF0YVRpbWUrKztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxhc3RUaW1lLS07XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9CZy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm8uZmlsbFJhbmdlID0gKHRoaXMudG90YWxUaW1lIC0gdGhpcy5jb25maWcubGFzdFRpbWUpIC8gdGhpcy50b3RhbFRpbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuY29uZmlnLmxhc3RUaW1lIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnByb0JnLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMudGltZUxiLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICBDb21wb25lbnRIZWxwZXIubGFiZWxUaW1lRm9ybWF0KHRoaXMudGltZUxiLm5vZGUsIHRoaXMuY29uZmlnLmxhc3RUaW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgKCh0aGlzLnRvdGFsVGltZSAtIHRoaXMuY29uZmlnLmxhc3RUaW1lKSA8IHRoaXMudG90YWxUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiAodGhpcy5jdXJyZW50Q3JvcFN0YXRlICE9IENyb3BTdGF0ZS5TRUVESU5HKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5jdXJyZW50Q3JvcFN0YXRlID0gQ3JvcFN0YXRlLlNFRURJTkc7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5jaGFuZ2VTdGF0ZShDcm9wU3RhdGUuU0VFRElORylcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyB9IGVsc2UgXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcubGFzdFRpbWUgPD0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDcm9wU3RhdGUgIT0gQ3JvcFN0YXRlLlJJUEUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyTW9kZWwuc2V0Q3JvcFJpcGV0aW1lcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrSGFpY2hvZ24oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2F2ZURhdGFUaW1lID49IDMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2F2ZURhdGFUaW1lPTA7XHJcbiAgICAgICAgICAgICAgICBQbGF5ZXJNb2RlbC5zYXZlRGF0YSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQWRkU3BlZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFNwZWVkUHJvICs9IGR0O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMudGltZVByby5wcm9ncmVzcyA9ICh0aGlzLnRvdGFsVGltZSAtIHRoaXMuYWRkU3BlZWRUaW1lKSAvIHRoaXMudG90YWxUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvLmZpbGxSYW5nZSA9ICh0aGlzLnRvdGFsVGltZSAtIHRoaXMuYWRkU3BlZWRUaW1lKSAvIHRoaXMudG90YWxUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkU3BlZWRUaW1lIC09IHRoaXMub25lX3NwZWVkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWRkU3BlZWRUaW1lIDwgMCkgdGhpcy5hZGRTcGVlZFRpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIENvbXBvbmVudEhlbHBlci5sYWJlbFRpbWVGb3JtYXQodGhpcy50aW1lTGIubm9kZSwgdGhpcy5hZGRTcGVlZFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvdGFsVGltZSAtIHRoaXMuYWRkU3BlZWRUaW1lID49IHRoaXMudG90YWxUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNBZGRTcGVlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q3JvcFN0YXRlICE9IENyb3BTdGF0ZS5SSVBFICYmIHRoaXMuY29uZmlnLmxhc3RUaW1lIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllck1vZGVsLnNldENyb3BSaXBldGltZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tIYWljaG9nbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkU3BlZWRQcm8gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+aIkOeGn+ajgOa1i+aYr+WQpuacieWus+iZq1xyXG4gICAgY2hlY2tIYWljaG9nbigpIHtcclxuICAgICAgICBpZiAoUGxheWVyTW9kZWwuZ2V0Q3JvcFJpcGV0aW1lcygpID49IDkgJiYgUGxheWVyTW9kZWwucGVzdE51bSA8IDIpIHtcclxuICAgICAgICAgICAgbGV0IGFkZENmZyA9IENvbmZpZ01hbmFnZXIuZ2V0UHJvcEJ5SWQocHJvcFR5cGUuc2NhcmVjcm93LCBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLnNjYXJlY3Jvd2x2KVxyXG4gICAgICAgICAgICBsZXQgcmF0ZSA9IGFkZENmZy5hZGRfbnVtO1xyXG4gICAgICAgICAgICBsZXQgcmFuZG9tID0gTUtVdGlscy5yYW5kb21OTUYoMCwgMTAwKVxyXG4gICAgICAgICAgICBpZiAocmFuZG9tIDwgcmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgUGxheWVyTW9kZWwucGVzdE51bSsrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q3JvcFN0YXRlID0gQ3JvcFN0YXRlLlBFU1Q7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKENyb3BTdGF0ZS5QRVNUKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q3JvcFN0YXRlID0gQ3JvcFN0YXRlLlJJUEU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKENyb3BTdGF0ZS5SSVBFKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q3JvcFN0YXRlID0gQ3JvcFN0YXRlLlJJUEU7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUoQ3JvcFN0YXRlLlJJUEUpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldERhdGEoaW5kZXgpIHtcclxuICAgICAgICB0aGlzLm1JbmRleCA9IGluZGV4O1xyXG4gICAgICAgIHRoaXMuY2hhbmdlU2tpbigwKTtcclxuICAgICAgICAvLyBpZiAoIVBsYXllck1vZGVsLmd1aWRlU3RhdGUgJiYgaW5kZXggPT0gMCkge1xyXG4gICAgICAgIC8vICAgICBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQ1JPUF9QTEFOVCwgdGhpcy5vblBsYW50LCB0aGlzKTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlU2tpbihpc0x2VXAgPSAxKSB7XHJcbiAgICAgICAgbGV0IGNmZyA9IFBsYXllck1vZGVsLmdldEZpZWxkTGlzdENmZygpW3RoaXMubUluZGV4XTtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IGNmZztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmNyb3BJZCAhPSAwKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoR2xvYmFsLmlzQ2VzaGlfdmVyc2lvbikgdGhpcy50b3RhbFRpbWUgPSA1O1xyXG4gICAgICAgICAgICBlbHNlIHRoaXMuZ2V0UGxhbnRUaW1lKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNMdlVwID09IDAgJiYgdGhpcy5jb25maWcuY3JvcFN0YXRlID09IENyb3BTdGF0ZS5TRUVESU5HKSB7XHJcbiAgICAgICAgICAgIGxldCBvZmZsaW5lVGltZSA9IFBsYXllck1vZGVsLm9mZmxpbmVMYXN0VGltZXN0YW1wO1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudFRpbWUgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCk7XHJcbiAgICAgICAgICAgIGxldCB0aW1lID0gY3VycmVudFRpbWUgLSBvZmZsaW5lVGltZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmxhc3RUaW1lID4gdGltZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcubGFzdFRpbWUgLT0gdGltZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxhc3RUaW1lID0gMDtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuY2hhbmdlU3RhdGUoQ3JvcFN0YXRlLlJJUEUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmNyb3BTdGF0ZSA9IENyb3BTdGF0ZS5SSVBFO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRDcm9wU3RhdGUgPSB0aGlzLmNvbmZpZy5jcm9wU3RhdGU7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnN0YXRlID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkVGlwcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gaWYgKHRoaXMuY29uZmlnLmxhc3RUaW1lIDwgMCkge1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5jb25maWcuY3JvcFN0YXRlID0gQ3JvcFN0YXRlLlJJUEU7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgbGV0IGNTdGF0ZSA9IHRoaXMuY29uZmlnLmNyb3BTdGF0ZTtcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShjU3RhdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnFpcGFvQW5pbSgpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnFpcGFvLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkVGlwcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNmZy5sZXZlbCA9PSAwKSByZXR1cm47XHJcbiAgICAgICAgTUtVdGlscy5sb2FkU3ByaXRlRnJhbWUoXCJ0ZXh0dXJlL3Byb3AvZmllbGQvXCIgKyBgMCR7Y2ZnLmxldmVsfWAsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5iZy5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICAgICAgaWYgKGlzTHZVcCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTa2luRWZmLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU2tpbkVmZi5hbmltYXRpb24gPSBcImFuaW1hdGlvblwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvL+WIh+aNoueKtuaAgVxyXG4gICAgY2hhbmdlU3RhdGUoY1N0YXRlKSB7XHJcbiAgICAgICAgdGhpcy5jb25maWcuY3JvcFN0YXRlID0gY1N0YXRlO1xyXG4gICAgICAgIHRoaXMuY3JvcC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jcm9wLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLnFpcGFvLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMucXBKcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnFpcGFvSWNvbi5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmIChjU3RhdGUgIT0gQ3JvcFN0YXRlLkVNUFRZKSB7XHJcbiAgICAgICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9jcm9wL3NpbmdsZUljb24vXCIgKyBgJHt0aGlzLmNvbmZpZy5jcm9wSWR9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJY29uLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50aW1lTGIubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByb0JnLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucHJvLmZpbGxSYW5nZSA9IDA7XHJcbiAgICAgICAgaWYgKGNTdGF0ZSA9PSBDcm9wU3RhdGUuRU1QVFkpIHtcclxuICAgICAgICAgICAgdGhpcy5jcm9wLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudGltZVByby5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnByb0JnLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnFpcGFvSWNvbi5zcHJpdGVGcmFtZSA9IHRoaXMucWlwYW9GcmFtZVswXTtcclxuICAgICAgICAgICAgdGhpcy5xaXBhb0Rlc2Muc3RyaW5nID0gXCLnp43mpI1cIlxyXG4gICAgICAgIH0gZWxzZSBpZiAoY1N0YXRlID09IENyb3BTdGF0ZS5TRUVESU5HKSB7XHJcbiAgICAgICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9jcm9wL3JpcGUvXCIgKyBgJHt0aGlzLmNvbmZpZy5jcm9wSWR9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcm9wLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gQ29tcG9uZW50SGVscGVyLnNldEhlYXJ0QWN0aW9uKHRoaXMuY3JvcC5ub2RlLCAxLCBmYWxzZSwgMS4wMyk7XHJcbiAgICAgICAgICAgIHRoaXMucWlwYW9JY29uLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMucXBKcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnFwSnNMYi5zdHJpbmcgPSBDb25maWdNYW5hZ2VyLmFkZF9zcGVlZF9nb2xkICsgXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5xaXBhb0Rlc2Muc3RyaW5nID0gXCLliqDpgJ9cIlxyXG5cclxuICAgICAgICAgICAgdGhpcy50aW1lTGIubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnByb0JnLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjU3RhdGUgPT0gQ3JvcFN0YXRlLlJJUEUpIHtcclxuXHJcbiAgICAgICAgICAgIEpTSGVscGVyLnBsYXlFZmZlY3QoXCJjcm9wX3JpcGVcIik7XHJcbiAgICAgICAgICAgIE1LVXRpbHMubG9hZFNwcml0ZUZyYW1lKFwidGV4dHVyZS9jcm9wL3JpcGUvXCIgKyBgJHt0aGlzLmNvbmZpZy5jcm9wSWR9YCwgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcm9wLnNwcml0ZUZyYW1lID0gcmVzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgTUtVdGlscy5sb2FkU3ByaXRlRnJhbWUoXCJ0ZXh0dXJlL2Nyb3Avc2luZ2xlSWNvbi9cIiArIGAke3RoaXMuY29uZmlnLmNyb3BJZH1gLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnFpcGFvSWNvbi5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRpbWVQcm8ubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5wcm9CZy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5xaXBhb0Rlc2Muc3RyaW5nID0gXCLmlLbojrdcIlxyXG4gICAgICAgIH0gZWxzZSBpZiAoY1N0YXRlID09IENyb3BTdGF0ZS5QRVNUKSB7XHJcbiAgICAgICAgICAgIHRoaXMucWlwYW9JY29uLnNwcml0ZUZyYW1lID0gdGhpcy5xaXBhb0ZyYW1lWzFdO1xyXG4gICAgICAgICAgICBKU0hlbHBlci5wbGF5RWZmZWN0KFwiY3JvcF9yaXBlXCIpO1xyXG4gICAgICAgICAgICBNS1V0aWxzLmxvYWRTcHJpdGVGcmFtZShcInRleHR1cmUvY3JvcC9yaXBlL1wiICsgYCR7dGhpcy5jb25maWcuY3JvcElkfWAsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JvcC5zcHJpdGVGcmFtZSA9IHJlcztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZVByby5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnByb0JnLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnFpcGFvRGVzYy5zdHJpbmcgPSBcIumZpOiZq1wiXHJcblxyXG4gICAgICAgICAgICB0aGlzLmhhaWNob25nLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5oYWljaG9uZy5hbmltYXRpb24gPSBcImhhaWNob25nXCI7XHJcbiAgICAgICAgICAgIHRoaXMuaGFpY2hvbmcudGltZVNjYWxlID0gMC42O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+esrOS4gOeJiGJ1Z+S/ruaUueazqOmHiuWNh+e6p+aViOaenFxyXG4gICAgICAgIC8vIGlmIChjU3RhdGUgIT0gQ3JvcFN0YXRlLkVNUFRZKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMubHZVcEVmZi5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgLy8gICAgIHRoaXMubHZVcEVmZi5hbmltYXRpb24gPSBcInNoZW5namlcIjtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgUGxheWVyTW9kZWwuc2F2ZVVpRGF0YSgpO1xyXG5cclxuICAgIH1cclxuICAgIC8v5rCU5rOh54K55Ye7XHJcbiAgICBvblFpcGFvQ2xpY2soKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBZGRTcGVlZCkgcmV0dXJuO1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5jb25maWcuY3JvcFN0YXRlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDovL+enjeakjVxyXG4gICAgICAgICAgICAgICAgaWYgKFBsYXllck1vZGVsLmd1aWRlU3RlcCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkdVSURFX0hpZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy/miZPlvIDkvZznianpnaLmnb/vvIzpgInmi6nkvZznialcclxuICAgICAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5DUk9QX1BMQU5ULCB0aGlzLm9uUGxhbnQsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLlZFR0VUQUJMRV9DTE9TRSwgdGhpcy5vblZyZ2V0YWJsZUNsb3NlLCB0aGlzKVxyXG4gICAgICAgICAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLlZlZ2V0YWJsZXNWaWV3LG51bGwsbnVsbCxudWxsKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6Ly/liqDpgJ9cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrR29sZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkpYX1NDLCB7IHR5cGU6IDEsIHBvaW50OiB0aGlzLnRoaXNQb2ludCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuSklBU1UsIHRoaXMub25KaWFzdSwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkppYXN1KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOi8v6Zmk6JmrXHJcbiAgICAgICAgICAgICAgICBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUuY2xlYXJQZXN0VmlldywgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCB0aGlzLnRoaXNQb2ludCwgdGhpcy5jb25maWcpXHJcblxyXG4gICAgICAgICAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNMRUFSX1BFU1RfQ0xPU0UsIHRoaXMuY2xvc2VQZXN0LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5hZGRFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5TSEFDSE9ORywgdGhpcy5vblNoYWNob25nLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6Ly/mlLbojrdcclxuICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJNb2RlbC5ndWlkZVN0ZXAgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5HVUlERV9IaWRlKTtcclxuICAgICAgICAgICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuTUFJTl9MT0NLLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tHZXRDcm9wKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v56eN5qSNXHJcbiAgICBvblBsYW50KGlkKSB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUJ5RXZlbnQoRXZlbnRUeXBlLkNST1BfUExBTlQsIHRoaXMub25QbGFudCwgdGhpcyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLnp43mpI1pZO+8mlwiLCBpZCk7XHJcbiAgICAgICAgLy8gU0RLTWFuYWdlci5vbkV2ZW50KEdsb2JhbC5FVkVOVF9BQ1RJT04uY2xpZW50X3NlZWQpXHJcblxyXG4gICAgICAgIFBsYXllck1vZGVsLnNldFBsYW50TnVtQnlJZChpZCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29uZmlnLmNyb3BJZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuY29uZmlnLmNyb3BTdGF0ZSA9IDE7XHJcblxyXG4gICAgICAgIGlmIChHbG9iYWwuaXNDZXNoaV92ZXJzaW9uKSB0aGlzLnRvdGFsVGltZSA9IDU7XHJcbiAgICAgICAgZWxzZSB0aGlzLmdldFBsYW50VGltZSgpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnLmxhc3RUaW1lID0gdGhpcy50b3RhbFRpbWU7XHJcblxyXG4gICAgICAgIFBsYXllck1vZGVsLnNhdmVVaURhdGEoKTtcclxuICAgICAgICBNS1V0aWxzLnNldE5vZGVEZWxheSh0aGlzLm5vZGUsIDAuMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDcm9wU3RhdGUgPSBDcm9wU3RhdGUuU0VFRElORztcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShDcm9wU3RhdGUuU0VFRElORylcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuVVBEQVRFX0ZJRUxEX1RJUFMpO1xyXG5cclxuICAgIH1cclxuICAgIG9uVnJnZXRhYmxlQ2xvc2UoKSB7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUJ5RXZlbnQoRXZlbnRUeXBlLkNST1BfUExBTlQsIHRoaXMub25QbGFudCwgdGhpcyk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUJ5RXZlbnQoRXZlbnRUeXBlLlZFR0VUQUJMRV9DTE9TRSwgdGhpcy5vblZyZ2V0YWJsZUNsb3NlLCB0aGlzKVxyXG4gICAgfVxyXG4gICAgLy/mo4DmtYvliqDpgJ/pkp7npajmmK/lkKblhYXotrNcclxuICAgIGRpZmZHb2xkID0gMDtcclxuICAgIGNoZWNrR29sZCgpIHtcclxuICAgICAgICBsZXQgZ29sZCA9IFBsYXllck1vZGVsLmdldEdvbGQoKTtcclxuICAgICAgICBpZiAoZ29sZCA8IENvbmZpZ01hbmFnZXIuYWRkX3NwZWVkX2dvbGQpIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5kaWZmR29sZCA9IENvbmZpZ01hbmFnZXIuYWRkX3NwZWVkX2dvbGQgLSBnb2xkO1xyXG4gICAgICAgICAgICAvLyBFdmVudERpc3BhdGguYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5hZGRHb2xkLCB0aGlzKTtcclxuICAgICAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLnBvcFZpZXcxLCBudWxsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBFdmVudERpc3BhdGgucmVtb3ZlQnlFdmVudChFdmVudFR5cGUuVklERU9fQkFDSywgdGhpcy5hZGRHb2xkLCB0aGlzKTtcclxuICAgICAgICAgICAgfSwgVUlFZmZlY3RUeXBlLlNDQUxFLCBQb3BUeXBlLkdPTEQyLCAxMDAwKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8v5Yqg6YCfXHJcbiAgICBvbkppYXN1KCkge1xyXG4gICAgICAgIFBsYXllck1vZGVsLnNldEdvbGQoLUNvbmZpZ01hbmFnZXIuYWRkX3NwZWVkX2dvbGQpO1xyXG4gICAgICAgIHRoaXMuYWRkU3BlZWQoKTtcclxuICAgICAgICAvLyBsZXQgY2ZnID0gQ29uZmlnTWFuYWdlci5nZXRQcm9wQnlJZChwcm9wVHlwZS5waXBlLCBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLnBpcGVsdik7XHJcbiAgICAgICAgLy8gdGhpcy5jb25maWcubGFzdFRpbWUgLT0gY2ZnLmFkZF9udW0gKiA2MDtcclxuICAgICAgICAvLyB0aGlzLmFkZFNwZWVkVGltZSA9IGNmZy5hZGRfbnVtICogNjA7XHJcbiAgICAgICAgLy8gdGhpcy5pc0FkZFNwZWVkID0gdHJ1ZTtcclxuICAgICAgICAvLyB0aGlzLmZseUpzVGlwcyhjZmcuYWRkX251bSlcclxuICAgICAgICAvLyBFdmVudERpc3BhdGgucmVtb3ZlQnlFdmVudChFdmVudFR5cGUuSklBU1UsIHRoaXMub25KaWFzdSwgdGhpcyk7XHJcbiAgICB9XHJcbiAgICAvL+WFs+mXremZpOiZq+mdouadv1xyXG4gICAgY2xvc2VQZXN0KCkge1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5yZW1vdmVCeUV2ZW50KEV2ZW50VHlwZS5TSEFDSE9ORywgdGhpcy5vblNoYWNob25nLCB0aGlzKTtcclxuICAgIH1cclxuICAgIC8v6Zmk6JmrXHJcbiAgICBvblNoYWNob25nKGRhdGEpIHtcclxuICAgICAgICBFdmVudERpc3BhdGgucmVtb3ZlQnlFdmVudChFdmVudFR5cGUuU0hBQ0hPTkcsIHRoaXMub25TaGFjaG9uZywgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuY2h1Y2hvbmcubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuY2h1Y2hvbmcuYW5pbWF0aW9uID0gXCJzaGFjaG9uZ1wiO1xyXG4gICAgICAgIHRoaXMucWlwYW8uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jaHVjaG9uZy5zZXRDb21wbGV0ZUxpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wQ291bnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jaHVjaG9uZy5zZXRDb21wbGV0ZUxpc3RlbmVyKG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLmNodWNob25nLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaGFpY2hvbmcubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShDcm9wU3RhdGUuUklQRSk7XHJcbiAgICAgICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5wb3BSZXdhcmRWaWV3LCBudWxsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIH0sIFVJRWZmZWN0VHlwZS5TQ0FMRSwgMCwgZGF0YSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIFBsYXllck1vZGVsLnBlc3ROdW0tLTtcclxuICAgIH1cclxuICAgIC8v5pS26I63XHJcbiAgICBjaGVja0dldENyb3AoKSB7XHJcbiAgICAgICAgbGV0IGdldE51bSA9IDE7XHJcbiAgICAgICAgaWYgKFBsYXllck1vZGVsLmNyb3BfZ2V0X251bSA+PSBDb25maWdNYW5hZ2VyLmNyb3BfbWF4R2V0X2ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGxldCByYW5kb20gPSBNS1V0aWxzLnJhbmRvbU5NRigwLCAxKTtcclxuICAgICAgICAgICAgaWYgKHJhbmRvbSA8IENvbmZpZ01hbmFnZXIuY3JvcF9tYXhHZXRfcmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgZ2V0TnVtID0gQ29uZmlnTWFuYWdlci5jcm9wX21heEdldF9udW07XHJcbiAgICAgICAgICAgICAgICBQbGF5ZXJNb2RlbC5jcm9wX2dldF9udW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgRXZlbnREaXNwYXRoLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkNST1BfR0MsIHRoaXMuZ2V0Q3JvcCwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAvLyBNS1V0aWxzLmFsZXJ0VGlwcyhcIuW8ueWHuumrmOS6p+mhtemdolwiKVxyXG4gICAgICAgICAgICAgICAgVUlNYW5hbmdlci5zaG93UGFuZWwoVUlUeXBlLnBvcEdjVmlldywgbnVsbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5yZW1vdmVCeUV2ZW50KEV2ZW50VHlwZS5DUk9QX0dDLCB0aGlzLmdldENyb3AsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfSwgVUlFZmZlY3RUeXBlLlNDQUxFLCB0aGlzLmNvbmZpZy5jcm9wSWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5jaGVja0hvdXNlTWF4KGdldE51bSkpIHtcclxuICAgICAgICAgICAgTUtVdGlscy5hbGVydFRpcHMoXCLku5PlupPmlL7kuI3kuIvkuobvvIzlv6vngrnljZblh7rkvZznianotZrpkrHlkKdcIilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdldENyb3AoMSk7XHJcbiAgICB9XHJcbiAgICBnZXRDcm9wKG51bSkge1xyXG5cclxuICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuQ1JPUF9HRVQpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGUoQ3JvcFN0YXRlLkVNUFRZKVxyXG4gICAgICAgIHRoaXMucWlwYW8uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUJ5RXZlbnQoRXZlbnRUeXBlLkNST1BfR0MsIHRoaXMuZ2V0Q3JvcCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5mbHlHZXRUaXBzKG51bSk7XHJcblxyXG4gICAgICAgIFBsYXllck1vZGVsLmNyb3BfZ2V0X251bSsrO1xyXG5cclxuICAgICAgICBKU0hlbHBlci5wbGF5RWZmZWN0KFwiY3JvcF9yaXBlXCIsIGZhbHNlLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmx2VXBFZmYuYW5pbWF0aW9uID0gXCJzaGVuZ2ppXCI7XHJcblxyXG5cclxuICAgICAgICBsZXQgc3RhcnROb2RlID0gdGhpcy5ub2RlLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLCAwKSk7XHJcbiAgICAgICAgRWZmZWN0TWFuYWdlci5wbGF5Q3JvcChzdGFydE5vZGUsIHRoaXMuY29uZmlnLmNyb3BJZCwgOCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIVBsYXllck1vZGVsLmd1aWRlU3RhdGUpIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5NQUlOX0xPQ0ssIGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBQbGF5ZXJNb2RlbC5zZXRIb3VzZUFkZENyb3AodGhpcy5jb25maWcuY3JvcElkLCBudW0pO1xyXG4gICAgICAgIFBsYXllck1vZGVsLnNldENyb3BHZXROdW0obnVtKTtcclxuICAgICAgICBQbGF5ZXJNb2RlbC5zZXRYZnpzKDAuMik7XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xyXG4gICAgICAgICAgICBQbGF5ZXJNb2RlbC5jaGVja0FkZE9yZGVyKHRoaXMuY29uZmlnLmNyb3BJZCwgbnVtLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBVSU1hbmFuZ2VyLnNob3dQYW5lbChVSVR5cGUub3JkZXJTdWNjZXNzVmlldyk7XHJcbiAgICAgICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuT1JERVJfQ09NUExFVEVfVVBEQVRFKVxyXG4gICAgICAgICAgICAgICAgaWYgKFBsYXllck1vZGVsLmd1aWRlU3RlcCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkdVSURFX1VQREFURSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKFBsYXllck1vZGVsLmd1aWRlU3RlcCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLkdVSURFX1VQREFURSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8v6L6b6Ium57qi5YyF5Yik5patXHJcbiAgICAgICAgICAgICAgICBpZiAoUGxheWVyTW9kZWwuZ2V0Q3JvcEdldE51bSgpID49IENvbmZpZ01hbmFnZXIuaGFyZF9oYl9pbnRlcnZhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFBsYXllck1vZGVsLnNldENyb3BHZXROdW0oLVBsYXllck1vZGVsLmdldENyb3BHZXROdW0oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFVSU1hbmFuZ2VyLmNoZWNrUGFuZWwoVUlUeXBlLm9yZGVyU3VjY2Vzc1ZpZXcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVJTWFuYW5nZXIuc2hvd1BhbmVsKFVJVHlwZS5oYXJkVmlldywgbnVsbCwgbnVsbCwgVUlFZmZlY3RUeXBlLlNDQUxFLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuVVBEQVRFX0ZJRUxEX1RJUFMpO1xyXG4gICAgICAgICAgICBNS1V0aWxzLnNldE5vZGVEZWxheSh0aGlzLm5vZGUsIDAuNSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5xaXBhb0FuaW0oKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LCAxKTtcclxuICAgICAgICAvLyBTREtNYW5hZ2VyLm9uRXZlbnQoR2xvYmFsLkVWRU5UX0FDVElPTi5jbGllbnRfZ2V0X2Nyb3BzKVxyXG5cclxuICAgIH1cclxuICAgIC8v6ZKe56Wo5LiN6Laz77yM55yL6KeG6aKRXHJcbiAgICBhZGRHb2xkKCkge1xyXG4gICAgICAgIC8vIFBsYXllck1vZGVsLnNldEdvbGQodGhpcy5kaWZmR29sZCk7XHJcbiAgICAgICAgLy8gRXZlbnREaXNwYXRoLnJlbW92ZUJ5RXZlbnQoRXZlbnRUeXBlLlZJREVPX0JBQ0ssIHRoaXMuYWRkR29sZCwgdGhpcyk7XHJcbiAgICB9XHJcbiAgICAvL+WKoOmAn1xyXG4gICAgYWRkU3BlZWQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmNyb3BTdGF0ZSAhPSBDcm9wU3RhdGUuU0VFRElORykgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMucWlwYW8uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5oYWljaG9uZy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5oYWljaG9uZy5hbmltYXRpb24gPSBcImppYXN1XCI7XHJcbiAgICAgICAgdGhpcy5oYWljaG9uZy5zZXRDb21wbGV0ZUxpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wQ291bnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5oYWljaG9uZy5zZXRDb21wbGV0ZUxpc3RlbmVyKG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLmhhaWNob25nLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBsZXQgY2ZnID0gQ29uZmlnTWFuYWdlci5nZXRQcm9wQnlJZChwcm9wVHlwZS5waXBlLCBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLnBpcGVsdik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5sYXN0VGltZSA+IGNmZy5hZGRfbnVtICogNjApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxhc3RUaW1lIC09IGNmZy5hZGRfbnVtICogNjA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFNwZWVkVGltZSA9IGNmZy5hZGRfbnVtICogNjA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTcGVlZFRpbWUgPSB0aGlzLmNvbmZpZy5sYXN0VGltZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxhc3RUaW1lIC09IGNmZy5hZGRfbnVtICogNjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuYWRkU3BlZWRUaW1lID4gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uZV9zcGVlZCA9IDRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmlzQWRkU3BlZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmZseUpzVGlwcyhjZmcuYWRkX251bSlcclxuICAgICAgICB9KVxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZy5jcm9wSWQgPSAwO1xyXG4gICAgICAgIHRoaXMuY29uZmlnLmxhc3RUaW1lID0gMDtcclxuICAgICAgICB0aGlzLmNyb3Aubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnFpcGFvLmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICBQbGF5ZXJNb2RlbC5zYXZlRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgcWlwYW9BbmltKCkge1xyXG4gICAgICAgIHRoaXMucWlwYW8uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnFpcGFvLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5xaXBhby5ydW5BY3Rpb24oY2MucmVwZWF0Rm9yZXZlcihcclxuICAgICAgICAgICAgY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgICAgICBjYy5zY2FsZVRvKDAuMywgMS4yKSxcclxuICAgICAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4zLCAxKSxcclxuICAgICAgICAgICAgICAgIGNjLnNjYWxlVG8oMC4zLCAxLjIpLFxyXG4gICAgICAgICAgICAgICAgY2Muc2NhbGVUbygwLjMsIDEpLFxyXG4gICAgICAgICAgICAgICAgY2MuZGVsYXlUaW1lKDIpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApKVxyXG4gICAgfVxyXG4gICAgLy/mo4DmtYvku5PlupPmmK/lkKbovr7liLDkuIrpmZBcclxuICAgIGNoZWNrSG91c2VNYXgodmFsdWUpIHtcclxuICAgICAgICBsZXQgbHYgPSBQbGF5ZXJNb2RlbC5nZXRVSUNvbmZpZygpLndhcmVob3VzZWx2O1xyXG4gICAgICAgIC8vIGxldCBhcnIgPSBDb25maWdNYW5hZ2VyLnByb3AuZmlsdGVyKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIC8vICAgICByZXR1cm4gdmFsdWUuaWQgPT0gTnVtYmVyKHByb3BUeXBlLndhcmVob3VzZSArIGAwJHtpZH1gKTtcclxuICAgICAgICAvLyB9KVxyXG4gICAgICAgIGxldCBjZmcgPSBDb25maWdNYW5hZ2VyLmdldFByb3BCeUlkKHByb3BUeXBlLndhcmVob3VzZSwgbHYpO1xyXG4gICAgICAgIGxldCBjdXJyZW50TnVtID0gUGxheWVyTW9kZWwuZ2V0Q3VycmVudFB1dE51bSgpO1xyXG4gICAgICAgIGlmICgoY2ZnLmFkZF9udW0gLSBjdXJyZW50TnVtKSA8IHZhbHVlKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGxhbnRUaW1lKCkge1xyXG4gICAgICAgIGxldCB0aW1lID0gQ29uZmlnTWFuYWdlci5nZXRDcm9wVGltZSh0aGlzLmNvbmZpZy5jcm9wSWQsIFBsYXllck1vZGVsLmdldFBsYW50TnVtQnlJZCh0aGlzLmNvbmZpZy5jcm9wSWQpKTtcclxuICAgICAgICBsZXQgYWRkID0gUGxheWVyTW9kZWwuZ2V0VGltZUFkZCh0aGlzLmNvbmZpZy50eXBlLCB0aGlzLmNvbmZpZy5sZXZlbClcclxuICAgICAgICB0aGlzLnRvdGFsVGltZSA9IHRpbWUgLSBhZGQgKiB0aW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGZseUpzVGlwcyhudW0pIHtcclxuICAgICAgICB0aGlzLnRpcHNMYi5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy50aXBzTGIubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudGlwc0xiLm5vZGUub3BhY2l0eSA9IDI1NTtcclxuICAgICAgICB0aGlzLnRpcHNMYi5zdHJpbmcgPSBgLSR7bnVtfeWIhumSn2A7XHJcbiAgICAgICAgdGhpcy50aXBzTGIubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgIGNjLm1vdmVUbyhVdGlscy5fRlQoMzApLCBjYy52Mih0aGlzLnRpcHNMYi5ub2RlLngsIDEwMCkpLFxyXG4gICAgICAgICAgICBjYy5mYWRlT3V0KFV0aWxzLl9GVCgxNSkpLFxyXG4gICAgICAgICAgICBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpcHNMYi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aXBzTGIubm9kZS55ID0gMDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApKTtcclxuICAgIH1cclxuICAgIGZseUdldFRpcHMobnVtKSB7XHJcbiAgICAgICAgdGhpcy5nZXRUaXBzTGIuc3RyaW5nID0gXCIrXCIgKyBudW07XHJcbiAgICAgICAgdGhpcy5nZXRUaXBzLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5nZXRUaXBzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5nZXRUaXBzLm9wYWNpdHkgPSAyNTU7XHJcbiAgICAgICAgdGhpcy5nZXRUaXBzLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgY2MubW92ZVRvKFV0aWxzLl9GVCgzMCksIGNjLnYyKHRoaXMuZ2V0VGlwcy54LCAxNTApKSxcclxuICAgICAgICAgICAgY2MuZmFkZU91dChVdGlscy5fRlQoMTUpKSxcclxuICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRUaXBzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRUaXBzLnkgPSAwO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICkpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/loader/GroupLoader.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c7a25GfRSRMb4u8vnG7Ytpi', 'GroupLoader');
// src/framework/loader/GroupLoader.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GroupData_1 = require("./GroupData");
var LoaderManager_1 = require("../manager/LoaderManager");
var GroupLoader = /** @class */ (function () {
    function GroupLoader() {
        this.groupArr = []; //组的队列
    }
    GroupLoader.prototype.addGroup = function (arr, handler) {
        if (!!arr) {
            var data = this._getGroupData();
            var ghandler = data.getCompletetHandler();
            data.resources = arr;
            data.handler = handler;
            for (var index = 0; index < arr.length; index++) {
                var element = arr[index];
                LoaderManager_1.default.loadRes(element.fileName, element.type, ghandler, element.moduleName);
            }
        }
        else {
            cc.error('add group data error');
        }
    };
    GroupLoader.prototype._getGroupData = function () {
        for (var index = 0; index < this.groupArr.length; index++) {
            var element = this.groupArr[index];
            if (!element.isActive) {
                element.isActive = true;
                return element;
            }
        }
        var data = new GroupData_1.default();
        this.groupArr.push(data);
        return data;
    };
    return GroupLoader;
}());
exports.default = GroupLoader;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL2xvYWRlci9Hcm91cExvYWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHlDQUF1RDtBQUN2RCwwREFBcUQ7QUFHckQ7SUFBQTtRQUNZLGFBQVEsR0FBb0IsRUFBRSxDQUFDLENBQUEsTUFBTTtJQTZCakQsQ0FBQztJQTNCRyw4QkFBUSxHQUFSLFVBQVMsR0FBd0IsRUFBQyxPQUFlO1FBQzdDLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRTtZQUNQLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUNoQyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUMxQyxJQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQztZQUNyQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztZQUN2QixLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsRUFBRTtnQkFDN0MsSUFBTSxPQUFPLEdBQWlCLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDekMsdUJBQWEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBQyxPQUFPLENBQUMsSUFBSSxFQUFDLFFBQVEsRUFBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDcEY7U0FDSjthQUFNO1lBQ0gsRUFBRSxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1NBQ3BDO0lBQ0wsQ0FBQztJQUVELG1DQUFhLEdBQWI7UUFDSSxLQUFLLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDdkQsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRTtnQkFDbkIsT0FBTyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7Z0JBQ3hCLE9BQU8sT0FBTyxDQUFDO2FBQ2xCO1NBQ0o7UUFDRCxJQUFJLElBQUksR0FBRyxJQUFJLG1CQUFTLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0wsa0JBQUM7QUFBRCxDQTlCQSxBQThCQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdyb3VwRGF0YSwgeyBHcm91cEZpbGVEYXRhIH0gZnJvbSBcIi4vR3JvdXBEYXRhXCI7XHJcbmltcG9ydCBMb2FkZXJNYW5hZ2VyIGZyb20gXCIuLi9tYW5hZ2VyL0xvYWRlck1hbmFnZXJcIjtcclxuaW1wb3J0IEhhbmRsZXIgZnJvbSBcIi4uL2Jhc2UvSGFuZGxlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JvdXBMb2FkZXIgIHtcclxuICAgIHByaXZhdGUgZ3JvdXBBcnI6QXJyYXk8R3JvdXBEYXRhPiA9IFtdOy8v57uE55qE6Zif5YiXXHJcbiAgICBcclxuICAgIGFkZEdyb3VwKGFycjpBcnJheTxHcm91cEZpbGVEYXRhPixoYW5kbGVyOkhhbmRsZXIpe1xyXG4gICAgICAgIGlmICghIWFycikge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMuX2dldEdyb3VwRGF0YSgpO1xyXG4gICAgICAgICAgICBsZXQgZ2hhbmRsZXIgPSBkYXRhLmdldENvbXBsZXRldEhhbmRsZXIoKTtcclxuICAgICAgICAgICAgZGF0YS5yZXNvdXJjZXMgPSBhcnI7XHJcbiAgICAgICAgICAgIGRhdGEuaGFuZGxlciA9IGhhbmRsZXI7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcnIubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50Okdyb3VwRmlsZURhdGEgPSBhcnJbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgTG9hZGVyTWFuYWdlci5sb2FkUmVzKGVsZW1lbnQuZmlsZU5hbWUsZWxlbWVudC50eXBlLGdoYW5kbGVyLGVsZW1lbnQubW9kdWxlTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYy5lcnJvcignYWRkIGdyb3VwIGRhdGEgZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2dldEdyb3VwRGF0YSgpe1xyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmdyb3VwQXJyLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5ncm91cEFycltpbmRleF07XHJcbiAgICAgICAgICAgIGlmICghZWxlbWVudC5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5pc0FjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZGF0YSA9IG5ldyBHcm91cERhdGEoKTtcclxuICAgICAgICB0aGlzLmdyb3VwQXJyLnB1c2goZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcbn1cclxuXHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/manager/UIEffectManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '26202sVGqBE0YykrPyeNJkW', 'UIEffectManager');
// src/framework/manager/UIEffectManager.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UIEffectType = void 0;
var ScaleUIEffect_1 = require("../ui/effect/ScaleUIEffect");
var FadeUIEffect_1 = require("../ui/effect/FadeUIEffect");
var TopUIEffect_1 = require("../ui/effect/TopUIEffect");
var TopBackUIEffect_1 = require("../ui/effect/TopBackUIEffect");
var ScaleBackUIEffect_1 = require("../ui/effect/ScaleBackUIEffect");
var FadeBackUIEffect_1 = require("../ui/effect/FadeBackUIEffect");
var UIEffectType;
(function (UIEffectType) {
    UIEffectType["SCALE"] = "scale";
    UIEffectType["SCALEBACK"] = "scaleback";
    UIEffectType["FADE"] = "fade";
    UIEffectType["FADEBACK"] = "fadeback";
    UIEffectType["LEFT"] = "left";
    UIEffectType["RIGHT"] = "right";
    UIEffectType["TOP"] = "top";
    UIEffectType["BOTTOM"] = "bottom";
    UIEffectType["TOPBACK"] = "topback";
})(UIEffectType = exports.UIEffectType || (exports.UIEffectType = {}));
var UIEffectManager = /** @class */ (function () {
    function UIEffectManager() {
        this.effectObj = {};
        this.effectType = {};
        this.effectType[UIEffectType.SCALE] = ScaleUIEffect_1.default;
        this.effectType[UIEffectType.FADE] = FadeUIEffect_1.default;
        this.effectType[UIEffectType.TOP] = TopUIEffect_1.default;
        this.effectType[UIEffectType.TOPBACK] = TopBackUIEffect_1.default;
        this.effectType[UIEffectType.SCALEBACK] = ScaleBackUIEffect_1.default;
        this.effectType[UIEffectType.FADEBACK] = FadeBackUIEffect_1.default;
    }
    UIEffectManager.instance = function () {
        if (!this._instance) {
            this._instance = new UIEffectManager();
        }
        return this._instance;
    };
    UIEffectManager.prototype.effect = function (type, node, isOpen, handler, time) {
        if (time === void 0) { time = 0.3; }
        if (!this.effectObj.hasOwnProperty(type)) {
            this.effectObj[type] = new this.effectType[type]();
        }
        this.effectObj[type].run(node, time, isOpen, handler);
    };
    return UIEffectManager;
}());
exports.default = UIEffectManager.instance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL21hbmFnZXIvVUlFZmZlY3RNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDREQUF1RDtBQUN2RCwwREFBcUQ7QUFDckQsd0RBQW1EO0FBQ25ELGdFQUEyRDtBQUMzRCxvRUFBK0Q7QUFDL0Qsa0VBQTZEO0FBRTdELElBQVksWUFVWDtBQVZELFdBQVksWUFBWTtJQUNwQiwrQkFBZSxDQUFBO0lBQ2YsdUNBQXVCLENBQUE7SUFDdkIsNkJBQWEsQ0FBQTtJQUNiLHFDQUFxQixDQUFBO0lBQ3JCLDZCQUFhLENBQUE7SUFDYiwrQkFBZSxDQUFBO0lBQ2YsMkJBQVcsQ0FBQTtJQUNYLGlDQUFpQixDQUFBO0lBQ2pCLG1DQUFtQixDQUFBO0FBQ3ZCLENBQUMsRUFWVyxZQUFZLEdBQVosb0JBQVksS0FBWixvQkFBWSxRQVV2QjtBQUNEO0lBS0k7UUFFSSxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUNwQixJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsR0FBRyx1QkFBYSxDQUFDO1FBQ3BELElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLHNCQUFZLENBQUM7UUFDbEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUcscUJBQVcsQ0FBQztRQUNoRCxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsR0FBRyx5QkFBZSxDQUFDO1FBQ3hELElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHLDJCQUFpQixDQUFDO1FBQzVELElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxHQUFHLDBCQUFnQixDQUFDO0lBQzlELENBQUM7SUFFTSx3QkFBUSxHQUFmO1FBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDakIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO1NBQzFDO1FBQ0QsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRCxnQ0FBTSxHQUFOLFVBQU8sSUFBVyxFQUFDLElBQVksRUFBQyxNQUFjLEVBQUMsT0FBZSxFQUFDLElBQWlCO1FBQWpCLHFCQUFBLEVBQUEsVUFBaUI7UUFFNUUsSUFBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxFQUN2QztZQUNJLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7U0FDdEQ7UUFDRCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLE1BQU0sRUFBQyxPQUFPLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBQ0wsc0JBQUM7QUFBRCxDQWpDQSxBQWlDQyxJQUFBO0FBRUQsa0JBQWUsZUFBZSxDQUFDLFFBQVEsRUFBRSxDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEhhbmRsZXIgZnJvbSBcIi4uL2Jhc2UvSGFuZGxlclwiO1xyXG5pbXBvcnQgU2NhbGVVSUVmZmVjdCBmcm9tIFwiLi4vdWkvZWZmZWN0L1NjYWxlVUlFZmZlY3RcIjtcclxuaW1wb3J0IEZhZGVVSUVmZmVjdCBmcm9tIFwiLi4vdWkvZWZmZWN0L0ZhZGVVSUVmZmVjdFwiO1xyXG5pbXBvcnQgVG9wVUlFZmZlY3QgZnJvbSBcIi4uL3VpL2VmZmVjdC9Ub3BVSUVmZmVjdFwiO1xyXG5pbXBvcnQgVG9wQmFja1VJRWZmZWN0IGZyb20gXCIuLi91aS9lZmZlY3QvVG9wQmFja1VJRWZmZWN0XCI7XHJcbmltcG9ydCBTY2FsZUJhY2tVSUVmZmVjdCBmcm9tIFwiLi4vdWkvZWZmZWN0L1NjYWxlQmFja1VJRWZmZWN0XCI7XHJcbmltcG9ydCBGYWRlQmFja1VJRWZmZWN0IGZyb20gXCIuLi91aS9lZmZlY3QvRmFkZUJhY2tVSUVmZmVjdFwiO1xyXG5cclxuZXhwb3J0IGVudW0gVUlFZmZlY3RUeXBlIHtcclxuICAgIFNDQUxFID0gXCJzY2FsZVwiLFxyXG4gICAgU0NBTEVCQUNLID0gXCJzY2FsZWJhY2tcIixcclxuICAgIEZBREUgPSBcImZhZGVcIixcclxuICAgIEZBREVCQUNLID0gJ2ZhZGViYWNrJyxcclxuICAgIExFRlQgPSBcImxlZnRcIixcclxuICAgIFJJR0hUID0gXCJyaWdodFwiLFxyXG4gICAgVE9QID0gXCJ0b3BcIixcclxuICAgIEJPVFRPTSA9IFwiYm90dG9tXCIsXHJcbiAgICBUT1BCQUNLID0gXCJ0b3BiYWNrXCIsXHJcbn1cclxuY2xhc3MgVUlFZmZlY3RNYW5hZ2Vye1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOlVJRWZmZWN0TWFuYWdlcjtcclxuICAgIHByaXZhdGUgZWZmZWN0T2JqOk9iamVjdDtcclxuICAgIHByaXZhdGUgZWZmZWN0VHlwZTpPYmplY3Q7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmVmZmVjdE9iaiA9IHt9O1xyXG4gICAgICAgIHRoaXMuZWZmZWN0VHlwZSA9IHt9O1xyXG4gICAgICAgIHRoaXMuZWZmZWN0VHlwZVtVSUVmZmVjdFR5cGUuU0NBTEVdID0gU2NhbGVVSUVmZmVjdDtcclxuICAgICAgICB0aGlzLmVmZmVjdFR5cGVbVUlFZmZlY3RUeXBlLkZBREVdID0gRmFkZVVJRWZmZWN0O1xyXG4gICAgICAgIHRoaXMuZWZmZWN0VHlwZVtVSUVmZmVjdFR5cGUuVE9QXSA9IFRvcFVJRWZmZWN0O1xyXG4gICAgICAgIHRoaXMuZWZmZWN0VHlwZVtVSUVmZmVjdFR5cGUuVE9QQkFDS10gPSBUb3BCYWNrVUlFZmZlY3Q7XHJcbiAgICAgICAgdGhpcy5lZmZlY3RUeXBlW1VJRWZmZWN0VHlwZS5TQ0FMRUJBQ0tdID0gU2NhbGVCYWNrVUlFZmZlY3Q7XHJcbiAgICAgICAgdGhpcy5lZmZlY3RUeXBlW1VJRWZmZWN0VHlwZS5GQURFQkFDS10gPSBGYWRlQmFja1VJRWZmZWN0O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpbnN0YW5jZSgpOlVJRWZmZWN0TWFuYWdlclxyXG4gICAge1xyXG4gICAgICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgVUlFZmZlY3RNYW5hZ2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBlZmZlY3QodHlwZTpzdHJpbmcsbm9kZTpjYy5Ob2RlLGlzT3Blbjpib29sZWFuLGhhbmRsZXI6SGFuZGxlcix0aW1lOm51bWJlciA9IDAuMylcclxuICAgIHtcclxuICAgICAgICBpZighdGhpcy5lZmZlY3RPYmouaGFzT3duUHJvcGVydHkodHlwZSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmVmZmVjdE9ialt0eXBlXSA9IG5ldyB0aGlzLmVmZmVjdFR5cGVbdHlwZV0oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lZmZlY3RPYmpbdHlwZV0ucnVuKG5vZGUsdGltZSxpc09wZW4saGFuZGxlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVJRWZmZWN0TWFuYWdlci5pbnN0YW5jZSgpO1xyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/manager/DataManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '43a9eM2IMFLF72v/Sws7ycN', 'DataManager');
// src/framework/manager/DataManager.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var EventConst_1 = require("../../game/consts/EventConst");
var DataManager = /** @class */ (function () {
    function DataManager() {
        this._configData = {};
        this._barrageIndex = 1;
        this._viewState = EventConst_1.default.VIEW_STATE_NORMAL;
    }
    DataManager.getInstance = function () {
        if (!this._instance) {
            this._instance = new DataManager();
        }
        return this._instance;
    };
    DataManager.prototype.init = function () {
        this.loadJson();
    };
    DataManager.prototype.loadJson = function () {
        var _this = this;
        var baseUrl = "config/";
        var jsonList = [
            "barrage"
        ];
        var _loop_1 = function (i) {
            var jsonFile = baseUrl + jsonList[i];
            cc.loader.loadRes(jsonFile, cc.JsonAsset, function (error, res) {
                if (error) {
                    console.error("JSON文件加载失败 ", jsonFile);
                    return;
                }
                _this._configData[jsonList[i]] = res;
            });
        };
        for (var i = 0; i < jsonList.length; ++i) {
            _loop_1(i);
        }
    };
    DataManager.prototype.getConfig = function (mname) {
        return this._configData[mname] || null;
    };
    DataManager.prototype.getJson = function (mname) {
        var config = this.getConfig(mname);
        if (!config) {
            return null;
        }
        return config["json"];
    };
    DataManager.prototype.setViewState = function (state) {
        this._viewState = state;
    };
    DataManager.prototype.getViewState = function () {
        return this._viewState;
    };
    DataManager._instance = null;
    return DataManager;
}());
;
exports.default = DataManager.getInstance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL21hbmFnZXIvRGF0YU1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyREFBc0Q7QUFFdEQ7SUFBQTtRQUNZLGdCQUFXLEdBQVMsRUFBRSxDQUFDO1FBQ3hCLGtCQUFhLEdBQVksQ0FBQyxDQUFDO1FBRTFCLGVBQVUsR0FBWSxvQkFBVSxDQUFDLGlCQUFpQixDQUFDO0lBMkMvRCxDQUFDO0lBMUNVLHVCQUFXLEdBQWxCO1FBQ0ksSUFBRyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUM7WUFDZixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksV0FBVyxFQUFFLENBQUM7U0FDdEM7UUFDRCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUVELDBCQUFJLEdBQUo7UUFDSSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUNELDhCQUFRLEdBQVI7UUFBQSxpQkFlQztRQWRHLElBQUksT0FBTyxHQUFHLFNBQVMsQ0FBQztRQUN4QixJQUFJLFFBQVEsR0FBRztZQUNYLFNBQVM7U0FDWixDQUFDO2dDQUNNLENBQUM7WUFDTCxJQUFJLFFBQVEsR0FBRyxPQUFPLEdBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RDLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBQyxFQUFFLENBQUMsU0FBUyxFQUFDLFVBQUMsS0FBSyxFQUFDLEdBQUc7Z0JBQzlDLElBQUcsS0FBSyxFQUFDO29CQUNMLE9BQU8sQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUN0QyxPQUFPO2lCQUNWO2dCQUNELEtBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ3hDLENBQUMsQ0FBQyxDQUFDOztRQVJQLEtBQUksSUFBSSxDQUFDLEdBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFDLEVBQUUsQ0FBQztvQkFBN0IsQ0FBQztTQVNSO0lBQ0wsQ0FBQztJQUNELCtCQUFTLEdBQVQsVUFBVSxLQUFZO1FBQ2xCLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUM7SUFDM0MsQ0FBQztJQUNELDZCQUFPLEdBQVAsVUFBUSxLQUFZO1FBQ2hCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkMsSUFBRyxDQUFDLE1BQU0sRUFBQztZQUNQLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFDRCxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBQ0Qsa0NBQVksR0FBWixVQUFhLEtBQVk7UUFDckIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7SUFDNUIsQ0FBQztJQUNELGtDQUFZLEdBQVo7UUFDSSxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDM0IsQ0FBQztJQTNDTSxxQkFBUyxHQUFpQixJQUFJLENBQUM7SUE0QzFDLGtCQUFDO0NBL0NELEFBK0NDLElBQUE7QUFBQSxDQUFDO0FBQ0Ysa0JBQWUsV0FBVyxDQUFDLFdBQVcsRUFBRSxDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV2ZW50Q29uc3QgZnJvbSBcIi4uLy4uL2dhbWUvY29uc3RzL0V2ZW50Q29uc3RcIjtcclxuXHJcbmNsYXNzIERhdGFNYW5hZ2Vye1xyXG4gICAgcHJpdmF0ZSBfY29uZmlnRGF0YSA6IGFueSA9IHt9O1xyXG4gICAgcHVibGljIF9iYXJyYWdlSW5kZXggOiBudW1iZXIgPSAxO1xyXG4gICAgc3RhdGljIF9pbnN0YW5jZSA6IERhdGFNYW5hZ2VyID0gbnVsbDtcclxuICAgIHByaXZhdGUgX3ZpZXdTdGF0ZSA6IG51bWJlciA9IEV2ZW50Q29uc3QuVklFV19TVEFURV9OT1JNQUw7XHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKXtcclxuICAgICAgICBpZighdGhpcy5faW5zdGFuY2Upe1xyXG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBEYXRhTWFuYWdlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpe1xyXG4gICAgICAgIHRoaXMubG9hZEpzb24oKTtcclxuICAgIH1cclxuICAgIGxvYWRKc29uKCl7XHJcbiAgICAgICAgbGV0IGJhc2VVcmwgPSBcImNvbmZpZy9cIjtcclxuICAgICAgICBsZXQganNvbkxpc3QgPSBbXHJcbiAgICAgICAgICAgIFwiYmFycmFnZVwiXHJcbiAgICAgICAgXTtcclxuICAgICAgICBmb3IobGV0IGkgPTA7IGkgPCBqc29uTGlzdC5sZW5ndGg7KytpKXtcclxuICAgICAgICAgICAgbGV0IGpzb25GaWxlID0gYmFzZVVybCArICBqc29uTGlzdFtpXTtcclxuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMoanNvbkZpbGUsY2MuSnNvbkFzc2V0LChlcnJvcixyZXMpID0+e1xyXG4gICAgICAgICAgICAgICAgaWYoZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJKU09O5paH5Lu25Yqg6L295aSx6LSlIFwiLGpzb25GaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25maWdEYXRhW2pzb25MaXN0W2ldXSA9IHJlcztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0Q29uZmlnKG1uYW1lOnN0cmluZyl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZ0RhdGFbbW5hbWVdIHx8IG51bGw7XHJcbiAgICB9XHJcbiAgICBnZXRKc29uKG1uYW1lOnN0cmluZyl7XHJcbiAgICAgICAgbGV0IGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKG1uYW1lKTtcclxuICAgICAgICBpZighY29uZmlnKXtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb25maWdbXCJqc29uXCJdO1xyXG4gICAgfVxyXG4gICAgc2V0Vmlld1N0YXRlKHN0YXRlOm51bWJlcil7XHJcbiAgICAgICAgdGhpcy5fdmlld1N0YXRlID0gc3RhdGU7XHJcbiAgICB9XHJcbiAgICBnZXRWaWV3U3RhdGUoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmlld1N0YXRlO1xyXG4gICAgfVxyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBEYXRhTWFuYWdlci5nZXRJbnN0YW5jZSgpOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/manager/SDKManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9e2b5+hJ3JD0a4XbvqC/G78', 'SDKManager');
// src/framework/manager/SDKManager.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var PlayerModel_1 = require("../../game/datas/PlayerModel");
var EventDispath_1 = require("../message/EventDispath");
var EventType_1 = require("../message/EventType");
var MkUtils_1 = require("../tools/MkUtils");
var Utils_1 = require("../tools/Utils");
var SDKManager = /** @class */ (function () {
    function SDKManager() {
        this._basePath_android = "com.xstone.android.xsbusi.XSSdk";
        this._moudelPath_android = "com.xstone.android.xsbusi.XSBusiSdk";
        this._adPath_android = "com.xstone.android.xsbusi.XSAdSdk";
        this._baseCocos = "org/cocos2dx/javascript/AppActivity";
    }
    SDKManager.getInstance = function () {
        if (SDKManager._instance == null) {
            SDKManager._instance = new SDKManager();
        }
        return SDKManager._instance;
    };
    SDKManager.prototype.isAndroid = function () {
        return false;
        // return cc.sys.os == cc.sys.OS_ANDROID;
    };
    SDKManager.prototype.isIphone = function () {
        return cc.sys.os == cc.sys.OS_IOS;
    };
    SDKManager.prototype.systemName = function () {
        if (this.isAndroid()) {
            console.log("********************设备为Andrioid");
        }
        else if (this.isIphone()) {
            console.log("********************设备为Iphone");
        }
    };
    //保持屏幕常亮
    SDKManager.prototype.setKeep = function () {
        if (this.isAndroid()) {
            jsb["Device"].setKeepScreenOn(true);
        }
    };
    //服务器时间
    SDKManager.prototype.getServerTime = function () {
        var time = new Date().getTime();
        if (this.isAndroid()) {
            // console.log("安卓设备", this._basePath_android);
            time = jsb.reflection.callStaticMethod(this._moudelPath_android, "getCurrentTime", "()Ljava/lang/String;");
        }
        else if (this.isIphone()) {
            // console.log("苹果设备");
        }
        else {
            // console.log("未识别设备");
        }
        // console.log("服务器时间为", time);
        return time;
    };
    //- 统计事件接口
    SDKManager.prototype.onEvent = function (action, jsonData) {
        if (this.isAndroid()) {
            console.log("@@统计：", action);
            if (jsonData) {
                var data = JSON.stringify(jsonData);
                jsb.reflection.callStaticMethod(this._basePath_android, "onEvent", "(Ljava/lang/String;Ljava/lang/String;)V", action, data);
            }
            else
                jsb.reflection.callStaticMethod(this._basePath_android, "onEvent", "(Ljava/lang/String;)V", action);
        }
    };
    //视频广告播放接口 
    SDKManager.prototype.showAd = function (adConfig) {
        if (this.isAndroid()) {
            if (adConfig) {
                var data = JSON.stringify(adConfig);
                console.log("@@视频播放：", adConfig);
                jsb.reflection.callStaticMethod(this._adPath_android, "showAd", "(Ljava/lang/String;)V", data);
            }
        }
        else {
            if (PlayerModel_1.default.haveOrder)
                PlayerModel_1.default.orderVideoNum++;
            EventDispath_1.default.send(EventType_1.EventType.VIDEO_BACK, 2);
        }
    };
    //用户余额
    SDKManager.prototype.getUserAmount = function () {
        var m = 0;
        if (this.isAndroid()) {
            m = jsb.reflection.callStaticMethod(this._moudelPath_android, "getUserAmount", "()Ljava/lang/String;");
        }
        else if (this.isIphone()) {
        }
        if (!m) {
            m = 0;
        }
        PlayerModel_1.default.initMoney(m);
        this.systemName();
        console.log("********************用户余额********************", m);
        return m;
    };
    //微信是否登录
    SDKManager.prototype.isWXBind = function () {
        var i = false;
        if (this.isAndroid()) {
            i = jsb.reflection.callStaticMethod(this._moudelPath_android, "isWXBind", "()Z");
        }
        else if (this.isIphone()) {
        }
        return i;
    };
    //商业化开关
    SDKManager.prototype.isBusiOpen = function () {
        var i = false;
        if (this.isAndroid()) {
            i = jsb.reflection.callStaticMethod(this._moudelPath_android, "isBusiOpen", "()Z");
        }
        else if (this.isIphone()) {
        }
        return i;
    };
    //退出微信登录
    SDKManager.prototype.unBindWX = function () {
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "unBindWX", "()V");
        }
        else if (this.isIphone()) {
        }
    };
    //用户昵称
    SDKManager.prototype.getUserNickName = function () {
        var n = undefined;
        if (this.isAndroid()) {
            n = jsb.reflection.callStaticMethod(this._moudelPath_android, "getUserNickName", "()Ljava/lang/String;");
        }
        else if (this.isIphone()) {
        }
        console.log("@@ getUserNickName用户昵称:", n);
        return n;
    };
    //用户ID
    SDKManager.prototype.getDeviceId = function () {
        var n = undefined;
        if (this.isAndroid()) {
            n = jsb.reflection.callStaticMethod(this._moudelPath_android, "getDeviceId", "()Ljava/lang/String;");
        }
        else if (this.isIphone()) {
        }
        console.log("@@ getDeviceId用户id:", n);
        return n;
    };
    //用户头像
    SDKManager.prototype.getUserIcon = function () {
        var n = "";
        if (this.isAndroid()) {
            n = jsb.reflection.callStaticMethod(this._moudelPath_android, "getUserIcon", "()Ljava/lang/String;");
        }
        else if (this.isIphone()) {
        }
        console.log("@@ getUserIcon用户头像:", n);
        return n;
    };
    //隐私政策
    SDKManager.prototype.openPrivacy = function () {
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "openPrivacy", "()V");
        }
        else if (this.isIphone()) {
        }
    };
    //用户协议
    SDKManager.prototype.openUserService = function () {
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "openUserService", "()V");
        }
        else if (this.isIphone()) {
        }
    };
    //意见反馈
    SDKManager.prototype.openFeedBack = function () {
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "openFeedBack", "()V");
        }
        else if (this.isIphone()) {
        }
    };
    /**
     * 每日任务信息
     */
    SDKManager.prototype.getDailyTaskInfo = function () {
        var data;
        if (this.isAndroid()) {
            var dataStr = jsb.reflection.callStaticMethod(this._moudelPath_android, "getDailyTaskInfo", "()Ljava/lang/String;");
            data = JSON.parse(dataStr);
        }
        else {
            data = [
                {
                    "info": "红包天天享",
                    "taskId": 1,
                    "times": 5,
                    "userTimes": 0 //任务已完成的次数
                },
                {
                    "info": "钞票送不停",
                    "taskId": 2,
                    "times": 5,
                    "userTimes": 5 //任务已完成的次数
                },
                {
                    "info": "每天好收成",
                    "taskId": 3,
                    "times": 5,
                    "userTimes": 1 //任务已完成的次数
                },
            ];
        }
        console.log("每日任务信息", data);
        return data;
    };
    /**
     * 领取每日任务奖励后上报任务完完成
     * @param itemId 对应id
     */
    SDKManager.prototype.toFinishTask = function (taskId) {
        console.log("@@ 领取每日任务奖励后上报任务toFinishTask", taskId);
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "toFinishTask", "(I)V", taskId);
        }
        else {
            EventDispath_1.default.send(EventType_1.EventType.TASK_COMPLETE_BACK, { redBean: "0.2342", userRedBean: 1133 });
        }
    };
    //打开提现页面
    SDKManager.prototype.openWithdraw = function () {
        console.log("*************************打开提现界面*************************");
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "openWithdraw", "()V");
        }
        else if (this.isIphone()) {
        }
    };
    //震动
    SDKManager.prototype.vibrate = function (time) {
        console.log("*************************震动效果*************************");
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._baseCocos, "vibrate", "(I)V", time);
        }
        else {
        }
    };
    //开张天数
    SDKManager.prototype.getLoginDays = function () {
        var i = 1;
        if (this.isAndroid()) {
            i = jsb.reflection.callStaticMethod(this._moudelPath_android, "getLoginDays", "()I");
        }
        else if (this.isIphone()) {
        }
        console.log("@@ 开张天数getLoginDays:", i);
        return i;
    };
    //飞行红包时间间隔
    SDKManager.prototype.getFlightTime = function () {
        var i = 10;
        if (this.isAndroid()) {
            i = jsb.reflection.callStaticMethod(this._moudelPath_android, "getFlightTime", "()I");
        }
        else if (this.isIphone()) {
        }
        console.log("@@ 飞行红包时间间隔getFlightTime:", i);
        return i;
    };
    //主页面集市等级
    SDKManager.prototype.getJSLevelInfo = function () {
        var n;
        if (this.isAndroid()) {
            var jsonStr = jsb.reflection.callStaticMethod(this._moudelPath_android, "getJSLevelInfo", "()Ljava/lang/String;");
            console.log("获取等级相关信息getJSLevelInfo:", jsonStr);
            n = JSON.parse(jsonStr);
        }
        else {
            n = {
                "jsLevel": 1,
                "jxOrderNum": 10,
                "userJxOrderNum": 1 //当前订单数 用于计算进度
            };
        }
        console.log("@@ 主页面集市等级:", n);
        return n;
    };
    //集市等级列表
    SDKManager.prototype.getBazaarLevelInfo = function () {
        var n;
        if (this.isAndroid()) {
            var jsonStr = jsb.reflection.callStaticMethod(this._moudelPath_android, "getBazaarLevelInfo", "()Ljava/lang/String;");
            n = JSON.parse(jsonStr);
        }
        else {
            n = {
                "jsAmount": 300,
                "userOrderNum": 20,
                "jsLevel": 6,
                "jsTaskInfos": [
                    {
                        "level": 1,
                        "orderNum": 10,
                        "amount": 5,
                        "tx_mu": "1%",
                    },
                    {
                        "level": 2,
                        "orderNum": 20,
                        "amount": 15,
                        "tx_mu": "1%",
                    },
                    {
                        "level": 3,
                        "orderNum": 30,
                        "amount": 25,
                        "tx_mu": "1%",
                    },
                    {
                        "level": 4,
                        "orderNum": 40,
                        "amount": 35,
                        "tx_mu": "1%",
                    },
                    {
                        "level": 5,
                        "orderNum": 50,
                        "amount": 45,
                        "tx_mu": "1%",
                    },
                    {
                        "level": 6,
                        "orderNum": 60,
                        "amount": 55,
                        "tx_mu": "1%",
                    },
                    {
                        "level": 7,
                        "orderNum": 70,
                        "amount": 65,
                        "tx_mu": "1%",
                    },
                    {
                        "level": 8,
                        "orderNum": 80,
                        "amount": 75,
                        "tx_mu": "1%",
                    },
                ]
            };
        }
        console.log("@@ 主页面集市等级:", n);
        return n;
    };
    //升级
    SDKManager.prototype.upJSLevel = function () {
        console.log("@@ 升级upJSLevel");
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "upJSLevel", "()V");
        }
        else {
            EventDispath_1.default.send(EventType_1.EventType.SDK_LEVEL_UP);
        }
    };
    //除虫红包配置
    SDKManager.prototype.getWormConfig = function () {
        console.log("@@ 除虫红包配置,getWormConfig");
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "getWormConfig", "()V");
        }
        else {
            EventDispath_1.default.send(EventType_1.EventType.SDK_REWARD_CONFIG, {
                configId: 16,
                type: 16
            });
        }
    };
    //飞行红包配置
    SDKManager.prototype.getFlightConfig = function () {
        console.log("@@ 飞行红包配置,getFlightConfig");
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "getFlightConfig", "()V");
        }
        else {
            EventDispath_1.default.send(EventType_1.EventType.SDK_REWARD_CONFIG, {
                configId: 11,
                type: 11
            });
        }
    };
    //订单红包配置
    SDKManager.prototype.getOrderRewardConfig = function () {
        console.log("@@ 订单红包配置,getOrderRewardConfig");
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "getOrderRewardConfig", "()V");
        }
        else {
            EventDispath_1.default.send(EventType_1.EventType.SDK_REWARD_CONFIG, {
                configId: 15,
                type: 15,
                times: 3,
                mandatoryVideo: true
            });
        }
    };
    //招待顾客红包配置
    SDKManager.prototype.getCustomerConfig = function (id) {
        console.log("@@ 招待顾客红包配置,getCustomerConfig：", id);
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "getCustomerConfig", "(I)V", id);
        }
        else {
            EventDispath_1.default.send(EventType_1.EventType.SDK_REWARD_CONFIG, {
                configId: 17,
                type: 17,
            });
        }
    };
    //辛苦红包
    SDKManager.prototype.getHardConfig = function () {
        console.log("@@ 辛苦红包,getHardConfig");
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "getHardConfig", "()V");
        }
        else {
            EventDispath_1.default.send(EventType_1.EventType.SDK_REWARD_CONFIG, {
                configId: 13,
                type: 13,
            });
        }
    };
    //反馈红包
    SDKManager.prototype.getFeedbackConfig = function () {
        console.log("@@ 反馈红包,getFeedbackConfig");
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "getFeedbackConfig", "()V");
        }
        else {
            EventDispath_1.default.send(EventType_1.EventType.SDK_REWARD_CONFIG, {
                configId: 14,
                type: 14,
            });
        }
    };
    //领取奖励
    SDKManager.prototype.getRedPackReward = function (configId, playvideo) {
        if (playvideo === void 0) { playvideo = false; }
        console.log("@@ 领取奖励,getRedPackReward", configId, "      ", playvideo);
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "getRedPackReward", "(Ljava/lang/String;Z)V", configId, playvideo);
        }
        else {
            // if (configId == 16) {
            //     EventDispath.send(EventType.SDK_REWARD_GOT, {
            //         "redBean": "1.533",//领取金额
            //         "userRedBean": "112.33",//用户当前总余额
            //         "type": 16,//红包类型 
            //     });
            // } else if (configId == 11) {
            //     EventDispath.send(EventType.SDK_REWARD_GOT, {
            //         "redBean": "1.3333",//领取金额
            //         "userRedBean": "113.11",//用户当前总余额
            //         "type": 11,//红包类型 
            //     });
            // } else if (configId == 15) {
            //     EventDispath.send(EventType.SDK_REWARD_GOT, {
            //         "code": 0, //0-成功 其他领取失败
            //         "msg": "领取成功", //非0情况会给出对应msg 酌情处理
            //         "redBean": "1.335",//领取金额
            //         "userRedBean": "112.33",//用户当前总余额
            //         "type": 15,//红包类型 
            //         "beseRedBean": "1.2",//本次基础红包    订单红包才会返回，其他类型不返回
            //         "addRedBean": "0.3",//本次加成红包值    订单红包才会返回，其他类型不返回
            //         "addRedMu": "25"//本次加成红包系数    订单红包才会返回，其他类型不返回
            //     });
            // } else if (configId == 17) {
            //     EventDispath.send(EventType.SDK_REWARD_GOT, {
            //         "code": 0, //0-成功 其他领取失败
            //         "msg": "领取成功", //非0情况会给出对应msg 酌情处理
            //         "redBean": "1.5333",//领取金额
            //         "userRedBean": "112.33",//用户当前总余额
            //         "type": 17,//红包类型 
            //     });
            // } else if (configId == 13) {
            //     EventDispath.send(EventType.SDK_REWARD_GOT, {
            //         "code": 0, //0-成功 其他领取失败
            //         "msg": "领取成功", //非0情况会给出对应msg 酌情处理
            //         "redBean": "3.3445",//领取金额
            //         "userRedBean": "113.33",//用户当前总余额
            //         "type": 13,//红包类型 
            //     });
            // } else if (configId == 14) {
            //     EventDispath.send(EventType.SDK_REWARD_GOT, {
            //         "code": 0, //0-成功 其他领取失败
            //         "msg": "领取成功", //非0情况会给出对应msg 酌情处理
            //         "redBean": "3.32225",//领取金额
            //         "userRedBean": "113.33",//用户当前总余额
            //         "type": 14,//红包类型 
            //     });
            // }
            MkUtils_1.default.alertTips("红包配置准备中,请重新领取");
            EventDispath_1.default.send(EventType_1.EventType.SDK_REWARD_LOST);
        }
    };
    //领取订单上报
    SDKManager.prototype.getOrderTask = function (orderId) {
        console.log("@@ 领取订单上报,getOrderTask", orderId);
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "getOrderTask", "(I)V", orderId);
        }
        else {
            EventDispath_1.default.send(EventType_1.EventType.ORDER_GET_SUCCESS);
        }
    };
    //新手是否领取
    SDKManager.prototype.hasNewOrderReward = function () {
        var isNew = false;
        if (this.isAndroid()) {
            isNew = jsb.reflection.callStaticMethod(this._moudelPath_android, "hasNewOrderReward", "()Z");
        }
        else {
            isNew = false;
        }
        console.log("@@ 新手是否领取,hasNewOrderReward", isNew);
        return isNew;
    };
    //是否还可以领取招待顾客的红包奖励
    SDKManager.prototype.hasCustomerRedReward = function () {
        var isNew = false;
        if (this.isAndroid()) {
            isNew = jsb.reflection.callStaticMethod(this._moudelPath_android, "hasCustomerRedReward", "()Z");
        }
        else {
            isNew = true;
        }
        console.log("@@ 是否还可以领取招待顾客的红包奖励,hasCustomerRedReward", isNew);
        return isNew;
    };
    /**
     * 进入游戏后上报
     * @param type 0游戏启动时，1进入游戏主页
     */
    SDKManager.prototype.onStartGame = function (type) {
        console.log("@@ 进入游戏后上报,onStartGame", type);
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "onStartGame", "(I)V", type);
        }
    };
    //订单红包池
    SDKManager.prototype.getOrderPoolData = function () {
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "getOrderPoolData", "()V");
        }
        else {
            EventDispath_1.default.send(EventType_1.EventType.SDK_VIDEO_NUM, 0);
        }
    };
    //插屏广告
    SDKManager.prototype.reportTrigger = function () {
        if (this.isAndroid()) {
            jsb.reflection.callStaticMethod(this._moudelPath_android, "reportTrigger", "()V");
        }
        console.log("close panel");
    };
    //订单系数
    SDKManager.prototype.getOrderCountAdd = function () {
        var num = 100;
        if (this.isAndroid()) {
            num = jsb.reflection.callStaticMethod(this._moudelPath_android, "getOrderCountAdd", "()I");
        }
        console.log("getOrderCountAdd 订单系数", num);
        return num;
    };
    SDKManager._instance = null;
    return SDKManager;
}());
;
exports.default = SDKManager.getInstance();
window["XSSdkCallback"] = function (action, jsonStr) {
    if (Utils_1.default.isUndefined(jsonStr)) {
        return;
    }
    console.log(action + "***************前端收到消息***************", "   ", jsonStr);
    var data = JSON.parse(jsonStr);
    if (action == "redpacket_config") { //1. 结账领取红包奖励
        if (data.code != 0) {
            MkUtils_1.default.alertTips(data.msg);
            return;
        }
        console.log("*************redpacket_config*******2. 红包配置接口回调********************", data);
        EventDispath_1.default.send(EventType_1.EventType.SDK_REWARD_CONFIG, data.config);
        //     "code": 0,//0领取成功 其他失败
        //         "msg": "领取成功",
        //             "config": {
        //         "configId": "UUID", //此次请求获取的配置的ID值，每次获取都不一样
        //             "type": 11//红包类型 
        //     }
        //     红包类型对应如下：
        // private static final int RED_PACK_TYPE_FLIGHT = 11;//飞行红包
        // private static final int RED_PACK_TYPE_DAILY_TASK = 12;//每日任务红包
        // private static final int RED_PACK_TYPE_HARD = 13;//辛苦红包
        // private static final int RED_PACK_TYPE_FEEDBACK = 14;//回馈红包
        // private static final int RED_PACK_TYPE_ORDER = 15;//订单红包
        // private static final int RED_PACK_TYPE_WORM = 16;//除虫
        // private static final int RED_PACK_TYPE_CUSTOMER = 17;//招待顾客
    }
    else if (action == "redpacket_got") { //红包领取接口回调 
        if (data.code != 0) {
            MkUtils_1.default.alertTips(data.msg + ",请重新领取");
            EventDispath_1.default.send(EventType_1.EventType.SDK_REWARD_LOST);
            return;
        }
        console.log("*************redpacket_got*******红包领取接口回调********************", data);
        EventDispath_1.default.send(EventType_1.EventType.SDK_REWARD_GOT, data);
        // {
        //     "code":0 //0-成功 其他领取失败
        //     "msg": "领取成功", //非0情况会给出对应msg 酌情处理
        //     "redBean":"1.5",//领取金额
        //     "userRedBean":"112.33",//用户当前总余额
        //     "type":11,//红包类型 
        //     "beseRedBean":"1.2",//本次基础红包    订单红包才会返回，其他类型不返回
        //     "addRedBean":"0.3",//本次加成红包值    订单红包才会返回，其他类型不返回
        //     "addRedMu":"25"//本次加成红包系数    订单红包才会返回，其他类型不返回
        // }
    }
    else if (action == "finish_task_result") { //5. 领取任务奖励结果回调
        if (data.code != 0) {
            MkUtils_1.default.alertTips(data.msg);
            return;
        }
        EventDispath_1.default.send(EventType_1.EventType.TASK_COMPLETE_BACK, data);
        // {
        //     "type": 1, //任务类型
        //     "taskId":1 //任务id 用于客户端领取任务奖励时候获取对应的金额和领取后上报
        //     "param":100,//任务对应参数 客户端无需关注
        //     "status":0//任务状态 默认0  0-未完成 1已完成 2已领取 
        //     //成就任务不返回已领取的任务数据 每日任务返回
        // }
    }
    else if (action == "bazaar_up_result") { //4. 集市升级结果回调
        if (data.code != 0) {
            MkUtils_1.default.alertTips(data.msg);
            return;
        }
        EventDispath_1.default.send(EventType_1.EventType.SDK_LEVEL_UP);
        // {
        //     "type": 1, //任务类型
        //     "taskId":1 //任务id 用于客户端领取任务奖励时候获取对应的金额和领取后上报
        //     "param":100,//任务对应参数 客户端无需关注
        //     "status":0//任务状态 默认0  0-未完成 1已完成 2已领取 
        //     //成就任务不返回已领取的任务数据 每日任务返回
        // }
    }
    else if (action == "order_task_result") { //当前任务完成并可领取数量结果回调
        if (data.code != 0) {
            MkUtils_1.default.alertTips(data.msg);
            return;
        }
        EventDispath_1.default.send(EventType_1.EventType.ORDER_GET_SUCCESS);
        // {
        //     "allCount":10 //可领取奖励总数量
        //     "cjCount": 7, //成就任务可领取奖励数量
        //     "dayCount":3,//每日任务可领取奖励数量
        // }
    }
    else if (action == "pool_data") { //当前任务完成并可领取数量结果回调
        if (data.code != 0) {
            MkUtils_1.default.alertTips(data.msg);
            return;
        }
        EventDispath_1.default.send(EventType_1.EventType.SDK_VIDEO_NUM, data.videoCount);
    }
    else if (action == "sync_amount") { //同步红包
        PlayerModel_1.default.getUserAmount();
    }
    else if (action == "refresh_home") { //同步微信登录
        EventDispath_1.default.send(EventType_1.EventType.SDK_WXBIND);
    }
    else if (action == "ad_play") { //视频开始播放
        // EventDispath.send(EventType.VIDEO_BACK, 1);
    }
    else if (action == "ad_over") { //视频播放结束
        if (PlayerModel_1.default.haveOrder)
            PlayerModel_1.default.orderVideoNum++;
        PlayerModel_1.default.setXfzs(1);
        EventDispath_1.default.send(EventType_1.EventType.VIDEO_BACK, 2);
    }
    else if (action == "ad_error") { //视频播放出错
        MkUtils_1.default.alertTips("视频出错了~~");
        // EventDispath.send(EventType.VIDEO_BACK, 3);
    }
    else if (action == "ad_cd") { //视频播放视频冷却中
        MkUtils_1.default.alertTips("视频冷却中~~");
        // EventDispath.send(EventType.VIDEO_BACK, 4);
    }
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL21hbmFnZXIvU0RLTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDREQUF1RDtBQUN2RCx3REFBbUQ7QUFDbkQsa0RBQWlEO0FBRWpELDRDQUF1QztBQUN2Qyx3Q0FBbUM7QUFFbkM7SUFBQTtRQUNjLHNCQUFpQixHQUFXLGlDQUFpQyxDQUFDO1FBQzlELHdCQUFtQixHQUFXLHFDQUFxQyxDQUFDO1FBQ3BFLG9CQUFlLEdBQVcsbUNBQW1DLENBQUM7UUFDOUQsZUFBVSxHQUFXLHFDQUFxQyxDQUFDO0lBd2lCekUsQ0FBQztJQXJpQlUsc0JBQVcsR0FBbEI7UUFDSSxJQUFJLFVBQVUsQ0FBQyxTQUFTLElBQUksSUFBSSxFQUFFO1lBQzlCLFVBQVUsQ0FBQyxTQUFTLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQztTQUMzQztRQUNELE9BQU8sVUFBVSxDQUFDLFNBQVMsQ0FBQztJQUNoQyxDQUFDO0lBQ0QsOEJBQVMsR0FBVDtRQUNJLE9BQU8sS0FBSyxDQUFDO1FBQ2IseUNBQXlDO0lBQzdDLENBQUM7SUFDRCw2QkFBUSxHQUFSO1FBQ0ksT0FBTyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztJQUN0QyxDQUFDO0lBQ0QsK0JBQVUsR0FBVjtRQUNJLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFO1lBQ2xCLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUNBQWlDLENBQUMsQ0FBQztTQUNsRDthQUFNLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFO1lBQ3hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsK0JBQStCLENBQUMsQ0FBQztTQUNoRDtJQUNMLENBQUM7SUFDRCxRQUFRO0lBQ1IsNEJBQU8sR0FBUDtRQUNJLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFO1lBQ2xCLEdBQUcsQ0FBQyxRQUFRLENB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QUksSUFBSSxDQUFDLEVBQUU7WUFDaEIsaUJBQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1lBQzNCLE9BQU87U0FDVjtRQUNELHNCQUFZLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQTtLQUM5RDtTQUFNLElBQUksTUFBTSxJQUFJLGFBQWEsRUFBRSxFQUFNLE1BQU07UUFDNUMscUJBQVcsQ0FBQyxhQUFhLEVBQUUsQ0FBQztLQUMvQjtTQUFNLElBQUksTUFBTSxJQUFJLGNBQWMsRUFBRSxFQUFNLFFBQVE7UUFFL0Msc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUUzQztTQUFNLElBQUksTUFBTSxJQUFJLFNBQVMsRUFBRSxFQUFNLFFBQVE7UUFDMUMsOENBQThDO0tBQ2pEO1NBQU0sSUFBSSxNQUFNLElBQUksU0FBUyxFQUFFLEVBQU0sUUFBUTtRQUMxQyxJQUFJLHFCQUFXLENBQUMsU0FBUztZQUFFLHFCQUFXLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDdkQscUJBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkIsc0JBQVksQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDOUM7U0FBTSxJQUFJLE1BQU0sSUFBSSxVQUFVLEVBQUUsRUFBTSxRQUFRO1FBQzNDLGlCQUFPLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzdCLDhDQUE4QztLQUNqRDtTQUFNLElBQUksTUFBTSxJQUFJLE9BQU8sRUFBRSxFQUFNLFdBQVc7UUFDM0MsaUJBQU8sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDN0IsOENBQThDO0tBQ2pEO0FBQ0wsQ0FBQyxDQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV2ZW50Q29uc3QgZnJvbSBcIi4uLy4uL2dhbWUvY29uc3RzL0V2ZW50Q29uc3RcIjtcclxuaW1wb3J0IFBsYXllck1vZGVsIGZyb20gXCIuLi8uLi9nYW1lL2RhdGFzL1BsYXllck1vZGVsXCI7XHJcbmltcG9ydCBFdmVudERpc3BhdGggZnJvbSBcIi4uL21lc3NhZ2UvRXZlbnREaXNwYXRoXCI7XHJcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gXCIuLi9tZXNzYWdlL0V2ZW50VHlwZVwiO1xyXG5pbXBvcnQgTGF1bmNoZXIgZnJvbSBcIi4uL3Nkay9MYXVuY2hlclwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vdG9vbHMvTWtVdGlsc1wiO1xyXG5pbXBvcnQgVXRpbHMgZnJvbSBcIi4uL3Rvb2xzL1V0aWxzXCI7XHJcblxyXG5jbGFzcyBTREtNYW5hZ2VyIHtcclxuICAgIHByb3RlY3RlZCBfYmFzZVBhdGhfYW5kcm9pZDogc3RyaW5nID0gXCJjb20ueHN0b25lLmFuZHJvaWQueHNidXNpLlhTU2RrXCI7XHJcbiAgICBwcm90ZWN0ZWQgX21vdWRlbFBhdGhfYW5kcm9pZDogc3RyaW5nID0gXCJjb20ueHN0b25lLmFuZHJvaWQueHNidXNpLlhTQnVzaVNka1wiO1xyXG4gICAgcHJvdGVjdGVkIF9hZFBhdGhfYW5kcm9pZDogc3RyaW5nID0gXCJjb20ueHN0b25lLmFuZHJvaWQueHNidXNpLlhTQWRTZGtcIjtcclxuICAgIHByb3RlY3RlZCBfYmFzZUNvY29zOiBzdHJpbmcgPSBcIm9yZy9jb2NvczJkeC9qYXZhc2NyaXB0L0FwcEFjdGl2aXR5XCI7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlID0gbnVsbDtcclxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBTREtNYW5hZ2VyIHtcclxuICAgICAgICBpZiAoU0RLTWFuYWdlci5faW5zdGFuY2UgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBTREtNYW5hZ2VyLl9pbnN0YW5jZSA9IG5ldyBTREtNYW5hZ2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBTREtNYW5hZ2VyLl9pbnN0YW5jZTtcclxuICAgIH1cclxuICAgIGlzQW5kcm9pZCgpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gcmV0dXJuIGNjLnN5cy5vcyA9PSBjYy5zeXMuT1NfQU5EUk9JRDtcclxuICAgIH1cclxuICAgIGlzSXBob25lKCkge1xyXG4gICAgICAgIHJldHVybiBjYy5zeXMub3MgPT0gY2Muc3lzLk9TX0lPUztcclxuICAgIH1cclxuICAgIHN5c3RlbU5hbWUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCIqKioqKioqKioqKioqKioqKioqKuiuvuWkh+S4ukFuZHJpb2lkXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0lwaG9uZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiKioqKioqKioqKioqKioqKioqKirorr7lpIfkuLpJcGhvbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/kv53mjIHlsY/luZXluLjkuq5cclxuICAgIHNldEtlZXAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAganNiW1wiRGV2aWNlXCJdLnNldEtlZXBTY3JlZW5Pbih0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/mnI3liqHlmajml7bpl7RcclxuICAgIGdldFNlcnZlclRpbWUoKSB7XHJcbiAgICAgICAgbGV0IHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICBpZiAodGhpcy5pc0FuZHJvaWQoKSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIuWuieWNk+iuvuWkh1wiLCB0aGlzLl9iYXNlUGF0aF9hbmRyb2lkKTtcclxuICAgICAgICAgICAgdGltZSA9IGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImdldEN1cnJlbnRUaW1lXCIsIFwiKClMamF2YS9sYW5nL1N0cmluZztcIik7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzSXBob25lKCkpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCLoi7nmnpzorr7lpIdcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCLmnKror4bliKvorr7lpIdcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwi5pyN5Yqh5Zmo5pe26Ze05Li6XCIsIHRpbWUpO1xyXG4gICAgICAgIHJldHVybiB0aW1lO1xyXG4gICAgfVxyXG4gICAgLy8tIOe7n+iuoeS6i+S7tuaOpeWPo1xyXG4gICAgb25FdmVudChhY3Rpb24sIGpzb25EYXRhPykge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQEDnu5/orqHvvJpcIiwgYWN0aW9uKTtcclxuICAgICAgICAgICAgaWYgKGpzb25EYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGpzb25EYXRhKTtcclxuICAgICAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fYmFzZVBhdGhfYW5kcm9pZCwgXCJvbkV2ZW50XCIsIFwiKExqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvU3RyaW5nOylWXCIsIGFjdGlvbiwgZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX2Jhc2VQYXRoX2FuZHJvaWQsIFwib25FdmVudFwiLCBcIihMamF2YS9sYW5nL1N0cmluZzspVlwiLCBhY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v6KeG6aKR5bm/5ZGK5pKt5pS+5o6l5Y+jIFxyXG4gICAgc2hvd0FkKGFkQ29uZmlnKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAgaWYgKGFkQ29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGFkQ29uZmlnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQEDop4bpopHmkq3mlL7vvJpcIiwgYWRDb25maWcpO1xyXG4gICAgICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZCh0aGlzLl9hZFBhdGhfYW5kcm9pZCwgXCJzaG93QWRcIiwgXCIoTGphdmEvbGFuZy9TdHJpbmc7KVZcIiwgZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoUGxheWVyTW9kZWwuaGF2ZU9yZGVyKSBQbGF5ZXJNb2RlbC5vcmRlclZpZGVvTnVtKys7XHJcbiAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5WSURFT19CQUNLLCAyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+eUqOaIt+S9meminVxyXG4gICAgZ2V0VXNlckFtb3VudCgpIHtcclxuICAgICAgICBsZXQgbSA9IDA7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAgbSA9IGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImdldFVzZXJBbW91bnRcIiwgXCIoKUxqYXZhL2xhbmcvU3RyaW5nO1wiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNJcGhvbmUoKSkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFtKSB7XHJcbiAgICAgICAgICAgIG0gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBQbGF5ZXJNb2RlbC5pbml0TW9uZXkobSk7XHJcbiAgICAgICAgdGhpcy5zeXN0ZW1OYW1lKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIqKioqKioqKioqKioqKioqKioqKueUqOaIt+S9meminSoqKioqKioqKioqKioqKioqKioqXCIsIG0pO1xyXG4gICAgICAgIHJldHVybiBtO1xyXG4gICAgfVxyXG4gICAgLy/lvq7kv6HmmK/lkKbnmbvlvZVcclxuICAgIGlzV1hCaW5kKCkge1xyXG4gICAgICAgIGxldCBpID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAgaSA9IGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImlzV1hCaW5kXCIsIFwiKClaXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0lwaG9uZSgpKSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaTtcclxuICAgIH1cclxuICAgIC8v5ZWG5Lia5YyW5byA5YWzXHJcbiAgICBpc0J1c2lPcGVuKCkge1xyXG4gICAgICAgIGxldCBpID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAgaSA9IGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImlzQnVzaU9wZW5cIiwgXCIoKVpcIik7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzSXBob25lKCkpIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpO1xyXG4gICAgfVxyXG4gICAgLy/pgIDlh7rlvq7kv6HnmbvlvZVcclxuICAgIHVuQmluZFdYKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcInVuQmluZFdYXCIsIFwiKClWXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0lwaG9uZSgpKSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v55So5oi35pi156ewXHJcbiAgICBnZXRVc2VyTmlja05hbWUoKSB7XHJcbiAgICAgICAgbGV0IG4gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAgbiA9IGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImdldFVzZXJOaWNrTmFtZVwiLCBcIigpTGphdmEvbGFuZy9TdHJpbmc7XCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0lwaG9uZSgpKSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIkBAIGdldFVzZXJOaWNrTmFtZeeUqOaIt+aYteensDpcIiwgbik7XHJcbiAgICAgICAgcmV0dXJuIG47XHJcbiAgICB9XHJcbiAgICAvL+eUqOaIt0lEXHJcbiAgICBnZXREZXZpY2VJZCgpIHtcclxuICAgICAgICBsZXQgbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAodGhpcy5pc0FuZHJvaWQoKSkge1xyXG4gICAgICAgICAgICBuID0ganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZCh0aGlzLl9tb3VkZWxQYXRoX2FuZHJvaWQsIFwiZ2V0RGV2aWNlSWRcIiwgXCIoKUxqYXZhL2xhbmcvU3RyaW5nO1wiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNJcGhvbmUoKSkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJAQCBnZXREZXZpY2VJZOeUqOaIt2lkOlwiLCBuKTtcclxuICAgICAgICByZXR1cm4gbjtcclxuICAgIH1cclxuICAgIC8v55So5oi35aS05YOPXHJcbiAgICBnZXRVc2VySWNvbigpIHtcclxuICAgICAgICBsZXQgbiA9IFwiXCI7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAgbiA9IGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImdldFVzZXJJY29uXCIsIFwiKClMamF2YS9sYW5nL1N0cmluZztcIik7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzSXBob25lKCkpIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQEAgZ2V0VXNlckljb27nlKjmiLflpLTlg486XCIsIG4pO1xyXG4gICAgICAgIHJldHVybiBuO1xyXG4gICAgfVxyXG5cclxuICAgIC8v6ZqQ56eB5pS/562WXHJcbiAgICBvcGVuUHJpdmFjeSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0FuZHJvaWQoKSkge1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCwgXCJvcGVuUHJpdmFjeVwiLCBcIigpVlwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNJcGhvbmUoKSkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+eUqOaIt+WNj+iurlxyXG4gICAgb3BlblVzZXJTZXJ2aWNlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcIm9wZW5Vc2VyU2VydmljZVwiLCBcIigpVlwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNJcGhvbmUoKSkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+aEj+ingeWPjemmiFxyXG4gICAgb3BlbkZlZWRCYWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcIm9wZW5GZWVkQmFja1wiLCBcIigpVlwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNJcGhvbmUoKSkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOavj+aXpeS7u+WKoeS/oeaBr1xyXG4gICAgICovXHJcbiAgICBnZXREYWlseVRhc2tJbmZvKCkge1xyXG4gICAgICAgIGxldCBkYXRhO1xyXG4gICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhU3RyID0ganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZCh0aGlzLl9tb3VkZWxQYXRoX2FuZHJvaWQsIFwiZ2V0RGFpbHlUYXNrSW5mb1wiLCBcIigpTGphdmEvbGFuZy9TdHJpbmc7XCIpO1xyXG4gICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhU3RyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRhID0gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiaW5mb1wiOiBcIue6ouWMheWkqeWkqeS6q1wiLC8v5Lu75Yqh6K+05piOXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0YXNrSWRcIjogMSwvL+S7u+WKoWlk77yM6aKG5Y+W5aWW5Yqx5pe26ZyA6KaBXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0aW1lc1wiOiA1LC8v5Lu75Yqh5oC75qyh5pWwXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyVGltZXNcIjogMC8v5Lu75Yqh5bey5a6M5oiQ55qE5qyh5pWwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiaW5mb1wiOiBcIumSnuelqOmAgeS4jeWBnFwiLC8v5Lu75Yqh6K+05piOXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0YXNrSWRcIjogMiwvL+S7u+WKoWlk77yM6aKG5Y+W5aWW5Yqx5pe26ZyA6KaBXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0aW1lc1wiOiA1LC8v5Lu75Yqh5oC75qyh5pWwXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyVGltZXNcIjogNS8v5Lu75Yqh5bey5a6M5oiQ55qE5qyh5pWwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiaW5mb1wiOiBcIuavj+WkqeWlveaUtuaIkFwiLC8v5Lu75Yqh6K+05piOXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0YXNrSWRcIjogMywvL+S7u+WKoWlk77yM6aKG5Y+W5aWW5Yqx5pe26ZyA6KaBXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0aW1lc1wiOiA1LC8v5Lu75Yqh5oC75qyh5pWwXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyVGltZXNcIjogMS8v5Lu75Yqh5bey5a6M5oiQ55qE5qyh5pWwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi5q+P5pel5Lu75Yqh5L+h5oGvXCIsIGRhdGEpO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDpooblj5bmr4/ml6Xku7vliqHlpZblirHlkI7kuIrmiqXku7vliqHlrozlrozmiJBcclxuICAgICAqIEBwYXJhbSBpdGVtSWQg5a+55bqUaWRcclxuICAgICAqL1xyXG4gICAgdG9GaW5pc2hUYXNrKHRhc2tJZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQEAg6aKG5Y+W5q+P5pel5Lu75Yqh5aWW5Yqx5ZCO5LiK5oql5Lu75YqhdG9GaW5pc2hUYXNrXCIsIHRhc2tJZCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZCh0aGlzLl9tb3VkZWxQYXRoX2FuZHJvaWQsIFwidG9GaW5pc2hUYXNrXCIsIFwiKEkpVlwiLCB0YXNrSWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuVEFTS19DT01QTEVURV9CQUNLLCB7IHJlZEJlYW46IFwiMC4yMzQyXCIsIHVzZXJSZWRCZWFuOiAxMTMzIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+aJk+W8gOaPkOeOsOmhtemdolxyXG4gICAgb3BlbldpdGhkcmF3KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiKioqKioqKioqKioqKioqKioqKioqKioqKuaJk+W8gOaPkOeOsOeVjOmdoioqKioqKioqKioqKioqKioqKioqKioqKipcIik7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZCh0aGlzLl9tb3VkZWxQYXRoX2FuZHJvaWQsIFwib3BlbldpdGhkcmF3XCIsIFwiKClWXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0lwaG9uZSgpKSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v6ZyH5YqoXHJcbiAgICB2aWJyYXRlKHRpbWU6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiKioqKioqKioqKioqKioqKioqKioqKioqKumch+WKqOaViOaenCoqKioqKioqKioqKioqKioqKioqKioqKipcIik7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZCh0aGlzLl9iYXNlQ29jb3MsIFwidmlicmF0ZVwiLCBcIihJKVZcIiwgdGltZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/lvIDlvKDlpKnmlbBcclxuICAgIGdldExvZ2luRGF5cygpIHtcclxuICAgICAgICBsZXQgaSA9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAgaSA9IGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImdldExvZ2luRGF5c1wiLCBcIigpSVwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNJcGhvbmUoKSkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJAQCDlvIDlvKDlpKnmlbBnZXRMb2dpbkRheXM6XCIsIGkpO1xyXG4gICAgICAgIHJldHVybiBpO1xyXG4gICAgfVxyXG4gICAgLy/po57ooYznuqLljIXml7bpl7Tpl7TpmpRcclxuICAgIGdldEZsaWdodFRpbWUoKSB7XHJcbiAgICAgICAgbGV0IGkgPSAxMDtcclxuICAgICAgICBpZiAodGhpcy5pc0FuZHJvaWQoKSkge1xyXG4gICAgICAgICAgICBpID0ganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZCh0aGlzLl9tb3VkZWxQYXRoX2FuZHJvaWQsIFwiZ2V0RmxpZ2h0VGltZVwiLCBcIigpSVwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNJcGhvbmUoKSkge1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJAQCDpo57ooYznuqLljIXml7bpl7Tpl7TpmpRnZXRGbGlnaHRUaW1lOlwiLCBpKTtcclxuICAgICAgICByZXR1cm4gaTtcclxuICAgIH1cclxuICAgIC8v5Li76aG16Z2i6ZuG5biC562J57qnXHJcbiAgICBnZXRKU0xldmVsSW5mbygpIHtcclxuICAgICAgICBsZXQgbjtcclxuICAgICAgICBpZiAodGhpcy5pc0FuZHJvaWQoKSkge1xyXG4gICAgICAgICAgICBsZXQganNvblN0ciA9IGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImdldEpTTGV2ZWxJbmZvXCIsIFwiKClMamF2YS9sYW5nL1N0cmluZztcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6I635Y+W562J57qn55u45YWz5L+h5oGvZ2V0SlNMZXZlbEluZm86XCIsIGpzb25TdHIpO1xyXG4gICAgICAgICAgICBuID0gSlNPTi5wYXJzZShqc29uU3RyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuID0ge1xyXG4gICAgICAgICAgICAgICAgXCJqc0xldmVsXCI6IDEsLy/pm4bluILnrYnnuqdcclxuICAgICAgICAgICAgICAgIFwianhPcmRlck51bVwiOiAxMCwvL+mbhuW4guWNh+e6p+mcgOimgeeahOiuouWNleaVsCDnlKjkuo7orqHnrpfov5vluqZcclxuICAgICAgICAgICAgICAgIFwidXNlckp4T3JkZXJOdW1cIjogMS8v5b2T5YmN6K6i5Y2V5pWwIOeUqOS6juiuoeeul+i/m+W6plxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQEAg5Li76aG16Z2i6ZuG5biC562J57qnOlwiLCBuKTtcclxuICAgICAgICByZXR1cm4gbjtcclxuICAgIH1cclxuICAgIC8v6ZuG5biC562J57qn5YiX6KGoXHJcbiAgICBnZXRCYXphYXJMZXZlbEluZm8oKSB7XHJcbiAgICAgICAgbGV0IG47XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAgbGV0IGpzb25TdHIgPSBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCwgXCJnZXRCYXphYXJMZXZlbEluZm9cIiwgXCIoKUxqYXZhL2xhbmcvU3RyaW5nO1wiKTtcclxuICAgICAgICAgICAgbiA9IEpTT04ucGFyc2UoanNvblN0cik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbiA9IHtcclxuICAgICAgICAgICAgICAgIFwianNBbW91bnRcIjogMzAwLC8v6ZuG5biC57Sv6K6h6aKd5bqmXHJcbiAgICAgICAgICAgICAgICBcInVzZXJPcmRlck51bVwiOiAyMCwvL+eUqOaIt+iuouWNleaVsOmHj1xyXG4gICAgICAgICAgICAgICAgXCJqc0xldmVsXCI6IDYsLy/pm4bluILnrYnnuqdcclxuICAgICAgICAgICAgICAgIFwianNUYXNrSW5mb3NcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJsZXZlbFwiOiAxLC8v6ZuG5biC562J57qnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwib3JkZXJOdW1cIjogMTAsLy/pm4bluILorqLljZXmlbDph49cclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhbW91bnRcIjogNSwvL+WlluWKsemHkeminVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR4X211XCI6IFwiMSVcIiwvL+aPkOeOsOavlOS+i1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxldmVsXCI6IDIsLy/pm4bluILnrYnnuqdcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmRlck51bVwiOiAyMCwvL+mbhuW4guiuouWNleaVsOmHj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFtb3VudFwiOiAxNSwvL+WlluWKsemHkeminVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR4X211XCI6IFwiMSVcIiwvL+aPkOeOsOavlOS+i1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxldmVsXCI6IDMsLy/pm4bluILnrYnnuqdcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmRlck51bVwiOiAzMCwvL+mbhuW4guiuouWNleaVsOmHj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFtb3VudFwiOiAyNSwvL+WlluWKsemHkeminVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR4X211XCI6IFwiMSVcIiwvL+aPkOeOsOavlOS+i1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxldmVsXCI6IDQsLy/pm4bluILnrYnnuqdcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmRlck51bVwiOiA0MCwvL+mbhuW4guiuouWNleaVsOmHj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFtb3VudFwiOiAzNSwvL+WlluWKsemHkeminVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR4X211XCI6IFwiMSVcIiwvL+aPkOeOsOavlOS+i1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxldmVsXCI6IDUsLy/pm4bluILnrYnnuqdcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmRlck51bVwiOiA1MCwvL+mbhuW4guiuouWNleaVsOmHj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFtb3VudFwiOiA0NSwvL+WlluWKsemHkeminVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR4X211XCI6IFwiMSVcIiwvL+aPkOeOsOavlOS+i1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxldmVsXCI6IDYsLy/pm4bluILnrYnnuqdcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmRlck51bVwiOiA2MCwvL+mbhuW4guiuouWNleaVsOmHj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFtb3VudFwiOiA1NSwvL+WlluWKsemHkeminVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR4X211XCI6IFwiMSVcIiwvL+aPkOeOsOavlOS+i1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxldmVsXCI6IDcsLy/pm4bluILnrYnnuqdcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmRlck51bVwiOiA3MCwvL+mbhuW4guiuouWNleaVsOmHj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFtb3VudFwiOiA2NSwvL+WlluWKsemHkeminVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR4X211XCI6IFwiMSVcIiwvL+aPkOeOsOavlOS+i1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxldmVsXCI6IDgsLy/pm4bluILnrYnnuqdcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmRlck51bVwiOiA4MCwvL+mbhuW4guiuouWNleaVsOmHj1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFtb3VudFwiOiA3NSwvL+WlluWKsemHkeminVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR4X211XCI6IFwiMSVcIiwvL+aPkOeOsOavlOS+i1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQEAg5Li76aG16Z2i6ZuG5biC562J57qnOlwiLCBuKTtcclxuICAgICAgICByZXR1cm4gbjtcclxuICAgIH1cclxuICAgIC8v5Y2H57qnXHJcbiAgICB1cEpTTGV2ZWwoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJAQCDljYfnuqd1cEpTTGV2ZWxcIilcclxuICAgICAgICBpZiAodGhpcy5pc0FuZHJvaWQoKSkge1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCwgXCJ1cEpTTGV2ZWxcIiwgXCIoKVZcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlNES19MRVZFTF9VUCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/pmaTomavnuqLljIXphY3nva5cclxuICAgIGdldFdvcm1Db25maWcoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJAQCDpmaTomavnuqLljIXphY3nva4sZ2V0V29ybUNvbmZpZ1wiKVxyXG4gICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImdldFdvcm1Db25maWdcIiwgXCIoKVZcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlNES19SRVdBUkRfQ09ORklHLCB7XHJcbiAgICAgICAgICAgICAgICBjb25maWdJZDogMTYsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAxNlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+mjnuihjOe6ouWMhemFjee9rlxyXG4gICAgZ2V0RmxpZ2h0Q29uZmlnKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQEAg6aOe6KGM57qi5YyF6YWN572uLGdldEZsaWdodENvbmZpZ1wiKVxyXG4gICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImdldEZsaWdodENvbmZpZ1wiLCBcIigpVlwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuU0RLX1JFV0FSRF9DT05GSUcsIHtcclxuICAgICAgICAgICAgICAgIGNvbmZpZ0lkOiAxMSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IDExXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v6K6i5Y2V57qi5YyF6YWN572uXHJcbiAgICBnZXRPcmRlclJld2FyZENvbmZpZygpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkBAIOiuouWNlee6ouWMhemFjee9rixnZXRPcmRlclJld2FyZENvbmZpZ1wiKVxyXG4gICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImdldE9yZGVyUmV3YXJkQ29uZmlnXCIsIFwiKClWXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5TREtfUkVXQVJEX0NPTkZJRywge1xyXG4gICAgICAgICAgICAgICAgY29uZmlnSWQ6IDE1LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogMTUsXHJcbiAgICAgICAgICAgICAgICB0aW1lczogMyxcclxuICAgICAgICAgICAgICAgIG1hbmRhdG9yeVZpZGVvOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5oub5b6F6aG+5a6i57qi5YyF6YWN572uXHJcbiAgICBnZXRDdXN0b21lckNvbmZpZyhpZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQEAg5oub5b6F6aG+5a6i57qi5YyF6YWN572uLGdldEN1c3RvbWVyQ29uZmln77yaXCIsIGlkKVxyXG4gICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImdldEN1c3RvbWVyQ29uZmlnXCIsIFwiKEkpVlwiLCBpZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlNES19SRVdBUkRfQ09ORklHLCB7XHJcbiAgICAgICAgICAgICAgICBjb25maWdJZDogMTcsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAxNyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/ovpvoi6bnuqLljIVcclxuICAgIGdldEhhcmRDb25maWcoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJAQCDovpvoi6bnuqLljIUsZ2V0SGFyZENvbmZpZ1wiKVxyXG4gICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImdldEhhcmRDb25maWdcIiwgXCIoKVZcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlNES19SRVdBUkRfQ09ORklHLCB7XHJcbiAgICAgICAgICAgICAgICBjb25maWdJZDogMTMsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAxMyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/lj43ppojnuqLljIVcclxuICAgIGdldEZlZWRiYWNrQ29uZmlnKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQEAg5Y+N6aaI57qi5YyFLGdldEZlZWRiYWNrQ29uZmlnXCIpXHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZCh0aGlzLl9tb3VkZWxQYXRoX2FuZHJvaWQsIFwiZ2V0RmVlZGJhY2tDb25maWdcIiwgXCIoKVZcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlNES19SRVdBUkRfQ09ORklHLCB7XHJcbiAgICAgICAgICAgICAgICBjb25maWdJZDogMTQsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAxNCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/pooblj5blpZblirFcclxuICAgIGdldFJlZFBhY2tSZXdhcmQoY29uZmlnSWQsIHBsYXl2aWRlbyA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJAQCDpooblj5blpZblirEsZ2V0UmVkUGFja1Jld2FyZFwiLCBjb25maWdJZCwgXCIgICAgICBcIiwgcGxheXZpZGVvKVxyXG4gICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImdldFJlZFBhY2tSZXdhcmRcIiwgXCIoTGphdmEvbGFuZy9TdHJpbmc7WilWXCIsIGNvbmZpZ0lkLCBwbGF5dmlkZW8pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGlmIChjb25maWdJZCA9PSAxNikge1xyXG4gICAgICAgICAgICAvLyAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlNES19SRVdBUkRfR09ULCB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgXCJyZWRCZWFuXCI6IFwiMS41MzNcIiwvL+mihuWPlumHkeminVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIFwidXNlclJlZEJlYW5cIjogXCIxMTIuMzNcIiwvL+eUqOaIt+W9k+WJjeaAu+S9meminVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIFwidHlwZVwiOiAxNiwvL+e6ouWMheexu+WeiyBcclxuICAgICAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB9IGVsc2UgaWYgKGNvbmZpZ0lkID09IDExKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuU0RLX1JFV0FSRF9HT1QsIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBcInJlZEJlYW5cIjogXCIxLjMzMzNcIiwvL+mihuWPlumHkeminVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIFwidXNlclJlZEJlYW5cIjogXCIxMTMuMTFcIiwvL+eUqOaIt+W9k+WJjeaAu+S9meminVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIFwidHlwZVwiOiAxMSwvL+e6ouWMheexu+WeiyBcclxuICAgICAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB9IGVsc2UgaWYgKGNvbmZpZ0lkID09IDE1KSB7XHJcbiAgICAgICAgICAgIC8vICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuU0RLX1JFV0FSRF9HT1QsIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBcImNvZGVcIjogMCwgLy8wLeaIkOWKnyDlhbbku5bpooblj5blpLHotKVcclxuICAgICAgICAgICAgLy8gICAgICAgICBcIm1zZ1wiOiBcIumihuWPluaIkOWKn1wiLCAvL+mdnjDmg4XlhrXkvJrnu5nlh7rlr7nlupRtc2cg6YWM5oOF5aSE55CGXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgXCJyZWRCZWFuXCI6IFwiMS4zMzVcIiwvL+mihuWPlumHkeminVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIFwidXNlclJlZEJlYW5cIjogXCIxMTIuMzNcIiwvL+eUqOaIt+W9k+WJjeaAu+S9meminVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIFwidHlwZVwiOiAxNSwvL+e6ouWMheexu+WeiyBcclxuICAgICAgICAgICAgLy8gICAgICAgICBcImJlc2VSZWRCZWFuXCI6IFwiMS4yXCIsLy/mnKzmrKHln7rnoYDnuqLljIUgICAg6K6i5Y2V57qi5YyF5omN5Lya6L+U5Zue77yM5YW25LuW57G75Z6L5LiN6L+U5ZueXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgXCJhZGRSZWRCZWFuXCI6IFwiMC4zXCIsLy/mnKzmrKHliqDmiJDnuqLljIXlgLwgICAg6K6i5Y2V57qi5YyF5omN5Lya6L+U5Zue77yM5YW25LuW57G75Z6L5LiN6L+U5ZueXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgXCJhZGRSZWRNdVwiOiBcIjI1XCIvL+acrOasoeWKoOaIkOe6ouWMheezu+aVsCAgICDorqLljZXnuqLljIXmiY3kvJrov5Tlm57vvIzlhbbku5bnsbvlnovkuI3ov5Tlm55cclxuICAgICAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB9IGVsc2UgaWYgKGNvbmZpZ0lkID09IDE3KSB7XHJcbiAgICAgICAgICAgIC8vICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuU0RLX1JFV0FSRF9HT1QsIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBcImNvZGVcIjogMCwgLy8wLeaIkOWKnyDlhbbku5bpooblj5blpLHotKVcclxuICAgICAgICAgICAgLy8gICAgICAgICBcIm1zZ1wiOiBcIumihuWPluaIkOWKn1wiLCAvL+mdnjDmg4XlhrXkvJrnu5nlh7rlr7nlupRtc2cg6YWM5oOF5aSE55CGXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgXCJyZWRCZWFuXCI6IFwiMS41MzMzXCIsLy/pooblj5bph5Hpop1cclxuICAgICAgICAgICAgLy8gICAgICAgICBcInVzZXJSZWRCZWFuXCI6IFwiMTEyLjMzXCIsLy/nlKjmiLflvZPliY3mgLvkvZnpop1cclxuICAgICAgICAgICAgLy8gICAgICAgICBcInR5cGVcIjogMTcsLy/nuqLljIXnsbvlnosgXHJcbiAgICAgICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAgICAgLy8gfSBlbHNlIGlmIChjb25maWdJZCA9PSAxMykge1xyXG4gICAgICAgICAgICAvLyAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlNES19SRVdBUkRfR09ULCB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgXCJjb2RlXCI6IDAsIC8vMC3miJDlip8g5YW25LuW6aKG5Y+W5aSx6LSlXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgXCJtc2dcIjogXCLpooblj5bmiJDlip9cIiwgLy/pnZ4w5oOF5Ya15Lya57uZ5Ye65a+55bqUbXNnIOmFjOaDheWkhOeQhlxyXG4gICAgICAgICAgICAvLyAgICAgICAgIFwicmVkQmVhblwiOiBcIjMuMzQ0NVwiLC8v6aKG5Y+W6YeR6aKdXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgXCJ1c2VyUmVkQmVhblwiOiBcIjExMy4zM1wiLC8v55So5oi35b2T5YmN5oC75L2Z6aKdXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgXCJ0eXBlXCI6IDEzLC8v57qi5YyF57G75Z6LIFxyXG4gICAgICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIH0gZWxzZSBpZiAoY29uZmlnSWQgPT0gMTQpIHtcclxuICAgICAgICAgICAgLy8gICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5TREtfUkVXQVJEX0dPVCwge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIFwiY29kZVwiOiAwLCAvLzAt5oiQ5YqfIOWFtuS7lumihuWPluWksei0pVxyXG4gICAgICAgICAgICAvLyAgICAgICAgIFwibXNnXCI6IFwi6aKG5Y+W5oiQ5YqfXCIsIC8v6Z2eMOaDheWGteS8mue7meWHuuWvueW6lG1zZyDphYzmg4XlpITnkIZcclxuICAgICAgICAgICAgLy8gICAgICAgICBcInJlZEJlYW5cIjogXCIzLjMyMjI1XCIsLy/pooblj5bph5Hpop1cclxuICAgICAgICAgICAgLy8gICAgICAgICBcInVzZXJSZWRCZWFuXCI6IFwiMTEzLjMzXCIsLy/nlKjmiLflvZPliY3mgLvkvZnpop1cclxuICAgICAgICAgICAgLy8gICAgICAgICBcInR5cGVcIjogMTQsLy/nuqLljIXnsbvlnosgXHJcbiAgICAgICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBNS1V0aWxzLmFsZXJ0VGlwcyhcIue6ouWMhemFjee9ruWHhuWkh+S4rSzor7fph43mlrDpooblj5ZcIilcclxuICAgICAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlNES19SRVdBUkRfTE9TVCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/pooblj5borqLljZXkuIrmiqVcclxuICAgIGdldE9yZGVyVGFzayhvcmRlcklkKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJAQCDpooblj5borqLljZXkuIrmiqUsZ2V0T3JkZXJUYXNrXCIsIG9yZGVySWQpXHJcbiAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcclxuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZCh0aGlzLl9tb3VkZWxQYXRoX2FuZHJvaWQsIFwiZ2V0T3JkZXJUYXNrXCIsIFwiKEkpVlwiLCBvcmRlcklkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuT1JERVJfR0VUX1NVQ0NFU1MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5paw5omL5piv5ZCm6aKG5Y+WXHJcbiAgICBoYXNOZXdPcmRlclJld2FyZCgpIHtcclxuICAgICAgICBsZXQgaXNOZXcgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5pc0FuZHJvaWQoKSkge1xyXG4gICAgICAgICAgICBpc05ldyA9IGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImhhc05ld09yZGVyUmV3YXJkXCIsIFwiKClaXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlzTmV3ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQEAg5paw5omL5piv5ZCm6aKG5Y+WLGhhc05ld09yZGVyUmV3YXJkXCIsIGlzTmV3KVxyXG4gICAgICAgIHJldHVybiBpc05ldztcclxuICAgIH1cclxuICAgIC8v5piv5ZCm6L+Y5Y+v5Lul6aKG5Y+W5oub5b6F6aG+5a6i55qE57qi5YyF5aWW5YqxXHJcbiAgICBoYXNDdXN0b21lclJlZFJld2FyZCgpIHtcclxuICAgICAgICBsZXQgaXNOZXcgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5pc0FuZHJvaWQoKSkge1xyXG4gICAgICAgICAgICBpc05ldyA9IGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcImhhc0N1c3RvbWVyUmVkUmV3YXJkXCIsIFwiKClaXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlzTmV3ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJAQCDmmK/lkKbov5jlj6/ku6Xpooblj5bmi5vlvoXpob7lrqLnmoTnuqLljIXlpZblirEsaGFzQ3VzdG9tZXJSZWRSZXdhcmRcIiwgaXNOZXcpXHJcbiAgICAgICAgcmV0dXJuIGlzTmV3O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDov5vlhaXmuLjmiI/lkI7kuIrmiqVcclxuICAgICAqIEBwYXJhbSB0eXBlIDDmuLjmiI/lkK/liqjml7bvvIwx6L+b5YWl5ri45oiP5Li76aG1XHJcbiAgICAgKi9cclxuICAgIG9uU3RhcnRHYW1lKHR5cGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkBAIOi/m+WFpea4uOaIj+WQjuS4iuaKpSxvblN0YXJ0R2FtZVwiLCB0eXBlKVxyXG4gICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcIm9uU3RhcnRHYW1lXCIsIFwiKEkpVlwiLCB0eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL+iuouWNlee6ouWMheaxoFxyXG4gICAgZ2V0T3JkZXJQb29sRGF0YSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0FuZHJvaWQoKSkge1xyXG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCwgXCJnZXRPcmRlclBvb2xEYXRhXCIsIFwiKClWXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5TREtfVklERU9fTlVNLCAwKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5o+S5bGP5bm/5ZGKXHJcbiAgICByZXBvcnRUcmlnZ2VyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XHJcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QodGhpcy5fbW91ZGVsUGF0aF9hbmRyb2lkLCBcInJlcG9ydFRyaWdnZXJcIiwgXCIoKVZcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2xvc2UgcGFuZWxcIik7XHJcblxyXG4gICAgfVxyXG4gICAgLy/orqLljZXns7vmlbBcclxuICAgIGdldE9yZGVyQ291bnRBZGQoKSB7XHJcbiAgICAgICAgbGV0IG51bSA9IDEwMDtcclxuICAgICAgICBpZiAodGhpcy5pc0FuZHJvaWQoKSkge1xyXG4gICAgICAgICAgICBudW0gPSBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKHRoaXMuX21vdWRlbFBhdGhfYW5kcm9pZCwgXCJnZXRPcmRlckNvdW50QWRkXCIsIFwiKClJXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcImdldE9yZGVyQ291bnRBZGQg6K6i5Y2V57O75pWwXCIsIG51bSk7XHJcblxyXG4gICAgICAgIHJldHVybiBudW07XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IFNES01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxud2luZG93W1wiWFNTZGtDYWxsYmFja1wiXSA9IGZ1bmN0aW9uIChhY3Rpb24sIGpzb25TdHIpIHtcclxuICAgIGlmIChVdGlscy5pc1VuZGVmaW5lZChqc29uU3RyKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKGFjdGlvbiArIFwiKioqKioqKioqKioqKioq5YmN56uv5pS25Yiw5raI5oGvKioqKioqKioqKioqKioqXCIsIFwiICAgXCIsIGpzb25TdHIpO1xyXG4gICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKGpzb25TdHIpO1xyXG4gICAgaWYgKGFjdGlvbiA9PSBcInJlZHBhY2tldF9jb25maWdcIikgeyAgICAvLzEuIOe7k+i0pumihuWPlue6ouWMheWlluWKsVxyXG4gICAgICAgIGlmIChkYXRhLmNvZGUgIT0gMCkge1xyXG4gICAgICAgICAgICBNS1V0aWxzLmFsZXJ0VGlwcyhkYXRhLm1zZylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIioqKioqKioqKioqKipyZWRwYWNrZXRfY29uZmlnKioqKioqKjIuIOe6ouWMhemFjee9ruaOpeWPo+WbnuiwgyoqKioqKioqKioqKioqKioqKioqXCIsIGRhdGEpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5TREtfUkVXQVJEX0NPTkZJRywgZGF0YS5jb25maWcpO1xyXG4gICAgICAgIC8vICAgICBcImNvZGVcIjogMCwvLzDpooblj5bmiJDlip8g5YW25LuW5aSx6LSlXHJcbiAgICAgICAgLy8gICAgICAgICBcIm1zZ1wiOiBcIumihuWPluaIkOWKn1wiLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgIFwiY29uZmlnXCI6IHtcclxuICAgICAgICAvLyAgICAgICAgIFwiY29uZmlnSWRcIjogXCJVVUlEXCIsIC8v5q2k5qyh6K+35rGC6I635Y+W55qE6YWN572u55qESUTlgLzvvIzmr4/mrKHojrflj5bpg73kuI3kuIDmoLdcclxuICAgICAgICAvLyAgICAgICAgICAgICBcInR5cGVcIjogMTEvL+e6ouWMheexu+WeiyBcclxuICAgICAgICAvLyAgICAgfVxyXG5cclxuICAgICAgICAvLyAgICAg57qi5YyF57G75Z6L5a+55bqU5aaC5LiL77yaXHJcbiAgICAgICAgLy8gcHJpdmF0ZSBzdGF0aWMgZmluYWwgaW50IFJFRF9QQUNLX1RZUEVfRkxJR0hUID0gMTE7Ly/po57ooYznuqLljIVcclxuICAgICAgICAvLyBwcml2YXRlIHN0YXRpYyBmaW5hbCBpbnQgUkVEX1BBQ0tfVFlQRV9EQUlMWV9UQVNLID0gMTI7Ly/mr4/ml6Xku7vliqHnuqLljIVcclxuICAgICAgICAvLyBwcml2YXRlIHN0YXRpYyBmaW5hbCBpbnQgUkVEX1BBQ0tfVFlQRV9IQVJEID0gMTM7Ly/ovpvoi6bnuqLljIVcclxuICAgICAgICAvLyBwcml2YXRlIHN0YXRpYyBmaW5hbCBpbnQgUkVEX1BBQ0tfVFlQRV9GRUVEQkFDSyA9IDE0Oy8v5Zue6aaI57qi5YyFXHJcbiAgICAgICAgLy8gcHJpdmF0ZSBzdGF0aWMgZmluYWwgaW50IFJFRF9QQUNLX1RZUEVfT1JERVIgPSAxNTsvL+iuouWNlee6ouWMhVxyXG4gICAgICAgIC8vIHByaXZhdGUgc3RhdGljIGZpbmFsIGludCBSRURfUEFDS19UWVBFX1dPUk0gPSAxNjsvL+mZpOiZq1xyXG4gICAgICAgIC8vIHByaXZhdGUgc3RhdGljIGZpbmFsIGludCBSRURfUEFDS19UWVBFX0NVU1RPTUVSID0gMTc7Ly/mi5vlvoXpob7lrqJcclxuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IFwicmVkcGFja2V0X2dvdFwiKSB7ICAgICAvL+e6ouWMhemihuWPluaOpeWPo+WbnuiwgyBcclxuICAgICAgICBpZiAoZGF0YS5jb2RlICE9IDApIHtcclxuICAgICAgICAgICAgTUtVdGlscy5hbGVydFRpcHMoZGF0YS5tc2crXCIs6K+36YeN5paw6aKG5Y+WXCIpXHJcbiAgICAgICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5TREtfUkVXQVJEX0xPU1QpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiKioqKioqKioqKioqKnJlZHBhY2tldF9nb3QqKioqKioq57qi5YyF6aKG5Y+W5o6l5Y+j5Zue6LCDKioqKioqKioqKioqKioqKioqKipcIiwgZGF0YSk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlNES19SRVdBUkRfR09ULCBkYXRhKTtcclxuICAgICAgICAvLyB7XHJcbiAgICAgICAgLy8gICAgIFwiY29kZVwiOjAgLy8wLeaIkOWKnyDlhbbku5bpooblj5blpLHotKVcclxuICAgICAgICAvLyAgICAgXCJtc2dcIjogXCLpooblj5bmiJDlip9cIiwgLy/pnZ4w5oOF5Ya15Lya57uZ5Ye65a+55bqUbXNnIOmFjOaDheWkhOeQhlxyXG4gICAgICAgIC8vICAgICBcInJlZEJlYW5cIjpcIjEuNVwiLC8v6aKG5Y+W6YeR6aKdXHJcbiAgICAgICAgLy8gICAgIFwidXNlclJlZEJlYW5cIjpcIjExMi4zM1wiLC8v55So5oi35b2T5YmN5oC75L2Z6aKdXHJcbiAgICAgICAgLy8gICAgIFwidHlwZVwiOjExLC8v57qi5YyF57G75Z6LIFxyXG4gICAgICAgIC8vICAgICBcImJlc2VSZWRCZWFuXCI6XCIxLjJcIiwvL+acrOasoeWfuuehgOe6ouWMhSAgICDorqLljZXnuqLljIXmiY3kvJrov5Tlm57vvIzlhbbku5bnsbvlnovkuI3ov5Tlm55cclxuICAgICAgICAvLyAgICAgXCJhZGRSZWRCZWFuXCI6XCIwLjNcIiwvL+acrOasoeWKoOaIkOe6ouWMheWAvCAgICDorqLljZXnuqLljIXmiY3kvJrov5Tlm57vvIzlhbbku5bnsbvlnovkuI3ov5Tlm55cclxuICAgICAgICAvLyAgICAgXCJhZGRSZWRNdVwiOlwiMjVcIi8v5pys5qyh5Yqg5oiQ57qi5YyF57O75pWwICAgIOiuouWNlee6ouWMheaJjeS8mui/lOWbnu+8jOWFtuS7luexu+Wei+S4jei/lOWbnlxyXG4gICAgICAgIC8vIH1cclxuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IFwiZmluaXNoX3Rhc2tfcmVzdWx0XCIpIHsgICAgIC8vNS4g6aKG5Y+W5Lu75Yqh5aWW5Yqx57uT5p6c5Zue6LCDXHJcbiAgICAgICAgaWYgKGRhdGEuY29kZSAhPSAwKSB7XHJcbiAgICAgICAgICAgIE1LVXRpbHMuYWxlcnRUaXBzKGRhdGEubXNnKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5UQVNLX0NPTVBMRVRFX0JBQ0ssIGRhdGEpO1xyXG4gICAgICAgIC8vIHtcclxuICAgICAgICAvLyAgICAgXCJ0eXBlXCI6IDEsIC8v5Lu75Yqh57G75Z6LXHJcbiAgICAgICAgLy8gICAgIFwidGFza0lkXCI6MSAvL+S7u+WKoWlkIOeUqOS6juWuouaIt+err+mihuWPluS7u+WKoeWlluWKseaXtuWAmeiOt+WPluWvueW6lOeahOmHkemineWSjOmihuWPluWQjuS4iuaKpVxyXG4gICAgICAgIC8vICAgICBcInBhcmFtXCI6MTAwLC8v5Lu75Yqh5a+55bqU5Y+C5pWwIOWuouaIt+err+aXoOmcgOWFs+azqFxyXG4gICAgICAgIC8vICAgICBcInN0YXR1c1wiOjAvL+S7u+WKoeeKtuaAgSDpu5jorqQwICAwLeacquWujOaIkCAx5bey5a6M5oiQIDLlt7Lpooblj5YgXHJcbiAgICAgICAgLy8gICAgIC8v5oiQ5bCx5Lu75Yqh5LiN6L+U5Zue5bey6aKG5Y+W55qE5Lu75Yqh5pWw5o2uIOavj+aXpeS7u+WKoei/lOWbnlxyXG4gICAgICAgIC8vIH1cclxuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IFwiYmF6YWFyX3VwX3Jlc3VsdFwiKSB7ICAgICAvLzQuIOmbhuW4guWNh+e6p+e7k+aenOWbnuiwg1xyXG4gICAgICAgIGlmIChkYXRhLmNvZGUgIT0gMCkge1xyXG4gICAgICAgICAgICBNS1V0aWxzLmFsZXJ0VGlwcyhkYXRhLm1zZylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuU0RLX0xFVkVMX1VQKTtcclxuICAgICAgICAvLyB7XHJcbiAgICAgICAgLy8gICAgIFwidHlwZVwiOiAxLCAvL+S7u+WKoeexu+Wei1xyXG4gICAgICAgIC8vICAgICBcInRhc2tJZFwiOjEgLy/ku7vliqFpZCDnlKjkuo7lrqLmiLfnq6/pooblj5bku7vliqHlpZblirHml7blgJnojrflj5blr7nlupTnmoTph5Hpop3lkozpooblj5blkI7kuIrmiqVcclxuICAgICAgICAvLyAgICAgXCJwYXJhbVwiOjEwMCwvL+S7u+WKoeWvueW6lOWPguaVsCDlrqLmiLfnq6/ml6DpnIDlhbPms6hcclxuICAgICAgICAvLyAgICAgXCJzdGF0dXNcIjowLy/ku7vliqHnirbmgIEg6buY6K6kMCAgMC3mnKrlrozmiJAgMeW3suWujOaIkCAy5bey6aKG5Y+WIFxyXG4gICAgICAgIC8vICAgICAvL+aIkOWwseS7u+WKoeS4jei/lOWbnuW3sumihuWPlueahOS7u+WKoeaVsOaNriDmr4/ml6Xku7vliqHov5Tlm55cclxuICAgICAgICAvLyB9XHJcbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PSBcIm9yZGVyX3Rhc2tfcmVzdWx0XCIpIHsgICAgIC8v5b2T5YmN5Lu75Yqh5a6M5oiQ5bm25Y+v6aKG5Y+W5pWw6YeP57uT5p6c5Zue6LCDXHJcbiAgICAgICAgaWYgKGRhdGEuY29kZSAhPSAwKSB7XHJcbiAgICAgICAgICAgIE1LVXRpbHMuYWxlcnRUaXBzKGRhdGEubXNnKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBFdmVudERpc3BhdGguc2VuZChFdmVudFR5cGUuT1JERVJfR0VUX1NVQ0NFU1MpO1xyXG4gICAgICAgIC8vIHtcclxuICAgICAgICAvLyAgICAgXCJhbGxDb3VudFwiOjEwIC8v5Y+v6aKG5Y+W5aWW5Yqx5oC75pWw6YePXHJcbiAgICAgICAgLy8gICAgIFwiY2pDb3VudFwiOiA3LCAvL+aIkOWwseS7u+WKoeWPr+mihuWPluWlluWKseaVsOmHj1xyXG4gICAgICAgIC8vICAgICBcImRheUNvdW50XCI6MywvL+avj+aXpeS7u+WKoeWPr+mihuWPluWlluWKseaVsOmHj1xyXG4gICAgICAgIC8vIH1cclxuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IFwicG9vbF9kYXRhXCIpIHsgICAgIC8v5b2T5YmN5Lu75Yqh5a6M5oiQ5bm25Y+v6aKG5Y+W5pWw6YeP57uT5p6c5Zue6LCDXHJcbiAgICAgICAgaWYgKGRhdGEuY29kZSAhPSAwKSB7XHJcbiAgICAgICAgICAgIE1LVXRpbHMuYWxlcnRUaXBzKGRhdGEubXNnKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5TREtfVklERU9fTlVNLCBkYXRhLnZpZGVvQ291bnQpXHJcbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PSBcInN5bmNfYW1vdW50XCIpIHsgICAgIC8v5ZCM5q2l57qi5YyFXHJcbiAgICAgICAgUGxheWVyTW9kZWwuZ2V0VXNlckFtb3VudCgpO1xyXG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT0gXCJyZWZyZXNoX2hvbWVcIikgeyAgICAgLy/lkIzmraXlvq7kv6HnmbvlvZVcclxuXHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnNlbmQoRXZlbnRUeXBlLlNES19XWEJJTkQpO1xyXG5cclxuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IFwiYWRfcGxheVwiKSB7ICAgICAvL+inhumikeW8gOWni+aSreaUvlxyXG4gICAgICAgIC8vIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5WSURFT19CQUNLLCAxKTtcclxuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IFwiYWRfb3ZlclwiKSB7ICAgICAvL+inhumikeaSreaUvue7k+adn1xyXG4gICAgICAgIGlmIChQbGF5ZXJNb2RlbC5oYXZlT3JkZXIpIFBsYXllck1vZGVsLm9yZGVyVmlkZW9OdW0rKztcclxuICAgICAgICBQbGF5ZXJNb2RlbC5zZXRYZnpzKDEpO1xyXG4gICAgICAgIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5WSURFT19CQUNLLCAyKTtcclxuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IFwiYWRfZXJyb3JcIikgeyAgICAgLy/op4bpopHmkq3mlL7lh7rplJlcclxuICAgICAgICBNS1V0aWxzLmFsZXJ0VGlwcyhcIuinhumikeWHuumUmeS6hn5+XCIpO1xyXG4gICAgICAgIC8vIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5WSURFT19CQUNLLCAzKTtcclxuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IFwiYWRfY2RcIikgeyAgICAgLy/op4bpopHmkq3mlL7op4bpopHlhrfljbTkuK1cclxuICAgICAgICBNS1V0aWxzLmFsZXJ0VGlwcyhcIuinhumikeWGt+WNtOS4rX5+XCIpO1xyXG4gICAgICAgIC8vIEV2ZW50RGlzcGF0aC5zZW5kKEV2ZW50VHlwZS5WSURFT19CQUNLLCA0KTtcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/manager/MusicManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a3c189Gbd1Bnrfpx4fA56Fd', 'MusicManager');
// src/framework/manager/MusicManager.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Global_1 = require("../../game/consts/Global");
var PlayerModel_1 = require("../../game/datas/PlayerModel");
var StorageHelper_1 = require("../helper/StorageHelper");
var MusicManager = /** @class */ (function () {
    function MusicManager() {
        this._musicVolume = 1;
        this._switchEffect = true; //是否开启音效
        this._switchMusic = true; //是否开启背景音效
        this._playEffect = {};
        this.cacheClips = {};
        this._lastEffect = ''; //上一次播放的音效
        this._lastMusic = ''; //上次播放的音乐
        this.preURL = 'sound/'; //音效路径的前缀
    }
    MusicManager.instance = function () {
        if (!this._instance) {
            this._instance = new MusicManager();
        }
        return this._instance;
    };
    /**
     * 播放音效文件
     * url: 音效文件相对地址
     * loop: 是否循环播放
     * isSign: 每次只能播放一次 如果同时播放多个时 则后边的会全部不播放
     * isStopPre
     */
    /**
     * 播放音效文件
     * @param url 音效文件相对地址
     * @param loop 是否循环播放
     * @param isSign 每次只能播放一次 如果同时播放多个时 则后边的会全部不播放
     * @param isStopPre 播放同一个音效时 是否停止上一个音效
     * @param handler  播放完成的回调函数
     * @returns
     */
    MusicManager.prototype.playEffect = function (url, loop, isSign, isStopPre, handler) {
        var _this = this;
        if (loop === void 0) { loop = false; }
        if (isSign === void 0) { isSign = false; }
        if (isStopPre === void 0) { isStopPre = false; }
        if (handler === void 0) { handler = null; }
        if (this._switchEffect) {
            if (isSign) {
                if (this._lastEffect == url) {
                    return;
                }
            }
            if (isStopPre) {
                this.stopEffect(url);
            }
            this._lastEffect = url;
            url = this.preURL + url;
            var clip = this._getClip(url);
            var effectId_1 = -1;
            if (!!clip) {
                effectId_1 = cc.audioEngine.playEffect(clip, loop);
                if (!loop && handler) {
                    cc.audioEngine.setFinishCallback(effectId_1, function (id) {
                        handler.call();
                    });
                }
                this._playEffect[url] = effectId_1;
            }
            else {
                cc.loader.loadRes(url, cc.AudioClip, function (err, clip) {
                    effectId_1 = cc.audioEngine.playEffect(clip, loop);
                    if (!loop && handler) {
                        cc.audioEngine.setFinishCallback(effectId_1, function (id) {
                            handler.call();
                        });
                    }
                    _this.cacheClips[url] = clip;
                    _this._playEffect[url] = effectId_1;
                });
            }
        }
    };
    MusicManager.prototype.clearLastEffect = function () {
        this._lastEffect = null;
    };
    MusicManager.prototype.stopEffectByID = function (id) {
        cc.audioEngine.stopEffect(id);
    };
    MusicManager.prototype.stopEffect = function (url) {
        var effectId = this._playEffect[this.preURL + url];
        delete this._playEffect[this.preURL + url];
        cc.audioEngine.stopEffect(effectId);
    };
    /**
     * 背景音乐播放
     * url: 资源路径
     * loop: 是否循环
     */
    MusicManager.prototype.playMusic = function (url, loop) {
        var _this = this;
        if (loop === void 0) { loop = false; }
        if (this._switchMusic) {
            if (this._lastMusic === url) {
                return;
            }
            this._lastMusic = url;
            url = this.preURL + url;
            var clip = this._getClip(url);
            if (!!clip) {
                cc.audioEngine.playMusic(clip, loop);
            }
            else {
                cc.loader.loadRes(url, cc.AudioClip, function (err, clip) {
                    cc.audioEngine.playMusic(clip, loop);
                    _this.cacheClips[url] = clip;
                });
            }
        }
    };
    MusicManager.prototype.getLastMusic = function () {
        if (this._lastMusic == '') {
            return null;
        }
        else {
            return this._lastMusic;
        }
    };
    /**
 * 暂停当前播放音乐
 */
    MusicManager.prototype.setPauseMusic = function () {
        cc.audioEngine.pauseMusic();
    };
    /**
     * 恢复当前被暂停音乐音乐
     */
    MusicManager.prototype.setResumeMusic = function () {
        cc.audioEngine.resumeMusic();
    };
    /**
     * 重新播放该背景音乐
     */
    MusicManager.prototype.replayMusic = function () {
        cc.audioEngine.resumeMusic();
    };
    /**
     * 停止播放音乐
     * releaseData： 控制是否释放音乐资源 true释放资源 | false不释放资源
     */
    MusicManager.prototype.setStopMusic = function (releaseData) {
        if (releaseData === void 0) { releaseData = true; }
        cc.audioEngine.stopMusic();
    };
    MusicManager.prototype.setMusicVolume = function (value) {
        this._musicVolume = value;
        cc.audioEngine.setMusicVolume(value);
    };
    MusicManager.prototype.getMusicVolume = function () {
        return cc.audioEngine.getMusicVolume();
    };
    MusicManager.prototype.setEffectSwitch = function (value) {
        this._switchEffect = value;
        StorageHelper_1.default.saveValueByKey('audio', value);
    };
    MusicManager.prototype.setMusicSwitch = function (value) {
        this._switchMusic = value;
        if (!value) {
            this.setPauseMusic();
        }
        else {
            this.setResumeMusic();
        }
        StorageHelper_1.default.saveValueByKey('music', value);
    };
    MusicManager.prototype.getEffectSwitch = function () {
        // let statusStr = StorageHelper.getValueByKey('audio');
        // let status = true;
        // if (statusStr != null) {
        //     if(typeof statusStr != "boolean")
        //     {
        //         if(statusStr === 'false') {
        //             status = false;
        //         } else {
        //             status = true;
        //         }
        //     } else {
        //         status = statusStr;
        //     }
        // } else {
        //     status = true;
        // }
        // return status;
        return PlayerModel_1.default.getSoundYinXiaoSwitch() == Global_1.default.SOUND_YINXIAO_SWITCH_OPEN;
    };
    MusicManager.prototype.getMusicSwitch = function () {
        // let statusStr = StorageHelper.getValueByKey('music');
        // let status = true;
        // if (statusStr != null) {
        //     if(typeof statusStr != "boolean")
        //     {
        //         if(statusStr === 'false') {
        //             status = false;
        //         } else {
        //             status = true;
        //         }
        //     } else {
        //         status = statusStr;
        //     }
        // } else {
        //     status = true;
        // }
        // return status;
        return PlayerModel_1.default.getSoundSwitch() == Global_1.default.SOUND_SWITCH_OPEN;
    };
    MusicManager.prototype.initMusic = function () {
        this._switchEffect = this.getEffectSwitch();
        this._switchMusic = this.getMusicSwitch();
    };
    /**
     * 音乐是否正在播放（验证些方法来实现背景音乐是否播放完成）
     * return boolen
     */
    MusicManager.prototype.isMusicPlaying = function () {
        return cc.audioEngine.isMusicPlaying();
    };
    /**
     * 释放指定音效资源
     * @param url 地址
     * @param isEffect 是否是音效
     */
    MusicManager.prototype.releaseAudio = function (url, isEffect) {
        if (isEffect === void 0) { isEffect = false; }
        var clip = this._getClip(this.preURL + url);
        if (clip) {
            if (isEffect) {
                this.stopEffect(url);
            }
            else {
                this.setStopMusic();
            }
            delete this.cacheClips[url];
            cc.audioEngine.uncache(clip);
        }
        else {
            cc.error("【音频】资源" + url + "不存在,释放失败");
        }
    };
    MusicManager.prototype.releaseAllAudio = function () {
        cc.audioEngine.uncacheAll();
    };
    MusicManager.prototype._getClip = function (name) {
        if (this.cacheClips.hasOwnProperty(name)) {
            return this.cacheClips[name];
        }
        return null;
    };
    return MusicManager;
}());
exports.default = MusicManager.instance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL21hbmFnZXIvTXVzaWNNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbURBQThDO0FBQzlDLDREQUF1RDtBQUV2RCx5REFBb0Q7QUFFcEQ7SUFBQTtRQUVZLGlCQUFZLEdBQVksQ0FBQyxDQUFDO1FBQzFCLGtCQUFhLEdBQWMsSUFBSSxDQUFDLENBQUEsUUFBUTtRQUN4QyxpQkFBWSxHQUFhLElBQUksQ0FBQyxDQUFBLFVBQVU7UUFDeEMsZ0JBQVcsR0FBSSxFQUFFLENBQUM7UUFDbEIsZUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNoQixnQkFBVyxHQUFXLEVBQUUsQ0FBQyxDQUFBLFVBQVU7UUFDbkMsZUFBVSxHQUFXLEVBQUUsQ0FBQyxDQUFBLFNBQVM7UUFJakMsV0FBTSxHQUFVLFFBQVEsQ0FBQyxDQUFBLFNBQVM7SUE0UTlDLENBQUM7SUExUWlCLHFCQUFRLEdBQXRCO1FBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDakIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1NBQ3ZDO1FBQ0QsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFHRDs7Ozs7O09BTUc7SUFFSDs7Ozs7Ozs7T0FRRztJQUNILGlDQUFVLEdBQVYsVUFBVyxHQUFVLEVBQUMsSUFBa0IsRUFBQyxNQUFvQixFQUFDLFNBQXVCLEVBQUMsT0FBb0I7UUFBMUcsaUJBdUNDO1FBdkNxQixxQkFBQSxFQUFBLFlBQWtCO1FBQUMsdUJBQUEsRUFBQSxjQUFvQjtRQUFDLDBCQUFBLEVBQUEsaUJBQXVCO1FBQUMsd0JBQUEsRUFBQSxjQUFvQjtRQUV0RyxJQUFHLElBQUksQ0FBQyxhQUFhLEVBQ3JCO1lBQ0ksSUFBSSxNQUFNLEVBQUU7Z0JBQ1IsSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLEdBQUcsRUFBRTtvQkFDekIsT0FBTztpQkFDVjthQUNKO1lBRUQsSUFBSyxTQUFTLEVBQUc7Z0JBQ2IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUN4QjtZQUNELElBQUksQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1lBQ3ZCLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztZQUN4QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzlCLElBQUksVUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ2xCLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRTtnQkFDUixVQUFRLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUNqRCxJQUFLLENBQUMsSUFBSSxJQUFJLE9BQU8sRUFBRTtvQkFDbkIsRUFBRSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBRSxVQUFRLEVBQUMsVUFBQyxFQUFFO3dCQUMxQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7b0JBQ25CLENBQUMsQ0FBRSxDQUFDO2lCQUNQO2dCQUNELElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEdBQUcsVUFBUSxDQUFDO2FBQ3BDO2lCQUFNO2dCQUNILEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsU0FBUyxFQUFFLFVBQUMsR0FBRyxFQUFFLElBQUk7b0JBQzNDLFVBQVEsR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7b0JBQ2pELElBQUssQ0FBQyxJQUFJLElBQUksT0FBTyxFQUFHO3dCQUNwQixFQUFFLENBQUMsV0FBVyxDQUFDLGlCQUFpQixDQUFFLFVBQVEsRUFBQyxVQUFDLEVBQUU7NEJBQzFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQzt3QkFDbkIsQ0FBQyxDQUFFLENBQUM7cUJBQ1A7b0JBQ0QsS0FBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7b0JBQzVCLEtBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEdBQUcsVUFBUSxDQUFDO2dCQUNyQyxDQUFDLENBQUMsQ0FBQzthQUNOO1NBRUo7SUFDTCxDQUFDO0lBRUQsc0NBQWUsR0FBZjtRQUNJLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO0lBQzVCLENBQUM7SUFFRCxxQ0FBYyxHQUFkLFVBQWUsRUFBUztRQUVwQixFQUFFLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRUQsaUNBQVUsR0FBVixVQUFXLEdBQUc7UUFFVixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDbkQsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDM0MsRUFBRSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxnQ0FBUyxHQUFULFVBQVcsR0FBVSxFQUFFLElBQWtCO1FBQXpDLGlCQWtCQztRQWxCc0IscUJBQUEsRUFBQSxZQUFrQjtRQUNyQyxJQUFHLElBQUksQ0FBQyxZQUFZLEVBQUM7WUFDakIsSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLEdBQUcsRUFBRTtnQkFDekIsT0FBTzthQUNWO1lBQ0QsSUFBSSxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUM7WUFDdEIsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO1lBQ3hCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUIsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFO2dCQUNSLEVBQUUsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzthQUN4QztpQkFBTTtnQkFDSCxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBRSxVQUFDLEdBQUcsRUFBRSxJQUFJO29CQUMzQyxFQUFFLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7b0JBQ3JDLEtBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDO2dCQUNoQyxDQUFDLENBQUMsQ0FBQzthQUNOO1NBRUo7SUFDTCxDQUFDO0lBQ0QsbUNBQVksR0FBWjtRQUNJLElBQUcsSUFBSSxDQUFDLFVBQVUsSUFBSSxFQUFFLEVBQUM7WUFDckIsT0FBTyxJQUFJLENBQUM7U0FDZjthQUFJO1lBQ0QsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO1NBQzFCO0lBQ0wsQ0FBQztJQUVHOztHQUVEO0lBQ0gsb0NBQWEsR0FBYjtRQUVJLEVBQUUsQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDaEMsQ0FBQztJQUVEOztPQUVHO0lBQ0gscUNBQWMsR0FBZDtRQUVJLEVBQUUsQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDakMsQ0FBQztJQUVEOztPQUVHO0lBQ0gsa0NBQVcsR0FBWDtRQUVJLEVBQUUsQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDakMsQ0FBQztJQUVEOzs7T0FHRztJQUNILG1DQUFZLEdBQVosVUFBYSxXQUFrQjtRQUFsQiw0QkFBQSxFQUFBLGtCQUFrQjtRQUUzQixFQUFFLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFRCxxQ0FBYyxHQUFkLFVBQWUsS0FBSztRQUVoQixJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztRQUMxQixFQUFFLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQscUNBQWMsR0FBZDtRQUVJLE9BQU8sRUFBRSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUMzQyxDQUFDO0lBRUQsc0NBQWUsR0FBZixVQUFnQixLQUFLO1FBRWpCLElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDO1FBQzNCLHVCQUFhLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBQyxLQUFLLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBRUQscUNBQWMsR0FBZCxVQUFlLEtBQUs7UUFDaEIsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7UUFDMUIsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNSLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztTQUN4QjthQUFNO1lBQ0gsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1NBQ3pCO1FBQ0QsdUJBQWEsQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFFRCxzQ0FBZSxHQUFmO1FBRUksd0RBQXdEO1FBQ3hELHFCQUFxQjtRQUNyQiwyQkFBMkI7UUFDM0Isd0NBQXdDO1FBQ3hDLFFBQVE7UUFDUixzQ0FBc0M7UUFDdEMsOEJBQThCO1FBQzlCLG1CQUFtQjtRQUNuQiw2QkFBNkI7UUFDN0IsWUFBWTtRQUNaLGVBQWU7UUFDZiw4QkFBOEI7UUFDOUIsUUFBUTtRQUNSLFdBQVc7UUFDWCxxQkFBcUI7UUFDckIsSUFBSTtRQUVKLGlCQUFpQjtRQUNqQixPQUFPLHFCQUFXLENBQUMscUJBQXFCLEVBQUUsSUFBSSxnQkFBTSxDQUFDLHlCQUF5QixDQUFDO0lBQ25GLENBQUM7SUFFRCxxQ0FBYyxHQUFkO1FBRUksd0RBQXdEO1FBQ3hELHFCQUFxQjtRQUNyQiwyQkFBMkI7UUFDM0Isd0NBQXdDO1FBQ3hDLFFBQVE7UUFDUixzQ0FBc0M7UUFDdEMsOEJBQThCO1FBQzlCLG1CQUFtQjtRQUNuQiw2QkFBNkI7UUFDN0IsWUFBWTtRQUNaLGVBQWU7UUFDZiw4QkFBOEI7UUFDOUIsUUFBUTtRQUNSLFdBQVc7UUFDWCxxQkFBcUI7UUFDckIsSUFBSTtRQUNKLGlCQUFpQjtRQUNqQixPQUFPLHFCQUFXLENBQUMsY0FBYyxFQUFFLElBQUksZ0JBQU0sQ0FBQyxpQkFBaUIsQ0FBQztJQUNwRSxDQUFDO0lBRUQsZ0NBQVMsR0FBVDtRQUVJLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQzVDLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQzlDLENBQUM7SUFFRDs7O09BR0c7SUFDSCxxQ0FBYyxHQUFkO1FBRUksT0FBTyxFQUFFLENBQUMsV0FBVyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQzNDLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsbUNBQVksR0FBWixVQUFhLEdBQVUsRUFBQyxRQUFzQjtRQUF0Qix5QkFBQSxFQUFBLGdCQUFzQjtRQUMxQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDNUMsSUFBSSxJQUFJLEVBQUU7WUFDTixJQUFLLFFBQVEsRUFBRztnQkFDWixJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ3hCO2lCQUFNO2dCQUNILElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQzthQUN2QjtZQUNELE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUM1QixFQUFFLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNoQzthQUFJO1lBQ0QsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsR0FBRyxHQUFHLFVBQVUsQ0FBQyxDQUFDO1NBQ3pDO0lBQ0wsQ0FBQztJQUVELHNDQUFlLEdBQWY7UUFFSSxFQUFFLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ2hDLENBQUM7SUFFRCwrQkFBUSxHQUFSLFVBQVMsSUFBSTtRQUNULElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDdEMsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2hDO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUNMLG1CQUFDO0FBQUQsQ0F4UkEsQUF3UkMsSUFBQTtBQUVELGtCQUFlLFlBQVksQ0FBQyxRQUFRLEVBQUUsQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBHbG9iYWwgZnJvbSBcIi4uLy4uL2dhbWUvY29uc3RzL0dsb2JhbFwiO1xyXG5pbXBvcnQgUGxheWVyTW9kZWwgZnJvbSBcIi4uLy4uL2dhbWUvZGF0YXMvUGxheWVyTW9kZWxcIjtcclxuaW1wb3J0IEhhbmRsZXIgZnJvbSBcIi4uL2Jhc2UvSGFuZGxlclwiO1xyXG5pbXBvcnQgU3RvcmFnZUhlbHBlciBmcm9tIFwiLi4vaGVscGVyL1N0b3JhZ2VIZWxwZXJcIjtcclxuXHJcbmNsYXNzIE11c2ljTWFuYWdlclxyXG57XHJcbiAgICBwcml2YXRlIF9tdXNpY1ZvbHVtZSA6IG51bWJlciA9IDE7XHJcbiAgICBwcml2YXRlIF9zd2l0Y2hFZmZlY3QgOiBib29sZWFuID0gIHRydWU7Ly/mmK/lkKblvIDlkK/pn7PmlYhcclxuICAgIHByaXZhdGUgX3N3aXRjaE11c2ljIDogYm9vbGVhbiA9IHRydWU7Ly/mmK/lkKblvIDlkK/og4zmma/pn7PmlYhcclxuICAgIHByaXZhdGUgX3BsYXlFZmZlY3QgID0ge307XHJcbiAgICBwcml2YXRlIGNhY2hlQ2xpcHMgPSB7fTtcclxuICAgIHByaXZhdGUgX2xhc3RFZmZlY3Q6IHN0cmluZyA9ICcnOy8v5LiK5LiA5qyh5pKt5pS+55qE6Z+z5pWIXHJcbiAgICBwcml2YXRlIF9sYXN0TXVzaWM6IHN0cmluZyA9ICcnOy8v5LiK5qyh5pKt5pS+55qE6Z+z5LmQXHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOk11c2ljTWFuYWdlcjtcclxuICAgIFxyXG4gICAgcHJpdmF0ZSBwcmVVUkw6c3RyaW5nID0gJ3NvdW5kLyc7Ly/pn7PmlYjot6/lvoTnmoTliY3nvIBcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGluc3RhbmNlKCk6TXVzaWNNYW5hZ2VyXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBNdXNpY01hbmFnZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaSreaUvumfs+aViOaWh+S7tlxyXG4gICAgICogdXJsOiDpn7PmlYjmlofku7bnm7jlr7nlnLDlnYBcclxuICAgICAqIGxvb3A6IOaYr+WQpuW+queOr+aSreaUvlxyXG4gICAgICogaXNTaWduOiDmr4/mrKHlj6rog73mkq3mlL7kuIDmrKEg5aaC5p6c5ZCM5pe25pKt5pS+5aSa5Liq5pe2IOWImeWQjui+ueeahOS8muWFqOmDqOS4jeaSreaUvlxyXG4gICAgICogaXNTdG9wUHJlXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaSreaUvumfs+aViOaWh+S7tlxyXG4gICAgICogQHBhcmFtIHVybCDpn7PmlYjmlofku7bnm7jlr7nlnLDlnYBcclxuICAgICAqIEBwYXJhbSBsb29wIOaYr+WQpuW+queOr+aSreaUvlxyXG4gICAgICogQHBhcmFtIGlzU2lnbiDmr4/mrKHlj6rog73mkq3mlL7kuIDmrKEg5aaC5p6c5ZCM5pe25pKt5pS+5aSa5Liq5pe2IOWImeWQjui+ueeahOS8muWFqOmDqOS4jeaSreaUvlxyXG4gICAgICogQHBhcmFtIGlzU3RvcFByZSDmkq3mlL7lkIzkuIDkuKrpn7PmlYjml7Yg5piv5ZCm5YGc5q2i5LiK5LiA5Liq6Z+z5pWIXHJcbiAgICAgKiBAcGFyYW0gaGFuZGxlciAg5pKt5pS+5a6M5oiQ55qE5Zue6LCD5Ye95pWwXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgcGxheUVmZmVjdCh1cmw6c3RyaW5nLGxvb3A6Ym9vbGVhbj1mYWxzZSxpc1NpZ246Ym9vbGVhbj1mYWxzZSxpc1N0b3BQcmU6Ym9vbGVhbj1mYWxzZSxoYW5kbGVyOkhhbmRsZXI9bnVsbClcclxuICAgIHtcclxuICAgICAgICBpZih0aGlzLl9zd2l0Y2hFZmZlY3QpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoaXNTaWduKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbGFzdEVmZmVjdCA9PSB1cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICggaXNTdG9wUHJlICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wRWZmZWN0KHVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fbGFzdEVmZmVjdCA9IHVybDtcclxuICAgICAgICAgICAgdXJsID0gdGhpcy5wcmVVUkwgKyB1cmw7XHJcbiAgICAgICAgICAgIGxldCBjbGlwID0gdGhpcy5fZ2V0Q2xpcCh1cmwpO1xyXG4gICAgICAgICAgICBsZXQgZWZmZWN0SWQgPSAtMTtcclxuICAgICAgICAgICAgaWYgKCEhY2xpcCkge1xyXG4gICAgICAgICAgICAgICAgZWZmZWN0SWQgPSBjYy5hdWRpb0VuZ2luZS5wbGF5RWZmZWN0KGNsaXAsIGxvb3ApO1xyXG4gICAgICAgICAgICAgICAgaWYgKCAhbG9vcCAmJiBoYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUuc2V0RmluaXNoQ2FsbGJhY2soIGVmZmVjdElkLChpZCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5jYWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGxheUVmZmVjdFt1cmxdID0gZWZmZWN0SWQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlcyh1cmwsIGNjLkF1ZGlvQ2xpcCwgKGVyciwgY2xpcCkgPT57XHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0SWQgPSBjYy5hdWRpb0VuZ2luZS5wbGF5RWZmZWN0KGNsaXAsIGxvb3ApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggIWxvb3AgJiYgaGFuZGxlciApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUuc2V0RmluaXNoQ2FsbGJhY2soIGVmZmVjdElkLChpZCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuY2FsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVDbGlwc1t1cmxdID0gY2xpcDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wbGF5RWZmZWN0W3VybF0gPSBlZmZlY3RJZDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjbGVhckxhc3RFZmZlY3QoKXtcclxuICAgICAgICB0aGlzLl9sYXN0RWZmZWN0ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzdG9wRWZmZWN0QnlJRChpZDpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUuc3RvcEVmZmVjdChpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcEVmZmVjdCh1cmwpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGVmZmVjdElkID0gdGhpcy5fcGxheUVmZmVjdFt0aGlzLnByZVVSTCArIHVybF07XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX3BsYXlFZmZlY3RbdGhpcy5wcmVVUkwgKyB1cmxdO1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnN0b3BFZmZlY3QoZWZmZWN0SWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6IOM5pmv6Z+z5LmQ5pKt5pS+XHJcbiAgICAgKiB1cmw6IOi1hOa6kOi3r+W+hFxyXG4gICAgICogbG9vcDog5piv5ZCm5b6q546vXHJcbiAgICAgKi9cclxuICAgIHBsYXlNdXNpYyAodXJsOnN0cmluZywgbG9vcDpib29sZWFuPWZhbHNlKXtcclxuICAgICAgICBpZih0aGlzLl9zd2l0Y2hNdXNpYyl7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9sYXN0TXVzaWMgPT09IHVybCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2xhc3RNdXNpYyA9IHVybDtcclxuICAgICAgICAgICAgdXJsID0gdGhpcy5wcmVVUkwgKyB1cmw7XHJcbiAgICAgICAgICAgIGxldCBjbGlwID0gdGhpcy5fZ2V0Q2xpcCh1cmwpO1xyXG4gICAgICAgICAgICBpZiAoISFjbGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5wbGF5TXVzaWMoY2xpcCwgbG9vcCk7ICAgIFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXModXJsLCBjYy5BdWRpb0NsaXAsIChlcnIsIGNsaXApID0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnBsYXlNdXNpYyhjbGlwLCBsb29wKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlQ2xpcHNbdXJsXSA9IGNsaXA7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRMYXN0TXVzaWMoKXtcclxuICAgICAgICBpZih0aGlzLl9sYXN0TXVzaWMgPT0gJycpe1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3RNdXNpYztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICog5pqC5YGc5b2T5YmN5pKt5pS+6Z+z5LmQXHJcbiAgICAgKi9cclxuICAgIHNldFBhdXNlTXVzaWMoKVxyXG4gICAge1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnBhdXNlTXVzaWMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaBouWkjeW9k+WJjeiiq+aaguWBnOmfs+S5kOmfs+S5kFxyXG4gICAgICovXHJcbiAgICBzZXRSZXN1bWVNdXNpYygpXHJcbiAgICB7XHJcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUucmVzdW1lTXVzaWMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmHjeaWsOaSreaUvuivpeiDjOaZr+mfs+S5kFxyXG4gICAgICovXHJcbiAgICByZXBsYXlNdXNpYygpXHJcbiAgICB7XHJcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUucmVzdW1lTXVzaWMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWBnOatouaSreaUvumfs+S5kFxyXG4gICAgICogcmVsZWFzZURhdGHvvJog5o6n5Yi25piv5ZCm6YeK5pS+6Z+z5LmQ6LWE5rqQIHRydWXph4rmlL7otYTmupAgfCBmYWxzZeS4jemHiuaUvui1hOa6kFxyXG4gICAgICovXHJcbiAgICBzZXRTdG9wTXVzaWMocmVsZWFzZURhdGEgPSB0cnVlKVxyXG4gICAge1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnN0b3BNdXNpYygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE11c2ljVm9sdW1lKHZhbHVlKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuX211c2ljVm9sdW1lID0gdmFsdWU7XHJcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUuc2V0TXVzaWNWb2x1bWUodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE11c2ljVm9sdW1lKClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gY2MuYXVkaW9FbmdpbmUuZ2V0TXVzaWNWb2x1bWUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFZmZlY3RTd2l0Y2godmFsdWUpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5fc3dpdGNoRWZmZWN0ID0gdmFsdWU7XHJcbiAgICAgICAgU3RvcmFnZUhlbHBlci5zYXZlVmFsdWVCeUtleSgnYXVkaW8nLHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRNdXNpY1N3aXRjaCh2YWx1ZSl7XHJcbiAgICAgICAgdGhpcy5fc3dpdGNoTXVzaWMgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UGF1c2VNdXNpYygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UmVzdW1lTXVzaWMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgU3RvcmFnZUhlbHBlci5zYXZlVmFsdWVCeUtleSgnbXVzaWMnLHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFZmZlY3RTd2l0Y2goKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGxldCBzdGF0dXNTdHIgPSBTdG9yYWdlSGVscGVyLmdldFZhbHVlQnlLZXkoJ2F1ZGlvJyk7XHJcbiAgICAgICAgLy8gbGV0IHN0YXR1cyA9IHRydWU7XHJcbiAgICAgICAgLy8gaWYgKHN0YXR1c1N0ciAhPSBudWxsKSB7XHJcbiAgICAgICAgLy8gICAgIGlmKHR5cGVvZiBzdGF0dXNTdHIgIT0gXCJib29sZWFuXCIpXHJcbiAgICAgICAgLy8gICAgIHtcclxuICAgICAgICAvLyAgICAgICAgIGlmKHN0YXR1c1N0ciA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHN0YXR1cyA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBzdGF0dXMgPSB0cnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgc3RhdHVzID0gc3RhdHVzU3RyO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgc3RhdHVzID0gdHJ1ZTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcmV0dXJuIHN0YXR1cztcclxuICAgICAgICByZXR1cm4gUGxheWVyTW9kZWwuZ2V0U291bmRZaW5YaWFvU3dpdGNoKCkgPT0gR2xvYmFsLlNPVU5EX1lJTlhJQU9fU1dJVENIX09QRU47XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TXVzaWNTd2l0Y2goKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGxldCBzdGF0dXNTdHIgPSBTdG9yYWdlSGVscGVyLmdldFZhbHVlQnlLZXkoJ211c2ljJyk7XHJcbiAgICAgICAgLy8gbGV0IHN0YXR1cyA9IHRydWU7XHJcbiAgICAgICAgLy8gaWYgKHN0YXR1c1N0ciAhPSBudWxsKSB7XHJcbiAgICAgICAgLy8gICAgIGlmKHR5cGVvZiBzdGF0dXNTdHIgIT0gXCJib29sZWFuXCIpXHJcbiAgICAgICAgLy8gICAgIHtcclxuICAgICAgICAvLyAgICAgICAgIGlmKHN0YXR1c1N0ciA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHN0YXR1cyA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBzdGF0dXMgPSB0cnVlO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgc3RhdHVzID0gc3RhdHVzU3RyO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgc3RhdHVzID0gdHJ1ZTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gcmV0dXJuIHN0YXR1cztcclxuICAgICAgICByZXR1cm4gUGxheWVyTW9kZWwuZ2V0U291bmRTd2l0Y2goKSA9PSBHbG9iYWwuU09VTkRfU1dJVENIX09QRU47XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdE11c2ljKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLl9zd2l0Y2hFZmZlY3QgPSB0aGlzLmdldEVmZmVjdFN3aXRjaCgpO1xyXG4gICAgICAgIHRoaXMuX3N3aXRjaE11c2ljID0gdGhpcy5nZXRNdXNpY1N3aXRjaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBcclxuICAgICAqIOmfs+S5kOaYr+WQpuato+WcqOaSreaUvu+8iOmqjOivgeS6m+aWueazleadpeWunueOsOiDjOaZr+mfs+S5kOaYr+WQpuaSreaUvuWujOaIkO+8iVxyXG4gICAgICogcmV0dXJuIGJvb2xlblxyXG4gICAgICovXHJcbiAgICBpc011c2ljUGxheWluZygpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGNjLmF1ZGlvRW5naW5lLmlzTXVzaWNQbGF5aW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDph4rmlL7mjIflrprpn7PmlYjotYTmupBcclxuICAgICAqIEBwYXJhbSB1cmwg5Zyw5Z2AXHJcbiAgICAgKiBAcGFyYW0gaXNFZmZlY3Qg5piv5ZCm5piv6Z+z5pWIIFxyXG4gICAgICovXHJcbiAgICByZWxlYXNlQXVkaW8odXJsOnN0cmluZyxpc0VmZmVjdDpib29sZWFuPWZhbHNlKXtcclxuICAgICAgICBsZXQgY2xpcCA9IHRoaXMuX2dldENsaXAodGhpcy5wcmVVUkwgKyB1cmwpO1xyXG4gICAgICAgIGlmKCBjbGlwICl7XHJcbiAgICAgICAgICAgIGlmICggaXNFZmZlY3QgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BFZmZlY3QodXJsKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RvcE11c2ljKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2FjaGVDbGlwc1t1cmxdO1xyXG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS51bmNhY2hlKGNsaXApO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjYy5lcnJvcihcIuOAkOmfs+mikeOAkei1hOa6kFwiICsgdXJsICsgXCLkuI3lrZjlnKgs6YeK5pS+5aSx6LSlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWxlYXNlQWxsQXVkaW8oKVxyXG4gICAge1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnVuY2FjaGVBbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0Q2xpcChuYW1lKXtcclxuICAgICAgICBpZiAodGhpcy5jYWNoZUNsaXBzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlQ2xpcHNbbmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNdXNpY01hbmFnZXIuaW5zdGFuY2UoKTsiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/view/task/AItemRenerer.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '19303+m491CoJ92k/V2kUYM', 'AItemRenerer');
// src/game/view/task/AItemRenerer.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 单项渲染基类 T数据结构
 * @author slf
 *  */
var AItemRenderer = /** @class */ (function (_super) {
    __extends(AItemRenderer, _super);
    function AItemRenderer() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.isClick = false;
        return _this;
    }
    Object.defineProperty(AItemRenderer.prototype, "index", {
        get: function () {
            return this._index;
        },
        set: function (v) {
            this._index = v;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(AItemRenderer.prototype, "data", {
        get: function () {
            return this._data;
        },
        set: function (v) {
            this._data = v;
            this.dataChanged();
        },
        enumerable: false,
        configurable: true
    });
    /**数据发生变化 子类重写*/
    AItemRenderer.prototype.dataChanged = function () { };
    /**刷新数据 */
    AItemRenderer.prototype.refreshData = function () {
        this.dataChanged();
    };
    /**销毁 */
    AItemRenderer.prototype.onDestroy = function () {
        this._data = null;
    };
    /**
     * 设置点击回调
     * @param cb 回调函数
     * @param cbT 回调作用域
     */
    AItemRenderer.prototype.setTouchCallback = function (cb, cbT) {
        this.callback = cb;
        this.cbThis = cbT;
        if (this.node) {
            if (this.node.hasEventListener(cc.Node.EventType.TOUCH_END)) {
                this.node.off(cc.Node.EventType.TOUCH_END, this.onClickCallback, this);
            }
            this.node.on(cc.Node.EventType.TOUCH_END, this.onClickCallback, this);
        }
    };
    /**
     * 预制体点击回调 会携带data
     * @param e
     */
    AItemRenderer.prototype.onClickCallback = function (e) {
        this.callback && this.callback.call(this.cbThis, this.data);
    };
    __decorate([
        property({ displayName: "是否添加点击事件" })
    ], AItemRenderer.prototype, "isClick", void 0);
    AItemRenderer = __decorate([
        ccclass
    ], AItemRenderer);
    return AItemRenderer;
}(cc.Component));
exports.default = AItemRenderer;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS92aWV3L3Rhc2svQUl0ZW1SZW5lcmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFNLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBQzVDOzs7TUFHTTtBQUVOO0lBQThDLGlDQUFZO0lBQTFEO1FBQUEscUVBMkRDO1FBekRHLGFBQU8sR0FBWSxLQUFLLENBQUM7O0lBeUQ3QixDQUFDO0lBbkRHLHNCQUFXLGdDQUFLO2FBQWhCO1lBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3ZCLENBQUM7YUFDRCxVQUFpQixDQUFNO1lBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCLENBQUM7OztPQUhBO0lBS0Qsc0JBQVcsK0JBQUk7YUFBZjtZQUNJLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN0QixDQUFDO2FBQ0QsVUFBZ0IsQ0FBTTtZQUNsQixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUNmLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUN2QixDQUFDOzs7T0FKQTtJQU1ELGdCQUFnQjtJQUNOLG1DQUFXLEdBQXJCLGNBQWdDLENBQUM7SUFFakMsVUFBVTtJQUNILG1DQUFXLEdBQWxCO1FBQ0ksSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxRQUFRO0lBQ0QsaUNBQVMsR0FBaEI7UUFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztJQUN0QixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLHdDQUFnQixHQUF2QixVQUF3QixFQUFhLEVBQUUsR0FBUztRQUM1QyxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNuQixJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztRQUNsQixJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDWCxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEVBQUU7Z0JBQ3pELElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQzFFO1lBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDekU7SUFDTCxDQUFDO0lBRUQ7OztPQUdHO0lBQ08sdUNBQWUsR0FBekIsVUFBMEIsQ0FBVztRQUNqQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUF4REQ7UUFEQyxRQUFRLENBQUMsRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLENBQUM7a0RBQ2I7SUFGUixhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBMkRqQztJQUFELG9CQUFDO0NBM0RELEFBMkRDLENBM0Q2QyxFQUFFLENBQUMsU0FBUyxHQTJEekQ7a0JBM0RvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuLyoqXHJcbiAqIOWNlemhuea4suafk+WfuuexuyBU5pWw5o2u57uT5p6EXHJcbiAqIEBhdXRob3Igc2xmXHJcbiAqICAqL1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBSXRlbVJlbmRlcmVyPFQ+IGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuICAgIEBwcm9wZXJ0eSh7IGRpc3BsYXlOYW1lOiBcIuaYr+WQpua3u+WKoOeCueWHu+S6i+S7tlwiIH0pXHJcbiAgICBpc0NsaWNrOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNhbGxiYWNrOiBGdW5jdGlvbjsgICAgICAgLy/lm57osIPlh73mlbBcclxuICAgIHByb3RlY3RlZCBjYlRoaXM6IGFueTsgICAgICAgICAgICAgIC8v5Zue6LCD5L2c55So5Z+fXHJcblxyXG4gICAgcHJpdmF0ZSBfaW5kZXg6IGFueTsvL+aVsOaNrue7k+aehFxyXG4gICAgcHVibGljIGdldCBpbmRleCgpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgaW5kZXgodjogYW55KSB7XHJcbiAgICAgICAgdGhpcy5faW5kZXggPSB2O1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfZGF0YTogYW55Oy8v5pWw5o2u57uT5p6EXHJcbiAgICBwdWJsaWMgZ2V0IGRhdGEoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgZGF0YSh2OiBhbnkpIHtcclxuICAgICAgICB0aGlzLl9kYXRhID0gdjtcclxuICAgICAgICB0aGlzLmRhdGFDaGFuZ2VkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq5pWw5o2u5Y+R55Sf5Y+Y5YyWIOWtkOexu+mHjeWGmSovXHJcbiAgICBwcm90ZWN0ZWQgZGF0YUNoYW5nZWQoKTogdm9pZCB7IH1cclxuXHJcbiAgICAvKirliLfmlrDmlbDmja4gKi9cclxuICAgIHB1YmxpYyByZWZyZXNoRGF0YSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRhdGFDaGFuZ2VkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoq6ZSA5q+BICovXHJcbiAgICBwdWJsaWMgb25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX2RhdGEgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6K6+572u54K55Ye75Zue6LCDXHJcbiAgICAgKiBAcGFyYW0gY2Ig5Zue6LCD5Ye95pWwXHJcbiAgICAgKiBAcGFyYW0gY2JUIOWbnuiwg+S9nOeUqOWfn1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0VG91Y2hDYWxsYmFjayhjYj86IEZ1bmN0aW9uLCBjYlQ/OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2I7XHJcbiAgICAgICAgdGhpcy5jYlRoaXMgPSBjYlQ7XHJcbiAgICAgICAgaWYgKHRoaXMubm9kZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ub2RlLmhhc0V2ZW50TGlzdGVuZXIoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5EKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLm9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMub25DbGlja0NhbGxiYWNrLCB0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uQ2xpY2tDYWxsYmFjaywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6aKE5Yi25L2T54K55Ye75Zue6LCDIOS8muaQuuW4pmRhdGFcclxuICAgICAqIEBwYXJhbSBlIFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgb25DbGlja0NhbGxiYWNrKGU6IGNjLkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrLmNhbGwodGhpcy5jYlRoaXMsIHRoaXMuZGF0YSk7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/manager/UIMananger.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '81ea29RSKFHk6XLJxBkjz8t', 'UIMananger');
// src/framework/manager/UIMananger.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LoaderManager_1 = require("./LoaderManager");
var Handler_1 = require("../base/Handler");
var GamePoolManager_1 = require("./GamePoolManager");
var UIEffectManager_1 = require("./UIEffectManager");
var UIState_1 = require("../ui/UIState");
var BaseTips_1 = require("../ui/BaseTips");
var BasePanel_1 = require("../ui/BasePanel");
var SDKManager_1 = require("./SDKManager");
var UIManager = /** @class */ (function () {
    function UIManager() {
        //TODO 保存近期打开的3个面板，如果多余3个时 把最早的释放
        //resDic 资源集合
        this.ui_cache = {};
        this.view_cache = {};
        this.uiStateArr = []; //ui打开关闭管理
        this.activeStateArr = []; //当前激活的uistate
        this.barragePool = new cc.NodePool();
    }
    UIManager.instance = function () {
        if (!this._instance) {
            this._instance = new UIManager();
        }
        return this._instance;
    };
    UIManager.prototype.init = function () {
        this.viewLayer = new cc.Node('viewLayer');
        this.effLayer = new cc.Node('tipLayer');
        this.uiLayer = new cc.Node('uiLayer');
        this.tipLayer = new cc.Node('tipLayer');
        this.sceneLayer = new cc.Node('sceneLayer');
        this.guideLayer = new cc.Node('guideLayer');
        var canvas = cc.director.getScene().getChildByName('Canvas');
        this.viewLayer.parent = canvas;
        this.sceneLayer.parent = canvas;
        this.effLayer.parent = canvas;
        this.uiLayer.parent = canvas;
        this.tipLayer.parent = canvas;
        this.guideLayer.parent = canvas;
        this.currentView = null; //当前的view
        // this.barragePool = new cc.NodePool();
        //TODO test
        // this.viewLayer.opacity = 60;
        // this.uiLayer.opacity = 60;
    };
    UIManager.prototype.setTop = function () {
        if (!this.top)
            return;
        if (!this.top.parent) {
            this.viewLayer.addChild(this.top);
            if (cc.winSize.height / cc.winSize.width > (16 / 9 + 0.1)) {
                this.top.setPosition(0, cc.winSize.height / 2 - 210);
            }
            else {
                this.top.setPosition(0, cc.winSize.height / 2 - 110);
            }
        }
    };
    UIManager.prototype.showGuide = function () {
        if (!this.guide)
            return;
        if (!this.guide.parent) {
            this.guide.parent = this.guideLayer;
        }
    };
    UIManager.prototype.hideGuide = function () {
        if (!this.guide)
            return;
        if (this.guide.parent) {
            this.guideLayer.removeAllChildren();
        }
    };
    //显示view
    //pdata UIType中的key
    UIManager.prototype.showView = function (pdata) {
        var _this = this;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        if (!!pdata) {
            if (!!this.currentView) {
                if (this.currentView.uiName === pdata.uname) {
                    this.currentView.on_Show(args);
                    return;
                }
            }
            LoaderManager_1.default.loaderPrefab(pdata.uname, Handler_1.default.create(function (res) {
                if (!!res) {
                    res = GamePoolManager_1.default.instance(res, 'UView-' + pdata.uname);
                }
                else {
                    return;
                }
                if (!!_this.currentView) {
                    _this.closeAllOpenPanel();
                    _this.currentView.close();
                }
                var baseView = res.getComponent("BaseView");
                _this.view_cache[pdata.uname] = res;
                if (baseView) {
                    _this.currentView = baseView;
                    baseView.setUIName(pdata.uname);
                    baseView.setModuleName(pdata.mname);
                    baseView._show_();
                    baseView.on_Show(args);
                }
                else {
                    cc.error("请给面板添加BaseView的子类脚本");
                }
                // res.parent = this.viewLayer;
                _this.viewLayer.addChild(res);
                res.x = 0;
                res.y = 0;
            }, this), pdata.mname);
        }
        else {
            cc.log('制定打开的脚本不存在');
        }
    };
    UIManager.prototype.hideView = function (name) {
        var baseUI = this.view_cache[name].getComponent("BaseView");
        baseUI._hide_();
        baseUI.on_Hide();
        if (LoaderManager_1.default.isRelease(baseUI.moduleName)) {
            LoaderManager_1.default.releaseByModule(baseUI.moduleName);
            GamePoolManager_1.default.clearByTarget('UView-' + name);
        }
        else {
            GamePoolManager_1.default.putBackByTarget('UView-' + name);
        }
        this.view_cache[name] = null;
    };
    UIManager.prototype.showPanel = function (pdata, openBack, closeBack, effect) {
        var _this = this;
        if (effect === void 0) { effect = null; }
        var args = [];
        for (var _i = 4; _i < arguments.length; _i++) {
            args[_i - 4] = arguments[_i];
        }
        console.log("打开面板", JSON.stringify(pdata));
        var state = this.checkPanelOpen(pdata); //如果有已经打开，并且不是可以多开的
        if (state) {
            return;
        }
        //去掉所有弹框效果
        if (effect) {
            effect = null;
        }
        var newSate = this.getUIState(pdata);
        LoaderManager_1.default.loaderPrefab(pdata.uname, Handler_1.default.create(function (res, url, state) {
            if (res) {
                var panel = GamePoolManager_1.default.instance(res, 'UPanel-' + pdata.uname);
                var baseUI = panel.getComponent("BasePanel");
                if (!!baseUI) {
                    baseUI.init(pdata.clickClose);
                    baseUI.setUIName(pdata.uname);
                    baseUI.setModuleName(pdata.mname);
                    baseUI.setEffect(effect);
                    baseUI._show_(closeBack, args); //打开前需要执行的函数
                    baseUI.startShow();
                    baseUI.setUIState(state);
                }
                else {
                    cc.error("请给面板添加BaseUI的子类脚本");
                    return;
                }
                // this.ui_cache[pdata.uname] = panel;
                baseUI.setUIParent(_this.uiLayer);
                if (!!effect) {
                    UIEffectManager_1.default.effect(effect, panel, false, Handler_1.default.create(_this.effectComplete, _this));
                }
                else {
                    baseUI.on_Show(); //真正的打开
                }
                if (openBack)
                    openBack();
            }
        }, this, true, newSate), pdata.mname);
    };
    UIManager.prototype.checkPanel = function (panelName) {
        var uiLayerChild = this.uiLayer.children;
        for (var i = 0; i < uiLayerChild.length; ++i) {
            var layer = uiLayerChild[i];
            if (!layer.getComponent(BasePanel_1.default)) {
                continue;
            }
            if (layer.getComponent(BasePanel_1.default).uiName == panelName) {
                return true;
            }
        }
        return false;
    };
    /**
     * 通过ui名称隐藏
     * @param name ui名称
     */
    UIManager.prototype.hidePanel = function (name) {
        var uname = '';
        if (typeof (name) === 'string') {
            uname = name;
        }
        else {
            uname = name.uname;
        }
        var state = this.getUIStateByName(uname, true);
        if (!!state) {
            var baseUI = state.ui;
            baseUI.startHide();
            // let isNew = SDKManager.hasNewOrderReward();
            SDKManager_1.default.reportTrigger();
            // if (!!baseUI.effect) {
            //     UIEffectManager.effect(baseUI.effect + "back", baseUI.node, false, Handler.create(this.effectBackComplete, this));
            // } else {
            this.effectBackComplete(baseUI.node);
            // }
        }
    };
    UIManager.prototype.showTips = function (pdata, effect) {
        var _this = this;
        if (effect === void 0) { effect = UIEffectManager_1.UIEffectType.SCALE; }
        var args = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            args[_i - 2] = arguments[_i];
        }
        var url = "prefab/" + pdata.mname + "/" + pdata.uname;
        var completeCb = function (err, res) {
            if (err) {
                cc.error('资源加载失败--' + url);
                return;
            }
            var tips = GamePoolManager_1.default.instance(res, 'UITips-' + pdata.uname);
            var baseTips = tips.getComponent(BaseTips_1.default);
            if (baseTips) {
                baseTips.setUIName(pdata.uname);
                baseTips._show_(args);
                baseTips.setDelayRemove(pdata.delayRemove);
                baseTips.setEffect(effect);
                baseTips.startShow();
            }
            else {
                cc.error("\u8BF7\u7ED9" + pdata.uname + "\u6DFB\u52A0BaseTips\u7684\u5B50\u7C7B\u811A\u672C");
            }
            if (effect) {
                // UIEffectManager.effect(effect, tips, false, Handler.create(this.effectComplete, this));
                UIEffectManager_1.default.effect(effect, tips, false, null); //Handle先不传
            }
            baseTips.setUIParent(_this.tipLayer);
            baseTips.on_Show();
        };
        var res = cc.loader.getRes(url, cc.Prefab);
        if (res) {
            completeCb(null, res);
            return;
        }
        cc.loader.loadRes(url, cc.Prefab, completeCb);
    };
    UIManager.prototype.checkTips = function (uName) {
        var tipLayerChild = this.tipLayer.children;
        for (var i = 0; i < tipLayerChild.length; ++i) {
            var layer = tipLayerChild[i];
            if (layer.getComponent(BaseTips_1.default)._uiName == uName) {
                return true;
            }
        }
        return false;
    };
    UIManager.prototype.hideTips = function (node) {
        if (!node) {
            return;
        }
        var baseTips = node.getComponent(BaseTips_1.default);
        if (baseTips) {
            baseTips.startHide();
            if (baseTips._effect) {
                UIEffectManager_1.default.effect(baseTips._effect + "back", node, false, Handler_1.default.create(function (tips) {
                    if (cc.isValid(tips)) {
                        baseTips._hide_();
                    }
                }, this));
            }
        }
    };
    UIManager.prototype.effectComplete = function (panel) {
        if (cc.isValid(panel)) {
            var baseUI = panel.getComponent("BasePanel");
            baseUI.on_Show();
        }
    };
    UIManager.prototype.effectBackComplete = function (panel) {
        if (cc.isValid(panel)) {
            var baseUI = panel.getComponent('BasePanel');
            baseUI.on_Hide();
            baseUI._hide_();
            // if (LoaderManager.isRelease(baseUI.moduleName)) {
            //     LoaderManager.releaseByModule(baseUI.moduleName);
            //     GamePoolManager.clearByTarget('UPanel-' + baseUI.uiName);
            // } else {
            //     GamePoolManager.putBackByTarget('UPanel-' + baseUI.uiName);
            // }
        }
    };
    UIManager.prototype.isShow = function (path) {
        if (this.ui_cache[path]) {
            return true;
        }
        return false;
    };
    UIManager.prototype.getUIStateByName = function (name, isRemove) {
        if (isRemove === void 0) { isRemove = false; }
        for (var index = 0; index < this.activeStateArr.length; index++) {
            var element = this.activeStateArr[index];
            if (name === element.uName) {
                if (isRemove) {
                    this.activeStateArr.splice(index, 1);
                }
                return element;
            }
        }
    };
    UIManager.prototype.closeAllOpenPanel = function () {
        for (var index = 0; index < this.activeStateArr.length; index++) {
            var element = this.activeStateArr[index];
            element.reset();
        }
        this.activeStateArr.length = 0;
    };
    UIManager.prototype.checkPanelOpen = function (data) {
        if (!!data) {
            //检测面板能否多开
            if (!!data.isMutl) {
                return false;
            }
            for (var index = this.activeStateArr.length - 1; index >= 0; index--) {
                var element = this.activeStateArr[index];
                if (element.isActive && element.uName === data.uname && element.openState > 0) {
                    return true;
                }
            }
        }
        return false;
    };
    /**
     * 获得可用的uistate
     */
    UIManager.prototype.getUIState = function (data) {
        for (var index = 0; index < this.uiStateArr.length; index++) {
            var element = this.uiStateArr[index];
            if (!element.isActive) {
                element.reset();
                element.setData(data);
                this.activeStateArr.push(element);
                return element;
            }
        }
        var state = new UIState_1.UIState();
        state.setData(data);
        this.uiStateArr.push(state);
        this.activeStateArr.push(state);
        return state;
    };
    return UIManager;
}());
exports.default = UIManager.instance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL21hbmFnZXIvVUlNYW5hbmdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGlEQUE0QztBQUM1QywyQ0FBc0M7QUFDdEMscURBQWdEO0FBQ2hELHFEQUFrRTtBQUNsRSx5Q0FBd0M7QUFDeEMsMkNBQXNDO0FBQ3RDLDZDQUF3QztBQUN4QywyQ0FBc0M7QUFJdEM7SUFBQTtRQUNJLGlDQUFpQztRQUNqQyxhQUFhO1FBQ0wsYUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNkLGVBQVUsR0FBRyxFQUFFLENBQUM7UUFDaEIsZUFBVSxHQUFtQixFQUFFLENBQUMsQ0FBQSxVQUFVO1FBQzFDLG1CQUFjLEdBQW1CLEVBQUUsQ0FBQyxDQUFBLGNBQWM7UUFTbkQsZ0JBQVcsR0FBZ0IsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7SUFzVnhELENBQUM7SUFwVlUsa0JBQVEsR0FBZjtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxTQUFTLEVBQUUsQ0FBQztTQUNwQztRQUNELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRUQsd0JBQUksR0FBSjtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFB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SUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEMsT0FBTyxLQUFLLENBQUM7SUFFakIsQ0FBQztJQUNMLGdCQUFDO0FBQUQsQ0FyV0EsQUFxV0MsSUFBQTtBQUVELGtCQUFlLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlVmlldyBmcm9tIFwiLi4vdWkvQmFzZVZpZXdcIjtcclxuaW1wb3J0IExvYWRlck1hbmFnZXIgZnJvbSBcIi4vTG9hZGVyTWFuYWdlclwiO1xyXG5pbXBvcnQgSGFuZGxlciBmcm9tIFwiLi4vYmFzZS9IYW5kbGVyXCI7XHJcbmltcG9ydCBHYW1lUG9vbE1hbmFnZXIgZnJvbSBcIi4vR2FtZVBvb2xNYW5hZ2VyXCI7XHJcbmltcG9ydCBVSUVmZmVjdE1hbmFnZXIsIHsgVUlFZmZlY3RUeXBlIH0gZnJvbSBcIi4vVUlFZmZlY3RNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFVJU3RhdGUgfSBmcm9tIFwiLi4vdWkvVUlTdGF0ZVwiO1xyXG5pbXBvcnQgQmFzZVRpcHMgZnJvbSBcIi4uL3VpL0Jhc2VUaXBzXCI7XHJcbmltcG9ydCBCYXNlUGFuZWwgZnJvbSBcIi4uL3VpL0Jhc2VQYW5lbFwiO1xyXG5pbXBvcnQgU0RLTWFuYWdlciBmcm9tIFwiLi9TREtNYW5hZ2VyXCI7XHJcblxyXG5cclxuXHJcbmNsYXNzIFVJTWFuYWdlciB7XHJcbiAgICAvL1RPRE8g5L+d5a2Y6L+R5pyf5omT5byA55qEM+S4qumdouadv++8jOWmguaenOWkmuS9mTPkuKrml7Yg5oqK5pyA5pep55qE6YeK5pS+XHJcbiAgICAvL3Jlc0RpYyDotYTmupDpm4blkIhcclxuICAgIHByaXZhdGUgdWlfY2FjaGUgPSB7fTtcclxuICAgIHByaXZhdGUgdmlld19jYWNoZSA9IHt9O1xyXG4gICAgcHJpdmF0ZSB1aVN0YXRlQXJyOiBBcnJheTxVSVN0YXRlPiA9IFtdOy8vdWnmiZPlvIDlhbPpl63nrqHnkIZcclxuICAgIHByaXZhdGUgYWN0aXZlU3RhdGVBcnI6IEFycmF5PFVJU3RhdGU+ID0gW107Ly/lvZPliY3mv4DmtLvnmoR1aXN0YXRlXHJcbiAgICBwdWJsaWMgdmlld0xheWVyOiBjYy5Ob2RlO1xyXG4gICAgcHVibGljIGd1aWRlTGF5ZXI6IGNjLk5vZGU7XHJcbiAgICBwdWJsaWMgdWlMYXllcjogY2MuTm9kZTtcclxuICAgIHB1YmxpYyB0aXBMYXllcjogY2MuTm9kZTtcclxuICAgIHB1YmxpYyBlZmZMYXllcjogY2MuTm9kZTtcclxuICAgIHB1YmxpYyBzY2VuZUxheWVyOiBjYy5Ob2RlO1xyXG4gICAgcHVibGljIGN1cnJlbnRWaWV3OiBCYXNlVmlldztcclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogVUlNYW5hZ2VyO1xyXG4gICAgcHVibGljIGJhcnJhZ2VQb29sOiBjYy5Ob2RlUG9vbCA9IG5ldyBjYy5Ob2RlUG9vbCgpO1xyXG5cclxuICAgIHN0YXRpYyBpbnN0YW5jZSgpOiBVSU1hbmFnZXIge1xyXG4gICAgICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgVUlNYW5hZ2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMudmlld0xheWVyID0gbmV3IGNjLk5vZGUoJ3ZpZXdMYXllcicpO1xyXG4gICAgICAgIHRoaXMuZWZmTGF5ZXIgPSBuZXcgY2MuTm9kZSgndGlwTGF5ZXInKTtcclxuICAgICAgICB0aGlzLnVpTGF5ZXIgPSBuZXcgY2MuTm9kZSgndWlMYXllcicpO1xyXG4gICAgICAgIHRoaXMudGlwTGF5ZXIgPSBuZXcgY2MuTm9kZSgndGlwTGF5ZXInKTtcclxuICAgICAgICB0aGlzLnNjZW5lTGF5ZXIgPSBuZXcgY2MuTm9kZSgnc2NlbmVMYXllcicpO1xyXG4gICAgICAgIHRoaXMuZ3VpZGVMYXllciA9IG5ldyBjYy5Ob2RlKCdndWlkZUxheWVyJyk7XHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IGNjLmRpcmVjdG9yLmdldFNjZW5lKCkuZ2V0Q2hpbGRCeU5hbWUoJ0NhbnZhcycpO1xyXG4gICAgICAgIHRoaXMudmlld0xheWVyLnBhcmVudCA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLnNjZW5lTGF5ZXIucGFyZW50ID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuZWZmTGF5ZXIucGFyZW50ID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMudWlMYXllci5wYXJlbnQgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy50aXBMYXllci5wYXJlbnQgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy5ndWlkZUxheWVyLnBhcmVudCA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gbnVsbDsvL+W9k+WJjeeahHZpZXdcclxuICAgICAgICAvLyB0aGlzLmJhcnJhZ2VQb29sID0gbmV3IGNjLk5vZGVQb29sKCk7XHJcbiAgICAgICAgLy9UT0RPIHRlc3RcclxuICAgICAgICAvLyB0aGlzLnZpZXdMYXllci5vcGFjaXR5ID0gNjA7XHJcbiAgICAgICAgLy8gdGhpcy51aUxheWVyLm9wYWNpdHkgPSA2MDtcclxuXHJcbiAgICB9XHJcbiAgICB0b3A6IGNjLk5vZGU7XHJcbiAgICBzZXRUb3AoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRvcCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICghdGhpcy50b3AucGFyZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlld0xheWVyLmFkZENoaWxkKHRoaXMudG9wKVxyXG4gICAgICAgICAgICBpZiAoY2Mud2luU2l6ZS5oZWlnaHQgLyBjYy53aW5TaXplLndpZHRoID4gKDE2IC8gOSArIDAuMSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9wLnNldFBvc2l0aW9uKDAsIGNjLndpblNpemUuaGVpZ2h0IC8gMiAtIDIxMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy50b3Auc2V0UG9zaXRpb24oMCwgY2Mud2luU2l6ZS5oZWlnaHQgLyAyIC0gMTEwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGd1aWRlOiBjYy5Ob2RlO1xyXG4gICAgc2hvd0d1aWRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5ndWlkZSkgcmV0dXJuO1xyXG4gICAgICAgIGlmICghdGhpcy5ndWlkZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5ndWlkZS5wYXJlbnQgPSB0aGlzLmd1aWRlTGF5ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaGlkZUd1aWRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5ndWlkZSkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmd1aWRlLnBhcmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmd1aWRlTGF5ZXIucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/mmL7npLp2aWV3XHJcbiAgICAvL3BkYXRhIFVJVHlwZeS4reeahGtleVxyXG4gICAgc2hvd1ZpZXcocGRhdGEsIC4uLmFyZ3MpIHtcclxuICAgICAgICBpZiAoISFwZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoISF0aGlzLmN1cnJlbnRWaWV3KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Vmlldy51aU5hbWUgPT09IHBkYXRhLnVuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Vmlldy5vbl9TaG93KGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgTG9hZGVyTWFuYWdlci5sb2FkZXJQcmVmYWIocGRhdGEudW5hbWUsIEhhbmRsZXIuY3JlYXRlKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghIXJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IEdhbWVQb29sTWFuYWdlci5pbnN0YW5jZShyZXMsICdVVmlldy0nICsgcGRhdGEudW5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5jdXJyZW50Vmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VBbGxPcGVuUGFuZWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWaWV3LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgYmFzZVZpZXcgPSByZXMuZ2V0Q29tcG9uZW50KFwiQmFzZVZpZXdcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3X2NhY2hlW3BkYXRhLnVuYW1lXSA9IHJlcztcclxuICAgICAgICAgICAgICAgIGlmIChiYXNlVmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBiYXNlVmlldztcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVmlldy5zZXRVSU5hbWUocGRhdGEudW5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VWaWV3LnNldE1vZHVsZU5hbWUocGRhdGEubW5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VWaWV3Ll9zaG93XygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VWaWV3Lm9uX1Nob3coYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYy5lcnJvcihcIuivt+e7memdouadv+a3u+WKoEJhc2VWaWV355qE5a2Q57G76ISa5pysXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gcmVzLnBhcmVudCA9IHRoaXMudmlld0xheWVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3TGF5ZXIuYWRkQ2hpbGQocmVzKTtcclxuICAgICAgICAgICAgICAgIHJlcy54ID0gMDtcclxuICAgICAgICAgICAgICAgIHJlcy55ID0gMDtcclxuICAgICAgICAgICAgfSwgdGhpcyksIHBkYXRhLm1uYW1lKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYy5sb2coJ+WItuWumuaJk+W8gOeahOiEmuacrOS4jeWtmOWcqCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGlkZVZpZXcobmFtZSkge1xyXG4gICAgICAgIGxldCBiYXNlVUkgPSB0aGlzLnZpZXdfY2FjaGVbbmFtZV0uZ2V0Q29tcG9uZW50KFwiQmFzZVZpZXdcIik7XHJcbiAgICAgICAgYmFzZVVJLl9oaWRlXygpO1xyXG4gICAgICAgIGJhc2VVSS5vbl9IaWRlKCk7XHJcbiAgICAgICAgaWYgKExvYWRlck1hbmFnZXIuaXNSZWxlYXNlKGJhc2VVSS5tb2R1bGVOYW1lKSkge1xyXG4gICAgICAgICAgICBMb2FkZXJNYW5hZ2VyLnJlbGVhc2VCeU1vZHVsZShiYXNlVUkubW9kdWxlTmFtZSk7XHJcbiAgICAgICAgICAgIEdhbWVQb29sTWFuYWdlci5jbGVhckJ5VGFyZ2V0KCdVVmlldy0nICsgbmFtZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgR2FtZVBvb2xNYW5hZ2VyLnB1dEJhY2tCeVRhcmdldCgnVVZpZXctJyArIG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnZpZXdfY2FjaGVbbmFtZV0gPSBudWxsO1xyXG4gICAgfVxyXG4gICAgc2hvd1BhbmVsKHBkYXRhLCBvcGVuQmFjaz8sIGNsb3NlQmFjaz8sIGVmZmVjdCA9IG51bGwsIC4uLmFyZ3MpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuaJk+W8gOmdouadv1wiLCBKU09OLnN0cmluZ2lmeShwZGF0YSkpO1xyXG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuY2hlY2tQYW5lbE9wZW4ocGRhdGEpOy8v5aaC5p6c5pyJ5bey57uP5omT5byA77yM5bm25LiU5LiN5piv5Y+v5Lul5aSa5byA55qEXHJcbiAgICAgICAgaWYgKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/ljrvmjonmiYDmnInlvLnmoYbmlYjmnpxcclxuICAgICAgICBpZiAoZWZmZWN0KSB7XHJcbiAgICAgICAgICAgIGVmZmVjdCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBuZXdTYXRlID0gdGhpcy5nZXRVSVN0YXRlKHBkYXRhKTtcclxuICAgICAgICBMb2FkZXJNYW5hZ2VyLmxvYWRlclByZWZhYihwZGF0YS51bmFtZSwgSGFuZGxlci5jcmVhdGUoKHJlcywgdXJsLCBzdGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGFuZWwgPSBHYW1lUG9vbE1hbmFnZXIuaW5zdGFuY2UocmVzLCAnVVBhbmVsLScgKyBwZGF0YS51bmFtZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgYmFzZVVJID0gcGFuZWwuZ2V0Q29tcG9uZW50KFwiQmFzZVBhbmVsXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEhYmFzZVVJKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVVJLmluaXQocGRhdGEuY2xpY2tDbG9zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVVJLnNldFVJTmFtZShwZGF0YS51bmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVVJLnNldE1vZHVsZU5hbWUocGRhdGEubW5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVSS5zZXRFZmZlY3QoZWZmZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVUkuX3Nob3dfKGNsb3NlQmFjaywgYXJncyk7Ly/miZPlvIDliY3pnIDopoHmiafooYznmoTlh73mlbBcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVUkuc3RhcnRTaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVVJLnNldFVJU3RhdGUoc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuZXJyb3IoXCLor7fnu5npnaLmnb/mt7vliqBCYXNlVUnnmoTlrZDnsbvohJrmnKxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy51aV9jYWNoZVtwZGF0YS51bmFtZV0gPSBwYW5lbDtcclxuICAgICAgICAgICAgICAgIGJhc2VVSS5zZXRVSVBhcmVudCh0aGlzLnVpTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEhZWZmZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgVUlFZmZlY3RNYW5hZ2VyLmVmZmVjdChlZmZlY3QsIHBhbmVsLCBmYWxzZSwgSGFuZGxlci5jcmVhdGUodGhpcy5lZmZlY3RDb21wbGV0ZSwgdGhpcykpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVUkub25fU2hvdygpOy8v55yf5q2j55qE5omT5byAXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob3BlbkJhY2spIG9wZW5CYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSwgdGhpcywgdHJ1ZSwgbmV3U2F0ZSksIHBkYXRhLm1uYW1lKTtcclxuICAgIH1cclxuICAgIGNoZWNrUGFuZWwocGFuZWxOYW1lKSB7XHJcbiAgICAgICAgbGV0IHVpTGF5ZXJDaGlsZCA9IHRoaXMudWlMYXllci5jaGlsZHJlbjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVpTGF5ZXJDaGlsZC5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBsZXQgbGF5ZXIgPSB1aUxheWVyQ2hpbGRbaV07XHJcbiAgICAgICAgICAgIGlmICghbGF5ZXIuZ2V0Q29tcG9uZW50KEJhc2VQYW5lbCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChsYXllci5nZXRDb21wb25lbnQoQmFzZVBhbmVsKS51aU5hbWUgPT0gcGFuZWxOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpgJrov4d1aeWQjeensOmakOiXj1xyXG4gICAgICogQHBhcmFtIG5hbWUgdWnlkI3np7BcclxuICAgICAqL1xyXG4gICAgaGlkZVBhbmVsKG5hbWU6IGFueSkge1xyXG4gICAgICAgIGxldCB1bmFtZSA9ICcnO1xyXG4gICAgICAgIGlmICh0eXBlb2YgKG5hbWUpID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB1bmFtZSA9IG5hbWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdW5hbWUgPSBuYW1lLnVuYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLmdldFVJU3RhdGVCeU5hbWUodW5hbWUsIHRydWUpO1xyXG4gICAgICAgIGlmICghIXN0YXRlKSB7XHJcbiAgICAgICAgICAgIGxldCBiYXNlVUkgPSBzdGF0ZS51aTtcclxuICAgICAgICAgICAgYmFzZVVJLnN0YXJ0SGlkZSgpO1xyXG4gICAgICAgICAgICAvLyBsZXQgaXNOZXcgPSBTREtNYW5hZ2VyLmhhc05ld09yZGVyUmV3YXJkKCk7XHJcbiAgICAgICAgICAgIFNES01hbmFnZXIucmVwb3J0VHJpZ2dlcigpXHJcbiAgICAgICAgICAgIC8vIGlmICghIWJhc2VVSS5lZmZlY3QpIHtcclxuICAgICAgICAgICAgLy8gICAgIFVJRWZmZWN0TWFuYWdlci5lZmZlY3QoYmFzZVVJLmVmZmVjdCArIFwiYmFja1wiLCBiYXNlVUkubm9kZSwgZmFsc2UsIEhhbmRsZXIuY3JlYXRlKHRoaXMuZWZmZWN0QmFja0NvbXBsZXRlLCB0aGlzKSk7XHJcbiAgICAgICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWZmZWN0QmFja0NvbXBsZXRlKGJhc2VVSS5ub2RlKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2hvd1RpcHMocGRhdGEsIGVmZmVjdCA9IFVJRWZmZWN0VHlwZS5TQ0FMRSwgLi4uYXJncykge1xyXG4gICAgICAgIGxldCB1cmwgPSBcInByZWZhYi9cIiArIHBkYXRhLm1uYW1lICsgXCIvXCIgKyBwZGF0YS51bmFtZTtcclxuICAgICAgICBsZXQgY29tcGxldGVDYiA9IChlcnIsIHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjYy5lcnJvcign6LWE5rqQ5Yqg6L295aSx6LSlLS0nICsgdXJsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgdGlwczogY2MuTm9kZSA9IEdhbWVQb29sTWFuYWdlci5pbnN0YW5jZShyZXMsICdVSVRpcHMtJyArIHBkYXRhLnVuYW1lKTtcclxuICAgICAgICAgICAgbGV0IGJhc2VUaXBzID0gdGlwcy5nZXRDb21wb25lbnQoQmFzZVRpcHMpO1xyXG4gICAgICAgICAgICBpZiAoYmFzZVRpcHMpIHtcclxuICAgICAgICAgICAgICAgIGJhc2VUaXBzLnNldFVJTmFtZShwZGF0YS51bmFtZSk7XHJcbiAgICAgICAgICAgICAgICBiYXNlVGlwcy5fc2hvd18oYXJncyk7XHJcbiAgICAgICAgICAgICAgICBiYXNlVGlwcy5zZXREZWxheVJlbW92ZShwZGF0YS5kZWxheVJlbW92ZSk7XHJcbiAgICAgICAgICAgICAgICBiYXNlVGlwcy5zZXRFZmZlY3QoZWZmZWN0KTtcclxuICAgICAgICAgICAgICAgIGJhc2VUaXBzLnN0YXJ0U2hvdygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2MuZXJyb3IoYOivt+e7mSR7cGRhdGEudW5hbWV95re75YqgQmFzZVRpcHPnmoTlrZDnsbvohJrmnKxgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZWZmZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBVSUVmZmVjdE1hbmFnZXIuZWZmZWN0KGVmZmVjdCwgdGlwcywgZmFsc2UsIEhhbmRsZXIuY3JlYXRlKHRoaXMuZWZmZWN0Q29tcGxldGUsIHRoaXMpKTtcclxuICAgICAgICAgICAgICAgIFVJRWZmZWN0TWFuYWdlci5lZmZlY3QoZWZmZWN0LCB0aXBzLCBmYWxzZSwgbnVsbCk7Ly9IYW5kbGXlhYjkuI3kvKBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBiYXNlVGlwcy5zZXRVSVBhcmVudCh0aGlzLnRpcExheWVyKTtcclxuICAgICAgICAgICAgYmFzZVRpcHMub25fU2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmVzID0gY2MubG9hZGVyLmdldFJlcyh1cmwsIGNjLlByZWZhYik7XHJcbiAgICAgICAgaWYgKHJlcykge1xyXG4gICAgICAgICAgICBjb21wbGV0ZUNiKG51bGwsIHJlcyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2MubG9hZGVyLmxvYWRSZXModXJsLCBjYy5QcmVmYWIsIGNvbXBsZXRlQ2IpO1xyXG4gICAgfVxyXG4gICAgY2hlY2tUaXBzKHVOYW1lKSB7XHJcbiAgICAgICAgbGV0IHRpcExheWVyQ2hpbGQgPSB0aGlzLnRpcExheWVyLmNoaWxkcmVuO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGlwTGF5ZXJDaGlsZC5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBsZXQgbGF5ZXIgPSB0aXBMYXllckNoaWxkW2ldO1xyXG4gICAgICAgICAgICBpZiAobGF5ZXIuZ2V0Q29tcG9uZW50KEJhc2VUaXBzKS5fdWlOYW1lID09IHVOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBoaWRlVGlwcyhub2RlOiBjYy5Ob2RlKSB7XHJcbiAgICAgICAgaWYgKCFub2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBiYXNlVGlwcyA9IG5vZGUuZ2V0Q29tcG9uZW50KEJhc2VUaXBzKTtcclxuICAgICAgICBpZiAoYmFzZVRpcHMpIHtcclxuICAgICAgICAgICAgYmFzZVRpcHMuc3RhcnRIaWRlKCk7XHJcbiAgICAgICAgICAgIGlmIChiYXNlVGlwcy5fZWZmZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBVSUVmZmVjdE1hbmFnZXIuZWZmZWN0KGJhc2VUaXBzLl9lZmZlY3QgKyBcImJhY2tcIiwgbm9kZSwgZmFsc2UsIEhhbmRsZXIuY3JlYXRlKCh0aXBzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNjLmlzVmFsaWQodGlwcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVRpcHMuX2hpZGVfKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVmZmVjdENvbXBsZXRlKHBhbmVsKSB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQocGFuZWwpKSB7XHJcbiAgICAgICAgICAgIGxldCBiYXNlVUkgPSBwYW5lbC5nZXRDb21wb25lbnQoXCJCYXNlUGFuZWxcIik7XHJcbiAgICAgICAgICAgIGJhc2VVSS5vbl9TaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZWZmZWN0QmFja0NvbXBsZXRlKHBhbmVsKSB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQocGFuZWwpKSB7XHJcbiAgICAgICAgICAgIGxldCBiYXNlVUkgPSBwYW5lbC5nZXRDb21wb25lbnQoJ0Jhc2VQYW5lbCcpO1xyXG4gICAgICAgICAgICBiYXNlVUkub25fSGlkZSgpO1xyXG4gICAgICAgICAgICBiYXNlVUkuX2hpZGVfKCk7XHJcbiAgICAgICAgICAgIC8vIGlmIChMb2FkZXJNYW5hZ2VyLmlzUmVsZWFzZShiYXNlVUkubW9kdWxlTmFtZSkpIHtcclxuICAgICAgICAgICAgLy8gICAgIExvYWRlck1hbmFnZXIucmVsZWFzZUJ5TW9kdWxlKGJhc2VVSS5tb2R1bGVOYW1lKTtcclxuICAgICAgICAgICAgLy8gICAgIEdhbWVQb29sTWFuYWdlci5jbGVhckJ5VGFyZ2V0KCdVUGFuZWwtJyArIGJhc2VVSS51aU5hbWUpO1xyXG4gICAgICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAgICAgR2FtZVBvb2xNYW5hZ2VyLnB1dEJhY2tCeVRhcmdldCgnVVBhbmVsLScgKyBiYXNlVUkudWlOYW1lKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgaXNTaG93KHBhdGgpIHtcclxuICAgICAgICBpZiAodGhpcy51aV9jYWNoZVtwYXRoXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0VUlTdGF0ZUJ5TmFtZShuYW1lOiBzdHJpbmcsIGlzUmVtb3ZlOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5hY3RpdmVTdGF0ZUFyci5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuYWN0aXZlU3RhdGVBcnJbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gZWxlbWVudC51TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZUFyci5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjbG9zZUFsbE9wZW5QYW5lbCgpIHtcclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5hY3RpdmVTdGF0ZUFyci5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuYWN0aXZlU3RhdGVBcnJbaW5kZXhdO1xyXG4gICAgICAgICAgICBlbGVtZW50LnJlc2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGVBcnIubGVuZ3RoID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrUGFuZWxPcGVuKGRhdGEpIHtcclxuICAgICAgICBpZiAoISFkYXRhKSB7XHJcbiAgICAgICAgICAgIC8v5qOA5rWL6Z2i5p2/6IO95ZCm5aSa5byAXHJcbiAgICAgICAgICAgIGlmICghIWRhdGEuaXNNdXRsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gdGhpcy5hY3RpdmVTdGF0ZUFyci5sZW5ndGggLSAxOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5hY3RpdmVTdGF0ZUFycltpbmRleF07XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5pc0FjdGl2ZSAmJiBlbGVtZW50LnVOYW1lID09PSBkYXRhLnVuYW1lICYmIGVsZW1lbnQub3BlblN0YXRlID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflvpflj6/nlKjnmoR1aXN0YXRlXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgZ2V0VUlTdGF0ZShkYXRhKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMudWlTdGF0ZUFyci5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMudWlTdGF0ZUFycltpbmRleF07XHJcbiAgICAgICAgICAgIGlmICghZWxlbWVudC5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXREYXRhKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZUFyci5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHN0YXRlOiBVSVN0YXRlID0gbmV3IFVJU3RhdGUoKTtcclxuICAgICAgICBzdGF0ZS5zZXREYXRhKGRhdGEpO1xyXG4gICAgICAgIHRoaXMudWlTdGF0ZUFyci5wdXNoKHN0YXRlKTtcclxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlQXJyLnB1c2goc3RhdGUpO1xyXG4gICAgICAgIHJldHVybiBzdGF0ZTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVJTWFuYWdlci5pbnN0YW5jZSgpOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/message/NResponer.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6f8f52wrXZEK4ncHSY2qLA5', 'NResponer');
// src/framework/message/NResponer.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Utils_1 = require("../tools/Utils");
var NResponser = /** @class */ (function () {
    function NResponser() {
        this.allHandlers = new Map();
    }
    NResponser.instance = function () {
        if (!this._instance) {
            this._instance = new NResponser();
        }
        return this._instance;
    };
    /**
     * 派发事件
     * @param type 类型
     * @param args 参数
     */
    NResponser.prototype.dispatch = function (type) {
        var _this = this;
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        this.allHandlers.forEach(function (value, key) {
            var targetEvents = value; //this.allHandlers.get(value);
            if (!!targetEvents) {
                for (var i = 0; i < targetEvents.length; i++) {
                    if (targetEvents[i].type === type) {
                        targetEvents[i].handler.call(args);
                        _this.checkOnceEvent(targetEvents, i);
                        break;
                    }
                }
            }
        });
    };
    /**
     * 添加事件监听
     * @param type 事件类型
     * @param handler 回调函数
     * @param target 监听绑定对象
     * @param isOnce 是否只侦听一次
     */
    NResponser.prototype.on = function (type, handler, target, isOnce) {
        if (isOnce === void 0) { isOnce = false; }
        // on(type: number | string, callBack: Function, target: any, isOnce: boolean = false) {
        if (!!target) {
            if (!this.allHandlers.has(target)) {
                this.allHandlers.set(target, []);
            }
            var arr = this.allHandlers.get(target);
            arr.push({ type: type, handler: handler, isOnce: isOnce });
        }
    };
    /**
     * 是否target在侦听某个事件
     * @param type
     * @param target
     */
    NResponser.prototype.has = function (type, target) {
        if (!!target) {
            if (this.allHandlers.has(target)) {
                var arr = this.allHandlers.get(target);
                for (var index = 0; index < arr.length; index++) {
                    var element = arr[index];
                    if (element.type === type) {
                        return true;
                    }
                }
            }
        }
        return false;
    };
    /**
     * 移除侦听
     * @param type
     * @param handler
     * @param target
     * @param isRelease
     */
    NResponser.prototype.off = function (type, handler, target, isRelease) {
        if (isRelease === void 0) { isRelease = false; }
        if (!!target) {
            var targetEvents = this.allHandlers.get(target);
            if (!!targetEvents) {
                for (var i = 0; i < targetEvents.length; i++) {
                    if (targetEvents[i].type === type && targetEvents[i].handler.equal(handler)) {
                        if (isRelease) {
                            targetEvents[i].handler.release();
                        }
                        Utils_1.default.arrayRemove(targetEvents, i, 1);
                        break;
                    }
                }
            }
        }
    };
    /**
     * 移除目标身上全部侦听
     * @param target
     * @param isRelease
     */
    NResponser.prototype.targetOff = function (target, isRelease) {
        if (!!target) {
            if (this.allHandlers.has(target)) {
                if (!!isRelease) {
                    var arr = this.allHandlers.get(target);
                    if (!!arr) {
                        for (var index = 0; index < arr.length; index++) {
                            arr[index].handler.release();
                        }
                    }
                }
                this.allHandlers.delete(target);
            }
        }
    };
    /**
     * 检查一次性事件
     * @param arr
     * @param index
     */
    NResponser.prototype.checkOnceEvent = function (arr, index) {
        var data = arr[index];
        if (data.isOnce) {
            Utils_1.default.arrayRemove(arr, index);
        }
    };
    return NResponser;
}());
;
exports.default = NResponser.instance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL21lc3NhZ2UvTlJlc3BvbmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsd0NBQW1DO0FBT25DO0lBQUE7UUFDWSxnQkFBVyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7SUErSHBDLENBQUM7SUEzSGlCLG1CQUFRLEdBQXRCO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDakIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLFVBQVUsRUFBRSxDQUFDO1NBQ3JDO1FBQ0QsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsNkJBQVEsR0FBUixVQUFTLElBQXFCO1FBQTlCLGlCQWNDO1FBZCtCLGNBQU87YUFBUCxVQUFPLEVBQVAscUJBQU8sRUFBUCxJQUFPO1lBQVAsNkJBQU87O1FBQ25DLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLFVBQUMsS0FBSyxFQUFFLEdBQUc7WUFDaEMsSUFBSSxZQUFZLEdBQTBCLEtBQUssQ0FBQyxDQUFBLDhCQUE4QjtZQUM5RSxJQUFJLENBQUMsQ0FBQyxZQUFZLEVBQUU7Z0JBQ2hCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUMxQyxJQUFJLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssSUFBSSxFQUFFO3dCQUMvQixZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDbkMsS0FBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0JBQ3JDLE1BQU07cUJBQ1Q7aUJBQ0o7YUFDSjtRQUNMLENBQUMsQ0FBQyxDQUFBO0lBRU4sQ0FBQztJQUVEOzs7Ozs7T0FNRztJQUNI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QUssR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxFQUFFOzRCQUM3QyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO3lCQUNoQztxQkFDSjtpQkFDSjtnQkFDRCxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUNuQztTQUVKO0lBQ0wsQ0FBQztJQUVEOzs7O09BSUc7SUFDSyxtQ0FBYyxHQUF0QixVQUF1QixHQUFHLEVBQUUsS0FBSztRQUM3QixJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdEIsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2IsZUFBSyxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDakM7SUFDTCxDQUFDO0lBQ0wsaUJBQUM7QUFBRCxDQWhJQSxBQWdJQyxJQUFBO0FBQUEsQ0FBQztBQUNGLGtCQUFlLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVdGlscyBmcm9tIFwiLi4vdG9vbHMvVXRpbHNcIjtcclxuaW1wb3J0IEhhbmRsZXIgZnJvbSBcIi4uL2Jhc2UvSGFuZGxlclwiO1xyXG5leHBvcnQgaW50ZXJmYWNlIE5SZXNwb25zZXJEYXRhIHtcclxuICAgIHR5cGU6IG51bWJlciB8IHN0cmluZyxcclxuICAgIGhhbmRsZXI6IEhhbmRsZXJcclxuICAgIGlzT25jZTogYm9vbGVhbixcclxufVxyXG5jbGFzcyBOUmVzcG9uc2VyIHtcclxuICAgIHByaXZhdGUgYWxsSGFuZGxlcnMgPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBOUmVzcG9uc2VyO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaW5zdGFuY2UoKTogTlJlc3BvbnNlciB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBOUmVzcG9uc2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOa0vuWPkeS6i+S7tlxyXG4gICAgICogQHBhcmFtIHR5cGUg57G75Z6LXHJcbiAgICAgKiBAcGFyYW0gYXJncyDlj4LmlbBcclxuICAgICAqL1xyXG4gICAgZGlzcGF0Y2godHlwZTogbnVtYmVyIHwgc3RyaW5nLCAuLi5hcmdzKSB7XHJcbiAgICAgICAgdGhpcy5hbGxIYW5kbGVycy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0YXJnZXRFdmVudHM6IEFycmF5PE5SZXNwb25zZXJEYXRhPiA9IHZhbHVlOy8vdGhpcy5hbGxIYW5kbGVycy5nZXQodmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAoISF0YXJnZXRFdmVudHMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFyZ2V0RXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldEV2ZW50c1tpXS50eXBlID09PSB0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50c1tpXS5oYW5kbGVyLmNhbGwoYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tPbmNlRXZlbnQodGFyZ2V0RXZlbnRzLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmt7vliqDkuovku7bnm5HlkKxcclxuICAgICAqIEBwYXJhbSB0eXBlIOS6i+S7tuexu+Wei1xyXG4gICAgICogQHBhcmFtIGhhbmRsZXIg5Zue6LCD5Ye95pWwXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IOebkeWQrOe7keWumuWvueixoVxyXG4gICAgICogQHBhcmFtIGlzT25jZSDmmK/lkKblj6rkvqblkKzkuIDmrKFcclxuICAgICAqL1xyXG4gICAgb24odHlwZTogbnVtYmVyIHwgc3RyaW5nLCBoYW5kbGVyOiBIYW5kbGVyLCB0YXJnZXQ6IGFueSwgaXNPbmNlOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICAvLyBvbih0eXBlOiBudW1iZXIgfCBzdHJpbmcsIGNhbGxCYWNrOiBGdW5jdGlvbiwgdGFyZ2V0OiBhbnksIGlzT25jZTogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKCEhdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5hbGxIYW5kbGVycy5oYXModGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbGxIYW5kbGVycy5zZXQodGFyZ2V0LCBbXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGFyciA9IHRoaXMuYWxsSGFuZGxlcnMuZ2V0KHRhcmdldCk7XHJcbiAgICAgICAgICAgIGFyci5wdXNoKHsgdHlwZTogdHlwZSwgaGFuZGxlcjogaGFuZGxlciwgaXNPbmNlOiBpc09uY2UgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5piv5ZCmdGFyZ2V05Zyo5L6m5ZCs5p+Q5Liq5LqL5Lu2XHJcbiAgICAgKiBAcGFyYW0gdHlwZSBcclxuICAgICAqIEBwYXJhbSB0YXJnZXQgXHJcbiAgICAgKi9cclxuICAgIGhhcyh0eXBlOiBudW1iZXIgfCBzdHJpbmcsIHRhcmdldDogYW55KSB7XHJcbiAgICAgICAgaWYgKCEhdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbEhhbmRsZXJzLmhhcyh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYXJyID0gdGhpcy5hbGxIYW5kbGVycy5nZXQodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcnIubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGFycltpbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gdHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog56e76Zmk5L6m5ZCsXHJcbiAgICAgKiBAcGFyYW0gdHlwZSBcclxuICAgICAqIEBwYXJhbSBoYW5kbGVyIFxyXG4gICAgICogQHBhcmFtIHRhcmdldCBcclxuICAgICAqIEBwYXJhbSBpc1JlbGVhc2UgXHJcbiAgICAgKi9cclxuICAgIG9mZih0eXBlOiBudW1iZXIgfCBzdHJpbmcsIGhhbmRsZXI6IEhhbmRsZXIsIHRhcmdldDogYW55LCBpc1JlbGVhc2U6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIGlmICghIXRhcmdldCkge1xyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0RXZlbnRzOiBBcnJheTxOUmVzcG9uc2VyRGF0YT4gPSB0aGlzLmFsbEhhbmRsZXJzLmdldCh0YXJnZXQpO1xyXG4gICAgICAgICAgICBpZiAoISF0YXJnZXRFdmVudHMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFyZ2V0RXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldEV2ZW50c1tpXS50eXBlID09PSB0eXBlICYmIHRhcmdldEV2ZW50c1tpXS5oYW5kbGVyLmVxdWFsKGhhbmRsZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1JlbGVhc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50c1tpXS5oYW5kbGVyLnJlbGVhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBVdGlscy5hcnJheVJlbW92ZSh0YXJnZXRFdmVudHMsIGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnp7vpmaTnm67moIfouqvkuIrlhajpg6jkvqblkKxcclxuICAgICAqIEBwYXJhbSB0YXJnZXQgXHJcbiAgICAgKiBAcGFyYW0gaXNSZWxlYXNlIFxyXG4gICAgICovXHJcbiAgICB0YXJnZXRPZmYodGFyZ2V0OiBhbnksIGlzUmVsZWFzZTogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICghIXRhcmdldCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hbGxIYW5kbGVycy5oYXModGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEhaXNSZWxlYXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFyciA9IHRoaXMuYWxsSGFuZGxlcnMuZ2V0KHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEhYXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcnIubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJbaW5kZXhdLmhhbmRsZXIucmVsZWFzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hbGxIYW5kbGVycy5kZWxldGUodGFyZ2V0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmo4Dmn6XkuIDmrKHmgKfkuovku7ZcclxuICAgICAqIEBwYXJhbSBhcnIgXHJcbiAgICAgKiBAcGFyYW0gaW5kZXggXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY2hlY2tPbmNlRXZlbnQoYXJyLCBpbmRleCkge1xyXG4gICAgICAgIGxldCBkYXRhID0gYXJyW2luZGV4XTtcclxuICAgICAgICBpZiAoZGF0YS5pc09uY2UpIHtcclxuICAgICAgICAgICAgVXRpbHMuYXJyYXlSZW1vdmUoYXJyLCBpbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBOUmVzcG9uc2VyLmluc3RhbmNlKCk7Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/loader/Loader.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5ef26uXvNBKGZi/udmZyLGw', 'Loader');
// src/framework/loader/Loader.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LoaderItem_1 = require("./LoaderItem");
//资源加载器
var Loader = /** @class */ (function () {
    function Loader(isRelease) {
        this.moduleName = null;
        this.cacheItems = [];
        this.isRelease = false; //释放已经释放过了
        this.needRelease = isRelease;
    }
    Loader.prototype.addLoaderItem = function (url, type, handler) {
        var res = cc.loader.getRes(url, type);
        if (cc.isValid(res)) {
            !!handler && handler.call(res, url);
            return;
        }
        if (this._checkSameURL(url, handler)) {
            return;
        }
        var item = this.getLoaderItem();
        item.load(url, type, handler);
    };
    //检查相同的加载路径 保证只存在一个
    Loader.prototype._checkSameURL = function (url, handler) {
        var len = this.cacheItems.length;
        for (var i = 0; i < len; i++) {
            if (!this.cacheItems[i].isActive) {
                if (this.cacheItems[i].url === url) {
                    this.cacheItems[i].addSame(handler);
                    return true;
                }
            }
        }
        return false;
    };
    //获得一个加载item
    Loader.prototype.getLoaderItem = function () {
        var len = this.cacheItems.length;
        for (var i = 0; i < len; i++) {
            if (this.cacheItems[i].isActive) {
                this.cacheItems[i].isActive = false;
                return this.cacheItems[i];
            }
        }
        var item = new LoaderItem_1.default();
        item.isActive = false;
        this.cacheItems.push(item);
        return item;
    };
    Loader.prototype.getAllResUID = function (exsits) {
        if (exsits) {
            var len = this.cacheItems.length;
            for (var i = 0; i < len; i++) {
                if (!this.cacheItems[i].isActive) {
                    this.cacheItems[i].setExsitRes(exsits);
                }
            }
        }
    };
    Loader.prototype.releaseItem = function () {
        var len = this.cacheItems.length;
        for (var i = 0; i < len; i++) {
            this.cacheItems[i].reset();
        }
    };
    Loader.prototype.release = function (exsits) {
        var len = this.cacheItems.length;
        if (this.needRelease && !this.isRelease) {
            for (var i = 0; i < len; i++) {
                if (!this.cacheItems[i].isActive) {
                    this.cacheItems[i].release(exsits);
                }
            }
        }
        this.releaseItem();
    };
    return Loader;
}());
exports.default = Loader;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL2xvYWRlci9Mb2FkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBc0M7QUFFdEMsT0FBTztBQUNQO0lBTUksZ0JBQVksU0FBaUI7UUFKdEIsZUFBVSxHQUFVLElBQUksQ0FBQztRQUN4QixlQUFVLEdBQXFCLEVBQUUsQ0FBQztRQUNuQyxjQUFTLEdBQVcsS0FBSyxDQUFDLENBQUssVUFBVTtRQUc1QyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsOEJBQWEsR0FBYixVQUFjLEdBQUcsRUFBQyxJQUFJLEVBQUMsT0FBTztRQUMxQixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ2pCLENBQUMsQ0FBQyxPQUFPLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUMsR0FBRyxDQUFDLENBQUM7WUFDbkMsT0FBTztTQUNWO1FBQ0QsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBQyxPQUFPLENBQUMsRUFBRTtZQUNqQyxPQUFPO1NBQ1Y7UUFDRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUMsSUFBSSxFQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxtQkFBbUI7SUFDbkIsOEJBQWEsR0FBYixVQUFjLEdBQUcsRUFBQyxPQUFPO1FBQ3JCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFBO1FBQ2hDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFO2dCQUM5QixJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsRUFBRTtvQkFDaEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQ3BDLE9BQU8sSUFBSSxDQUFDO2lCQUNmO2FBQ0o7U0FDSjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxZQUFZO0lBQ1osOEJBQWEsR0FBYjtRQUNJLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDO1FBQ2pDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDMUIsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRTtnQkFDN0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO2dCQUNwQyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDN0I7U0FDSjtRQUNELElBQUksSUFBSSxHQUFHLElBQUksb0JBQVUsRUFBRSxDQUFDO1FBQzVCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzNCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCw2QkFBWSxHQUFaLFVBQWEsTUFBTTtRQUNmLElBQUksTUFBTSxFQUFFO1lBQ1IsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUE7WUFDaEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDMUIsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFO29CQUM5QixJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztpQkFDMUM7YUFDSjtTQUNKO0lBQ0wsQ0FBQztJQUVELDRCQUFXLEdBQVg7UUFDSSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQztRQUNqQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFDLENBQUMsRUFBRSxFQUFFO1lBQ3pCLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDOUI7SUFDTCxDQUFDO0lBRUQsd0JBQU8sR0FBUCxVQUFRLE1BQU07UUFDVixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQztRQUNqQyxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ3JDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUMsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRTtvQkFDOUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQ3RDO2FBQ0o7U0FFSjtRQUNELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUwsYUFBQztBQUFELENBbkZBLEFBbUZDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9hZGVySXRlbSBmcm9tIFwiLi9Mb2FkZXJJdGVtXCI7XHJcblxyXG4vL+i1hOa6kOWKoOi9veWZqFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkZXIge1xyXG4gICAgcHJpdmF0ZSBuZWVkUmVsZWFzZTpib29sZWFuOy8v5piv5ZCm6ZyA6KaB6YeK5pS+XHJcbiAgICBwdWJsaWMgbW9kdWxlTmFtZTpzdHJpbmcgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBjYWNoZUl0ZW1zOkFycmF5PExvYWRlckl0ZW0+ID0gW107XHJcbiAgICBwdWJsaWMgaXNSZWxlYXNlOmJvb2xlYW4gPSBmYWxzZTsgICAgIC8v6YeK5pS+5bey57uP6YeK5pS+6L+H5LqGXHJcblxyXG4gICAgY29uc3RydWN0b3IoaXNSZWxlYXNlOmJvb2xlYW4pe1xyXG4gICAgICAgIHRoaXMubmVlZFJlbGVhc2UgPSBpc1JlbGVhc2U7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkTG9hZGVySXRlbSh1cmwsdHlwZSxoYW5kbGVyKXtcclxuICAgICAgICBsZXQgcmVzID0gY2MubG9hZGVyLmdldFJlcyh1cmwsdHlwZSk7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQocmVzKSkge1xyXG4gICAgICAgICAgICAhIWhhbmRsZXIgJiYgaGFuZGxlci5jYWxsKHJlcyx1cmwpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9jaGVja1NhbWVVUkwodXJsLGhhbmRsZXIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLmdldExvYWRlckl0ZW0oKTtcclxuICAgICAgICBpdGVtLmxvYWQodXJsLHR5cGUsaGFuZGxlcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy/mo4Dmn6Xnm7jlkIznmoTliqDovb3ot6/lvoQg5L+d6K+B5Y+q5a2Y5Zyo5LiA5LiqXHJcbiAgICBfY2hlY2tTYW1lVVJMKHVybCxoYW5kbGVyKXtcclxuICAgICAgICBsZXQgbGVuID0gdGhpcy5jYWNoZUl0ZW1zLmxlbmd0aFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuO2krKykge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY2FjaGVJdGVtc1tpXS5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FjaGVJdGVtc1tpXS51cmwgPT09IHVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVJdGVtc1tpXS5hZGRTYW1lKGhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvL+iOt+W+l+S4gOS4quWKoOi9vWl0ZW1cclxuICAgIGdldExvYWRlckl0ZW0oKXtcclxuICAgICAgICBsZXQgbGVuID0gdGhpcy5jYWNoZUl0ZW1zLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNhY2hlSXRlbXNbaV0uaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVJdGVtc1tpXS5pc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVJdGVtc1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaXRlbSA9IG5ldyBMb2FkZXJJdGVtKCk7XHJcbiAgICAgICAgaXRlbS5pc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FjaGVJdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFsbFJlc1VJRChleHNpdHMpe1xyXG4gICAgICAgIGlmIChleHNpdHMpIHtcclxuICAgICAgICAgICAgbGV0IGxlbiA9IHRoaXMuY2FjaGVJdGVtcy5sZW5ndGhcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNhY2hlSXRlbXNbaV0uaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlSXRlbXNbaV0uc2V0RXhzaXRSZXMoZXhzaXRzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWxlYXNlSXRlbSgpe1xyXG4gICAgICAgIGxldCBsZW4gPSB0aGlzLmNhY2hlSXRlbXMubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuO2krKykge1xyXG4gICAgICAgICAgICB0aGlzLmNhY2hlSXRlbXNbaV0ucmVzZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVsZWFzZShleHNpdHMpIHtcclxuICAgICAgICBsZXQgbGVuID0gdGhpcy5jYWNoZUl0ZW1zLmxlbmd0aDtcclxuICAgICAgICBpZiAodGhpcy5uZWVkUmVsZWFzZSAmJiAhdGhpcy5pc1JlbGVhc2UpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47aSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2FjaGVJdGVtc1tpXS5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVJdGVtc1tpXS5yZWxlYXNlKGV4c2l0cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVsZWFzZUl0ZW0oKTtcclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/sdk/BaseSdk.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3dd09gCPsZKRrEVwIVWL/ao', 'BaseSdk');
// src/framework/sdk/BaseSdk.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseSdk = /** @class */ (function () {
    function BaseSdk() {
        this._basePath_android = "com.xstone.android.xsbusi.XSSdk";
        this._moudelPath_android = "com.xstone.android.xsbusi.XSBusiSdk";
        this._baseCocos = "org/cocos2dx/javascript/AppActivity";
    }
    BaseSdk.prototype.isAndroid = function () {
        return cc.sys.os == cc.sys.OS_ANDROID;
    };
    BaseSdk.prototype.isIphone = function () {
        return cc.sys.os == cc.sys.OS_IOS;
    };
    BaseSdk.prototype.systemName = function () {
        if (this.isAndroid()) {
            console.log("********************设备为Andrioid");
        }
        else if (this.isIphone()) {
            console.log("********************设备为Iphone");
        }
    };
    return BaseSdk;
}());
exports.default = BaseSdk;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3Nkay9CYXNlU2RrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7SUFJSTtRQUhVLHNCQUFpQixHQUFZLGlDQUFpQyxDQUFDO1FBQy9ELHdCQUFtQixHQUFZLHFDQUFxQyxDQUFDO1FBQ3JFLGVBQVUsR0FBWSxxQ0FBcUMsQ0FBQztJQUV0RSxDQUFDO0lBQ0QsMkJBQVMsR0FBVDtRQUNJLE9BQU8sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUM7SUFDMUMsQ0FBQztJQUNELDBCQUFRLEdBQVI7UUFDSSxPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO0lBQ3RDLENBQUM7SUFDRCw0QkFBVSxHQUFWO1FBQ0ksSUFBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUM7WUFDaEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO1NBQ2xEO2FBQUssSUFBRyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUM7WUFDckIsT0FBTyxDQUFDLEdBQUcsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO1NBQ2hEO0lBQ0wsQ0FBQztJQUNMLGNBQUM7QUFBRCxDQW5CQSxBQW1CQyxJQUFBO0FBQ0Qsa0JBQWUsT0FBTyxDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQmFzZVNka3tcclxuICAgIHByb3RlY3RlZCBfYmFzZVBhdGhfYW5kcm9pZCA6IHN0cmluZyA9IFwiY29tLnhzdG9uZS5hbmRyb2lkLnhzYnVzaS5YU1Nka1wiO1xyXG4gICAgcHJvdGVjdGVkIF9tb3VkZWxQYXRoX2FuZHJvaWQgOiBzdHJpbmcgPSBcImNvbS54c3RvbmUuYW5kcm9pZC54c2J1c2kuWFNCdXNpU2RrXCI7XHJcbiAgICBwcm90ZWN0ZWQgX2Jhc2VDb2NvcyA6IHN0cmluZyA9IFwib3JnL2NvY29zMmR4L2phdmFzY3JpcHQvQXBwQWN0aXZpdHlcIjtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICB9XHJcbiAgICBpc0FuZHJvaWQoKXtcclxuICAgICAgICByZXR1cm4gY2Muc3lzLm9zID09IGNjLnN5cy5PU19BTkRST0lEO1xyXG4gICAgfVxyXG4gICAgaXNJcGhvbmUoKXtcclxuICAgICAgICByZXR1cm4gY2Muc3lzLm9zID09IGNjLnN5cy5PU19JT1M7XHJcbiAgICB9XHJcbiAgICBzeXN0ZW1OYW1lKCl7XHJcbiAgICAgICAgaWYodGhpcy5pc0FuZHJvaWQoKSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiKioqKioqKioqKioqKioqKioqKirorr7lpIfkuLpBbmRyaW9pZFwiKTtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLmlzSXBob25lKCkpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIioqKioqKioqKioqKioqKioqKioq6K6+5aSH5Li6SXBob25lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBCYXNlU2RrOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/ui/BaseUIEffect.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '29d1ejPy4hAtZTNuaVToEwQ', 'BaseUIEffect');
// src/framework/ui/BaseUIEffect.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BaseUIEffect = /** @class */ (function () {
    function BaseUIEffect(type) {
        this.time = 0.2;
        this.type = type;
    }
    BaseUIEffect.prototype.run = function (node, time, isOpen, handler) {
    };
    return BaseUIEffect;
}());
exports.default = BaseUIEffect;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3VpL0Jhc2VVSUVmZmVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUVBO0lBR0ksc0JBQVksSUFBSTtRQURULFNBQUksR0FBVSxHQUFHLENBQUM7UUFHckIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUVELDBCQUFHLEdBQUgsVUFBSSxJQUFZLEVBQUMsSUFBVyxFQUFDLE1BQWMsRUFBQyxPQUFlO0lBRzNELENBQUM7SUFDTCxtQkFBQztBQUFELENBWkEsQUFZQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEhhbmRsZXIgZnJvbSBcIi4uL2Jhc2UvSGFuZGxlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZVVJRWZmZWN0e1xyXG4gICAgcHVibGljIHR5cGU6c3RyaW5nO1xyXG4gICAgcHVibGljIHRpbWU6bnVtYmVyID0gMC4yO1xyXG4gICAgY29uc3RydWN0b3IodHlwZSlcclxuICAgIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHJ1bihub2RlOmNjLk5vZGUsdGltZTpudW1iZXIsaXNPcGVuOmJvb2xlYW4saGFuZGxlcjpIYW5kbGVyKVxyXG4gICAge1xyXG5cclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/tools/ComponentHelper.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '10e20CiVLlP3rcY+od6MQ8s', 'ComponentHelper');
// src/framework/tools/ComponentHelper.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 组件设置
 */
var ComponentHelper = /** @class */ (function () {
    function ComponentHelper() {
    }
    //对文本赋值
    ComponentHelper.labelString = function (node, text, force, maxChars) {
        if (force === void 0) { force = false; }
        if (maxChars === void 0) { maxChars = null; }
        if (cc.isValid(node)) {
            var label = node.getComponent(cc.Label);
            if (!!maxChars) {
                text = ComponentHelper.strClamp(text.toString(), maxChars, '...');
            }
            if (!!label) {
                label.string = text + "";
                if (force) {
                    label._forceUpdateRenderData(true);
                }
            }
        }
    };
    ComponentHelper.labelTimeFormat = function (node, text) {
        var result = this._secondToDate(text);
        ComponentHelper.labelString(node, result);
    };
    //分割的时间格式 00:00:00
    ComponentHelper.labelTimeFormatGap = function (node1, node2, node3, time) {
        var h = Math.floor(time / 3600);
        var m = Math.floor((time / 60 % 60));
        var s = Math.floor((time % 60));
        h = h > 9 ? h : '0' + h;
        m = m > 9 ? m : '0' + m;
        s = s > 9 ? s : '0' + s;
        ComponentHelper.labelString(node1, h);
        ComponentHelper.labelString(node2, m);
        ComponentHelper.labelString(node3, s);
    };
    //00:00
    ComponentHelper.labelTimeSs = function (node, time) {
        var timeStr = this._secondToDate2(time);
        ComponentHelper.labelString(node, timeStr);
    };
    ComponentHelper._secondToDate2 = function (result) {
        var m = Math.floor((result / 60 % 60));
        var s = Math.floor((result % 60));
        m = m > 9 ? m : '0' + m;
        s = s > 9 ? s : '0' + s;
        return m + ":" + s;
    };
    ComponentHelper._secondToDate = function (result) {
        var h = Math.floor(result / 3600);
        var m = Math.floor((result / 60 % 60));
        var s = Math.floor((result % 60));
        h = h > 9 ? h : '0' + h;
        m = m > 9 ? m : '0' + m;
        s = s > 9 ? s : '0' + s;
        return h + ":" + m + ":" + s;
    };
    ComponentHelper.getLabelString = function (node) {
        if (cc.isValid(node)) {
            var label = node.getComponent(cc.Label);
            if (!!label) {
                return label.string;
            }
        }
        return '';
    };
    //cLHeight 是否改变行高
    ComponentHelper.setLabelSize = function (node, size, cLHeight, space) {
        if (cc.isValid(node)) {
            var label = node.getComponent(cc.Label);
            if (!!label) {
                label.fontSize = size;
                if (!!cLHeight) {
                    label.lineHeight = size;
                }
                if (!!space) {
                    label.spacingX = space;
                }
            }
        }
    };
    ComponentHelper.createLabel = function (size, color, content, font) {
        var node = new cc.Node();
        var label = node.addComponent(cc.Label);
        label.fontSize = size;
        label.font = font;
        node.color = color;
        label.string = content;
        return node;
    };
    //设置字体
    ComponentHelper.setLabelFont = function (node, font) {
        if (cc.isValid(node)) {
            var label = node.getComponent(cc.Label);
            if (!!label) {
                label.font = font;
            }
        }
    };
    //对富文本进行赋值
    ComponentHelper.richLabelString = function (node, text, lineHeight) {
        if (cc.isValid(node)) {
            var label = node.getComponent(cc.RichText);
            if (label) {
                if (!!lineHeight && lineHeight > 0) {
                    label.lineHeight = lineHeight;
                }
                label.string = text;
            }
        }
    };
    //拥有纹理时直接赋值
    ComponentHelper.spriteFrame = function (node, spriteFrame) {
        if (cc.isValid(node)) {
            var sprite = node.getComponent(cc.Sprite);
            if (sprite) {
                sprite.spriteFrame = spriteFrame;
            }
            return sprite;
        }
        return null;
    };
    ComponentHelper.getSpriteFrame = function (node) {
        if (cc.isValid(node)) {
            var sprite = node.getComponent(cc.Sprite);
            if (sprite) {
                return sprite.spriteFrame;
            }
        }
        return null;
    };
    ComponentHelper.createSprite = function (res, anchor) {
        var node = new cc.Node();
        var sprite = node.addComponent(cc.Sprite);
        sprite.spriteFrame = res;
        if (!!anchor) {
            node.anchorX = anchor.x;
            node.anchorY = anchor.y;
        }
        return node;
    };
    ComponentHelper.clearSpriteFrame = function (node) {
        if (cc.isValid(node)) {
            var sprite = node.getComponent(cc.Sprite);
            if (sprite) {
                sprite.spriteFrame = null;
            }
        }
    };
    ComponentHelper.spriteGray = function (node, isGray) {
        if (cc.isValid(node)) {
            var sprite = node.getComponent(cc.Sprite);
            if (!sprite) {
                sprite = node.getComponent(cc.Label);
            }
            if (!!sprite) {
                if (isGray) {
                    sprite.setMaterial(0, cc.Material.getBuiltinMaterial('2d-gray-sprite'));
                }
                else {
                    sprite.setMaterial(0, cc.Material.getBuiltinMaterial('2d-sprite'));
                }
            }
        }
    };
    //获得scrollView 并滑动到指定位置
    ComponentHelper.getScrollViewAndScroll = function (node, x, y) {
        var scrollView = node.getComponent(cc.ScrollView);
        if (scrollView) {
            scrollView.stopAutoScroll();
            scrollView.scrollToOffset(cc.v2(x, y), 0);
        }
        return scrollView;
    };
    //获得scrollView 并滑动到指定位置
    ComponentHelper.getScrollViewAndScrollPercent = function (node, x, y) {
        var scrollView = node.getComponent(cc.ScrollView);
        if (scrollView) {
            scrollView.stopAutoScroll();
            scrollView.scrollTo(cc.v2(x, y), 0);
        }
        return scrollView;
    };
    //滑动到顶部
    ComponentHelper.getScrollViewAndScrollTop = function (node, time) {
        if (time === void 0) { time = 0; }
        var scrollView = node.getComponent(cc.ScrollView);
        if (scrollView) {
            scrollView.stopAutoScroll();
            scrollView.scrollToTop(time);
        }
        return scrollView;
    };
    //滑动到左侧
    ComponentHelper.getScrollViewAndScrollLeft = function (node, time) {
        if (time === void 0) { time = 0; }
        var scrollView = node.getComponent(cc.ScrollView);
        if (scrollView) {
            scrollView.stopAutoScroll();
            scrollView.scrollToLeft(time);
        }
        return scrollView;
    };
    ComponentHelper.setScrollViewEnabled = function (node, value) {
        if (value === void 0) { value = true; }
        var scrollView = node.getComponent(cc.ScrollView);
        if (!!scrollView) {
            scrollView.enabled = value;
        }
        return scrollView;
    };
    //设置通用货币  xx万 或者 xx亿
    ComponentHelper.setCommonCurrenyLabel = function (node, count) {
        if (cc.isValid(node)) {
            var label = node.getComponent('CommonCurrencyLabel');
            if (label) {
                label.setContent(count);
            }
        }
    };
    //小数点数字
    ComponentHelper.setDotLabel = function (node, value, isUint) {
        if (isUint === void 0) { isUint = true; }
        if (cc.isValid(node)) {
            var label = node.getComponent('DotLabel');
            if (label) {
                label.string(value, isUint);
            }
        }
    };
    ComponentHelper.setLabelColor = function (node, color) {
        if (cc.isValid(node)) {
            node.color = color;
        }
    };
    ComponentHelper.getEditorString = function (node) {
        if (cc.isValid(node)) {
            var editbox = node.getComponent(cc.EditBox);
            if (!!editbox) {
                return editbox.string;
            }
        }
        return '';
    };
    ComponentHelper.setEditorString = function (node, str) {
        if (cc.isValid(node)) {
            var editbox = node.getComponent(cc.EditBox);
            if (!!editbox) {
                editbox.string = str;
            }
        }
    };
    //设置文字描边
    ComponentHelper.setLabelOut = function (node, color, width) {
        if (cc.isValid(node)) {
            var labelOut = node.addComponent(cc.LabelOutline);
            labelOut.color = color;
            labelOut.width = width;
        }
    };
    //移除描边
    ComponentHelper.removeLineOut = function (node) {
        if (cc.isValid(node)) {
            var labelOut = node.removeComponent(cc.LabelOutline);
        }
    };
    //获得输入框的内容
    ComponentHelper.getEditBoxString = function (node) {
        if (cc.isValid(node)) {
            var editBox = node.getComponent(cc.EditBox);
            if (editBox.string != editBox.placeholder) {
                return editBox.string;
            }
        }
        return null;
    };
    ComponentHelper.strClamp = function (str, maxChars, suffix) {
        if (str === '') {
            return '';
        }
        var toCodePoint = function (unicodeSurrogates) {
            var r = [], c = 0, p = 0, i = 0;
            while (i < unicodeSurrogates.length) {
                var pos = i;
                c = unicodeSurrogates.charCodeAt(i++); //返回位置的字符的 Unicode 编码 
                if (c == 0xfe0f) {
                    continue;
                }
                if (p) {
                    var value = (0x10000 + ((p - 0xD800) << 10) + (c - 0xDC00));
                    r.push({
                        v: value,
                        pos: pos,
                    }); //计算4字节的unicode
                    p = 0;
                }
                else if (0xD800 <= c && c <= 0xDBFF) {
                    p = c; //如果unicode编码在oxD800-0xDBff之间，则需要与后一个字符放在一起
                }
                else {
                    r.push({
                        v: c,
                        pos: pos
                    }); //如果是2字节，直接将码点转为对应的十六进制形式
                }
            }
            return r;
        };
        suffix = suffix === null ? '...' : suffix;
        maxChars *= 2;
        var codeArr = toCodePoint(str);
        var numChar = 0;
        var index = 0;
        for (var i = 0; i < codeArr.length; ++i) {
            var code = codeArr[i].v;
            var add = 1;
            if (code >= 128) {
                add = 2;
            }
            //如果超过了限制，则按上一个为准
            if (numChar + add > maxChars) {
                break;
            }
            index = i;
            //累加
            numChar += add;
        }
        if (codeArr.length - 1 == index) {
            return str;
        }
        var more = suffix ? 1 : 0;
        return str.substring(0, codeArr[index - more].pos + 1) + suffix;
    };
    //获得checkbox的选择状态
    ComponentHelper.getToggle = function (node) {
        if (cc.isValid(node)) {
            var toggle = node.getComponent(cc.Toggle);
            if (!!toggle) {
                return toggle.isChecked;
            }
        }
        return false;
    };
    ComponentHelper.setToggleListener = function (node, func, host) {
        if (cc.isValid(node)) {
            node.on('toggle', function (e) {
                func && func.call(host, e.isChecked);
            });
        }
    };
    ComponentHelper.setButtonInteractable = function (node, status) {
        if (cc.isValid(node)) {
            var button = node.getComponent(cc.Button);
            if (!!button) {
                button.interactable = status;
            }
        }
    };
    ComponentHelper.getButtonInteractabel = function (node) {
        if (cc.isValid(node)) {
            var button = node.getComponent(cc.Button);
            if (!!button) {
                return button.interactable;
            }
        }
        return true;
    };
    ComponentHelper.addClickEvent = function (node, target, component, handler) {
        var eventHandler = new cc.Component.EventHandler();
        eventHandler.target = target;
        eventHandler.component = component;
        eventHandler.handler = handler;
        var clickEvents = node.getComponent(cc.Button).clickEvents;
        for (var i = 0; i < clickEvents.length; i++) {
            if (clickEvents[i] && clickEvents[i].handler == eventHandler.handler && clickEvents[i].component == eventHandler.component) {
                return;
            }
        }
        clickEvents.push(eventHandler);
    };
    //设置进度
    ComponentHelper.setProgressBar = function (node, value) {
        if (cc.isValid(node)) {
            var bar = node.getComponent(cc.ProgressBar);
            if (!!bar) {
                bar.progress = value;
            }
        }
    };
    ComponentHelper.setSpineStop = function (node, isStop) {
        if (cc.isValid(node)) {
            var spine = node.getComponent(sp.Skeleton);
            if (!!spine) {
                spine.paused = isStop;
            }
        }
    };
    //设置spine皮肤
    ComponentHelper.setSpineSkin = function (node, skin) {
        if (cc.isValid(node)) {
            var spine = node.getComponent(sp.Skeleton);
            if (!!spine) {
                spine.setSkin(skin);
            }
        }
    };
    //设置spine动画
    ComponentHelper.setSpineAnimate = function (node, animation, isLoop, func, host, arg) {
        if (cc.isValid(node)) {
            var spine_1 = node.getComponent(sp.Skeleton);
            if (!!spine_1) {
                spine_1.setAnimation(0, animation, isLoop);
            }
            if (!!func) {
                spine_1.setCompleteListener(function (trackEntry, loopCount) {
                    spine_1.setCompleteListener(null);
                    func.call(host, arg);
                });
            }
        }
    };
    //闪烁Action 
    ComponentHelper.setFlickerAction = function (node, time, count) {
        if (cc.isValid(node)) {
            // cc.log('开始闪烁了++++++++++++++');
            node.stopAllActions();
            node.runAction(cc.blink(time, count));
        }
    };
    //heartAction 心跳
    ComponentHelper.setHeartAction = function (node, time, isStartBig, bigScale, smallScale, special) {
        if (time === void 0) { time = 0.5; }
        if (isStartBig === void 0) { isStartBig = false; }
        if (bigScale === void 0) { bigScale = 1.2; }
        if (smallScale === void 0) { smallScale = 0.9; }
        if (special === void 0) { special = false; }
        if (cc.isValid(node)) {
            node.stopAllActions();
            var delayAction = null;
            if (special) {
                time = time - 0.2;
                delayAction = cc.delayTime(0.2);
            }
            var scaleBigAction = cc.scaleTo(time, bigScale, bigScale);
            var scaleSmallAction = cc.scaleTo(time, smallScale, smallScale);
            var action = null;
            if (special) {
                action = isStartBig ? cc.sequence(delayAction, scaleBigAction, delayAction, scaleSmallAction) : cc.sequence(delayAction, scaleSmallAction, delayAction, scaleBigAction);
            }
            else {
                action = isStartBig ? cc.sequence(scaleBigAction, scaleSmallAction) : cc.sequence(scaleSmallAction, scaleBigAction);
            }
            node.runAction(cc.repeatForever(action));
        }
    };
    //heartAction 短时间心跳
    ComponentHelper.setHeartActionByTime = function (node, num, callBack, time, isStartBig, bigScale, smallScale, special) {
        if (num === void 0) { num = 5; }
        if (callBack === void 0) { callBack = null; }
        if (time === void 0) { time = 0.5; }
        if (isStartBig === void 0) { isStartBig = false; }
        if (bigScale === void 0) { bigScale = 1.2; }
        if (smallScale === void 0) { smallScale = 0.9; }
        if (special === void 0) { special = false; }
        if (cc.isValid(node)) {
            node.active = true;
            node.stopAllActions();
            var delayAction = null;
            if (special) {
                time = time - 0.2;
                delayAction = cc.delayTime(0.2);
            }
            var currentNum_1 = 0;
            var scaleBigAction = cc.scaleTo(time, bigScale, bigScale);
            var scaleSmallAction = cc.scaleTo(time, smallScale, smallScale);
            var scaleFun = cc.callFunc(function () {
                currentNum_1++;
                if (callBack && currentNum_1 >= num) {
                    if (callBack)
                        callBack();
                    node.stopAllActions();
                }
            });
            var action = null;
            if (special) {
                action = isStartBig ? cc.sequence(delayAction, scaleBigAction, delayAction, scaleSmallAction, scaleFun) : cc.sequence(delayAction, scaleSmallAction, delayAction, scaleBigAction, scaleFun);
            }
            else {
                action = isStartBig ? cc.sequence(scaleBigAction, scaleSmallAction, scaleFun) : cc.sequence(scaleSmallAction, scaleBigAction, scaleFun);
            }
            node.runAction(cc.repeat(action, num));
        }
    };
    //上下浮动
    ComponentHelper.setUpDownAction = function (node, time, y) {
        if (time === void 0) { time = 0.5; }
        if (y === void 0) { y = 20; }
        if (cc.isValid(node)) {
            node.stopAllActions();
            var pos = cc.v2(node.x, node.y);
            var moveUp = cc.moveTo(time, cc.v2(pos.x, pos.y + y));
            var moveDown = cc.moveTo(time, cc.v2(pos.x, pos.y));
            var action = cc.sequence(moveUp, moveDown);
            node.runAction(cc.repeatForever(action));
        }
    };
    ComponentHelper.setLRAction = function (node, time, x) {
        if (time === void 0) { time = 0.5; }
        if (x === void 0) { x = 20; }
        if (cc.isValid(node)) {
            node.stopAllActions();
            var pos = cc.v2(node.x, node.y);
            var moveUp = cc.moveTo(time, cc.v2(pos.x + x, pos.y));
            var moveDown = cc.moveTo(time, cc.v2(pos.x, pos.y));
            var action = cc.sequence(moveUp, moveDown);
            node.runAction(cc.repeatForever(action));
        }
    };
    ComponentHelper.setRotation = function (node, time, x) {
        if (time === void 0) { time = 0.5; }
        if (x === void 0) { x = 20; }
        if (cc.isValid(node)) {
            node.stopAllActions();
            var pos = cc.v2(node.x, node.y);
            var moveUp = cc.rotateTo(time, 10);
            var moveDown = cc.rotateTo(time, -10);
            var action = cc.sequence(moveUp, moveDown);
            node.runAction(cc.repeatForever(action));
        }
    };
    ComponentHelper.setScaleGuoDong = function (node, time, isStartBig, bigScale, smallScale) {
        if (time === void 0) { time = 0.1; }
        if (isStartBig === void 0) { isStartBig = true; }
        if (bigScale === void 0) { bigScale = 1.3; }
        if (smallScale === void 0) { smallScale = 1.0; }
        if (cc.isValid(node)) {
            node.stopAllActions();
            var scaleBigAction = cc.scaleTo(time, bigScale, bigScale);
            var scaleSmallAction = cc.scaleTo(time, smallScale, smallScale);
            var action = isStartBig ? cc.sequence(scaleBigAction, scaleSmallAction) : cc.sequence(scaleSmallAction, scaleBigAction);
            node.runAction(action);
        }
    };
    ComponentHelper.setJumpActiom = function (node, time, y) {
        if (time === void 0) { time = 0.3; }
        if (y === void 0) { y = 20; }
        if (cc.isValid(node)) {
            node.stopAllActions();
            var pos = cc.v2(node.x, node.y);
            var moveUp = cc.moveTo(time, cc.v2(pos.x, pos.y + y));
            var moveDown = cc.moveTo(time, cc.v2(pos.x, pos.y));
            var action = cc.sequence(moveUp, moveDown);
            node.runAction(action);
        }
    };
    ComponentHelper.setReJumpActiom = function (node, time, y) {
        if (time === void 0) { time = 0.3; }
        if (y === void 0) { y = 10; }
        if (cc.isValid(node)) {
            node.stopAllActions();
            var pos = cc.v2(node.x, node.y);
            var moveUp = cc.moveTo(time, cc.v2(pos.x, pos.y + y));
            var moveDown = cc.moveTo(time, cc.v2(pos.x, pos.y - y));
            var action = cc.sequence(moveUp, moveDown);
            node.runAction(cc.repeatForever(action));
        }
    };
    //某个方向循环移动
    //distance循环移动的距离
    ComponentHelper.setForEverMoveAction = function (node, distance, time, isStartBig, axis, isEase) {
        if (distance === void 0) { distance = 5; }
        if (time === void 0) { time = 0.5; }
        if (isStartBig === void 0) { isStartBig = false; }
        if (axis === void 0) { axis = 'x'; }
        if (isEase === void 0) { isEase = false; }
        if (cc.isValid(node)) {
            node.stopAllActions();
            var pos = node.getPosition();
            var scaleBigAction = axis === 'x' ? cc.moveTo(time, pos.x + distance, pos.y) : cc.moveTo(time, pos.x, pos.y + distance);
            if (isEase) {
                scaleBigAction = scaleBigAction.easing(cc.easeOut(1.5));
            }
            var scaleSmallAction = cc.moveTo(time, pos.x, pos.y);
            var action = isStartBig ? cc.sequence(scaleBigAction, scaleSmallAction) : cc.sequence(scaleSmallAction, scaleBigAction);
            node.runAction(cc.repeatForever(action));
        }
    };
    //循环移动 播放指定时间
    ComponentHelper.setLoopAction = function (node, callBack, axis, distance, actionTime, duration, isStartBig) {
        if (axis === void 0) { axis = 'y'; }
        if (distance === void 0) { distance = 5; }
        if (actionTime === void 0) { actionTime = 0.5; }
        if (duration === void 0) { duration = 3; }
        if (isStartBig === void 0) { isStartBig = false; }
        if (cc.isValid(node)) {
            node.stopAllActions();
            var pos = node.getPosition();
            var scaleBigAction = axis === 'x' ? cc.moveTo(actionTime, pos.x + distance, pos.y) : cc.moveTo(actionTime, pos.x, pos.y + distance);
            var scaleSmallAction = cc.moveTo(actionTime, pos.x, pos.y);
            var action = isStartBig ? cc.sequence(scaleBigAction, scaleSmallAction) : cc.sequence(scaleSmallAction, scaleBigAction);
            var count = duration / (actionTime * 2);
            node.runAction(cc.sequence(cc.repeat(action, count), cc.callFunc(function () {
                callBack && callBack();
            })));
        }
    };
    //缩放显示回弹
    ComponentHelper.setScaleBounce = function (node, callBack, duration, bduration, bRadio) {
        if (duration === void 0) { duration = 0.1; }
        if (bduration === void 0) { bduration = 0.6; }
        if (bRadio === void 0) { bRadio = 1.8; }
        if (cc.isValid(node)) {
            var bAction = cc.scaleTo(duration, bRadio, bRadio);
            var sAction = cc.scaleTo(bduration, 1, 1).easing(cc.easeBounceOut());
            node.runAction(cc.sequence(bAction, cc.delayTime(0.1), sAction, cc.callFunc(function () {
                callBack && callBack();
            })));
        }
    };
    /**
     * 设置下砸效果
     * @param node 节点
     * @param duration 持续时间
     * @param bigScale 起始最大值
     * @param smallScale 缩放到最小值
     */
    ComponentHelper.setDownAction = function (node, duration, bigScale, smallScale) {
        if (duration === void 0) { duration = 0.2; }
        if (bigScale === void 0) { bigScale = 3; }
        if (smallScale === void 0) { smallScale = 1; }
        if (cc.isValid(node)) {
            node.scaleX = node.scaleY = bigScale;
            node.runAction(cc.scaleTo(duration, smallScale, smallScale).easing(cc.easeBounceInOut()));
        }
    };
    //TODO 后期修改成震动类
    ComponentHelper.shakeEffect = function (node, duration) {
        if (duration === void 0) { duration = 0.6; }
        if (cc.isValid(node)) {
            node.stopAllActions();
            node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(0.02, cc.v2(5, 7)), cc.moveTo(0.02, cc.v2(-6, 7)), cc.moveTo(0.02, cc.v2(-13, 3)), cc.moveTo(0.02, cc.v2(3, -6)), cc.moveTo(0.02, cc.v2(-5, 5)), cc.moveTo(0.02, cc.v2(2, -8)), cc.moveTo(0.02, cc.v2(-8, -10)), cc.moveTo(0.02, cc.v2(3, 10)), cc.moveTo(0.02, cc.v2(0, 0)))));
            setTimeout(function () {
                node.stopAllActions();
                node.setPosition(0, 0);
            }, duration * 1000);
        }
    };
    return ComponentHelper;
}());
exports.default = ComponentHelper;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3Rvb2xzL0NvbXBvbmVudEhlbHBlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztHQUVHO0FBQ0g7SUFBQTtJQTRwQkEsQ0FBQztJQXpwQkcsT0FBTztJQUNPLDJCQUFXLEdBQXpCLFVBQTBCLElBQWEsRUFBRSxJQUF1QixFQUFFLEtBQXNCLEVBQUUsUUFBdUI7UUFBL0Msc0JBQUEsRUFBQSxhQUFzQjtRQUFFLHlCQUFBLEVBQUEsZUFBdUI7UUFDN0csSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2xCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxDQUFDLFFBQVEsRUFBRTtnQkFDWixJQUFJLEdBQUcsZUFBZSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO2FBQ3JFO1lBQ0QsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFO2dCQUNULEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztnQkFDekIsSUFBSSxLQUFLLEVBQUU7b0JBQ1AsS0FBSyxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUN0QzthQUNKO1NBQ0o7SUFDTCxDQUFDO0lBRWEsK0JBQWUsR0FBN0IsVUFBOEIsSUFBYSxFQUFFLElBQVk7UUFDckQsSUFBSSxNQUFNLEdBQVcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QyxlQUFlLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBRUQsa0JBQWtCO0lBQ0osa0NBQWtCLEdBQWhDLFVBQWlDLEtBQWMsRUFBRSxLQUFjLEVBQUUsS0FBYyxFQUFFLElBQVk7UUFDekYs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LENBQUMsY0FBYyxFQUFFLENBQUM7WUFDdEIsSUFBSSxDQUFDLFNBQVMsQ0FDVixFQUFFLENBQUMsYUFBYSxDQUNaLEVBQUUsQ0FBQyxRQUFRLENBQ1AsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFDNUIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUM3QixFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQzlCLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDN0IsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUM3QixFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQzdCLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUMvQixFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUM3QixFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUMvQixDQUNKLENBQ0osQ0FBQztZQUVGLFVBQVUsQ0FBQztnQkFDUCxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3RCLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzNCLENBQUMsRUFBRSxRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUM7U0FDdkI7SUFFTCxDQUFDO0lBQ0wsc0JBQUM7QUFBRCxDQTVwQkEsQUE0cEJDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog57uE5Lu26K6+572uXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb25lbnRIZWxwZXIge1xyXG5cclxuXHJcbiAgICAvL+WvueaWh+acrOi1i+WAvFxyXG4gICAgcHVibGljIHN0YXRpYyBsYWJlbFN0cmluZyhub2RlOiBjYy5Ob2RlLCB0ZXh0OiAoc3RyaW5nIHwgbnVtYmVyKSwgZm9yY2U6IGJvb2xlYW4gPSBmYWxzZSwgbWF4Q2hhcnM6IG51bWJlciA9IG51bGwpOiB2b2lkIHtcclxuICAgICAgICBpZiAoY2MuaXNWYWxpZChub2RlKSkge1xyXG4gICAgICAgICAgICBsZXQgbGFiZWwgPSBub2RlLmdldENvbXBvbmVudChjYy5MYWJlbCk7XHJcbiAgICAgICAgICAgIGlmICghIW1heENoYXJzKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gQ29tcG9uZW50SGVscGVyLnN0ckNsYW1wKHRleHQudG9TdHJpbmcoKSwgbWF4Q2hhcnMsICcuLi4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFsYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgbGFiZWwuc3RyaW5nID0gdGV4dCArIFwiXCI7XHJcbiAgICAgICAgICAgICAgICBpZiAoZm9yY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5fZm9yY2VVcGRhdGVSZW5kZXJEYXRhKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgbGFiZWxUaW1lRm9ybWF0KG5vZGU6IGNjLk5vZGUsIHRleHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGxldCByZXN1bHQ6IHN0cmluZyA9IHRoaXMuX3NlY29uZFRvRGF0ZSh0ZXh0KTtcclxuICAgICAgICBDb21wb25lbnRIZWxwZXIubGFiZWxTdHJpbmcobm9kZSwgcmVzdWx0KTtcclxuICAgIH1cclxuXHJcbiAgICAvL+WIhuWJsueahOaXtumXtOagvOW8jyAwMDowMDowMFxyXG4gICAgcHVibGljIHN0YXRpYyBsYWJlbFRpbWVGb3JtYXRHYXAobm9kZTE6IGNjLk5vZGUsIG5vZGUyOiBjYy5Ob2RlLCBub2RlMzogY2MuTm9kZSwgdGltZTogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IGg6IChudW1iZXIgfCBzdHJpbmcpID0gTWF0aC5mbG9vcih0aW1lIC8gMzYwMCk7XHJcbiAgICAgICAgbGV0IG06IChudW1iZXIgfCBzdHJpbmcpID0gTWF0aC5mbG9vcigodGltZSAvIDYwICUgNjApKTtcclxuICAgICAgICBsZXQgczogKG51bWJlciB8IHN0cmluZykgPSBNYXRoLmZsb29yKCh0aW1lICUgNjApKTtcclxuICAgICAgICBoID0gaCA+IDkgPyBoIDogJzAnICsgaDtcclxuICAgICAgICBtID0gbSA+IDkgPyBtIDogJzAnICsgbTtcclxuICAgICAgICBzID0gcyA+IDkgPyBzIDogJzAnICsgcztcclxuICAgICAgICBDb21wb25lbnRIZWxwZXIubGFiZWxTdHJpbmcobm9kZTEsIGgpO1xyXG4gICAgICAgIENvbXBvbmVudEhlbHBlci5sYWJlbFN0cmluZyhub2RlMiwgbSk7XHJcbiAgICAgICAgQ29tcG9uZW50SGVscGVyLmxhYmVsU3RyaW5nKG5vZGUzLCBzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLzAwOjAwXHJcbiAgICBwdWJsaWMgc3RhdGljIGxhYmVsVGltZVNzKG5vZGU6IGNjLk5vZGUsIHRpbWU6IG51bWJlcikge1xyXG4gICAgICAgIGxldCB0aW1lU3RyID0gdGhpcy5fc2Vjb25kVG9EYXRlMih0aW1lKTtcclxuICAgICAgICBDb21wb25lbnRIZWxwZXIubGFiZWxTdHJpbmcobm9kZSwgdGltZVN0cik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3NlY29uZFRvRGF0ZTIocmVzdWx0OiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBtOiAoc3RyaW5nIHwgbnVtYmVyKSA9IE1hdGguZmxvb3IoKHJlc3VsdCAvIDYwICUgNjApKTtcclxuICAgICAgICBsZXQgczogKHN0cmluZyB8IG51bWJlcikgPSBNYXRoLmZsb29yKChyZXN1bHQgJSA2MCkpO1xyXG5cclxuICAgICAgICBtID0gbSA+IDkgPyBtIDogJzAnICsgbTtcclxuICAgICAgICBzID0gcyA+IDkgPyBzIDogJzAnICsgcztcclxuICAgICAgICByZXR1cm4gbSArIFwiOlwiICsgcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBfc2Vjb25kVG9EYXRlKHJlc3VsdDogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgaDogKHN0cmluZyB8IG51bWJlcikgPSBNYXRoLmZsb29yKHJlc3VsdCAvIDM2MDApO1xyXG4gICAgICAgIGxldCBtOiAoc3RyaW5nIHwgbnVtYmVyKSA9IE1hdGguZmxvb3IoKHJlc3VsdCAvIDYwICUgNjApKTtcclxuICAgICAgICBsZXQgczogKHN0cmluZyB8IG51bWJlcikgPSBNYXRoLmZsb29yKChyZXN1bHQgJSA2MCkpO1xyXG4gICAgICAgIGggPSBoID4gOSA/IGggOiAnMCcgKyBoO1xyXG4gICAgICAgIG0gPSBtID4gOSA/IG0gOiAnMCcgKyBtO1xyXG4gICAgICAgIHMgPSBzID4gOSA/IHMgOiAnMCcgKyBzO1xyXG4gICAgICAgIHJldHVybiBoICsgXCI6XCIgKyBtICsgXCI6XCIgKyBzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0TGFiZWxTdHJpbmcobm9kZTogY2MuTm9kZSk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbGV0IGxhYmVsID0gbm9kZS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgICAgICBpZiAoISFsYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhYmVsLnN0cmluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICAvL2NMSGVpZ2h0IOaYr+WQpuaUueWPmOihjOmrmFxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRMYWJlbFNpemUobm9kZTogY2MuTm9kZSwgc2l6ZTogbnVtYmVyLCBjTEhlaWdodDogbnVtYmVyLCBzcGFjZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbGV0IGxhYmVsID0gbm9kZS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgICAgICBpZiAoISFsYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgbGFiZWwuZm9udFNpemUgPSBzaXplO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEhY0xIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5saW5lSGVpZ2h0ID0gc2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghIXNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuc3BhY2luZ1ggPSBzcGFjZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUxhYmVsKHNpemU6IG51bWJlciwgY29sb3I6IGNjLkNvbG9yLCBjb250ZW50Pzogc3RyaW5nLCBmb250PzogY2MuRm9udCk6IGNjLk5vZGUge1xyXG4gICAgICAgIGxldCBub2RlID0gbmV3IGNjLk5vZGUoKTtcclxuICAgICAgICBsZXQgbGFiZWw6IGNjLkxhYmVsID0gbm9kZS5hZGRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgIGxhYmVsLmZvbnRTaXplID0gc2l6ZTtcclxuICAgICAgICBsYWJlbC5mb250ID0gZm9udDtcclxuICAgICAgICBub2RlLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgbGFiZWwuc3RyaW5nID0gY29udGVudDtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuXHJcbiAgICAvL+iuvue9ruWtl+S9k1xyXG4gICAgcHVibGljIHN0YXRpYyBzZXRMYWJlbEZvbnQobm9kZTogY2MuTm9kZSwgZm9udDogY2MuRm9udCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIGxldCBsYWJlbCA9IG5vZGUuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICAgICAgaWYgKCEhbGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsLmZvbnQgPSBmb250O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5a+55a+M5paH5pys6L+b6KGM6LWL5YC8XHJcbiAgICBwdWJsaWMgc3RhdGljIHJpY2hMYWJlbFN0cmluZyhub2RlOiBjYy5Ob2RlLCB0ZXh0OiBzdHJpbmcsIGxpbmVIZWlnaHQ/OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAoY2MuaXNWYWxpZChub2RlKSkge1xyXG4gICAgICAgICAgICBsZXQgbGFiZWwgPSBub2RlLmdldENvbXBvbmVudChjYy5SaWNoVGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChsYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEhbGluZUhlaWdodCAmJiBsaW5lSGVpZ2h0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGFiZWwuc3RyaW5nID0gdGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+aLpeaciee6ueeQhuaXtuebtOaOpei1i+WAvFxyXG4gICAgcHVibGljIHN0YXRpYyBzcHJpdGVGcmFtZShub2RlOiBjYy5Ob2RlLCBzcHJpdGVGcmFtZTogY2MuU3ByaXRlRnJhbWUpOiBjYy5TcHJpdGUge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIGxldCBzcHJpdGUgPSBub2RlLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xyXG4gICAgICAgICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUuc3ByaXRlRnJhbWUgPSBzcHJpdGVGcmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc3ByaXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFNwcml0ZUZyYW1lKG5vZGU6IGNjLk5vZGUpOiBjYy5TcHJpdGVGcmFtZSB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbGV0IHNwcml0ZSA9IG5vZGUuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSk7XHJcbiAgICAgICAgICAgIGlmIChzcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzcHJpdGUuc3ByaXRlRnJhbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVTcHJpdGUocmVzOiBjYy5TcHJpdGVGcmFtZSwgYW5jaG9yPzogY2MuVmVjMikge1xyXG4gICAgICAgIGxldCBub2RlID0gbmV3IGNjLk5vZGUoKTtcclxuICAgICAgICBsZXQgc3ByaXRlID0gbm9kZS5hZGRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuICAgICAgICBzcHJpdGUuc3ByaXRlRnJhbWUgPSByZXM7XHJcbiAgICAgICAgaWYgKCEhYW5jaG9yKSB7XHJcbiAgICAgICAgICAgIG5vZGUuYW5jaG9yWCA9IGFuY2hvci54O1xyXG4gICAgICAgICAgICBub2RlLmFuY2hvclkgPSBhbmNob3IueTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjbGVhclNwcml0ZUZyYW1lKG5vZGU6IGNjLk5vZGUpOiB2b2lkIHtcclxuICAgICAgICBpZiAoY2MuaXNWYWxpZChub2RlKSkge1xyXG4gICAgICAgICAgICBsZXQgc3ByaXRlID0gbm9kZS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuICAgICAgICAgICAgaWYgKHNwcml0ZSkge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlLnNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNwcml0ZUdyYXkobm9kZTogY2MuTm9kZSwgaXNHcmF5OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbGV0IHNwcml0ZTogYW55ID0gbm9kZS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuICAgICAgICAgICAgaWYgKCFzcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIHNwcml0ZSA9IG5vZGUuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFzcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc0dyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUuc2V0TWF0ZXJpYWwoMCwgY2MuTWF0ZXJpYWwuZ2V0QnVpbHRpbk1hdGVyaWFsKCcyZC1ncmF5LXNwcml0ZScpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNldE1hdGVyaWFsKDAsIGNjLk1hdGVyaWFsLmdldEJ1aWx0aW5NYXRlcmlhbCgnMmQtc3ByaXRlJykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v6I635b6Xc2Nyb2xsVmlldyDlubbmu5HliqjliLDmjIflrprkvY3nva5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0U2Nyb2xsVmlld0FuZFNjcm9sbChub2RlOiBjYy5Ob2RlLCB4OiBudW1iZXIsIHk6IG51bWJlcik6IGNjLlNjcm9sbFZpZXcge1xyXG4gICAgICAgIGxldCBzY3JvbGxWaWV3ID0gbm9kZS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldyk7XHJcbiAgICAgICAgaWYgKHNjcm9sbFZpZXcpIHtcclxuICAgICAgICAgICAgc2Nyb2xsVmlldy5zdG9wQXV0b1Njcm9sbCgpO1xyXG4gICAgICAgICAgICBzY3JvbGxWaWV3LnNjcm9sbFRvT2Zmc2V0KGNjLnYyKHgsIHkpLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNjcm9sbFZpZXc7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ojrflvpdzY3JvbGxWaWV3IOW5tua7keWKqOWIsOaMh+WumuS9jee9rlxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRTY3JvbGxWaWV3QW5kU2Nyb2xsUGVyY2VudChub2RlOiBjYy5Ob2RlLCB4OiBudW1iZXIsIHk6IG51bWJlcik6IGNjLlNjcm9sbFZpZXcge1xyXG4gICAgICAgIGxldCBzY3JvbGxWaWV3ID0gbm9kZS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldyk7XHJcbiAgICAgICAgaWYgKHNjcm9sbFZpZXcpIHtcclxuICAgICAgICAgICAgc2Nyb2xsVmlldy5zdG9wQXV0b1Njcm9sbCgpO1xyXG4gICAgICAgICAgICBzY3JvbGxWaWV3LnNjcm9sbFRvKGNjLnYyKHgsIHkpLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNjcm9sbFZpZXc7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8v5ruR5Yqo5Yiw6aG26YOoXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFNjcm9sbFZpZXdBbmRTY3JvbGxUb3Aobm9kZTogY2MuTm9kZSwgdGltZTogbnVtYmVyID0gMCk6IGNjLlNjcm9sbFZpZXcge1xyXG4gICAgICAgIGxldCBzY3JvbGxWaWV3ID0gbm9kZS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldyk7XHJcbiAgICAgICAgaWYgKHNjcm9sbFZpZXcpIHtcclxuICAgICAgICAgICAgc2Nyb2xsVmlldy5zdG9wQXV0b1Njcm9sbCgpO1xyXG4gICAgICAgICAgICBzY3JvbGxWaWV3LnNjcm9sbFRvVG9wKHRpbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2Nyb2xsVmlldztcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy/mu5HliqjliLDlt6bkvqdcclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0U2Nyb2xsVmlld0FuZFNjcm9sbExlZnQobm9kZTogY2MuTm9kZSwgdGltZTogbnVtYmVyID0gMCk6IGNjLlNjcm9sbFZpZXcge1xyXG4gICAgICAgIGxldCBzY3JvbGxWaWV3ID0gbm9kZS5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldyk7XHJcbiAgICAgICAgaWYgKHNjcm9sbFZpZXcpIHtcclxuICAgICAgICAgICAgc2Nyb2xsVmlldy5zdG9wQXV0b1Njcm9sbCgpO1xyXG4gICAgICAgICAgICBzY3JvbGxWaWV3LnNjcm9sbFRvTGVmdCh0aW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNjcm9sbFZpZXc7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0U2Nyb2xsVmlld0VuYWJsZWQobm9kZTogY2MuTm9kZSwgdmFsdWU6IGJvb2xlYW4gPSB0cnVlKTogY2MuU2Nyb2xsVmlldyB7XHJcbiAgICAgICAgbGV0IHNjcm9sbFZpZXcgPSBub2RlLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KTtcclxuICAgICAgICBpZiAoISFzY3JvbGxWaWV3KSB7XHJcbiAgICAgICAgICAgIHNjcm9sbFZpZXcuZW5hYmxlZCA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2Nyb2xsVmlld1xyXG4gICAgfVxyXG5cclxuICAgIC8v6K6+572u6YCa55So6LSn5biBICB4eOS4hyDmiJbogIUgeHjkur9cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0Q29tbW9uQ3VycmVueUxhYmVsKG5vZGU6IGNjLk5vZGUsIGNvdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAoY2MuaXNWYWxpZChub2RlKSkge1xyXG4gICAgICAgICAgICBsZXQgbGFiZWwgPSBub2RlLmdldENvbXBvbmVudCgnQ29tbW9uQ3VycmVuY3lMYWJlbCcpO1xyXG4gICAgICAgICAgICBpZiAobGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsLnNldENvbnRlbnQoY291bnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5bCP5pWw54K55pWw5a2XXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldERvdExhYmVsKG5vZGU6IGNjLk5vZGUsIHZhbHVlOiBudW1iZXIsIGlzVWludDogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHtcclxuICAgICAgICBpZiAoY2MuaXNWYWxpZChub2RlKSkge1xyXG4gICAgICAgICAgICBsZXQgbGFiZWwgPSBub2RlLmdldENvbXBvbmVudCgnRG90TGFiZWwnKTtcclxuICAgICAgICAgICAgaWYgKGxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5zdHJpbmcodmFsdWUsIGlzVWludCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRMYWJlbENvbG9yKG5vZGU6IGNjLk5vZGUsIGNvbG9yOiBjYy5Db2xvcik6IHZvaWQge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIG5vZGUuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRFZGl0b3JTdHJpbmcobm9kZTogY2MuTm9kZSk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbGV0IGVkaXRib3ggPSBub2RlLmdldENvbXBvbmVudChjYy5FZGl0Qm94KTtcclxuICAgICAgICAgICAgaWYgKCEhZWRpdGJveCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVkaXRib3guc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldEVkaXRvclN0cmluZyhub2RlOiBjYy5Ob2RlLCBzdHI6IHN0cmluZykge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIGxldCBlZGl0Ym94ID0gbm9kZS5nZXRDb21wb25lbnQoY2MuRWRpdEJveCk7XHJcbiAgICAgICAgICAgIGlmICghIWVkaXRib3gpIHtcclxuICAgICAgICAgICAgICAgIGVkaXRib3guc3RyaW5nID0gc3RyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v6K6+572u5paH5a2X5o+P6L65XHJcbiAgICBwdWJsaWMgc3RhdGljIHNldExhYmVsT3V0KG5vZGU6IGNjLk5vZGUsIGNvbG9yOiBjYy5Db2xvciwgd2lkdGg6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIGxldCBsYWJlbE91dCA9IG5vZGUuYWRkQ29tcG9uZW50KGNjLkxhYmVsT3V0bGluZSk7XHJcbiAgICAgICAgICAgIGxhYmVsT3V0LmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgICAgIGxhYmVsT3V0LndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v56e76Zmk5o+P6L65XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlbW92ZUxpbmVPdXQobm9kZSk6IHZvaWQge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIGxldCBsYWJlbE91dCA9IG5vZGUucmVtb3ZlQ29tcG9uZW50KGNjLkxhYmVsT3V0bGluZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v6I635b6X6L6T5YWl5qGG55qE5YaF5a65XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEVkaXRCb3hTdHJpbmcobm9kZSk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbGV0IGVkaXRCb3ggPSBub2RlLmdldENvbXBvbmVudChjYy5FZGl0Qm94KTtcclxuICAgICAgICAgICAgaWYgKGVkaXRCb3guc3RyaW5nICE9IGVkaXRCb3gucGxhY2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlZGl0Qm94LnN0cmluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHN0ckNsYW1wKHN0cjogc3RyaW5nLCBtYXhDaGFyczogbnVtYmVyLCBzdWZmaXg6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKHN0ciA9PT0gJycpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgdG9Db2RlUG9pbnQgPSBmdW5jdGlvbiAodW5pY29kZVN1cnJvZ2F0ZXMpIHtcclxuICAgICAgICAgICAgbGV0IHIgPSBbXSwgYyA9IDAsIHAgPSAwLCBpID0gMDtcclxuICAgICAgICAgICAgd2hpbGUgKGkgPCB1bmljb2RlU3Vycm9nYXRlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwb3MgPSBpO1xyXG4gICAgICAgICAgICAgICAgYyA9IHVuaWNvZGVTdXJyb2dhdGVzLmNoYXJDb2RlQXQoaSsrKTsvL+i/lOWbnuS9jee9rueahOWtl+espueahCBVbmljb2RlIOe8lueggSBcclxuICAgICAgICAgICAgICAgIGlmIChjID09IDB4ZmUwZikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSAoMHgxMDAwMCArICgocCAtIDB4RDgwMCkgPDwgMTApICsgKGMgLSAweERDMDApKTtcclxuICAgICAgICAgICAgICAgICAgICByLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2OiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7IC8v6K6h566XNOWtl+iKgueahHVuaWNvZGVcclxuICAgICAgICAgICAgICAgICAgICBwID0gMDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoMHhEODAwIDw9IGMgJiYgYyA8PSAweERCRkYpIHtcclxuICAgICAgICAgICAgICAgICAgICBwID0gYzsgLy/lpoLmnpx1bmljb2Rl57yW56CB5Zyob3hEODAwLTB4REJmZuS5i+mXtO+8jOWImemcgOimgeS4juWQjuS4gOS4quWtl+espuaUvuWcqOS4gOi1t1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2OiBjLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOyAvL+WmguaenOaYrzLlrZfoioLvvIznm7TmjqXlsIbnoIHngrnovazkuLrlr7nlupTnmoTljYHlha3ov5vliLblvaLlvI9cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN1ZmZpeCA9IHN1ZmZpeCA9PT0gbnVsbCA/ICcuLi4nIDogc3VmZml4O1xyXG4gICAgICAgIG1heENoYXJzICo9IDI7XHJcblxyXG4gICAgICAgIGxldCBjb2RlQXJyID0gdG9Db2RlUG9pbnQoc3RyKTtcclxuICAgICAgICBsZXQgbnVtQ2hhciA9IDA7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvZGVBcnIubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgbGV0IGNvZGUgPSBjb2RlQXJyW2ldLnY7XHJcbiAgICAgICAgICAgIGxldCBhZGQgPSAxO1xyXG4gICAgICAgICAgICBpZiAoY29kZSA+PSAxMjgpIHtcclxuICAgICAgICAgICAgICAgIGFkZCA9IDI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8v5aaC5p6c6LaF6L+H5LqG6ZmQ5Yi277yM5YiZ5oyJ5LiK5LiA5Liq5Li65YeGXHJcbiAgICAgICAgICAgIGlmIChudW1DaGFyICsgYWRkID4gbWF4Q2hhcnMpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpbmRleCA9IGk7XHJcbiAgICAgICAgICAgIC8v57Sv5YqgXHJcbiAgICAgICAgICAgIG51bUNoYXIgKz0gYWRkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29kZUFyci5sZW5ndGggLSAxID09IGluZGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtb3JlID0gc3VmZml4ID8gMSA6IDA7XHJcbiAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoMCwgY29kZUFycltpbmRleCAtIG1vcmVdLnBvcyArIDEpICsgc3VmZml4O1xyXG4gICAgfVxyXG5cclxuICAgIC8v6I635b6XY2hlY2tib3jnmoTpgInmi6nnirbmgIFcclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VG9nZ2xlKG5vZGU6IGNjLk5vZGUpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoY2MuaXNWYWxpZChub2RlKSkge1xyXG4gICAgICAgICAgICBsZXQgdG9nZ2xlID0gbm9kZS5nZXRDb21wb25lbnQoY2MuVG9nZ2xlKTtcclxuICAgICAgICAgICAgaWYgKCEhdG9nZ2xlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9nZ2xlLmlzQ2hlY2tlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRUb2dnbGVMaXN0ZW5lcihub2RlLCBmdW5jLCBob3N0KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbm9kZS5vbigndG9nZ2xlJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGZ1bmMgJiYgZnVuYy5jYWxsKGhvc3QsIGUuaXNDaGVja2VkKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRCdXR0b25JbnRlcmFjdGFibGUobm9kZTogY2MuTm9kZSwgc3RhdHVzOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbGV0IGJ1dHRvbiA9IG5vZGUuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbik7XHJcbiAgICAgICAgICAgIGlmICghIWJ1dHRvbikge1xyXG4gICAgICAgICAgICAgICAgYnV0dG9uLmludGVyYWN0YWJsZSA9IHN0YXR1cztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJ1dHRvbkludGVyYWN0YWJlbChub2RlOiBjYy5Ob2RlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbGV0IGJ1dHRvbiA9IG5vZGUuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbik7XHJcbiAgICAgICAgICAgIGlmICghIWJ1dHRvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbi5pbnRlcmFjdGFibGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhZGRDbGlja0V2ZW50KG5vZGUsIHRhcmdldCwgY29tcG9uZW50LCBoYW5kbGVyKTogdm9pZCB7XHJcbiAgICAgICAgdmFyIGV2ZW50SGFuZGxlciA9IG5ldyBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKCk7XHJcbiAgICAgICAgZXZlbnRIYW5kbGVyLnRhcmdldCA9IHRhcmdldDtcclxuICAgICAgICBldmVudEhhbmRsZXIuY29tcG9uZW50ID0gY29tcG9uZW50O1xyXG4gICAgICAgIGV2ZW50SGFuZGxlci5oYW5kbGVyID0gaGFuZGxlcjtcclxuICAgICAgICB2YXIgY2xpY2tFdmVudHMgPSBub2RlLmdldENvbXBvbmVudChjYy5CdXR0b24pLmNsaWNrRXZlbnRzO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xpY2tFdmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGNsaWNrRXZlbnRzW2ldICYmIGNsaWNrRXZlbnRzW2ldLmhhbmRsZXIgPT0gZXZlbnRIYW5kbGVyLmhhbmRsZXIgJiYgY2xpY2tFdmVudHNbaV0uY29tcG9uZW50ID09IGV2ZW50SGFuZGxlci5jb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjbGlja0V2ZW50cy5wdXNoKGV2ZW50SGFuZGxlcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy/orr7nva7ov5vluqZcclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0UHJvZ3Jlc3NCYXIobm9kZTogY2MuTm9kZSwgdmFsdWU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIGxldCBiYXIgPSBub2RlLmdldENvbXBvbmVudChjYy5Qcm9ncmVzc0Jhcik7XHJcbiAgICAgICAgICAgIGlmICghIWJhcikge1xyXG4gICAgICAgICAgICAgICAgYmFyLnByb2dyZXNzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRTcGluZVN0b3Aobm9kZTogY2MuTm9kZSwgaXNTdG9wOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbGV0IHNwaW5lID0gbm9kZS5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pO1xyXG4gICAgICAgICAgICBpZiAoISFzcGluZSkge1xyXG4gICAgICAgICAgICAgICAgc3BpbmUucGF1c2VkID0gaXNTdG9wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL+iuvue9rnNwaW5l55qu6IKkXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldFNwaW5lU2tpbihub2RlOiBjYy5Ob2RlLCBza2luOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAoY2MuaXNWYWxpZChub2RlKSkge1xyXG4gICAgICAgICAgICBsZXQgc3BpbmUgPSBub2RlLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbik7XHJcbiAgICAgICAgICAgIGlmICghIXNwaW5lKSB7XHJcbiAgICAgICAgICAgICAgICBzcGluZS5zZXRTa2luKHNraW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v6K6+572uc3BpbmXliqjnlLtcclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0U3BpbmVBbmltYXRlKG5vZGU6IGNjLk5vZGUsIGFuaW1hdGlvbjogc3RyaW5nLCBpc0xvb3A6IGJvb2xlYW4sIGZ1bmM6IChhcmc6IGFueSkgPT4gdm9pZCwgaG9zdDogYW55LCBhcmc6IGFueSkge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIGxldCBzcGluZSA9IG5vZGUuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKTtcclxuICAgICAgICAgICAgaWYgKCEhc3BpbmUpIHtcclxuICAgICAgICAgICAgICAgIHNwaW5lLnNldEFuaW1hdGlvbigwLCBhbmltYXRpb24sIGlzTG9vcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEhZnVuYykge1xyXG4gICAgICAgICAgICAgICAgc3BpbmUuc2V0Q29tcGxldGVMaXN0ZW5lcigodHJhY2tFbnRyeSwgbG9vcENvdW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BpbmUuc2V0Q29tcGxldGVMaXN0ZW5lcihudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jLmNhbGwoaG9zdCwgYXJnKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/pl6rng4FBY3Rpb24gXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldEZsaWNrZXJBY3Rpb24obm9kZTogY2MuTm9kZSwgdGltZTogbnVtYmVyLCBjb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgLy8gY2MubG9nKCflvIDlp4vpl6rng4HkuoYrKysrKysrKysrKysrKycpO1xyXG4gICAgICAgICAgICBub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLmJsaW5rKHRpbWUsIGNvdW50KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vaGVhcnRBY3Rpb24g5b+D6LezXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldEhlYXJ0QWN0aW9uKG5vZGU6IGNjLk5vZGUsIHRpbWU6IG51bWJlciA9IDAuNSwgaXNTdGFydEJpZzogYm9vbGVhbiA9IGZhbHNlLCBiaWdTY2FsZTogbnVtYmVyID0gMS4yLCBzbWFsbFNjYWxlOiBudW1iZXIgPSAwLjksIHNwZWNpYWw6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIG5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAgICAgbGV0IGRlbGF5QWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKHNwZWNpYWwpIHtcclxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aW1lIC0gMC4yO1xyXG4gICAgICAgICAgICAgICAgZGVsYXlBY3Rpb24gPSBjYy5kZWxheVRpbWUoMC4yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgc2NhbGVCaWdBY3Rpb24gPSBjYy5zY2FsZVRvKHRpbWUsIGJpZ1NjYWxlLCBiaWdTY2FsZSk7XHJcbiAgICAgICAgICAgIGxldCBzY2FsZVNtYWxsQWN0aW9uID0gY2Muc2NhbGVUbyh0aW1lLCBzbWFsbFNjYWxlLCBzbWFsbFNjYWxlKTtcclxuICAgICAgICAgICAgbGV0IGFjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChzcGVjaWFsKSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb24gPSBpc1N0YXJ0QmlnID8gY2Muc2VxdWVuY2UoZGVsYXlBY3Rpb24sIHNjYWxlQmlnQWN0aW9uLCBkZWxheUFjdGlvbiwgc2NhbGVTbWFsbEFjdGlvbikgOiBjYy5zZXF1ZW5jZShkZWxheUFjdGlvbiwgc2NhbGVTbWFsbEFjdGlvbiwgZGVsYXlBY3Rpb24sIHNjYWxlQmlnQWN0aW9uKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uID0gaXNTdGFydEJpZyA/IGNjLnNlcXVlbmNlKHNjYWxlQmlnQWN0aW9uLCBzY2FsZVNtYWxsQWN0aW9uKSA6IGNjLnNlcXVlbmNlKHNjYWxlU21hbGxBY3Rpb24sIHNjYWxlQmlnQWN0aW9uKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLnJlcGVhdEZvcmV2ZXIoYWN0aW9uKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy9oZWFydEFjdGlvbiDnn63ml7bpl7Tlv4Pot7NcclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0SGVhcnRBY3Rpb25CeVRpbWUobm9kZTogY2MuTm9kZSwgbnVtID0gNSwgY2FsbEJhY2sgPSBudWxsLCB0aW1lOiBudW1iZXIgPSAwLjUsIGlzU3RhcnRCaWc6IGJvb2xlYW4gPSBmYWxzZSwgYmlnU2NhbGU6IG51bWJlciA9IDEuMiwgc21hbGxTY2FsZTogbnVtYmVyID0gMC45LCBzcGVjaWFsOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcclxuICAgICAgICBpZiAoY2MuaXNWYWxpZChub2RlKSkge1xyXG4gICAgICAgICAgICBub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIG5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAgICAgbGV0IGRlbGF5QWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKHNwZWNpYWwpIHtcclxuICAgICAgICAgICAgICAgIHRpbWUgPSB0aW1lIC0gMC4yO1xyXG4gICAgICAgICAgICAgICAgZGVsYXlBY3Rpb24gPSBjYy5kZWxheVRpbWUoMC4yKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGN1cnJlbnROdW0gPSAwO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNjYWxlQmlnQWN0aW9uID0gY2Muc2NhbGVUbyh0aW1lLCBiaWdTY2FsZSwgYmlnU2NhbGUpO1xyXG4gICAgICAgICAgICBsZXQgc2NhbGVTbWFsbEFjdGlvbiA9IGNjLnNjYWxlVG8odGltZSwgc21hbGxTY2FsZSwgc21hbGxTY2FsZSk7XHJcbiAgICAgICAgICAgIGxldCBzY2FsZUZ1biA9IGNjLmNhbGxGdW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnROdW0rKztcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsQmFjayAmJiBjdXJyZW50TnVtID49IG51bSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhbGxCYWNrKWNhbGxCYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBsZXQgYWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKHNwZWNpYWwpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbiA9IGlzU3RhcnRCaWcgPyBjYy5zZXF1ZW5jZShkZWxheUFjdGlvbiwgc2NhbGVCaWdBY3Rpb24sIGRlbGF5QWN0aW9uLCBzY2FsZVNtYWxsQWN0aW9uLCBzY2FsZUZ1bikgOiBjYy5zZXF1ZW5jZShkZWxheUFjdGlvbiwgc2NhbGVTbWFsbEFjdGlvbiwgZGVsYXlBY3Rpb24sIHNjYWxlQmlnQWN0aW9uLCBzY2FsZUZ1bilcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbiA9IGlzU3RhcnRCaWcgPyBjYy5zZXF1ZW5jZShzY2FsZUJpZ0FjdGlvbiwgc2NhbGVTbWFsbEFjdGlvbiwgc2NhbGVGdW4pIDogY2Muc2VxdWVuY2Uoc2NhbGVTbWFsbEFjdGlvbiwgc2NhbGVCaWdBY3Rpb24sIHNjYWxlRnVuKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLnJlcGVhdChhY3Rpb24sIG51bSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+S4iuS4i+a1ruWKqFxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRVcERvd25BY3Rpb24obm9kZTogY2MuTm9kZSwgdGltZTogbnVtYmVyID0gMC41LCB5OiBudW1iZXIgPSAyMCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIG5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAgICAgbGV0IHBvcyA9IGNjLnYyKG5vZGUueCwgbm9kZS55KVxyXG4gICAgICAgICAgICBsZXQgbW92ZVVwID0gY2MubW92ZVRvKHRpbWUsIGNjLnYyKHBvcy54LCBwb3MueSArIHkpKTtcclxuICAgICAgICAgICAgbGV0IG1vdmVEb3duID0gY2MubW92ZVRvKHRpbWUsIGNjLnYyKHBvcy54LCBwb3MueSkpO1xyXG4gICAgICAgICAgICBsZXQgYWN0aW9uID0gY2Muc2VxdWVuY2UobW92ZVVwLCBtb3ZlRG93bik7XHJcbiAgICAgICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLnJlcGVhdEZvcmV2ZXIoYWN0aW9uKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0TFJBY3Rpb24obm9kZTogY2MuTm9kZSwgdGltZTogbnVtYmVyID0gMC41LCB4OiBudW1iZXIgPSAyMCkge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIG5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAgICAgbGV0IHBvcyA9IGNjLnYyKG5vZGUueCwgbm9kZS55KVxyXG4gICAgICAgICAgICBsZXQgbW92ZVVwID0gY2MubW92ZVRvKHRpbWUsIGNjLnYyKHBvcy54ICsgeCwgcG9zLnkpKTtcclxuICAgICAgICAgICAgbGV0IG1vdmVEb3duID0gY2MubW92ZVRvKHRpbWUsIGNjLnYyKHBvcy54LCBwb3MueSkpO1xyXG4gICAgICAgICAgICBsZXQgYWN0aW9uID0gY2Muc2VxdWVuY2UobW92ZVVwLCBtb3ZlRG93bik7XHJcbiAgICAgICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLnJlcGVhdEZvcmV2ZXIoYWN0aW9uKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRSb3RhdGlvbihub2RlOiBjYy5Ob2RlLCB0aW1lOiBudW1iZXIgPSAwLjUsIHg6IG51bWJlciA9IDIwKSB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICBsZXQgcG9zID0gY2MudjIobm9kZS54LCBub2RlLnkpXHJcbiAgICAgICAgICAgIGxldCBtb3ZlVXAgPSBjYy5yb3RhdGVUbyh0aW1lLCAxMCk7XHJcbiAgICAgICAgICAgIGxldCBtb3ZlRG93biA9IGNjLnJvdGF0ZVRvKHRpbWUsIC0xMCk7XHJcbiAgICAgICAgICAgIGxldCBhY3Rpb24gPSBjYy5zZXF1ZW5jZShtb3ZlVXAsIG1vdmVEb3duKTtcclxuICAgICAgICAgICAgbm9kZS5ydW5BY3Rpb24oY2MucmVwZWF0Rm9yZXZlcihhY3Rpb24pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRTY2FsZUd1b0Rvbmcobm9kZTogY2MuTm9kZSwgdGltZTogbnVtYmVyID0gMC4xLCBpc1N0YXJ0QmlnOiBib29sZWFuID0gdHJ1ZSwgYmlnU2NhbGU6IG51bWJlciA9IDEuMywgc21hbGxTY2FsZTogbnVtYmVyID0gMS4wKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICBsZXQgc2NhbGVCaWdBY3Rpb24gPSBjYy5zY2FsZVRvKHRpbWUsIGJpZ1NjYWxlLCBiaWdTY2FsZSk7XHJcbiAgICAgICAgICAgIGxldCBzY2FsZVNtYWxsQWN0aW9uID0gY2Muc2NhbGVUbyh0aW1lLCBzbWFsbFNjYWxlLCBzbWFsbFNjYWxlKTtcclxuICAgICAgICAgICAgbGV0IGFjdGlvbiA9IGlzU3RhcnRCaWcgPyBjYy5zZXF1ZW5jZShzY2FsZUJpZ0FjdGlvbiwgc2NhbGVTbWFsbEFjdGlvbikgOiBjYy5zZXF1ZW5jZShzY2FsZVNtYWxsQWN0aW9uLCBzY2FsZUJpZ0FjdGlvbilcclxuICAgICAgICAgICAgbm9kZS5ydW5BY3Rpb24oYWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRKdW1wQWN0aW9tKG5vZGU6IGNjLk5vZGUsIHRpbWU6IG51bWJlciA9IDAuMywgeTogbnVtYmVyID0gMjApOiB2b2lkIHtcclxuICAgICAgICBpZiAoY2MuaXNWYWxpZChub2RlKSkge1xyXG4gICAgICAgICAgICBub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgICAgIGxldCBwb3MgPSBjYy52Mihub2RlLngsIG5vZGUueSlcclxuICAgICAgICAgICAgbGV0IG1vdmVVcCA9IGNjLm1vdmVUbyh0aW1lLCBjYy52Mihwb3MueCwgcG9zLnkgKyB5KSk7XHJcbiAgICAgICAgICAgIGxldCBtb3ZlRG93biA9IGNjLm1vdmVUbyh0aW1lLCBjYy52Mihwb3MueCwgcG9zLnkpKTtcclxuICAgICAgICAgICAgbGV0IGFjdGlvbiA9IGNjLnNlcXVlbmNlKG1vdmVVcCwgbW92ZURvd24pO1xyXG4gICAgICAgICAgICBub2RlLnJ1bkFjdGlvbihhY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNldFJlSnVtcEFjdGlvbShub2RlOiBjYy5Ob2RlLCB0aW1lOiBudW1iZXIgPSAwLjMsIHk6IG51bWJlciA9IDEwKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICBsZXQgcG9zID0gY2MudjIobm9kZS54LCBub2RlLnkpXHJcbiAgICAgICAgICAgIGxldCBtb3ZlVXAgPSBjYy5tb3ZlVG8odGltZSwgY2MudjIocG9zLngsIHBvcy55ICsgeSkpO1xyXG4gICAgICAgICAgICBsZXQgbW92ZURvd24gPSBjYy5tb3ZlVG8odGltZSwgY2MudjIocG9zLngsIHBvcy55IC0geSkpO1xyXG4gICAgICAgICAgICBsZXQgYWN0aW9uID0gY2Muc2VxdWVuY2UobW92ZVVwLCBtb3ZlRG93bik7XHJcbiAgICAgICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLnJlcGVhdEZvcmV2ZXIoYWN0aW9uKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5p+Q5Liq5pa55ZCR5b6q546v56e75YqoXHJcbiAgICAvL2Rpc3RhbmNl5b6q546v56e75Yqo55qE6Led56a7XHJcbiAgICBwdWJsaWMgc3RhdGljIHNldEZvckV2ZXJNb3ZlQWN0aW9uKG5vZGU6IGNjLk5vZGUsIGRpc3RhbmNlOiBudW1iZXIgPSA1LCB0aW1lOiBudW1iZXIgPSAwLjUsIGlzU3RhcnRCaWc6IGJvb2xlYW4gPSBmYWxzZSwgYXhpczogc3RyaW5nID0gJ3gnLCBpc0Vhc2U6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIG5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAgICAgbGV0IHBvcyA9IG5vZGUuZ2V0UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgbGV0IHNjYWxlQmlnQWN0aW9uID0gYXhpcyA9PT0gJ3gnID8gY2MubW92ZVRvKHRpbWUsIHBvcy54ICsgZGlzdGFuY2UsIHBvcy55KSA6IGNjLm1vdmVUbyh0aW1lLCBwb3MueCwgcG9zLnkgKyBkaXN0YW5jZSk7XHJcbiAgICAgICAgICAgIGlmIChpc0Vhc2UpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlQmlnQWN0aW9uID0gc2NhbGVCaWdBY3Rpb24uZWFzaW5nKGNjLmVhc2VPdXQoMS41KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHNjYWxlU21hbGxBY3Rpb24gPSBjYy5tb3ZlVG8odGltZSwgcG9zLngsIHBvcy55KVxyXG4gICAgICAgICAgICBsZXQgYWN0aW9uID0gaXNTdGFydEJpZyA/IGNjLnNlcXVlbmNlKHNjYWxlQmlnQWN0aW9uLCBzY2FsZVNtYWxsQWN0aW9uKSA6IGNjLnNlcXVlbmNlKHNjYWxlU21hbGxBY3Rpb24sIHNjYWxlQmlnQWN0aW9uKVxyXG4gICAgICAgICAgICBub2RlLnJ1bkFjdGlvbihjYy5yZXBlYXRGb3JldmVyKGFjdGlvbikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+W+queOr+enu+WKqCDmkq3mlL7mjIflrprml7bpl7RcclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0TG9vcEFjdGlvbihub2RlOiBjYy5Ob2RlLCBjYWxsQmFjazogKCkgPT4gdm9pZCwgYXhpczogc3RyaW5nID0gJ3knLCBkaXN0YW5jZTogbnVtYmVyID0gNSwgYWN0aW9uVGltZTogbnVtYmVyID0gMC41LCBkdXJhdGlvbjogbnVtYmVyID0gMywgaXNTdGFydEJpZzogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICBsZXQgcG9zID0gbm9kZS5nZXRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICBsZXQgc2NhbGVCaWdBY3Rpb24gPSBheGlzID09PSAneCcgPyBjYy5tb3ZlVG8oYWN0aW9uVGltZSwgcG9zLnggKyBkaXN0YW5jZSwgcG9zLnkpIDogY2MubW92ZVRvKGFjdGlvblRpbWUsIHBvcy54LCBwb3MueSArIGRpc3RhbmNlKTtcclxuICAgICAgICAgICAgbGV0IHNjYWxlU21hbGxBY3Rpb24gPSBjYy5tb3ZlVG8oYWN0aW9uVGltZSwgcG9zLngsIHBvcy55KTtcclxuICAgICAgICAgICAgbGV0IGFjdGlvbiA9IGlzU3RhcnRCaWcgPyBjYy5zZXF1ZW5jZShzY2FsZUJpZ0FjdGlvbiwgc2NhbGVTbWFsbEFjdGlvbikgOiBjYy5zZXF1ZW5jZShzY2FsZVNtYWxsQWN0aW9uLCBzY2FsZUJpZ0FjdGlvbik7XHJcbiAgICAgICAgICAgIGxldCBjb3VudCA9IGR1cmF0aW9uIC8gKGFjdGlvblRpbWUgKiAyKTtcclxuICAgICAgICAgICAgbm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MucmVwZWF0KGFjdGlvbiwgY291bnQpLCBjYy5jYWxsRnVuYyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsQmFjayAmJiBjYWxsQmFjaygpO1xyXG4gICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+e8qeaUvuaYvuekuuWbnuW8uVxyXG4gICAgcHVibGljIHN0YXRpYyBzZXRTY2FsZUJvdW5jZShub2RlOiBjYy5Ob2RlLCBjYWxsQmFjazogKCkgPT4gdm9pZCwgZHVyYXRpb246IG51bWJlciA9IDAuMSwgYmR1cmF0aW9uOiBudW1iZXIgPSAwLjYsIGJSYWRpbzogbnVtYmVyID0gMS44KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgbGV0IGJBY3Rpb24gPSBjYy5zY2FsZVRvKGR1cmF0aW9uLCBiUmFkaW8sIGJSYWRpbyk7XHJcbiAgICAgICAgICAgIGxldCBzQWN0aW9uID0gY2Muc2NhbGVUbyhiZHVyYXRpb24sIDEsIDEpLmVhc2luZyhjYy5lYXNlQm91bmNlT3V0KCkpO1xyXG4gICAgICAgICAgICBub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShiQWN0aW9uLCBjYy5kZWxheVRpbWUoMC4xKSwgc0FjdGlvbiwgY2MuY2FsbEZ1bmMoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbEJhY2sgJiYgY2FsbEJhY2soKTtcclxuICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDorr7nva7kuIvnoLjmlYjmnpxcclxuICAgICAqIEBwYXJhbSBub2RlIOiKgueCuVxyXG4gICAgICogQHBhcmFtIGR1cmF0aW9uIOaMgee7reaXtumXtFxyXG4gICAgICogQHBhcmFtIGJpZ1NjYWxlIOi1t+Wni+acgOWkp+WAvFxyXG4gICAgICogQHBhcmFtIHNtYWxsU2NhbGUg57yp5pS+5Yiw5pyA5bCP5YC8XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0RG93bkFjdGlvbihub2RlOiBjYy5Ob2RlLCBkdXJhdGlvbjogbnVtYmVyID0gMC4yLCBiaWdTY2FsZTogbnVtYmVyID0gMywgc21hbGxTY2FsZTogbnVtYmVyID0gMSk6IHZvaWQge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIG5vZGUuc2NhbGVYID0gbm9kZS5zY2FsZVkgPSBiaWdTY2FsZTtcclxuICAgICAgICAgICAgbm9kZS5ydW5BY3Rpb24oY2Muc2NhbGVUbyhkdXJhdGlvbiwgc21hbGxTY2FsZSwgc21hbGxTY2FsZSkuZWFzaW5nKGNjLmVhc2VCb3VuY2VJbk91dCgpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vVE9ETyDlkI7mnJ/kv67mlLnmiJDpnIfliqjnsbtcclxuICAgIHB1YmxpYyBzdGF0aWMgc2hha2VFZmZlY3Qobm9kZTogY2MuTm9kZSwgZHVyYXRpb246IG51bWJlciA9IDAuNik6IHZvaWQge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIG5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAgICAgbm9kZS5ydW5BY3Rpb24oXHJcbiAgICAgICAgICAgICAgICBjYy5yZXBlYXRGb3JldmVyKFxyXG4gICAgICAgICAgICAgICAgICAgIGNjLnNlcXVlbmNlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5tb3ZlVG8oMC4wMiwgY2MudjIoNSwgNykpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5tb3ZlVG8oMC4wMiwgY2MudjIoLTYsIDcpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2MubW92ZVRvKDAuMDIsIGNjLnYyKC0xMywgMykpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5tb3ZlVG8oMC4wMiwgY2MudjIoMywgLTYpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2MubW92ZVRvKDAuMDIsIGNjLnYyKC01LCA1KSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLm1vdmVUbygwLjAyLCBjYy52MigyLCAtOCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5tb3ZlVG8oMC4wMiwgY2MudjIoLTgsIC0xMCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5tb3ZlVG8oMC4wMiwgY2MudjIoMywgMTApKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2MubW92ZVRvKDAuMDIsIGNjLnYyKDAsIDApKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5zZXRQb3NpdGlvbigwLCAwKTtcclxuICAgICAgICAgICAgfSwgZHVyYXRpb24gKiAxMDAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/ui/BaseView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1774ey9vgZJTaj3njez1q4t', 'BaseView');
// src/framework/ui/BaseView.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var LoaderManager_1 = require("../manager/LoaderManager");
var GamePoolManager_1 = require("../manager/GamePoolManager");
var UIMananger_1 = require("../manager/UIMananger");
var Handler_1 = require("../base/Handler");
var NResponer_1 = require("../message/NResponer");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BaseView = /** @class */ (function (_super) {
    __extends(BaseView, _super);
    function BaseView() {
        var _this = _super.call(this) || this;
        _this.isOnLoad = true;
        return _this;
    }
    BaseView.prototype.setUIName = function (url) {
        this.uiName = url;
    };
    BaseView.prototype.setModuleName = function (mname) {
        this.moduleName = mname;
    };
    //开始显示
    BaseView.prototype._show_ = function () {
    };
    BaseView.prototype._hide_ = function () {
        if (LoaderManager_1.default.isRelease(this.moduleName)) {
            this.node.destroy();
            GamePoolManager_1.default.clearByTarget(this);
            this._destroyClear();
        }
        else {
            GamePoolManager_1.default.putBackByTarget(this);
            if (!!this.node.parent) {
                this.node.removeFromParent(false);
            }
            this._closeClear();
        }
    };
    //关时清理
    BaseView.prototype._closeClear = function () {
    };
    //销毁时清理
    BaseView.prototype._destroyClear = function () {
    };
    BaseView.prototype.on_Show = function (args) {
    };
    BaseView.prototype.on_Hide = function () {
    };
    BaseView.prototype.close = function () {
        UIMananger_1.default.hideView(this.uiName);
    };
    BaseView.prototype.onDestroy = function () {
        cc.log('BaseView 被销毁');
        NResponer_1.default.targetOff(this, true);
        Handler_1.default.releaseByHost(this);
        this.isOnLoad = false;
    };
    BaseView = __decorate([
        ccclass
    ], BaseView);
    return BaseView;
}(cc.Component));
exports.default = BaseView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3VpL0Jhc2VWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDBEQUFxRDtBQUNyRCw4REFBeUQ7QUFDekQsb0RBQStDO0FBQy9DLDJDQUFzQztBQUN0QyxrREFBNkM7QUFFdkMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFNOUM7UUFBQSxZQUNJLGlCQUFPLFNBRVY7UUFERyxLQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzs7SUFDekIsQ0FBQztJQUVELDRCQUFTLEdBQVQsVUFBVSxHQUFVO1FBQ2hCLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO0lBQ3RCLENBQUM7SUFFRCxnQ0FBYSxHQUFiLFVBQWMsS0FBWTtRQUN0QixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztJQUM1QixDQUFDO0lBRUQsTUFBTTtJQUNOLHlCQUFNLEdBQU47SUFFQSxDQUFDO0lBRUQseUJBQU0sR0FBTjtRQUNJLElBQUksdUJBQWEsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQzFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDcEIseUJBQWUsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQ3hCO2FBQU07WUFDSCx5QkFBZSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN0QyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDcEIsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUNyQztZQUNELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztTQUN0QjtJQUNMLENBQUM7SUFFRCxNQUFNO0lBQ04sOEJBQVcsR0FBWDtJQUVBLENBQUM7SUFFRCxPQUFPO0lBQ1AsZ0NBQWEsR0FBYjtJQUVBLENBQUM7SUFFRCwwQkFBTyxHQUFQLFVBQVEsSUFBSTtJQUVaLENBQUM7SUFFRCwwQkFBTyxHQUFQO0lBRUEsQ0FBQztJQUVELHdCQUFLLEdBQUw7UUFFSSxvQkFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVELDRCQUFTLEdBQVQ7UUFDSSxFQUFFLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ3ZCLG1CQUFTLENBQUMsU0FBUyxDQUFDLElBQUksRUFBQyxJQUFJLENBQUMsQ0FBQztRQUMvQixpQkFBTyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztJQUMxQixDQUFDO0lBbEVnQixRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBbUU1QjtJQUFELGVBQUM7Q0FuRUQsQUFtRUMsQ0FuRXFDLEVBQUUsQ0FBQyxTQUFTLEdBbUVqRDtrQkFuRW9CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9hZGVyTWFuYWdlciBmcm9tIFwiLi4vbWFuYWdlci9Mb2FkZXJNYW5hZ2VyXCI7XHJcbmltcG9ydCBHYW1lUG9vbE1hbmFnZXIgZnJvbSBcIi4uL21hbmFnZXIvR2FtZVBvb2xNYW5hZ2VyXCI7XHJcbmltcG9ydCBVSU1hbmFuZ2VyIGZyb20gXCIuLi9tYW5hZ2VyL1VJTWFuYW5nZXJcIjtcclxuaW1wb3J0IEhhbmRsZXIgZnJvbSBcIi4uL2Jhc2UvSGFuZGxlclwiO1xyXG5pbXBvcnQgTlJlc3BvbmVyIGZyb20gXCIuLi9tZXNzYWdlL05SZXNwb25lclwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlVmlldyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgcHVibGljIHVpTmFtZTpzdHJpbmc7XHJcbiAgICBwdWJsaWMgbW9kdWxlTmFtZTpzdHJpbmc7XHJcbiAgICBwdWJsaWMgaXNPbkxvYWQ6Ym9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pc09uTG9hZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VUlOYW1lKHVybDpzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMudWlOYW1lID0gdXJsO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE1vZHVsZU5hbWUobW5hbWU6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLm1vZHVsZU5hbWUgPSBtbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICAvL+W8gOWni+aYvuekulxyXG4gICAgX3Nob3dfKCl7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgX2hpZGVfKCl7XHJcbiAgICAgICAgaWYgKExvYWRlck1hbmFnZXIuaXNSZWxlYXNlKHRoaXMubW9kdWxlTmFtZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgR2FtZVBvb2xNYW5hZ2VyLmNsZWFyQnlUYXJnZXQodGhpcyk7IFxyXG4gICAgICAgICAgICB0aGlzLl9kZXN0cm95Q2xlYXIoKTsgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgR2FtZVBvb2xNYW5hZ2VyLnB1dEJhY2tCeVRhcmdldCh0aGlzKTtcclxuICAgICAgICAgICAgaWYgKCEhdGhpcy5ub2RlLnBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLnJlbW92ZUZyb21QYXJlbnQoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlQ2xlYXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/lhbPml7bmuIXnkIZcclxuICAgIF9jbG9zZUNsZWFyKCl7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8v6ZSA5q+B5pe25riF55CGXHJcbiAgICBfZGVzdHJveUNsZWFyKCl7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uX1Nob3coYXJncyl7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgb25fSGlkZSgpe1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpXHJcbiAgICB7XHJcbiAgICAgICAgVUlNYW5hbmdlci5oaWRlVmlldyh0aGlzLnVpTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EZXN0cm95KCl7XHJcbiAgICAgICAgY2MubG9nKCdCYXNlVmlldyDooqvplIDmr4EnKTtcclxuICAgICAgICBOUmVzcG9uZXIudGFyZ2V0T2ZmKHRoaXMsdHJ1ZSk7XHJcbiAgICAgICAgSGFuZGxlci5yZWxlYXNlQnlIb3N0KHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaXNPbkxvYWQgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/ui/BaseTips.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '46727hHQx1Kb4C+eWcFtHdK', 'BaseTips');
// src/framework/ui/BaseTips.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var Handler_1 = require("../base/Handler");
var LoaderManager_1 = require("../manager/LoaderManager");
var UIMananger_1 = require("../manager/UIMananger");
var ComponentHelper_1 = require("../tools/ComponentHelper");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BaseTips = /** @class */ (function (_super) {
    __extends(BaseTips, _super);
    function BaseTips() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._inData = null;
        _this._uiName = "";
        _this._effect = null;
        _this.modelUIOpacity = 150;
        _this._delayRemove = null;
        _this.maskURL = "mbg"; //资源放在common模块中
        return _this;
    }
    BaseTips.prototype.close = function () {
        UIMananger_1.default.hideTips(this.node);
        this.modelUI.stopAllActions();
        this.modelUI.runAction(cc.fadeOut(0.2));
    };
    BaseTips.prototype.setUIParent = function (parentNode) {
        this.node.parent = parentNode;
    };
    BaseTips.prototype._show_ = function (args) {
        this._inData = args;
        this._initModule();
    };
    BaseTips.prototype.setDelayRemove = function (dr) {
        this._delayRemove = dr;
    };
    BaseTips.prototype.setUIName = function (uiName) {
        this._uiName = uiName;
    };
    BaseTips.prototype.setEffect = function (effect) {
        this._effect = effect;
    };
    BaseTips.prototype.startHide = function () {
    };
    BaseTips.prototype._hide_ = function () {
        this.node.destroy();
    };
    BaseTips.prototype.on_Show = function () {
        var _this = this;
        this._showModuleAction();
        if (this._delayRemove && this._inData) {
            var reward = this._inData[0];
            this.node.runAction(cc.sequence(cc.delayTime(this._delayRemove), cc.callFunc(function () {
                _this.scheduleOnce(_this.close.bind(_this), 0);
            })));
            var noCoin = this._inData[1];
        }
    };
    BaseTips.prototype._initModule = function () {
        if (!cc.isValid(this.modelUI)) {
            this.modelUI = ComponentHelper_1.default.createSprite(null, null);
            LoaderManager_1.default.loaderSpriteFrame(this.maskURL, Handler_1.default.create(this._moduleComplete, this), 'commonRes');
            this.modelUI.addComponent(cc.BlockInputEvents);
            this.modelUI.opacity = 0;
            this.modelUI.parent = this.node;
            this.modelUI.setSiblingIndex(0);
        }
    };
    BaseTips.prototype._moduleComplete = function (res) {
        var sprite = ComponentHelper_1.default.spriteFrame(this.modelUI, res);
        sprite.trim = false;
        sprite.sizeMode = cc.Sprite.SizeMode.CUSTOM;
        var msize = cc.view.getVisibleSize();
        this.modelUI.width = msize.width;
        this.modelUI.height = msize.height;
        this._clickClose();
    };
    BaseTips.prototype._showModuleAction = function () {
        if (cc.isValid(this.modelUI)) {
            this.modelUI.stopAllActions();
            this.modelUI.opacity = 0;
            this.modelUI.runAction(cc.fadeTo(0.2, this.modelUIOpacity));
        }
    };
    BaseTips.prototype.startShow = function () { };
    //点击空白区域关闭
    BaseTips.prototype._clickClose = function () {
        var _this = this;
        this.modelUI.on('touchend', function (event) {
            event.stopPropagation();
            _this.node.stopAllActions();
            var clickPos = event.getLocation();
            var visibleSize = cc.view.getVisibleSize();
            clickPos.x = clickPos.x - visibleSize.width / 2;
            clickPos.y = clickPos.y - visibleSize.height / 2;
            var rect = _this.node.getBoundingBox();
            if (!rect.contains(clickPos)) {
                _this.close();
            }
        });
    };
    BaseTips = __decorate([
        ccclass
    ], BaseTips);
    return BaseTips;
}(cc.Component));
exports.default = BaseTips;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3VpL0Jhc2VUaXBzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdBLDJDQUFzQztBQUN0QywwREFBcUQ7QUFDckQsb0RBQStDO0FBQy9DLDREQUF1RDtBQUVqRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBWTtJQUFsRDtRQUFBLHFFQTRGQztRQTFGRyxhQUFPLEdBQVMsSUFBSSxDQUFDO1FBQ3JCLGFBQU8sR0FBVSxFQUFFLENBQUM7UUFDcEIsYUFBTyxHQUFPLElBQUksQ0FBQztRQUVuQixvQkFBYyxHQUFZLEdBQUcsQ0FBQztRQUM5QixrQkFBWSxHQUFTLElBQUksQ0FBQztRQUNuQixhQUFPLEdBQVUsS0FBSyxDQUFDLENBQUEsZUFBZTs7SUFvRmpELENBQUM7SUFuRkcsd0JBQUssR0FBTDtRQUNJLG9CQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQzlCLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBQ0QsOEJBQVcsR0FBWCxVQUFZLFVBQVU7UUFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsVUFBVSxDQUFDO0lBQ2xDLENBQUM7SUFDRCx5QkFBTSxHQUFOLFVBQU8sSUFBSTtRQUNQLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBQ0QsaUNBQWMsR0FBZCxVQUFlLEVBQUU7UUFDYixJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FB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IGZyb20gXCIuLi8uLi9nYW1lL2NvbnN0cy9VSVR5cGVcIjtcclxuaW1wb3J0IEVmZmVjdE1hbmFnZXIgZnJvbSBcIi4uLy4uL2dhbWUvbWFuYWdlci9FZmZlY3RNYW5hZ2VyXCI7XHJcbmltcG9ydCBNZXNzYWdlQ2VudGVyIGZyb20gXCIuLi8uLi9nYW1lL21hbmFnZXIvTWVzc2FnZUNlbnRlclwiO1xyXG5pbXBvcnQgSGFuZGxlciBmcm9tIFwiLi4vYmFzZS9IYW5kbGVyXCI7XHJcbmltcG9ydCBMb2FkZXJNYW5hZ2VyIGZyb20gXCIuLi9tYW5hZ2VyL0xvYWRlck1hbmFnZXJcIjtcclxuaW1wb3J0IFVJTWFuYW5nZXIgZnJvbSBcIi4uL21hbmFnZXIvVUlNYW5hbmdlclwiO1xyXG5pbXBvcnQgQ29tcG9uZW50SGVscGVyIGZyb20gXCIuLi90b29scy9Db21wb25lbnRIZWxwZXJcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZVRpcHMgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIF9pbkRhdGEgOiBhbnkgPSBudWxsO1xyXG4gICAgX3VpTmFtZTpzdHJpbmcgPSBcIlwiO1xyXG4gICAgX2VmZmVjdDphbnkgPSBudWxsO1xyXG4gICAgbW9kZWxVSTpjYy5Ob2RlO1xyXG4gICAgbW9kZWxVSU9wYWNpdHkgOiBudW1iZXIgPSAxNTA7XHJcbiAgICBfZGVsYXlSZW1vdmUgOiBhbnkgPSBudWxsO1xyXG4gICAgcHVibGljIG1hc2tVUkw6c3RyaW5nID0gXCJtYmdcIjsvL+i1hOa6kOaUvuWcqGNvbW1vbuaooeWdl+S4rVxyXG4gICAgY2xvc2UoKXtcclxuICAgICAgICBVSU1hbmFuZ2VyLmhpZGVUaXBzKHRoaXMubm9kZSk7XHJcbiAgICAgICAgdGhpcy5tb2RlbFVJLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5tb2RlbFVJLnJ1bkFjdGlvbihjYy5mYWRlT3V0KDAuMikpO1xyXG4gICAgfVxyXG4gICAgc2V0VUlQYXJlbnQocGFyZW50Tm9kZSl7XHJcbiAgICAgICAgdGhpcy5ub2RlLnBhcmVudCA9IHBhcmVudE5vZGU7XHJcbiAgICB9XHJcbiAgICBfc2hvd18oYXJncyl7XHJcbiAgICAgICAgdGhpcy5faW5EYXRhID0gYXJncztcclxuICAgICAgICB0aGlzLl9pbml0TW9kdWxlKCk7XHJcbiAgICB9XHJcbiAgICBzZXREZWxheVJlbW92ZShkcil7XHJcbiAgICAgICAgdGhpcy5fZGVsYXlSZW1vdmUgPSBkcjtcclxuICAgIH0gICBcclxuICAgIHNldFVJTmFtZSh1aU5hbWUpe1xyXG4gICAgICAgIHRoaXMuX3VpTmFtZSA9IHVpTmFtZTtcclxuICAgIH1cclxuICAgIHNldEVmZmVjdChlZmZlY3Qpe1xyXG4gICAgICAgIHRoaXMuX2VmZmVjdCA9IGVmZmVjdDtcclxuICAgIH1cclxuICAgIHN0YXJ0SGlkZSgpe1xyXG4gICAgfVxyXG4gICAgX2hpZGVfKCl7XHJcbiAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcclxuICAgIH1cclxuICAgIG9uX1Nob3coKXtcclxuICAgICAgICB0aGlzLl9zaG93TW9kdWxlQWN0aW9uKCk7XHJcbiAgICAgICAgaWYodGhpcy5fZGVsYXlSZW1vdmUgJiYgdGhpcy5faW5EYXRhKXtcclxuICAgICAgICAgICAgbGV0IHJld2FyZCA9IHRoaXMuX2luRGF0YVswXTtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgICAgIGNjLmRlbGF5VGltZSh0aGlzLl9kZWxheVJlbW92ZSksXHJcbiAgICAgICAgICAgICAgICBjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuY2xvc2UuYmluZCh0aGlzKSwwKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICkpO1xyXG4gICAgICAgICAgICBsZXQgbm9Db2luID0gdGhpcy5faW5EYXRhWzFdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgX2luaXRNb2R1bGUoKXtcclxuICAgICAgICBpZiAoIWNjLmlzVmFsaWQodGhpcy5tb2RlbFVJKSkge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsVUkgPSBDb21wb25lbnRIZWxwZXIuY3JlYXRlU3ByaXRlKG51bGwsbnVsbCk7XHJcbiAgICAgICAgICAgIExvYWRlck1hbmFnZXIubG9hZGVyU3ByaXRlRnJhbWUodGhpcy5tYXNrVVJMLEhhbmRsZXIuY3JlYXRlKHRoaXMuX21vZHVsZUNvbXBsZXRlLHRoaXMpLCdjb21tb25SZXMnKTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbFVJLmFkZENvbXBvbmVudChjYy5CbG9ja0lucHV0RXZlbnRzKTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbFVJLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsVUkucGFyZW50ID0gdGhpcy5ub2RlO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsVUkuc2V0U2libGluZ0luZGV4KDApOyAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9tb2R1bGVDb21wbGV0ZShyZXMpe1xyXG4gICAgICAgIGxldCBzcHJpdGU6Y2MuU3ByaXRlID0gQ29tcG9uZW50SGVscGVyLnNwcml0ZUZyYW1lKHRoaXMubW9kZWxVSSxyZXMpO1xyXG4gICAgICAgIHNwcml0ZS50cmltID0gZmFsc2U7XHJcbiAgICAgICAgc3ByaXRlLnNpemVNb2RlID0gY2MuU3ByaXRlLlNpemVNb2RlLkNVU1RPTTtcclxuICAgICAgICBsZXQgbXNpemUgPSBjYy52aWV3LmdldFZpc2libGVTaXplKCk7XHJcbiAgICAgICAgdGhpcy5tb2RlbFVJLndpZHRoID0gbXNpemUud2lkdGg7XHJcbiAgICAgICAgdGhpcy5tb2RlbFVJLmhlaWdodCA9IG1zaXplLmhlaWdodDtcclxuICAgICAgICB0aGlzLl9jbGlja0Nsb3NlKCk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgX3Nob3dNb2R1bGVBY3Rpb24oKXtcclxuICAgICAgICBpZihjYy5pc1ZhbGlkKHRoaXMubW9kZWxVSSkpIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbFVJLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWxVSS5vcGFjaXR5ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbFVJLnJ1bkFjdGlvbihjYy5mYWRlVG8oMC4yLHRoaXMubW9kZWxVSU9wYWNpdHkpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGFydFNob3coKXt9XHJcbiAgICAvL+eCueWHu+epuueZveWMuuWfn+WFs+mXrVxyXG4gICAgX2NsaWNrQ2xvc2UoKXtcclxuICAgICAgICB0aGlzLm1vZGVsVUkub24oJ3RvdWNoZW5kJywgKGV2ZW50KT0+IHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICBsZXQgY2xpY2tQb3MgPSBldmVudC5nZXRMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHZpc2libGVTaXplID0gY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgY2xpY2tQb3MueCA9IGNsaWNrUG9zLnggLSB2aXNpYmxlU2l6ZS53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICBjbGlja1Bvcy55ID0gY2xpY2tQb3MueSAtIHZpc2libGVTaXplLmhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHRoaXMubm9kZS5nZXRCb3VuZGluZ0JveCgpO1xyXG4gICAgICAgICAgICAgICAgaWYoIXJlY3QuY29udGFpbnMoY2xpY2tQb3MpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/ui/UIState.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd52d3KUVu5NEKYy4s6U/Qeg', 'UIState');
// src/framework/ui/UIState.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UIState = exports.StateType = void 0;
var StateType;
(function (StateType) {
    StateType[StateType["close"] = 0] = "close";
    StateType[StateType["opening"] = 1] = "opening";
    StateType[StateType["open"] = 2] = "open"; //完全打开
})(StateType = exports.StateType || (exports.StateType = {}));
/**
 * ui状态
 */
var UIState = /** @class */ (function () {
    function UIState() {
        this.uinId = 0;
        this.uinId = UIState.StateID++;
    }
    UIState.prototype.setData = function (data) {
        this.uName = data.uname;
        this.openState = StateType.opening;
        this.isActive = true;
    };
    UIState.prototype.reset = function () {
        if (this.ui) {
            this.ui.close();
        }
        this.ui = null;
        this.uName = '';
        this.openState = StateType.close;
    };
    UIState.StateID = 0;
    return UIState;
}());
exports.UIState = UIState;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3VpL1VJU3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsSUFBWSxTQUtYO0FBTEQsV0FBWSxTQUFTO0lBRWpCLDJDQUFLLENBQUE7SUFDTCwrQ0FBTyxDQUFBO0lBQ1AseUNBQUksQ0FBQSxDQUFHLE1BQU07QUFDakIsQ0FBQyxFQUxXLFNBQVMsR0FBVCxpQkFBUyxLQUFULGlCQUFTLFFBS3BCO0FBRUQ7O0dBRUc7QUFDSDtJQU9JO1FBSEEsVUFBSyxHQUFVLENBQUMsQ0FBQztRQUtiLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ25DLENBQUM7SUFDRCx5QkFBTyxHQUFQLFVBQVEsSUFBSTtRQUVSLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUM7UUFDbkMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7SUFDekIsQ0FBQztJQUVELHVCQUFLLEdBQUw7UUFFSSxJQUFJLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDVCxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ25CO1FBQ0QsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUM7SUFDckMsQ0FBQztJQXBCTSxlQUFPLEdBQVUsQ0FBQyxDQUFDO0lBcUI5QixjQUFDO0NBM0JELEFBMkJDLElBQUE7QUEzQlksMEJBQU8iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZVBhbmVsIGZyb20gXCIuL0Jhc2VQYW5lbFwiO1xyXG5cclxuZXhwb3J0IGVudW0gU3RhdGVUeXBlXHJcbntcclxuICAgIGNsb3NlLC8v5YWz6Zet54q25oCBXHJcbiAgICBvcGVuaW5nLC8v5omT5byA5LitXHJcbiAgICBvcGVuICAgLy/lrozlhajmiZPlvIBcclxufVxyXG5cclxuLyoqXHJcbiAqIHVp54q25oCBXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVUlTdGF0ZSB7XHJcbiAgICB1TmFtZTpzdHJpbmc7Ly91aeWQjeensFxyXG4gICAgb3BlblN0YXRlOlN0YXRlVHlwZTsvL+aJk+W8gOeKtuaAgSAwIOWFs+mXrSAgMeato+WcqOaJk+W8gOS4rSjliqDovb3kuK3vvIzmiJbogIXliqjnlLvkuK0pICAgIDLlrozlhajmiZPlvIBcclxuICAgIGlzQWN0aXZlOmJvb2xlYW47Ly/lvZPliY3ov5nkuKrlr7nosaHmmK/lkKblj6/ku6Xkvb/nlKgg55So5LqO5a+56LGh5rGgXHJcbiAgICB1aW5JZDpudW1iZXIgPSAwO1xyXG4gICAgdWk6QmFzZVBhbmVsO1xyXG4gICAgc3RhdGljIFN0YXRlSUQ6bnVtYmVyID0gMDtcclxuICAgIGNvbnN0cnVjdG9yKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnVpbklkID0gVUlTdGF0ZS5TdGF0ZUlEKys7XHJcbiAgICB9XHJcbiAgICBzZXREYXRhKGRhdGEpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy51TmFtZSA9IGRhdGEudW5hbWU7XHJcbiAgICAgICAgdGhpcy5vcGVuU3RhdGUgPSBTdGF0ZVR5cGUub3BlbmluZztcclxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMudWkpIHtcclxuICAgICAgICAgICAgdGhpcy51aS5jbG9zZSgpOyAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51aSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy51TmFtZSA9ICcnO1xyXG4gICAgICAgIHRoaXMub3BlblN0YXRlID0gU3RhdGVUeXBlLmNsb3NlO1xyXG4gICAgfVxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/ui/BasePanel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '51410HUvXBLMacPUvZBl8j5', 'BasePanel');
// src/framework/ui/BasePanel.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ComponentHelper_1 = require("../tools/ComponentHelper");
var Handler_1 = require("../base/Handler");
var LoaderManager_1 = require("../manager/LoaderManager");
var UIMananger_1 = require("../manager/UIMananger");
var UIState_1 = require("./UIState");
var EventDispath_1 = require("../message/EventDispath");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BasePanel = /** @class */ (function (_super) {
    __extends(BasePanel, _super);
    function BasePanel() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.uiName = "basePanel";
        //点击面板其他位置是否关不面板 需要在prefab中设置node的size大小
        _this.maskURL = "mbg"; //资源放在common模块中
        _this._ismask = true;
        _this.effect = null;
        _this.clickOtherClose = false;
        _this.closeBack = null;
        _this.isVideoClose = false;
        return _this;
    }
    BasePanel.prototype.init = function (clickClose) {
        if (this._ismask) {
            this._initModule();
        }
        this.clickOtherClose = clickClose;
    };
    BasePanel.prototype.setUIName = function (name) {
        this.uiName = name;
    };
    BasePanel.prototype.setModuleName = function (mname) {
        this.moduleName = mname;
    };
    BasePanel.prototype.setClickClose = function (value) {
        this.clickOtherClose = value;
    };
    BasePanel.prototype.setEffect = function (value) {
        this.effect = value;
    };
    /**
     * 设置ui状态
     */
    BasePanel.prototype.setUIState = function (state) {
        this.uiState = state;
        this.uiState.ui = this;
    };
    BasePanel.prototype.upDateState = function (state) {
        if (!!this.uiState) {
            this.uiState.openState = state;
            if (state === UIState_1.StateType.close) {
                this.uiState.reset();
            }
        }
    };
    //打开面板前 先执行的函数
    BasePanel.prototype._show_ = function (closeBack, args) {
        this.inData = args;
        this.closeBack = closeBack;
        this.upDateState(UIState_1.StateType.opening);
    };
    /**
     * 是否能立即关闭，主要用于有些面板不能立马关闭，需要等条件完成才能，例如转盘
     */
    BasePanel.prototype.canHideNow = function () {
        return true;
    };
    BasePanel.prototype.startHide = function () {
        // if (this.isVideoClose) SDKManager.reportTrigger();
    };
    BasePanel.prototype.startShow = function () {
    };
    BasePanel.prototype._hide_ = function () {
        // if (LoaderManager.isRelease(this.moduleName)) {
        //     this.node.destroy();
        //     GamePoolManager.clearByTarget(this); 
        //     this._destroyClear(); 
        // } else {
        //     GamePoolManager.putBackByTarget(this);
        //     if (!!this.node.parent) {
        //         this.node.removeFromParent(false);
        //     }
        //     this._closeClear();
        // }
        this._hideModeule();
        this.upDateState(UIState_1.StateType.close);
        this.node.destroy();
    };
    //关时清理
    BasePanel.prototype._closeClear = function () {
    };
    //销毁时清理
    BasePanel.prototype._destroyClear = function () {
    };
    //设置ui的父容器
    BasePanel.prototype.setUIParent = function (parent) {
        if (cc.isValid(parent)) {
            this.node.parent = parent;
        }
    };
    //打开时调用
    BasePanel.prototype.on_Show = function (args) {
        this._showModuleAction();
        this.upDateState(UIState_1.StateType.open);
    };
    BasePanel.prototype.on_Hide = function () {
        this._hideModeule();
    };
    BasePanel.prototype.close = function () {
        if (this.closeBack)
            this.closeBack();
        EventDispath_1.default.removeEventListeners(this);
        UIMananger_1.default.hidePanel(this.uiName);
    };
    BasePanel.prototype.close1 = function () {
        this.closeBack = null;
        EventDispath_1.default.removeEventListeners(this);
        UIMananger_1.default.hidePanel(this.uiName);
    };
    //初始化模态
    BasePanel.prototype._initModule = function () {
        if (!cc.isValid(this.modelUI)) {
            this.modelUI = ComponentHelper_1.default.createSprite(null, null);
            LoaderManager_1.default.loaderSpriteFrame(this.maskURL, Handler_1.default.create(this._moduleComplete, this), 'commonRes');
            this.modelUI.addComponent(cc.BlockInputEvents);
            this.modelUI.opacity = 0;
            this.modelUI.parent = this.node;
            this.modelUI.setSiblingIndex(0);
        }
    };
    BasePanel.prototype._moduleComplete = function (res) {
        var sprite = ComponentHelper_1.default.spriteFrame(this.modelUI, res);
        sprite.trim = false;
        sprite.sizeMode = cc.Sprite.SizeMode.CUSTOM;
        var msize = cc.view.getVisibleSize();
        this.modelUI.width = msize.width;
        this.modelUI.height = msize.height;
        this._clickClose();
    };
    //模态效果
    BasePanel.prototype._showModuleAction = function () {
        if (cc.isValid(this.modelUI)) {
            this.modelUI.stopAllActions();
            this.modelUI.opacity = 170;
            // this.modelUI.runAction(cc.fadeTo(0.2, 170));
        }
    };
    BasePanel.prototype._hideModeule = function () {
        if (cc.isValid(this.modelUI)) {
            this.modelUI.stopAllActions();
            this.modelUI.opacity = 0;
        }
    };
    //点击空白区域关闭
    BasePanel.prototype._clickClose = function () {
        var _this = this;
        this.modelUI.on('touchend', function (event) {
            event.stopPropagation();
            if (_this.clickOtherClose) {
                var clickPos = event.getLocation();
                var visibleSize = cc.view.getVisibleSize();
                clickPos.x = clickPos.x - visibleSize.width / 2;
                clickPos.y = clickPos.y - visibleSize.height / 2;
                var rect = _this.node.getBoundingBox();
                if (!rect.contains(clickPos)) {
                    _this.close();
                }
            }
        });
    };
    BasePanel = __decorate([
        ccclass
    ], BasePanel);
    return BasePanel;
}(cc.Component));
exports.default = BasePanel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3VpL0Jhc2VQYW5lbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw0REFBdUQ7QUFDdkQsMkNBQXNDO0FBQ3RDLDBEQUFxRDtBQUVyRCxvREFBK0M7QUFDL0MscUNBQStDO0FBQy9DLHdEQUFtRDtBQUc3QyxJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUF1Qyw2QkFBWTtJQUFuRDtRQUFBLHFFQTRMQztRQTFMVSxZQUFNLEdBQVcsV0FBVyxDQUFDO1FBQ3BDLHdDQUF3QztRQUNqQyxhQUFPLEdBQVcsS0FBSyxDQUFDLENBQUEsZUFBZTtRQUN0QyxhQUFPLEdBQVksSUFBSSxDQUFDO1FBQ3pCLFlBQU0sR0FBUSxJQUFJLENBQUM7UUFDbkIscUJBQWUsR0FBWSxLQUFLLENBQUM7UUFLeEMsZUFBUyxHQUFhLElBQUksQ0FBQztRQUMzQixrQkFBWSxHQUFHLEtBQUssQ0FBQzs7SUErS3pCLENBQUM7SUE5S0csd0JBQUksR0FBSixVQUFLLFVBQVU7UUFDWCxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDZCxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7U0FDdEI7UUFDRCxJQUFJLENBQUMsZUFBZSxHQUFHLFVBQVUsQ0FBQztJQUN0QyxDQUFDO0lBRUQsNkJBQVMsR0FBVCxVQUFVLElBQUk7UUFDVixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztJQUN2QixDQUFDO0lBRUQsaUNBQWEsR0FBYixVQUFjLEtBQUs7UUFDZixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztJQUM1QixDQUFDO0lBRUQsaUNBQWEsR0FBYixVQUFjLEtBQUs7UUFDZixJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQztJQUNqQyxDQUFDO0lBRUQsNkJBQVMsR0FBVCxVQUFV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Q0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBMUxnQixTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBNEw3QjtJQUFELGdCQUFDO0NBNUxELEFBNExDLENBNUxzQyxFQUFFLENBQUMsU0FBUyxHQTRMbEQ7a0JBNUxvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbXBvbmVudEhlbHBlciBmcm9tIFwiLi4vdG9vbHMvQ29tcG9uZW50SGVscGVyXCI7XHJcbmltcG9ydCBIYW5kbGVyIGZyb20gXCIuLi9iYXNlL0hhbmRsZXJcIjtcclxuaW1wb3J0IExvYWRlck1hbmFnZXIgZnJvbSBcIi4uL21hbmFnZXIvTG9hZGVyTWFuYWdlclwiO1xyXG5pbXBvcnQgR2FtZVBvb2xNYW5hZ2VyIGZyb20gXCIuLi9tYW5hZ2VyL0dhbWVQb29sTWFuYWdlclwiO1xyXG5pbXBvcnQgVUlNYW5hbmdlciBmcm9tIFwiLi4vbWFuYWdlci9VSU1hbmFuZ2VyXCI7XHJcbmltcG9ydCB7IFVJU3RhdGUsIFN0YXRlVHlwZSB9IGZyb20gXCIuL1VJU3RhdGVcIjtcclxuaW1wb3J0IEV2ZW50RGlzcGF0aCBmcm9tIFwiLi4vbWVzc2FnZS9FdmVudERpc3BhdGhcIjtcclxuaW1wb3J0IFNES01hbmFnZXIgZnJvbSBcIi4uL21hbmFnZXIvU0RLTWFuYWdlclwiO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VQYW5lbCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgcHVibGljIHVpTmFtZTogc3RyaW5nID0gXCJiYXNlUGFuZWxcIjtcclxuICAgIC8v54K55Ye76Z2i5p2/5YW25LuW5L2N572u5piv5ZCm5YWz5LiN6Z2i5p2/IOmcgOimgeWcqHByZWZhYuS4reiuvue9rm5vZGXnmoRzaXpl5aSn5bCPXHJcbiAgICBwdWJsaWMgbWFza1VSTDogc3RyaW5nID0gXCJtYmdcIjsvL+i1hOa6kOaUvuWcqGNvbW1vbuaooeWdl+S4rVxyXG4gICAgcHJpdmF0ZSBfaXNtYXNrOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHB1YmxpYyBlZmZlY3Q6IGFueSA9IG51bGw7XHJcbiAgICBwdWJsaWMgY2xpY2tPdGhlckNsb3NlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgbW9kdWxlTmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIGluRGF0YTogYW55O1xyXG4gICAgcHJpdmF0ZSBtb2RlbFVJOiBjYy5Ob2RlOy8v6IOM5pmvXHJcbiAgICBwcml2YXRlIHVpU3RhdGU6IFVJU3RhdGU7XHJcbiAgICBjbG9zZUJhY2s6IEZ1bmN0aW9uID0gbnVsbDtcclxuICAgIGlzVmlkZW9DbG9zZSA9IGZhbHNlO1xyXG4gICAgaW5pdChjbGlja0Nsb3NlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzbWFzaykge1xyXG4gICAgICAgICAgICB0aGlzLl9pbml0TW9kdWxlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2xpY2tPdGhlckNsb3NlID0gY2xpY2tDbG9zZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVSU5hbWUobmFtZSkge1xyXG4gICAgICAgIHRoaXMudWlOYW1lID0gbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRNb2R1bGVOYW1lKG1uYW1lKSB7XHJcbiAgICAgICAgdGhpcy5tb2R1bGVOYW1lID0gbW5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q2xpY2tDbG9zZSh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY2xpY2tPdGhlckNsb3NlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RWZmZWN0KHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5lZmZlY3QgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuvue9rnVp54q25oCBXHJcbiAgICAgKi9cclxuICAgIHNldFVJU3RhdGUoc3RhdGUpIHtcclxuICAgICAgICB0aGlzLnVpU3RhdGUgPSBzdGF0ZTtcclxuICAgICAgICB0aGlzLnVpU3RhdGUudWkgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIHVwRGF0ZVN0YXRlKHN0YXRlOiBTdGF0ZVR5cGUpIHtcclxuICAgICAgICBpZiAoISF0aGlzLnVpU3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy51aVN0YXRlLm9wZW5TdGF0ZSA9IHN0YXRlO1xyXG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IFN0YXRlVHlwZS5jbG9zZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51aVN0YXRlLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/miZPlvIDpnaLmnb/liY0g5YWI5omn6KGM55qE5Ye95pWwXHJcbiAgICBfc2hvd18oY2xvc2VCYWNrLCBhcmdzKSB7XHJcbiAgICAgICAgdGhpcy5pbkRhdGEgPSBhcmdzO1xyXG4gICAgICAgIHRoaXMuY2xvc2VCYWNrID0gY2xvc2VCYWNrO1xyXG4gICAgICAgIHRoaXMudXBEYXRlU3RhdGUoU3RhdGVUeXBlLm9wZW5pbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5piv5ZCm6IO956uL5Y2z5YWz6Zet77yM5Li76KaB55So5LqO5pyJ5Lqb6Z2i5p2/5LiN6IO956uL6ams5YWz6Zet77yM6ZyA6KaB562J5p2h5Lu25a6M5oiQ5omN6IO977yM5L6L5aaC6L2s55uYXHJcbiAgICAgKi9cclxuICAgIGNhbkhpZGVOb3coKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRIaWRlKCkge1xyXG4gICAgICAgIC8vIGlmICh0aGlzLmlzVmlkZW9DbG9zZSkgU0RLTWFuYWdlci5yZXBvcnRUcmlnZ2VyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRTaG93KCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBfaGlkZV8oKSB7XHJcbiAgICAgICAgLy8gaWYgKExvYWRlck1hbmFnZXIuaXNSZWxlYXNlKHRoaXMubW9kdWxlTmFtZSkpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcclxuICAgICAgICAvLyAgICAgR2FtZVBvb2xNYW5hZ2VyLmNsZWFyQnlUYXJnZXQodGhpcyk7IFxyXG4gICAgICAgIC8vICAgICB0aGlzLl9kZXN0cm95Q2xlYXIoKTsgXHJcbiAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgR2FtZVBvb2xNYW5hZ2VyLnB1dEJhY2tCeVRhcmdldCh0aGlzKTtcclxuICAgICAgICAvLyAgICAgaWYgKCEhdGhpcy5ub2RlLnBhcmVudCkge1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5ub2RlLnJlbW92ZUZyb21QYXJlbnQoZmFsc2UpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICAgIHRoaXMuX2Nsb3NlQ2xlYXIoKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgdGhpcy5faGlkZU1vZGV1bGUoKTtcclxuICAgICAgICB0aGlzLnVwRGF0ZVN0YXRlKFN0YXRlVHlwZS5jbG9zZSk7XHJcbiAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+WFs+aXtua4heeQhlxyXG4gICAgcHJpdmF0ZSBfY2xvc2VDbGVhcigpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy/plIDmr4Hml7bmuIXnkIZcclxuICAgIHByaXZhdGUgX2Rlc3Ryb3lDbGVhcigpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy/orr7nva51aeeahOeItuWuueWZqFxyXG4gICAgc2V0VUlQYXJlbnQocGFyZW50KSB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQocGFyZW50KSkge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUucGFyZW50ID0gcGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+aJk+W8gOaXtuiwg+eUqFxyXG4gICAgb25fU2hvdyhhcmdzKSB7XHJcbiAgICAgICAgdGhpcy5fc2hvd01vZHVsZUFjdGlvbigpO1xyXG4gICAgICAgIHRoaXMudXBEYXRlU3RhdGUoU3RhdGVUeXBlLm9wZW4pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uX0hpZGUoKSB7XHJcbiAgICAgICAgdGhpcy5faGlkZU1vZGV1bGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5jbG9zZUJhY2spIHRoaXMuY2xvc2VCYWNrKCk7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMpO1xyXG4gICAgICAgIFVJTWFuYW5nZXIuaGlkZVBhbmVsKHRoaXMudWlOYW1lKTtcclxuICAgIH1cclxuICAgIGNsb3NlMSgpIHtcclxuICAgICAgICB0aGlzLmNsb3NlQmFjayA9IG51bGw7XHJcbiAgICAgICAgRXZlbnREaXNwYXRoLnJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMpO1xyXG4gICAgICAgIFVJTWFuYW5nZXIuaGlkZVBhbmVsKHRoaXMudWlOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+WIneWni+WMluaooeaAgVxyXG4gICAgcHJpdmF0ZSBfaW5pdE1vZHVsZSgpIHtcclxuICAgICAgICBpZiAoIWNjLmlzVmFsaWQodGhpcy5tb2RlbFVJKSkge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsVUkgPSBDb21wb25lbnRIZWxwZXIuY3JlYXRlU3ByaXRlKG51bGwsIG51bGwpO1xyXG4gICAgICAgICAgICBMb2FkZXJNYW5hZ2VyLmxvYWRlclNwcml0ZUZyYW1lKHRoaXMubWFza1VSTCwgSGFuZGxlci5jcmVhdGUodGhpcy5fbW9kdWxlQ29tcGxldGUsIHRoaXMpLCAnY29tbW9uUmVzJyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWxVSS5hZGRDb21wb25lbnQoY2MuQmxvY2tJbnB1dEV2ZW50cyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWxVSS5vcGFjaXR5ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbFVJLnBhcmVudCA9IHRoaXMubm9kZTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbFVJLnNldFNpYmxpbmdJbmRleCgwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX21vZHVsZUNvbXBsZXRlKHJlcykge1xyXG4gICAgICAgIGxldCBzcHJpdGU6IGNjLlNwcml0ZSA9IENvbXBvbmVudEhlbHBlci5zcHJpdGVGcmFtZSh0aGlzLm1vZGVsVUksIHJlcyk7XHJcbiAgICAgICAgc3ByaXRlLnRyaW0gPSBmYWxzZTtcclxuICAgICAgICBzcHJpdGUuc2l6ZU1vZGUgPSBjYy5TcHJpdGUuU2l6ZU1vZGUuQ1VTVE9NO1xyXG4gICAgICAgIGxldCBtc2l6ZSA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKTtcclxuICAgICAgICB0aGlzLm1vZGVsVUkud2lkdGggPSBtc2l6ZS53aWR0aDtcclxuICAgICAgICB0aGlzLm1vZGVsVUkuaGVpZ2h0ID0gbXNpemUuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuX2NsaWNrQ2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+aooeaAgeaViOaenFxyXG4gICAgcHJpdmF0ZSBfc2hvd01vZHVsZUFjdGlvbigpIHtcclxuICAgICAgICBpZiAoY2MuaXNWYWxpZCh0aGlzLm1vZGVsVUkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWxVSS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsVUkub3BhY2l0eSA9IDE3MDtcclxuICAgICAgICAgICAgLy8gdGhpcy5tb2RlbFVJLnJ1bkFjdGlvbihjYy5mYWRlVG8oMC4yLCAxNzApKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfaGlkZU1vZGV1bGUoKSB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQodGhpcy5tb2RlbFVJKSkge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsVUkuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbFVJLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+eCueWHu+epuueZveWMuuWfn+WFs+mXrVxyXG4gICAgX2NsaWNrQ2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbFVJLm9uKCd0b3VjaGVuZCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2xpY2tPdGhlckNsb3NlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2xpY2tQb3MgPSBldmVudC5nZXRMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHZpc2libGVTaXplID0gY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgY2xpY2tQb3MueCA9IGNsaWNrUG9zLnggLSB2aXNpYmxlU2l6ZS53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICBjbGlja1Bvcy55ID0gY2xpY2tQb3MueSAtIHZpc2libGVTaXplLmhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHRoaXMubm9kZS5nZXRCb3VuZGluZ0JveCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZWN0LmNvbnRhaW5zKGNsaWNrUG9zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/ui/effect/ScaleUIEffect.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4730ewKYf5GuaUMZwsnLaTC', 'ScaleUIEffect');
// src/framework/ui/effect/ScaleUIEffect.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var BaseUIEffect_1 = require("../BaseUIEffect");
var ScaleUIEffect = /** @class */ (function (_super) {
    __extends(ScaleUIEffect, _super);
    function ScaleUIEffect() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ScaleUIEffect.prototype.run = function (node, time, isOpen, handler) {
        time = time || this.time;
        node.scale = 0;
        node.runAction(cc.sequence(cc.scaleTo(time, 1, 1).easing(cc.easeBackOut()), cc.callFunc(function () { if (!!handler) {
            handler.call(node);
        } })));
    };
    return ScaleUIEffect;
}(BaseUIEffect_1.default));
exports.default = ScaleUIEffect;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3VpL2VmZmVjdC9TY2FsZVVJRWZmZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGdEQUEyQztBQUUzQztJQUEyQyxpQ0FBWTtJQUF2RDs7SUFTQSxDQUFDO0lBUEcsMkJBQUcsR0FBSCxVQUFJLElBQVksRUFBQyxJQUFXLEVBQUMsTUFBYyxFQUFDLE9BQWU7UUFFdkQsSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxjQUFNLElBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBQztZQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUV6SSxDQUFDO0lBQ0wsb0JBQUM7QUFBRCxDQVRBLEFBU0MsQ0FUMEMsc0JBQVksR0FTdEQiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSGFuZGxlciBmcm9tIFwiLi4vLi4vYmFzZS9IYW5kbGVyXCI7XHJcbmltcG9ydCBCYXNlVUlFZmZlY3QgZnJvbSBcIi4uL0Jhc2VVSUVmZmVjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NhbGVVSUVmZmVjdCBleHRlbmRzIEJhc2VVSUVmZmVjdHtcclxuICAgIFxyXG4gICAgcnVuKG5vZGU6Y2MuTm9kZSx0aW1lOm51bWJlcixpc09wZW46Ym9vbGVhbixoYW5kbGVyOkhhbmRsZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGltZSA9IHRpbWUgfHwgdGhpcy50aW1lO1xyXG4gICAgICAgIG5vZGUuc2NhbGUgPSAwO1xyXG4gICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLnNjYWxlVG8odGltZSwxLDEpLmVhc2luZyhjYy5lYXNlQmFja091dCgpKSxjYy5jYWxsRnVuYygoKT0+eyBpZighIWhhbmRsZXIpeyBoYW5kbGVyLmNhbGwobm9kZSk7IH0gfSkpKTtcclxuICAgICAgICBcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/tools/Utils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2d997NXvhNDTbMpB4rEU7g2', 'Utils');
// src/framework/tools/Utils.ts

"use strict";
var __spreadArrays = (this && this.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var Utils = /** @class */ (function () {
    function Utils() {
    }
    // cdegress:Num Math.PI/180,
    // cangle:180/Math.PI,
    Utils.emoji2Str = function (str) {
        return unescape(escape(str).replace(/\%uD.{3}/g, ''));
    };
    Utils.isEmojiCharacter = function (substring) {
        for (var i = 0; i < substring.length; i++) {
            var hs = substring.charCodeAt(i);
            var ls = void 0;
            if (0xd800 <= hs && hs <= 0xdbff) {
                if (substring.length > 1) {
                    ls = substring.charCodeAt(i + 1);
                    var uc = ((hs - 0xd800) * 0x400) + (ls - 0xdc00) + 0x10000;
                    if (0x1d000 <= uc && uc <= 0x1f77f) {
                        return true;
                    }
                }
            }
            else if (substring.length > 1) {
                ls = substring.charCodeAt(i + 1);
                if (ls == 0x20e3) {
                    return true;
                }
            }
            else {
                if (0x2100 <= hs && hs <= 0x27ff) {
                    return true;
                }
                else if (0x2B05 <= hs && hs <= 0x2b07) {
                    return true;
                }
                else if (0x2934 <= hs && hs <= 0x2935) {
                    return true;
                }
                else if (0x3297 <= hs && hs <= 0x3299) {
                    return true;
                }
                else if (hs == 0xa9 || hs == 0xae || hs == 0x303d || hs == 0x3030
                    || hs == 0x2b55 || hs == 0x2b1c || hs == 0x2b1b
                    || hs == 0x2b50) {
                    return true;
                }
            }
        }
    };
    //是否字符串有空格
    Utils.isStrSpace = function (str) {
        return str.indexOf(' ') === -1;
    };
    //角度转弧度
    Utils.angleToPI = function (degrees) {
        return degrees * cc.macro.RAD;
    };
    Utils.piToAngle = function (radians) {
        return radians * cc.macro.DEG;
    };
    //获得两点之间的角度
    Utils.getVecAngle = function (currVec, nextVec) {
        // let p1 = (180 / Math.PI);
        var vec = cc.v2(nextVec).sub(cc.v2(currVec));
        var a1 = -Math.atan2(vec.y, vec.x);
        var r1 = a1 * cc.macro.DEG;
        return r1;
    };
    //把一个节点下的坐标转成全局坐标
    Utils.convertNodeToWorldSpace = function (node, npos) {
        if (cc.isValid(node)) {
            return node.convertToWorldSpaceAR(npos);
        }
        return cc.v2();
    };
    //把一个节点下的坐标转成另一个节点的坐标
    Utils.convertNodeToNodeSpace = function (node, targetParent) {
        if (cc.isValid(node)) {
            if (!!node.parent) {
                var wpos = node.parent.convertToWorldSpaceAR(node.getPosition());
                if (cc.isValid(targetParent)) {
                    return targetParent.convertToNodeSpaceAR(wpos);
                }
            }
        }
        cc.log('坐标转换有问题');
        return cc.v2(0, 0);
    };
    //把全局坐标转成另一个节点的坐标
    Utils.convertWorldToNodeSpace = function (node, wpos, isParent) {
        if (cc.isValid(node)) {
            if (!!isParent && node.parent) {
                return node.parent.convertToNodeSpaceAR(wpos);
            }
            return node.convertToNodeSpaceAR(wpos);
        }
        return cc.v2(0, 0);
    };
    /**
     * Function name isPhoneNumer
     * @param phoneNum 电话号码
     * 判断传入的数字是否符合手机号码的格式
     */
    Utils.isPhonenumber = function (phoneNum) {
        if (!(/^1[34578]\d{9}$/.test(phoneNum))) {
            return false;
        }
        return true;
    };
    /**
    * Function name getShortName
    * @param name 玩家昵称
    * 玩家中文昵称最多只显示5个汉字，超出则在后面加“...” 一个中文2个字符
    */
    Utils.getShortName = function (name, maxChar) {
        if (maxChar === void 0) { maxChar = 10; }
        if (!name) {
            return "";
        }
        var strlen = 0;
        var s = "";
        for (var i = 0; i < name.length; i++) {
            if (name.charCodeAt(i) > 128) {
                strlen += 2;
            }
            else {
                strlen++;
            }
            s += name.charAt(i);
            if (strlen >= maxChar) {
                return s + "...";
            }
        }
        return s;
    };
    /**
     * 计算两点之间的中点,
     * coefficient 距离系数
     */
    Utils.calculationMidPoint = function (begianPos, endPos, coefficient, offsetY) {
        if (coefficient === void 0) { coefficient = 0.5; }
        if (offsetY === void 0) { offsetY = 300; }
        var newPos = begianPos;
        var subx = 0;
        var suby = 0;
        if (begianPos.x <= endPos.x && begianPos.y <= endPos.y) {
            subx = endPos.x - begianPos.x;
            suby = endPos.y - begianPos.y;
            newPos = cc.v2(begianPos.x + subx * coefficient, begianPos.y + suby * coefficient + offsetY);
        }
        else if (begianPos.x > endPos.x && begianPos.y < endPos.y) {
            subx = endPos.x - begianPos.x;
            suby = endPos.y - begianPos.y;
            newPos = cc.v2(begianPos.x + subx * coefficient, begianPos.y + suby * coefficient + offsetY);
        }
        else if (begianPos.x > endPos.x && begianPos.y > endPos.y) {
            subx = endPos.x - begianPos.x;
            suby = endPos.y - begianPos.y;
            newPos = cc.v2(begianPos.x + subx * coefficient, begianPos.y + suby * coefficient + offsetY);
        }
        else if (begianPos.x < endPos.x && begianPos.y > endPos.y) {
            subx = endPos.x - begianPos.x;
            suby = endPos.y - begianPos.y;
            newPos = cc.v2(begianPos.x + subx * coefficient, begianPos.y + suby * coefficient + offsetY);
        }
        return newPos;
    };
    //生成范围内的随机数
    Utils.randSectionNum = function (minnum, maxnum) {
        return Math.floor(minnum + Math.random() * (maxnum - minnum));
    };
    //获得数组内的随机值
    Utils.getRandomByArr = function (arr) {
        var index = this.randSectionNum(0, arr.length);
        return arr[index];
    };
    //生成区间内的数组
    Utils.createArr = function (startIndex, endIndex) {
        var arr = [];
        for (var index = startIndex; index < endIndex; index++) {
            arr.push(index);
        }
        return arr;
    };
    /**
    * 从指定数组随机出几个值并组成新数组(返回值为原元素类型)
    * @param arr:源数组
    * @param num:要几个随机元素
    */
    Utils.randomNewArr = function (arr, num) {
        var arrOld = new Array();
        arrOld = __spreadArrays(arr);
        if (arrOld.length <= num) {
            return arrOld;
        }
        var arrNew = new Array();
        for (var i = 0; i < num; i++) {
            var random = this.getRandomNum(0, arrOld.length - 1); //产生随机数用作下标 
            arrNew.push(arrOld[random]);
            arrOld.splice(random, 1);
        }
        return arrNew;
    };
    /**
     * 获取范围内随机整数(包含最大值)
     * @param min 最小值
     * @param max 最大值
     */
    Utils.getRandomNum = function (min, max) {
        return Math.floor(Math.random() * (max - min + 1) + min);
    };
    Utils.crossMul = function (v1, v2) {
        return v1.x * v2.y - v1.y * v2.x;
    };
    Utils.quadratic = function (begin, c1, end, t) {
        var p = cc.v2();
        p.x = begin.x * (1 - t) * (1 - t) + c1.x * 2 * t * (1 - t) + end.x * t * t;
        p.y = begin.y * (1 - t) * (1 - t) + c1.y * 2 * t * (1 - t) + end.y * t * t;
        return p;
    };
    Utils.exchange = function (p1, p2) {
        var p = cc.v2();
        p.x = p2.x;
        p.y = p2.y;
        p2.x = p1.x;
        p2.y = p1.y;
        p1.x = p.x;
        p1.y = p.y;
    };
    //数组删除某一个索引的对象
    //index 开始索引
    //num 删除数量 默认为1个
    Utils.arrayRemove = function (arr, index, num) {
        if (num === void 0) { num = 1; }
        var i, len;
        for (i = index + num, len = arr.length; i < len; i++) {
            arr[i - num] = arr[i];
        }
        arr.length = len - num;
    };
    //通过数组中的值移除数组
    Utils.arrayRemoveValue = function (arr, value) {
        for (var index = 0; index < arr.length; index++) {
            var element = arr[index];
            if (element === value) {
                this.arrayRemove(arr, index);
                break;
            }
        }
    };
    //数组copy
    Utils.arrayCopy = function (sourceArr, destArr) {
        if (!!sourceArr && !!destArr) {
            for (var index = 0; index < sourceArr.length; index++) {
                var element = sourceArr[index];
                destArr.push(element);
            }
        }
    };
    //从数组中获得指定数量，同时改变原有的数组
    Utils.arrayGetSync = function (sourceArr, num) {
        if (num === void 0) { num = 1; }
        var resultArr = [];
        if (num > sourceArr.length) {
            this.arrayCopy(sourceArr, resultArr);
            sourceArr.length = 0;
        }
        else {
            var dIndex = 0;
            for (var index = 0; index < num; index++) {
                dIndex = Math.floor(Math.random() * sourceArr.length);
                resultArr.push(sourceArr[dIndex]);
                this.arrayRemove(sourceArr, dIndex, 1);
            }
        }
        return resultArr;
    };
    //平滑
    Utils.lerp = function (a, b, t) {
        return a + t * (b - a);
    };
    Utils.matchBgSize = function (bg) {
        if (cc.isValid(bg)) {
            bg.setScale(1, 1);
            var hvalue = bg.width;
            if (bg.width <= 0) {
                hvalue = cc.view.getDesignResolutionSize().width;
            }
            var size = cc.view.getVisibleSize();
            var hrate = size.width / hvalue;
            bg.setScale(hrate, hrate);
            return hrate;
        }
    };
    Utils.matchBgHSize = function (bg) {
        if (cc.isValid(bg)) {
            bg.setScale(1, 1);
            var hvalue = bg.height;
            if (bg.height <= 0) {
                hvalue = cc.view.getDesignResolutionSize().height;
            }
            var size = cc.view.getVisibleSize();
            var hrate = size.height / hvalue;
            bg.setScale(hrate, hrate);
            return hrate;
        }
    };
    /**
     * 把数字转成0101的数组
     * @param {*} num
     * @param {*} count
     */
    Utils.numberToBinary = function (num, count) {
        var arr = [];
        for (var index = 0; index < count; index++) {
            arr.push(num >> index & 1);
        }
        return arr;
    };
    /**
     *
     * @param {*} arr
     */
    Utils.binaryArrToNum = function (arr) {
        if (!!arr) {
            var str = '';
            for (var index = 0; index < arr.length; index++) {
                str += arr[index];
            }
            cc.log(str);
            return parseInt(str, 2);
        }
        return null;
    };
    /**
     * 是否是pc操作平台
     */
    Utils.isPcPlantFrom = function () {
        if (cc.sys.platform === cc.sys.ANDROID || cc.sys.platform === cc.sys.IPHONE) {
            return false;
        }
        return true;
    };
    /**
     * 获得唯一id
     * @param len
     * @param radix
     */
    Utils.genUuid = function (len, radix) {
        var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvvxyz'.split('');
        var uuid = [], i;
        radix = radix || chars.length;
        if (len) {
            // Compact form
            for (i = 0; i < len; i++)
                uuid[i] = chars[0 | Math.random() * radix];
        }
        else {
            // rfc4122, version 4 form
            var r = void 0;
            // rfc4122 requires these characters
            uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';
            uuid[14] = '4';
            // Fill in random data.  At i==19 set the high bits of clock sequence as
            // per rfc4122, sec. 4.1.5
            for (i = 0; i < 36; i++) {
                if (!uuid[i]) {
                    r = 0 | Math.random() * 16;
                    uuid[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r];
                }
            }
        }
        return uuid.join('');
    };
    /** <p>判断线段是否在矩形内 </p>
         * 先看线段所在直线是否与矩形相交，
         * 如果不相交则返回false，
         * 如果相交，
         * 则看线段的两个点是否在矩形的同一边（即两点的x(y)坐标都比矩形的小x(y)坐标小，或者大）,
         * 若在同一边则返回false，
         * 否则就是相交的情况。
         * @param linePointX1 线段起始点x坐标
         * @param linePointY1 线段起始点y坐标
         * @param linePointX2 线段结束点x坐标
         * @param linePointY2 线段结束点y坐标
         * @param rectangleLeftTopX 矩形左上点x坐标
         * @param rectangleLeftTopY 矩形左上点y坐标
         * @param rectangleRightBottomX 矩形右下点x坐标
         * @param rectangleRightBottomY 矩形右下点y坐标
         * @return 是否相交
         */
    Utils.isLineIntersectRectangle = function (linePointX1, linePointY1, linePointX2, linePointY2, rectangleLeftTopX, rectangleLeftTopY, rectangleRightBottomX, rectangleRightBottomY) {
        var lineHeight = linePointY1 - linePointY2;
        var lineWidth = linePointX2 - linePointX1; // 计算叉乘 
        var c = linePointX1 * linePointY2 - linePointX2 * linePointY1;
        if ((lineHeight * rectangleLeftTopX + lineWidth * rectangleLeftTopY + c >= 0 && lineHeight * rectangleRightBottomX + lineWidth * rectangleRightBottomY + c <= 0)
            || (lineHeight * rectangleLeftTopX + lineWidth * rectangleLeftTopY + c <= 0 && lineHeight * rectangleRightBottomX + lineWidth * rectangleRightBottomY + c >= 0)
            || (lineHeight * rectangleLeftTopX + lineWidth * rectangleRightBottomY + c >= 0 && lineHeight * rectangleRightBottomX + lineWidth * rectangleLeftTopY + c <= 0)
            || (lineHeight * rectangleLeftTopX + lineWidth * rectangleRightBottomY + c <= 0 && lineHeight * rectangleRightBottomX + lineWidth * rectangleLeftTopY + c >= 0)) {
            if (rectangleLeftTopX > rectangleRightBottomX) {
                var temp = rectangleLeftTopX;
                rectangleLeftTopX = rectangleRightBottomX;
                rectangleRightBottomX = temp;
            }
            if (rectangleLeftTopY < rectangleRightBottomY) {
                var temp1 = rectangleLeftTopY;
                rectangleLeftTopY = rectangleRightBottomY;
                rectangleRightBottomY = temp1;
            }
            if ((linePointX1 < rectangleLeftTopX && linePointX2 < rectangleLeftTopX)
                || (linePointX1 > rectangleRightBottomX && linePointX2 > rectangleRightBottomX)
                || (linePointY1 > rectangleLeftTopY && linePointY2 > rectangleLeftTopY)
                || (linePointY1 < rectangleRightBottomY && linePointY2 < rectangleRightBottomY)) {
                return false;
            }
            else {
                return true;
            }
        }
        else {
            return false;
        }
    };
    /**
     * 由慢到快
     * @param start
     * @param end
     * @param easing
     * @returns
     */
    Utils.easeIn = function (start, end, easing) {
        if (easing === void 0) { easing = 0.1; }
        start = start - (start - end) * easing;
        return start;
    };
    /**
     * 由快到慢
     * @param start
     * @param end
     * @param easing
     * @returns
     */
    Utils.easeOut = function (start, end, easing) {
        if (easing === void 0) { easing = 0.1; }
        start = start + (end - start) * easing;
        return start;
    };
    /**
     * 当前数字是否时一个质数
     * 被1和自己整除
     * @param num
     */
    Utils.isPrime = function (num) {
        var squrtNum = Math.floor(Math.sqrt(num));
        for (var index = 2; index < num; index++) {
            if (num % index == 0) {
                return false;
            }
        }
        return true;
    };
    /**
     * 找到距离这个数字最近的质数（质数用于随机分布中）
     * @param num
     * @returns
     */
    Utils.getPrime = function (num) {
        while (!this.isPrime(num)) {
            num++;
        }
        return num;
    };
    Utils.create = function (C) {
        return new C();
    };
    Utils.returnTime = function () {
        return new Date().getTime();
    };
    /**
     * 适配节点到相对于舞台的的边角位置
     * @param node
     * @param bord
     * @param offsetX
     * @param offsetY
     */
    Utils.fitToBoard = function (node, bord, offsetX, offsetY) {
        if (offsetX === void 0) { offsetX = 0; }
        if (offsetY === void 0) { offsetY = 0; }
        var size = cc.view.getVisibleSize();
        if (bord == 'tl') {
            node.x = -size.width / 2 + node.width / 2 + offsetX;
            node.y = node.height / 2 - node.height / 2 + offsetY;
        }
        else if (bord == 'tr') {
            node.x = size.width / 2 - node.width / 2 + offsetX;
            node.y = node.height / 2 - node.height / 2 + offsetY;
        }
        else if (bord == 'dl') {
            node.x = -size.width / 2 + node.width / 2 + offsetX;
            node.y = -node.height / 2 + node.height / 2 + offsetY;
        }
        else if (bord == 'dr') {
            node.x = size.width / 2 - node.width / 2 + offsetX;
            node.y = -node.height / 2 + node.height / 2 + offsetY;
        }
    };
    /**
     * 返回帧数用时
     * @param num
     */
    Utils._FT = function (num) {
        return num * 0.0333333;
    };
    Utils.isUndefined = function (obj) {
        return typeof obj == "undefined";
    };
    Utils.numberPlus = function (num1, num2) {
        return (num1 * 100 + num2 * 100) / 100;
    };
    Utils.numberReduce = function (num1, num2) {
        return (num1 * 100 - num2 * 100) / 100;
    };
    Utils.numberMulti = function (num1, num2) {
        return (num1 * 100 * num2 * 100) / (100 * 100);
    };
    return Utils;
}());
exports.default = Utils;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3Rvb2xzL1V0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUEraEJBLENBQUM7SUE5aEJHLDRCQUE0QjtJQUM1QixzQkFBc0I7SUFFZixlQUFTLEdBQWhCLFVBQWlCLEdBQUc7UUFDaEIsT0FBTyxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBRU0sc0JBQWdCLEdBQXZCLFVBQXdCLFNBQVM7UUFDN0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDdkMsSUFBSSxFQUFFLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQyxJQUFJLEVBQUUsU0FBQSxDQUFDO1lBQ1AsSUFBSSxNQUFNLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxNQUFNLEVBQUU7Z0JBQzlCLElBQUksU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7b0JBQ3RCLEVBQUUsR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFDakMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUM7b0JBQzNELElBQUksT0FBTyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksT0FBTyxFQUFFO3dCQUNoQyxPQUFPLElBQUksQ0FBQztxQkFDZjtpQkFDSjthQUNKO2lCQUFNLElBQUksU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQzdCLEVBQUUsR0FBRyxTQUFTLENBQUMs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TSxDQUFDLENBQUMsRUFBRTtZQUN6RCxJQUFJLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQzlCLElBQUksR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDOUIsTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsV0FBVyxFQUFFLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLFdBQVcsR0FBRyxPQUFPLENBQUMsQ0FBQztTQUNoRzthQUFNLElBQUksU0FBUyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFBRTtZQUN6RCxJQUFJLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQzlCLElBQUksR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDOUIsTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsV0FBVyxFQUFFLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLFdBQVcsR0FBRyxPQUFPLENBQUMsQ0FBQztTQUNoRzthQUFNLElBQUksU0FBUyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFBRTtZQUN6RCxJQUFJLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQzlCLElBQUksR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDOUIsTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsV0FBVyxFQUFFLFNBQVMsQ0FBQyxDQUFDLEdB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ekMsT0FBTyxDQUFDLElBQUksR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFDTCxZQUFDO0FBQUQsQ0EvaEJBLEFBK2hCQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXRpbHMge1xyXG4gICAgLy8gY2RlZ3Jlc3M6TnVtIE1hdGguUEkvMTgwLFxyXG4gICAgLy8gY2FuZ2xlOjE4MC9NYXRoLlBJLFxyXG5cclxuICAgIHN0YXRpYyBlbW9qaTJTdHIoc3RyKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZXNjYXBlKGVzY2FwZShzdHIpLnJlcGxhY2UoL1xcJXVELnszfS9nLCAnJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc0Vtb2ppQ2hhcmFjdGVyKHN1YnN0cmluZykge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3Vic3RyaW5nLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBocyA9IHN1YnN0cmluZy5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICBsZXQgbHM7XHJcbiAgICAgICAgICAgIGlmICgweGQ4MDAgPD0gaHMgJiYgaHMgPD0gMHhkYmZmKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3Vic3RyaW5nLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBscyA9IHN1YnN0cmluZy5jaGFyQ29kZUF0KGkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdWMgPSAoKGhzIC0gMHhkODAwKSAqIDB4NDAwKSArIChscyAtIDB4ZGMwMCkgKyAweDEwMDAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgweDFkMDAwIDw9IHVjICYmIHVjIDw9IDB4MWY3N2YpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN1YnN0cmluZy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBscyA9IHN1YnN0cmluZy5jaGFyQ29kZUF0KGkgKyAxKTtcclxuICAgICAgICAgICAgICAgIGlmIChscyA9PSAweDIwZTMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICgweDIxMDAgPD0gaHMgJiYgaHMgPD0gMHgyN2ZmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKDB4MkIwNSA8PSBocyAmJiBocyA8PSAweDJiMDcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoMHgyOTM0IDw9IGhzICYmIGhzIDw9IDB4MjkzNSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgweDMyOTcgPD0gaHMgJiYgaHMgPD0gMHgzMjk5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhzID09IDB4YTkgfHwgaHMgPT0gMHhhZSB8fCBocyA9PSAweDMwM2QgfHwgaHMgPT0gMHgzMDMwXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgaHMgPT0gMHgyYjU1IHx8IGhzID09IDB4MmIxYyB8fCBocyA9PSAweDJiMWJcclxuICAgICAgICAgICAgICAgICAgICB8fCBocyA9PSAweDJiNTApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+aYr+WQpuWtl+espuS4suacieepuuagvFxyXG4gICAgc3RhdGljIGlzU3RyU3BhY2Uoc3RyKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0ci5pbmRleE9mKCcgJykgPT09IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIC8v6KeS5bqm6L2s5byn5bqmXHJcbiAgICBzdGF0aWMgYW5nbGVUb1BJKGRlZ3JlZXMpIHtcclxuICAgICAgICByZXR1cm4gZGVncmVlcyAqIGNjLm1hY3JvLlJBRDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcGlUb0FuZ2xlKHJhZGlhbnMpIHtcclxuICAgICAgICByZXR1cm4gcmFkaWFucyAqIGNjLm1hY3JvLkRFRztcclxuICAgIH1cclxuXHJcbiAgICAvL+iOt+W+l+S4pOeCueS5i+mXtOeahOinkuW6plxyXG4gICAgc3RhdGljIGdldFZlY0FuZ2xlKGN1cnJWZWMsIG5leHRWZWMpIHtcclxuICAgICAgICAvLyBsZXQgcDEgPSAoMTgwIC8gTWF0aC5QSSk7XHJcbiAgICAgICAgbGV0IHZlYyA9IGNjLnYyKG5leHRWZWMpLnN1YihjYy52MihjdXJyVmVjKSk7XHJcbiAgICAgICAgbGV0IGExID0gLU1hdGguYXRhbjIodmVjLnksIHZlYy54KTtcclxuICAgICAgICBsZXQgcjEgPSBhMSAqIGNjLm1hY3JvLkRFRztcclxuICAgICAgICByZXR1cm4gcjE7XHJcbiAgICB9XHJcblxyXG4gICAgLy/miorkuIDkuKroioLngrnkuIvnmoTlnZDmoIfovazmiJDlhajlsYDlnZDmoIdcclxuICAgIHN0YXRpYyBjb252ZXJ0Tm9kZVRvV29ybGRTcGFjZShub2RlOiBjYy5Ob2RlLCBucG9zKSB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuY29udmVydFRvV29ybGRTcGFjZUFSKG5wb3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2MudjIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+aKiuS4gOS4quiKgueCueS4i+eahOWdkOagh+i9rOaIkOWPpuS4gOS4quiKgueCueeahOWdkOagh1xyXG4gICAgc3RhdGljIGNvbnZlcnROb2RlVG9Ob2RlU3BhY2Uobm9kZSwgdGFyZ2V0UGFyZW50KSB7XHJcbiAgICAgICAgaWYgKGNjLmlzVmFsaWQobm9kZSkpIHtcclxuICAgICAgICAgICAgaWYgKCEhbm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB3cG9zID0gbm9kZS5wYXJlbnQuY29udmVydFRvV29ybGRTcGFjZUFSKG5vZGUuZ2V0UG9zaXRpb24oKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNjLmlzVmFsaWQodGFyZ2V0UGFyZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRQYXJlbnQuY29udmVydFRvTm9kZVNwYWNlQVIod3Bvcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2MubG9nKCflnZDmoIfovazmjaLmnInpl67popgnKTtcclxuICAgICAgICByZXR1cm4gY2MudjIoMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/miorlhajlsYDlnZDmoIfovazmiJDlj6bkuIDkuKroioLngrnnmoTlnZDmoIdcclxuICAgIHN0YXRpYyBjb252ZXJ0V29ybGRUb05vZGVTcGFjZShub2RlLCB3cG9zLCBpc1BhcmVudCkge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIGlmICghIWlzUGFyZW50ICYmIG5vZGUucGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5wYXJlbnQuY29udmVydFRvTm9kZVNwYWNlQVIod3Bvcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIod3Bvcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjYy52MigwLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZ1bmN0aW9uIG5hbWUgaXNQaG9uZU51bWVyXHJcbiAgICAgKiBAcGFyYW0gcGhvbmVOdW0g55S16K+d5Y+356CBXHJcbiAgICAgKiDliKTmlq3kvKDlhaXnmoTmlbDlrZfmmK/lkKbnrKblkIjmiYvmnLrlj7fnoIHnmoTmoLzlvI9cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGlzUGhvbmVudW1iZXIocGhvbmVOdW0pIHtcclxuICAgICAgICBpZiAoISgvXjFbMzQ1NzhdXFxkezl9JC8udGVzdChwaG9uZU51bSkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICogRnVuY3Rpb24gbmFtZSBnZXRTaG9ydE5hbWVcclxuICAgICogQHBhcmFtIG5hbWUg546p5a625pi156ewXHJcbiAgICAqIOeOqeWutuS4reaWh+aYteensOacgOWkmuWPquaYvuekujXkuKrmsYnlrZfvvIzotoXlh7rliJnlnKjlkI7pnaLliqDigJwuLi7igJ0g5LiA5Liq5Lit5paHMuS4quWtl+esplxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBnZXRTaG9ydE5hbWUobmFtZSwgbWF4Q2hhcjogbnVtYmVyID0gMTApIHtcclxuICAgICAgICBpZiAoIW5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzdHJsZW4gPSAwO1xyXG4gICAgICAgIGxldCBzID0gXCJcIjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKG5hbWUuY2hhckNvZGVBdChpKSA+IDEyOCkge1xyXG4gICAgICAgICAgICAgICAgc3RybGVuICs9IDI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdHJsZW4rKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzICs9IG5hbWUuY2hhckF0KGkpO1xyXG4gICAgICAgICAgICBpZiAoc3RybGVuID49IG1heENoYXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzICsgXCIuLi5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuoeeul+S4pOeCueS5i+mXtOeahOS4reeCuSxcclxuICAgICAqIGNvZWZmaWNpZW50IOi3neemu+ezu+aVsFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY2FsY3VsYXRpb25NaWRQb2ludChiZWdpYW5Qb3M6IGNjLlZlYzIsIGVuZFBvczogY2MuVmVjMiwgY29lZmZpY2llbnQ6IG51bWJlciA9IDAuNSwgb2Zmc2V0WTogbnVtYmVyID0gMzAwKSB7XHJcbiAgICAgICAgbGV0IG5ld1BvcyA9IGJlZ2lhblBvcztcclxuICAgICAgICBsZXQgc3VieDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgc3VieTogbnVtYmVyID0gMDtcclxuICAgICAgICBpZiAoYmVnaWFuUG9zLnggPD0gZW5kUG9zLnggJiYgYmVnaWFuUG9zLnkgPD0gZW5kUG9zLnkpIHtcclxuICAgICAgICAgICAgc3VieCA9IGVuZFBvcy54IC0gYmVnaWFuUG9zLng7XHJcbiAgICAgICAgICAgIHN1YnkgPSBlbmRQb3MueSAtIGJlZ2lhblBvcy55O1xyXG4gICAgICAgICAgICBuZXdQb3MgPSBjYy52MihiZWdpYW5Qb3MueCArIHN1YnggKiBjb2VmZmljaWVudCwgYmVnaWFuUG9zLnkgKyBzdWJ5ICogY29lZmZpY2llbnQgKyBvZmZzZXRZKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGJlZ2lhblBvcy54ID4gZW5kUG9zLnggJiYgYmVnaWFuUG9zLnkgPCBlbmRQb3MueSkge1xyXG4gICAgICAgICAgICBzdWJ4ID0gZW5kUG9zLnggLSBiZWdpYW5Qb3MueDtcclxuICAgICAgICAgICAgc3VieSA9IGVuZFBvcy55IC0gYmVnaWFuUG9zLnk7XHJcbiAgICAgICAgICAgIG5ld1BvcyA9IGNjLnYyKGJlZ2lhblBvcy54ICsgc3VieCAqIGNvZWZmaWNpZW50LCBiZWdpYW5Qb3MueSArIHN1YnkgKiBjb2VmZmljaWVudCArIG9mZnNldFkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmVnaWFuUG9zLnggPiBlbmRQb3MueCAmJiBiZWdpYW5Qb3MueSA+IGVuZFBvcy55KSB7XHJcbiAgICAgICAgICAgIHN1YnggPSBlbmRQb3MueCAtIGJlZ2lhblBvcy54O1xyXG4gICAgICAgICAgICBzdWJ5ID0gZW5kUG9zLnkgLSBiZWdpYW5Qb3MueTtcclxuICAgICAgICAgICAgbmV3UG9zID0gY2MudjIoYmVnaWFuUG9zLnggKyBzdWJ4ICogY29lZmZpY2llbnQsIGJlZ2lhblBvcy55ICsgc3VieSAqIGNvZWZmaWNpZW50ICsgb2Zmc2V0WSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChiZWdpYW5Qb3MueCA8IGVuZFBvcy54ICYmIGJlZ2lhblBvcy55ID4gZW5kUG9zLnkpIHtcclxuICAgICAgICAgICAgc3VieCA9IGVuZFBvcy54IC0gYmVnaWFuUG9zLng7XHJcbiAgICAgICAgICAgIHN1YnkgPSBlbmRQb3MueSAtIGJlZ2lhblBvcy55O1xyXG4gICAgICAgICAgICBuZXdQb3MgPSBjYy52MihiZWdpYW5Qb3MueCArIHN1YnggKiBjb2VmZmljaWVudCwgYmVnaWFuUG9zLnkgKyBzdWJ5ICogY29lZmZpY2llbnQgKyBvZmZzZXRZKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ld1BvcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy/nlJ/miJDojIPlm7TlhoXnmoTpmo/mnLrmlbBcclxuICAgIHN0YXRpYyByYW5kU2VjdGlvbk51bShtaW5udW0sIG1heG51bSk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobWlubnVtICsgTWF0aC5yYW5kb20oKSAqIChtYXhudW0gLSBtaW5udW0pKTtcclxuICAgIH1cclxuICAgIC8v6I635b6X5pWw57uE5YaF55qE6ZqP5py65YC8XHJcbiAgICBzdGF0aWMgZ2V0UmFuZG9tQnlBcnIoYXJyKSB7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5yYW5kU2VjdGlvbk51bSgwLCBhcnIubGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gYXJyW2luZGV4XTtcclxuICAgIH1cclxuICAgIC8v55Sf5oiQ5Yy66Ze05YaF55qE5pWw57uEXHJcbiAgICBzdGF0aWMgY3JlYXRlQXJyKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XHJcbiAgICAgICAgbGV0IGFyciA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gc3RhcnRJbmRleDsgaW5kZXggPCBlbmRJbmRleDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBhcnIucHVzaChpbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOS7juaMh+WumuaVsOe7hOmaj+acuuWHuuWHoOS4quWAvOW5tue7hOaIkOaWsOaVsOe7hCjov5Tlm57lgLzkuLrljp/lhYPntKDnsbvlnospXHJcbiAgICAqIEBwYXJhbSBhcnI65rqQ5pWw57uEXHJcbiAgICAqIEBwYXJhbSBudW066KaB5Yeg5Liq6ZqP5py65YWD57SgXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIHJhbmRvbU5ld0FycihhcnI6IEFycmF5PGFueT4sIG51bTogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IGFyck9sZDogQXJyYXk8YW55PiA9IG5ldyBBcnJheTxhbnk+KCk7XHJcbiAgICAgICAgYXJyT2xkID0gWy4uLmFycl07XHJcbiAgICAgICAgaWYgKGFyck9sZC5sZW5ndGggPD0gbnVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJPbGQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBhcnJOZXc6IEFycmF5PGFueT4gPSBuZXcgQXJyYXk8YW55PigpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHJhbmRvbSA9IHRoaXMuZ2V0UmFuZG9tTnVtKDAsIGFyck9sZC5sZW5ndGggLSAxKTsvL+S6p+eUn+maj+acuuaVsOeUqOS9nOS4i+aghyBcclxuICAgICAgICAgICAgYXJyTmV3LnB1c2goYXJyT2xkW3JhbmRvbV0pO1xyXG4gICAgICAgICAgICBhcnJPbGQuc3BsaWNlKHJhbmRvbSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnJOZXc7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluiMg+WbtOWGhemaj+acuuaVtOaVsCjljIXlkKvmnIDlpKflgLwpXHJcbiAgICAgKiBAcGFyYW0gbWluIOacgOWwj+WAvFxyXG4gICAgICogQHBhcmFtIG1heCDmnIDlpKflgLxcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldFJhbmRvbU51bShtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkgKyBtaW4pXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHN0YXRpYyBjcm9zc011bCh2MTogY2MuVmVjMiwgdjI6IGNjLlZlYzIpIHtcclxuICAgICAgICByZXR1cm4gdjEueCAqIHYyLnkgLSB2MS55ICogdjIueDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIHF1YWRyYXRpYyhiZWdpbiwgYzEsIGVuZCwgdCkge1xyXG4gICAgICAgIGxldCBwID0gY2MudjIoKTtcclxuICAgICAgICBwLnggPSBiZWdpbi54ICogKDEgLSB0KSAqICgxIC0gdCkgKyBjMS54ICogMiAqIHQgKiAoMSAtIHQpICsgZW5kLnggKiB0ICogdDtcclxuICAgICAgICBwLnkgPSBiZWdpbi55ICogKDEgLSB0KSAqICgxIC0gdCkgKyBjMS55ICogMiAqIHQgKiAoMSAtIHQpICsgZW5kLnkgKiB0ICogdDtcclxuICAgICAgICByZXR1cm4gcDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGV4Y2hhbmdlKHAxOiBjYy5WZWMyLCBwMjogY2MuVmVjMikge1xyXG4gICAgICAgIGxldCBwID0gY2MudjIoKTtcclxuICAgICAgICBwLnggPSBwMi54O1xyXG4gICAgICAgIHAueSA9IHAyLnk7XHJcbiAgICAgICAgcDIueCA9IHAxLng7XHJcbiAgICAgICAgcDIueSA9IHAxLnk7XHJcbiAgICAgICAgcDEueCA9IHAueDtcclxuICAgICAgICBwMS55ID0gcC55O1xyXG4gICAgfVxyXG5cclxuICAgIC8v5pWw57uE5Yig6Zmk5p+Q5LiA5Liq57Si5byV55qE5a+56LGhXHJcbiAgICAvL2luZGV4IOW8gOWni+e0ouW8lVxyXG4gICAgLy9udW0g5Yig6Zmk5pWw6YePIOm7mOiupOS4ujHkuKpcclxuICAgIHN0YXRpYyBhcnJheVJlbW92ZShhcnI6IEFycmF5PGFueT4sIGluZGV4LCBudW0gPSAxKSB7XHJcbiAgICAgICAgbGV0IGksIGxlbjtcclxuICAgICAgICBmb3IgKGkgPSBpbmRleCArIG51bSwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFycltpIC0gbnVtXSA9IGFycltpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXJyLmxlbmd0aCA9IGxlbiAtIG51bTtcclxuICAgIH1cclxuXHJcbiAgICAvL+mAmui/h+aVsOe7hOS4reeahOWAvOenu+mZpOaVsOe7hFxyXG4gICAgc3RhdGljIGFycmF5UmVtb3ZlVmFsdWUoYXJyOiBBcnJheTxudW1iZXIgfCBzdHJpbmc+LCB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFyci5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGFycltpbmRleF07XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50ID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hcnJheVJlbW92ZShhcnIsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5pWw57uEY29weVxyXG4gICAgc3RhdGljIGFycmF5Q29weShzb3VyY2VBcnI6IEFycmF5PGFueT4sIGRlc3RBcnI6IEFycmF5PGFueT4pIHtcclxuICAgICAgICBpZiAoISFzb3VyY2VBcnIgJiYgISFkZXN0QXJyKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBzb3VyY2VBcnIubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gc291cmNlQXJyW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIGRlc3RBcnIucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+S7juaVsOe7hOS4reiOt+W+l+aMh+WumuaVsOmHj++8jOWQjOaXtuaUueWPmOWOn+acieeahOaVsOe7hFxyXG4gICAgc3RhdGljIGFycmF5R2V0U3luYyhzb3VyY2VBcnI6IEFycmF5PGFueT4sIG51bTogbnVtYmVyID0gMSkge1xyXG4gICAgICAgIGxldCByZXN1bHRBcnIgPSBbXTtcclxuICAgICAgICBpZiAobnVtID4gc291cmNlQXJyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmFycmF5Q29weShzb3VyY2VBcnIsIHJlc3VsdEFycik7XHJcbiAgICAgICAgICAgIHNvdXJjZUFyci5sZW5ndGggPSAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBkSW5kZXggPSAwO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbnVtOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICBkSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzb3VyY2VBcnIubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdEFyci5wdXNoKHNvdXJjZUFycltkSW5kZXhdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXJyYXlSZW1vdmUoc291cmNlQXJyLCBkSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHRBcnI7XHJcbiAgICB9XHJcblxyXG4gICAgLy/lubPmu5FcclxuICAgIHN0YXRpYyBsZXJwKGE6IG51bWJlciwgYjogbnVtYmVyLCB0OiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gYSArIHQgKiAoYiAtIGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBtYXRjaEJnU2l6ZShiZzogY2MuTm9kZSkge1xyXG4gICAgICAgIGlmIChjYy5pc1ZhbGlkKGJnKSkge1xyXG4gICAgICAgICAgICBiZy5zZXRTY2FsZSgxLCAxKTtcclxuICAgICAgICAgICAgbGV0IGh2YWx1ZSA9IGJnLndpZHRoO1xyXG4gICAgICAgICAgICBpZiAoYmcud2lkdGggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgaHZhbHVlID0gY2Mudmlldy5nZXREZXNpZ25SZXNvbHV0aW9uU2l6ZSgpLndpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBzaXplID0gY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpO1xyXG4gICAgICAgICAgICBsZXQgaHJhdGUgPSBzaXplLndpZHRoIC8gaHZhbHVlO1xyXG4gICAgICAgICAgICBiZy5zZXRTY2FsZShocmF0ZSwgaHJhdGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gaHJhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBtYXRjaEJnSFNpemUoYmc6IGNjLk5vZGUpIHtcclxuICAgICAgICBpZiAoY2MuaXNWYWxpZChiZykpIHtcclxuICAgICAgICAgICAgYmcuc2V0U2NhbGUoMSwgMSk7XHJcbiAgICAgICAgICAgIGxldCBodmFsdWUgPSBiZy5oZWlnaHQ7XHJcbiAgICAgICAgICAgIGlmIChiZy5oZWlnaHQgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgaHZhbHVlID0gY2Mudmlldy5nZXREZXNpZ25SZXNvbHV0aW9uU2l6ZSgpLmhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgc2l6ZSA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKTtcclxuICAgICAgICAgICAgbGV0IGhyYXRlID0gc2l6ZS5oZWlnaHQgLyBodmFsdWU7XHJcbiAgICAgICAgICAgIGJnLnNldFNjYWxlKGhyYXRlLCBocmF0ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBocmF0ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmiormlbDlrZfovazmiJAwMTAx55qE5pWw57uEXHJcbiAgICAgKiBAcGFyYW0geyp9IG51bSBcclxuICAgICAqIEBwYXJhbSB7Kn0gY291bnQgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBudW1iZXJUb0JpbmFyeShudW0sIGNvdW50KSB7XHJcbiAgICAgICAgbGV0IGFyciA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjb3VudDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBhcnIucHVzaChudW0gPj4gaW5kZXggJiAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFycjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHsqfSBhcnIgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBiaW5hcnlBcnJUb051bShhcnIpIHtcclxuICAgICAgICBpZiAoISFhcnIpIHtcclxuICAgICAgICAgICAgbGV0IHN0ciA9ICcnO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXJyLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IGFycltpbmRleF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2MubG9nKHN0cik7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChzdHIsIDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYr+WQpuaYr3Bj5pON5L2c5bmz5Y+wXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc1BjUGxhbnRGcm9tKCkge1xyXG4gICAgICAgIGlmIChjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5BTkRST0lEIHx8IGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLklQSE9ORSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6I635b6X5ZSv5LiAaWRcclxuICAgICAqIEBwYXJhbSBsZW4gXHJcbiAgICAgKiBAcGFyYW0gcmFkaXggXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZW5VdWlkKGxlbiwgcmFkaXgpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBjaGFycyA9ICcwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2dnh5eicuc3BsaXQoJycpO1xyXG4gICAgICAgIGxldCB1dWlkID0gW10sIGk7XHJcbiAgICAgICAgcmFkaXggPSByYWRpeCB8fCBjaGFycy5sZW5ndGg7XHJcblxyXG4gICAgICAgIGlmIChsZW4pIHtcclxuICAgICAgICAgICAgLy8gQ29tcGFjdCBmb3JtXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgdXVpZFtpXSA9IGNoYXJzWzAgfCBNYXRoLnJhbmRvbSgpICogcmFkaXhdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHJmYzQxMjIsIHZlcnNpb24gNCBmb3JtXHJcbiAgICAgICAgICAgIGxldCByO1xyXG5cclxuICAgICAgICAgICAgLy8gcmZjNDEyMiByZXF1aXJlcyB0aGVzZSBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgIHV1aWRbOF0gPSB1dWlkWzEzXSA9IHV1aWRbMThdID0gdXVpZFsyM10gPSAnLSc7XHJcbiAgICAgICAgICAgIHV1aWRbMTRdID0gJzQnO1xyXG4gICAgICAgICAgICAvLyBGaWxsIGluIHJhbmRvbSBkYXRhLiAgQXQgaT09MTkgc2V0IHRoZSBoaWdoIGJpdHMgb2YgY2xvY2sgc2VxdWVuY2UgYXNcclxuICAgICAgICAgICAgLy8gcGVyIHJmYzQxMjIsIHNlYy4gNC4xLjVcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDM2OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghdXVpZFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHIgPSAwIHwgTWF0aC5yYW5kb20oKSAqIDE2O1xyXG4gICAgICAgICAgICAgICAgICAgIHV1aWRbaV0gPSBjaGFyc1soaSA9PSAxOSkgPyAociAmIDB4MykgfCAweDggOiByXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXVpZC5qb2luKCcnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogPHA+5Yik5pat57q/5q615piv5ZCm5Zyo55+p5b2i5YaFIDwvcD5cclxuICAgICAgICAgKiDlhYjnnIvnur/mrrXmiYDlnKjnm7Tnur/mmK/lkKbkuI7nn6nlvaLnm7jkuqTvvIwgXHJcbiAgICAgICAgICog5aaC5p6c5LiN55u45Lqk5YiZ6L+U5ZueZmFsc2XvvIwgXHJcbiAgICAgICAgICog5aaC5p6c55u45Lqk77yMIFxyXG4gICAgICAgICAqIOWImeeci+e6v+auteeahOS4pOS4queCueaYr+WQpuWcqOefqeW9oueahOWQjOS4gOi+ue+8iOWNs+S4pOeCueeahHgoeSnlnZDmoIfpg73mr5Tnn6nlvaLnmoTlsI94KHkp5Z2Q5qCH5bCP77yM5oiW6ICF5aSn77yJLCBcclxuICAgICAgICAgKiDoi6XlnKjlkIzkuIDovrnliJnov5Tlm55mYWxzZe+8jCBcclxuICAgICAgICAgKiDlkKbliJnlsLHmmK/nm7jkuqTnmoTmg4XlhrXjgIJcclxuICAgICAgICAgKiBAcGFyYW0gbGluZVBvaW50WDEg57q/5q616LW35aeL54K5eOWdkOaghyBcclxuICAgICAgICAgKiBAcGFyYW0gbGluZVBvaW50WTEg57q/5q616LW35aeL54K5eeWdkOaghyBcclxuICAgICAgICAgKiBAcGFyYW0gbGluZVBvaW50WDIg57q/5q6157uT5p2f54K5eOWdkOaghyBcclxuICAgICAgICAgKiBAcGFyYW0gbGluZVBvaW50WTIg57q/5q6157uT5p2f54K5eeWdkOaghyBcclxuICAgICAgICAgKiBAcGFyYW0gcmVjdGFuZ2xlTGVmdFRvcFgg55+p5b2i5bem5LiK54K5eOWdkOaghyBcclxuICAgICAgICAgKiBAcGFyYW0gcmVjdGFuZ2xlTGVmdFRvcFkg55+p5b2i5bem5LiK54K5eeWdkOaghyBcclxuICAgICAgICAgKiBAcGFyYW0gcmVjdGFuZ2xlUmlnaHRCb3R0b21YIOefqeW9ouWPs+S4i+eCuXjlnZDmoIcgXHJcbiAgICAgICAgICogQHBhcmFtIHJlY3RhbmdsZVJpZ2h0Qm90dG9tWSDnn6nlvaLlj7PkuIvngrl55Z2Q5qCHIFxyXG4gICAgICAgICAqIEByZXR1cm4g5piv5ZCm55u45LqkXHJcbiAgICAgICAgICovXHJcbiAgICBzdGF0aWMgaXNMaW5lSW50ZXJzZWN0UmVjdGFuZ2xlKGxpbmVQb2ludFgxOiBudW1iZXIsIGxpbmVQb2ludFkxOiBudW1iZXIsIGxpbmVQb2ludFgyOiBudW1iZXIsIGxpbmVQb2ludFkyOiBudW1iZXIsXHJcbiAgICAgICAgcmVjdGFuZ2xlTGVmdFRvcFg6IG51bWJlcixcclxuICAgICAgICByZWN0YW5nbGVMZWZ0VG9wWTogbnVtYmVyLFxyXG4gICAgICAgIHJlY3RhbmdsZVJpZ2h0Qm90dG9tWDogbnVtYmVyLFxyXG4gICAgICAgIHJlY3RhbmdsZVJpZ2h0Qm90dG9tWTogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IGxpbmVIZWlnaHQ6IG51bWJlciA9IGxpbmVQb2ludFkxIC0gbGluZVBvaW50WTI7XHJcbiAgICAgICAgbGV0IGxpbmVXaWR0aDogbnVtYmVyID0gbGluZVBvaW50WDIgLSBsaW5lUG9pbnRYMTsgIC8vIOiuoeeul+WPieS5mCBcclxuICAgICAgICBsZXQgYzogbnVtYmVyID0gbGluZVBvaW50WDEgKiBsaW5lUG9pbnRZMiAtIGxpbmVQb2ludFgyICogbGluZVBvaW50WTE7XHJcbiAgICAgICAgaWYgKChsaW5lSGVpZ2h0ICogcmVjdGFuZ2xlTGVmdFRvcFggKyBsaW5lV2lkdGggKiByZWN0YW5nbGVMZWZ0VG9wWSArIGMgPj0gMCAmJiBsaW5lSGVpZ2h0ICogcmVjdGFuZ2xlUmlnaHRCb3R0b21YICsgbGluZVdpZHRoICogcmVjdGFuZ2xlUmlnaHRCb3R0b21ZICsgYyA8PSAwKVxyXG4gICAgICAgICAgICB8fCAobGluZUhlaWdodCAqIHJlY3RhbmdsZUxlZnRUb3BYICsgbGluZVdpZHRoICogcmVjdGFuZ2xlTGVmdFRvcFkgKyBjIDw9IDAgJiYgbGluZUhlaWdodCAqIHJlY3RhbmdsZVJpZ2h0Qm90dG9tWCArIGxpbmVXaWR0aCAqIHJlY3RhbmdsZVJpZ2h0Qm90dG9tWSArIGMgPj0gMClcclxuICAgICAgICAgICAgfHwgKGxpbmVIZWlnaHQgKiByZWN0YW5nbGVMZWZ0VG9wWCArIGxpbmVXaWR0aCAqIHJlY3RhbmdsZVJpZ2h0Qm90dG9tWSArIGMgPj0gMCAmJiBsaW5lSGVpZ2h0ICogcmVjdGFuZ2xlUmlnaHRCb3R0b21YICsgbGluZVdpZHRoICogcmVjdGFuZ2xlTGVmdFRvcFkgKyBjIDw9IDApXHJcbiAgICAgICAgICAgIHx8IChsaW5lSGVpZ2h0ICogcmVjdGFuZ2xlTGVmdFRvcFggKyBsaW5lV2lkdGggKiByZWN0YW5nbGVSaWdodEJvdHRvbVkgKyBjIDw9IDAgJiYgbGluZUhlaWdodCAqIHJlY3RhbmdsZVJpZ2h0Qm90dG9tWCArIGxpbmVXaWR0aCAqIHJlY3RhbmdsZUxlZnRUb3BZICsgYyA+PSAwKSkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlY3RhbmdsZUxlZnRUb3BYID4gcmVjdGFuZ2xlUmlnaHRCb3R0b21YKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGVtcDogbnVtYmVyID0gcmVjdGFuZ2xlTGVmdFRvcFg7XHJcbiAgICAgICAgICAgICAgICByZWN0YW5nbGVMZWZ0VG9wWCA9IHJlY3RhbmdsZVJpZ2h0Qm90dG9tWDtcclxuICAgICAgICAgICAgICAgIHJlY3RhbmdsZVJpZ2h0Qm90dG9tWCA9IHRlbXA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJlY3RhbmdsZUxlZnRUb3BZIDwgcmVjdGFuZ2xlUmlnaHRCb3R0b21ZKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGVtcDE6IG51bWJlciA9IHJlY3RhbmdsZUxlZnRUb3BZO1xyXG4gICAgICAgICAgICAgICAgcmVjdGFuZ2xlTGVmdFRvcFkgPSByZWN0YW5nbGVSaWdodEJvdHRvbVk7XHJcbiAgICAgICAgICAgICAgICByZWN0YW5nbGVSaWdodEJvdHRvbVkgPSB0ZW1wMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKGxpbmVQb2ludFgxIDwgcmVjdGFuZ2xlTGVmdFRvcFggJiYgbGluZVBvaW50WDIgPCByZWN0YW5nbGVMZWZ0VG9wWClcclxuICAgICAgICAgICAgICAgIHx8IChsaW5lUG9pbnRYMSA+IHJlY3RhbmdsZVJpZ2h0Qm90dG9tWCAmJiBsaW5lUG9pbnRYMiA+IHJlY3RhbmdsZVJpZ2h0Qm90dG9tWClcclxuICAgICAgICAgICAgICAgIHx8IChsaW5lUG9pbnRZMSA+IHJlY3RhbmdsZUxlZnRUb3BZICYmIGxpbmVQb2ludFkyID4gcmVjdGFuZ2xlTGVmdFRvcFkpXHJcbiAgICAgICAgICAgICAgICB8fCAobGluZVBvaW50WTEgPCByZWN0YW5nbGVSaWdodEJvdHRvbVkgJiYgbGluZVBvaW50WTIgPCByZWN0YW5nbGVSaWdodEJvdHRvbVkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnlLHmhaLliLDlv6tcclxuICAgICAqIEBwYXJhbSBzdGFydCBcclxuICAgICAqIEBwYXJhbSBlbmQgXHJcbiAgICAgKiBAcGFyYW0gZWFzaW5nIFxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBlYXNlSW4oc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIsIGVhc2luZzogbnVtYmVyID0gMC4xKSB7XHJcbiAgICAgICAgc3RhcnQgPSBzdGFydCAtIChzdGFydCAtIGVuZCkgKiBlYXNpbmc7XHJcbiAgICAgICAgcmV0dXJuIHN0YXJ0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog55Sx5b+r5Yiw5oWiXHJcbiAgICAgKiBAcGFyYW0gc3RhcnQgXHJcbiAgICAgKiBAcGFyYW0gZW5kIFxyXG4gICAgICogQHBhcmFtIGVhc2luZyBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZWFzZU91dChzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlciwgZWFzaW5nOiBudW1iZXIgPSAwLjEpIHtcclxuICAgICAgICBzdGFydCA9IHN0YXJ0ICsgKGVuZCAtIHN0YXJ0KSAqIGVhc2luZztcclxuICAgICAgICByZXR1cm4gc3RhcnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlvZPliY3mlbDlrZfmmK/lkKbml7bkuIDkuKrotKjmlbBcclxuICAgICAqIOiiqzHlkozoh6rlt7HmlbTpmaRcclxuICAgICAqIEBwYXJhbSBudW0gXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc1ByaW1lKG51bTogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHNxdXJ0TnVtID0gTWF0aC5mbG9vcihNYXRoLnNxcnQobnVtKSk7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAyOyBpbmRleCA8IG51bTsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBpZiAobnVtICUgaW5kZXggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5om+5Yiw6Led56a76L+Z5Liq5pWw5a2X5pyA6L+R55qE6LSo5pWw77yI6LSo5pWw55So5LqO6ZqP5py65YiG5biD5Lit77yJXHJcbiAgICAgKiBAcGFyYW0gbnVtIFxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRQcmltZShudW06IG51bWJlcikge1xyXG4gICAgICAgIHdoaWxlICghdGhpcy5pc1ByaW1lKG51bSkpIHtcclxuICAgICAgICAgICAgbnVtKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudW07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNyZWF0ZTxUPihDOiB7IG5ldygpOiBUIH0pOiBUIHtcclxuICAgICAgICByZXR1cm4gbmV3IEMoKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyByZXR1cm5UaW1lKCApIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpgILphY3oioLngrnliLDnm7jlr7nkuo7oiJ7lj7DnmoTnmoTovrnop5LkvY3nva5cclxuICAgICAqIEBwYXJhbSBub2RlIFxyXG4gICAgICogQHBhcmFtIGJvcmQgXHJcbiAgICAgKiBAcGFyYW0gb2Zmc2V0WCBcclxuICAgICAqIEBwYXJhbSBvZmZzZXRZIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZml0VG9Cb2FyZChub2RlOiBjYy5Ob2RlLCBib3JkOiBzdHJpbmcsIG9mZnNldFg6IG51bWJlciA9IDAsIG9mZnNldFk6IG51bWJlciA9IDApIHtcclxuICAgICAgICBsZXQgc2l6ZSA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKTtcclxuXHJcbiAgICAgICAgaWYgKGJvcmQgPT0gJ3RsJykge1xyXG4gICAgICAgICAgICBub2RlLnggPSAtc2l6ZS53aWR0aCAvIDIgKyBub2RlLndpZHRoIC8gMiArIG9mZnNldFg7XHJcbiAgICAgICAgICAgIG5vZGUueSA9IG5vZGUuaGVpZ2h0IC8gMiAtIG5vZGUuaGVpZ2h0IC8gMiArIG9mZnNldFk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChib3JkID09ICd0cicpIHtcclxuICAgICAgICAgICAgbm9kZS54ID0gc2l6ZS53aWR0aCAvIDIgLSBub2RlLndpZHRoIC8gMiArIG9mZnNldFg7XHJcbiAgICAgICAgICAgIG5vZGUueSA9IG5vZGUuaGVpZ2h0IC8gMiAtIG5vZGUuaGVpZ2h0IC8gMiArIG9mZnNldFk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChib3JkID09ICdkbCcpIHtcclxuXHJcbiAgICAgICAgICAgIG5vZGUueCA9IC1zaXplLndpZHRoIC8gMiArIG5vZGUud2lkdGggLyAyICsgb2Zmc2V0WDtcclxuICAgICAgICAgICAgbm9kZS55ID0gLW5vZGUuaGVpZ2h0IC8gMiArIG5vZGUuaGVpZ2h0IC8gMiArIG9mZnNldFk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChib3JkID09ICdkcicpIHtcclxuICAgICAgICAgICAgbm9kZS54ID0gc2l6ZS53aWR0aCAvIDIgLSBub2RlLndpZHRoIC8gMiArIG9mZnNldFg7XHJcbiAgICAgICAgICAgIG5vZGUueSA9IC1ub2RlLmhlaWdodCAvIDIgKyBub2RlLmhlaWdodCAvIDIgKyBvZmZzZXRZO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog6L+U5Zue5bin5pWw55So5pe2XHJcbiAgICAgKiBAcGFyYW0gbnVtXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBfRlQobnVtOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbnVtICogMC4wMzMzMzMzO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGlzVW5kZWZpbmVkKG9iajogYW55KSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT0gXCJ1bmRlZmluZWRcIjtcclxuICAgIH1cclxuICAgIHN0YXRpYyBudW1iZXJQbHVzKG51bTE6IG51bWJlciwgbnVtMjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKG51bTEgKiAxMDAgKyBudW0yICogMTAwKSAvIDEwMDtcclxuICAgIH1cclxuICAgIHN0YXRpYyBudW1iZXJSZWR1Y2UobnVtMTogbnVtYmVyLCBudW0yOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAobnVtMSAqIDEwMCAtIG51bTIgKiAxMDApIC8gMTAwO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIG51bWJlck11bHRpKG51bTE6IG51bWJlciwgbnVtMjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKG51bTEgKiAxMDAgKiBudW0yICogMTAwKSAvICgxMDAgKiAxMDApO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/message/EventDispath.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd75abv3bmxBpojLjaznh2B3', 'EventDispath');
// src/framework/message/EventDispath.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var JSHelper_1 = require("../helper/JSHelper");
var EventDispath = /** @class */ (function () {
    function EventDispath() {
        this.nodeList = {};
        this.touchList = {};
        this.NotificationCenter = new cc.Node();
    }
    EventDispath.getInstance = function () {
        if (!this.singleton) {
            this.singleton = new EventDispath();
        }
        return this.singleton;
    };
    EventDispath.prototype.addEventListener = function (type, callback, target) {
        this.NotificationCenter.on(type, callback, target);
    };
    EventDispath.prototype.send = function (eventID, arg1) {
        this.NotificationCenter.emit(eventID, arg1);
    };
    EventDispath.prototype.removeByEvent = function (type, callback, target) {
        this.NotificationCenter.off(type, callback, target);
    };
    EventDispath.prototype.removeEventListeners = function (target) {
        this.NotificationCenter.targetOff(target);
        if (this.nodeList[target]) {
            var arr = this.nodeList[target];
            for (var i = 0; i < arr.length; i++) {
                arr[i].targetOff(target);
            }
        }
    };
    /**
     * 按钮点击缩放
     * @param btn 触摸的node
     * @param callback 点击回调
     * @param thisObj 作用域
     * @param touchIndex 触发时机，1开始时，2结束时
     * @param icon 缩放效果node
     * @param scaleX
     * @param scaleY
     */
    EventDispath.prototype.on = function (btn, callback, thisObj, delayTime, isAction, touchIndex, icon, scaleX, scaleY) {
        if (delayTime === void 0) { delayTime = 0.5; }
        if (isAction === void 0) { isAction = true; }
        if (touchIndex === void 0) { touchIndex = 2; }
        if (!icon) {
            icon = btn;
        }
        var preScaleX = btn.scaleX;
        var preScaleY = btn.scaleY;
        if (scaleX) {
            preScaleX = scaleX;
        }
        if (scaleY) {
            preScaleY = scaleY;
        }
        if (!this.nodeList[thisObj]) {
            this.nodeList[thisObj] = [];
        }
        this.nodeList[thisObj].push(btn);
        this.touchList[btn.uuid] = 0;
        var self = this;
        btn.on(cc.Node.EventType.TOUCH_START, function (e) {
            if (self.touchList[icon.uuid] != 0)
                return;
            self.touchList[icon.uuid] = 1;
            JSHelper_1.default.playClickEffect();
            if (isAction)
                icon.runAction(cc.scaleTo(0.1, preScaleX * 1.1, preScaleY * 1.1));
            // icon.setScale(preScaleX*1.1, preScaleY*1.1)
            if (callback && touchIndex == 1)
                callback.call(thisObj, e);
        }, thisObj);
        btn.on(cc.Node.EventType.TOUCH_END, function (e) {
            if (self.touchList[icon.uuid] == 2)
                return;
            self.touchList[icon.uuid] = 2;
            if (isAction) {
                icon.runAction(cc.sequence(cc.scaleTo(0.1, preScaleX, preScaleY), cc.delayTime(delayTime), cc.callFunc(function () {
                    self.touchList[icon.uuid] = 0;
                })));
            }
            else {
                self.touchList[icon.uuid] = 0;
            }
            // icon.setScale(preScaleX, preScaleY)
            if (callback && touchIndex == 2) {
                callback.call(thisObj, e);
            }
        }, thisObj);
        // btn.on(cc.Node.EventType.TOUCH_CANCEL, function (e) {
        //     icon.runAction(cc.scaleTo(0.2, preScaleX, preScaleY))
        //     // if (callback && touchIndex == 2) callback.call(thisObj, e);
        //     // icon.setScale(preScaleX, preScaleY)
        // }, thisObj)
    };
    return EventDispath;
}());
exports.default = EventDispath.getInstance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL21lc3NhZ2UvRXZlbnREaXNwYXRoLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0NBQTBDO0FBUTFDO0lBSUk7UUFGQSxhQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ2QsY0FBUyxHQUFHLEVBQUUsQ0FBQztRQUVYLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUM1QyxDQUFDO0lBR2Esd0JBQVcsR0FBekI7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNqQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7U0FDdkM7UUFDRCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUVELHVDQUFnQixHQUFoQixVQUFpQixJQUFZLEVBQUUsUUFBK0IsRUFBRSxNQUFNO1FBQ2xFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBRUQsMkJBQUksR0FBSixVQUFLLE9BQU8sRUFBRSxJQUFVO1FBQ3BCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFFRCxvQ0FBYSxHQUFiLFVBQWMsSUFBWSxFQUFFLFFBQStCLEVBQUUsTUFBTTtRQUMvRCxJQUFJLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVELDJDQUFvQixHQUFwQixVQUFxQixNQUFNO1FBQ3ZCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDMUMsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFF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Q0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDbEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO2FBQ1A7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBRWpDO1lBQ0Qsc0NBQXNDO1lBQ3RDLElBQUksUUFBUSxJQUFJLFVBQVUsSUFBSSxDQUFDLEVBQUU7Z0JBQzdCLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQzdCO1FBQ0wsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFBO1FBRVgsd0RBQXdEO1FBQ3hELDREQUE0RDtRQUM1RCxxRUFBcUU7UUFDckUsNkNBQTZDO1FBQzdDLGNBQWM7SUFDbEIsQ0FBQztJQUVMLG1CQUFDO0FBQUQsQ0F0R0EsQUFzR0MsSUFBQTtBQUNELGtCQUFlLFlBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKU0hlbHBlciBmcm9tIFwiLi4vaGVscGVyL0pTSGVscGVyXCI7XHJcbmltcG9ydCBNS1V0aWxzIGZyb20gXCIuLi90b29scy9Na1V0aWxzXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIHRvdWNoRXZlbnRDZmcge1xyXG4gICAgdGhpc09iamVjdDogYW55LFxyXG4gICAgbm9kZUxpc3Q6IGNjLk5vZGVbXVxyXG59XHJcblxyXG5jbGFzcyBFdmVudERpc3BhdGgge1xyXG4gICAgTm90aWZpY2F0aW9uQ2VudGVyOiBjYy5Ob2RlO1xyXG4gICAgbm9kZUxpc3QgPSB7fTtcclxuICAgIHRvdWNoTGlzdCA9IHt9O1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5Ob3RpZmljYXRpb25DZW50ZXIgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBzaW5nbGV0b246IEV2ZW50RGlzcGF0aDtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IEV2ZW50RGlzcGF0aCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNpbmdsZXRvbikge1xyXG4gICAgICAgICAgICB0aGlzLnNpbmdsZXRvbiA9IG5ldyBFdmVudERpc3BhdGgoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2luZ2xldG9uO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEV2ZW50TGlzdGVuZXIodHlwZTogc3RyaW5nLCBjYWxsYmFjazogKG5vdGljZTogYW55KSA9PiB2b2lkLCB0YXJnZXQpIHtcclxuICAgICAgICB0aGlzLk5vdGlmaWNhdGlvbkNlbnRlci5vbih0eXBlLCBjYWxsYmFjaywgdGFyZ2V0KTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kKGV2ZW50SUQsIGFyZzE/OiBhbnkpIHtcclxuICAgICAgICB0aGlzLk5vdGlmaWNhdGlvbkNlbnRlci5lbWl0KGV2ZW50SUQsIGFyZzEpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUJ5RXZlbnQodHlwZTogc3RyaW5nLCBjYWxsYmFjazogKG5vdGljZTogYW55KSA9PiB2b2lkLCB0YXJnZXQpIHtcclxuICAgICAgICB0aGlzLk5vdGlmaWNhdGlvbkNlbnRlci5vZmYodHlwZSwgY2FsbGJhY2ssIHRhcmdldCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGFyZ2V0KSB7XHJcbiAgICAgICAgdGhpcy5Ob3RpZmljYXRpb25DZW50ZXIudGFyZ2V0T2ZmKHRhcmdldCk7XHJcbiAgICAgICAgaWYgKHRoaXMubm9kZUxpc3RbdGFyZ2V0XSkge1xyXG4gICAgICAgICAgICBsZXQgYXJyID0gdGhpcy5ub2RlTGlzdFt0YXJnZXRdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgYXJyW2ldLnRhcmdldE9mZih0YXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDmjInpkq7ngrnlh7vnvKnmlL5cclxuICAgICAqIEBwYXJhbSBidG4g6Kem5pG455qEbm9kZVxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIOeCueWHu+Wbnuiwg1xyXG4gICAgICogQHBhcmFtIHRoaXNPYmog5L2c55So5Z+fXHJcbiAgICAgKiBAcGFyYW0gdG91Y2hJbmRleCDop6blj5Hml7bmnLrvvIwx5byA5aeL5pe277yMMue7k+adn+aXtlxyXG4gICAgICogQHBhcmFtIGljb24g57yp5pS+5pWI5p6cbm9kZVxyXG4gICAgICogQHBhcmFtIHNjYWxlWCBcclxuICAgICAqIEBwYXJhbSBzY2FsZVkgXHJcbiAgICAgKi9cclxuICAgIG9uKGJ0bjogY2MuTm9kZSwgY2FsbGJhY2s6IChub3RpY2U6IGFueSkgPT4gdm9pZCwgdGhpc09iaiwgZGVsYXlUaW1lID0gMC41LCBpc0FjdGlvbiA9IHRydWUsIHRvdWNoSW5kZXggPSAyLCBpY29uPzogYW55LCBzY2FsZVg/OiBudW1iZXIsIHNjYWxlWT86IG51bWJlcikge1xyXG4gICAgICAgIGlmICghaWNvbikge1xyXG4gICAgICAgICAgICBpY29uID0gYnRuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcHJlU2NhbGVYID0gYnRuLnNjYWxlWFxyXG4gICAgICAgIGxldCBwcmVTY2FsZVkgPSBidG4uc2NhbGVZXHJcblxyXG4gICAgICAgIGlmIChzY2FsZVgpIHtcclxuICAgICAgICAgICAgcHJlU2NhbGVYID0gc2NhbGVYO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNjYWxlWSkge1xyXG4gICAgICAgICAgICBwcmVTY2FsZVkgPSBzY2FsZVk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5ub2RlTGlzdFt0aGlzT2JqXSkge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVMaXN0W3RoaXNPYmpdID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubm9kZUxpc3RbdGhpc09ial0ucHVzaChidG4pO1xyXG5cclxuICAgICAgICB0aGlzLnRvdWNoTGlzdFtidG4udXVpZF0gPSAwO1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBidG4ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLnRvdWNoTGlzdFtpY29uLnV1aWRdICE9IDApIHJldHVybjtcclxuICAgICAgICAgICAgc2VsZi50b3VjaExpc3RbaWNvbi51dWlkXSA9IDE7XHJcbiAgICAgICAgICAgIEpTSGVscGVyLnBsYXlDbGlja0VmZmVjdCgpO1xyXG4gICAgICAgICAgICBpZiAoaXNBY3Rpb24pIGljb24ucnVuQWN0aW9uKGNjLnNjYWxlVG8oMC4xLCBwcmVTY2FsZVggKiAxLjEsIHByZVNjYWxlWSAqIDEuMSkpXHJcbiAgICAgICAgICAgIC8vIGljb24uc2V0U2NhbGUocHJlU2NhbGVYKjEuMSwgcHJlU2NhbGVZKjEuMSlcclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIHRvdWNoSW5kZXggPT0gMSkgY2FsbGJhY2suY2FsbCh0aGlzT2JqLCBlKTtcclxuICAgICAgICB9LCB0aGlzT2JqKVxyXG5cclxuICAgICAgICBidG4ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi50b3VjaExpc3RbaWNvbi51dWlkXSA9PSAyKSByZXR1cm47XHJcbiAgICAgICAgICAgIHNlbGYudG91Y2hMaXN0W2ljb24udXVpZF0gPSAyO1xyXG4gICAgICAgICAgICBpZiAoaXNBY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGljb24ucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLnNjYWxlVG8oMC4xLCBwcmVTY2FsZVgsIHByZVNjYWxlWSksIGNjLmRlbGF5VGltZShkZWxheVRpbWUpLCBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi50b3VjaExpc3RbaWNvbi51dWlkXSA9IDA7XHJcbiAgICAgICAgICAgICAgICB9KSkpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvdWNoTGlzdFtpY29uLnV1aWRdID0gMDtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWNvbi5zZXRTY2FsZShwcmVTY2FsZVgsIHByZVNjYWxlWSlcclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIHRvdWNoSW5kZXggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzT2JqLCBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXNPYmopXHJcblxyXG4gICAgICAgIC8vIGJ0bi5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9DQU5DRUwsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgLy8gICAgIGljb24ucnVuQWN0aW9uKGNjLnNjYWxlVG8oMC4yLCBwcmVTY2FsZVgsIHByZVNjYWxlWSkpXHJcbiAgICAgICAgLy8gICAgIC8vIGlmIChjYWxsYmFjayAmJiB0b3VjaEluZGV4ID09IDIpIGNhbGxiYWNrLmNhbGwodGhpc09iaiwgZSk7XHJcbiAgICAgICAgLy8gICAgIC8vIGljb24uc2V0U2NhbGUocHJlU2NhbGVYLCBwcmVTY2FsZVkpXHJcbiAgICAgICAgLy8gfSwgdGhpc09iailcclxuICAgIH1cclxuXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgRXZlbnREaXNwYXRoLmdldEluc3RhbmNlKCk7Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/ui/effect/TopUIEffect.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd06c0350WlFqoxRPOQCbopS', 'TopUIEffect');
// src/framework/ui/effect/TopUIEffect.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var BaseUIEffect_1 = require("../BaseUIEffect");
var TopUIEffect = /** @class */ (function (_super) {
    __extends(TopUIEffect, _super);
    function TopUIEffect() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TopUIEffect.prototype.run = function (node, time, isOpen, handler) {
        time = time || this.time;
        if (isOpen) {
            if (!!handler) {
                handler.call(node);
            }
        }
        else {
            var size = cc.view.getVisibleSize();
            node.opacity = 0;
            node.y = size.height / 2;
            var action = cc.spawn(cc.fadeIn(time), cc.moveTo(time, 0, 0).easing(cc.easeBackOut()));
            node.runAction(cc.sequence(action, cc.callFunc(function () { node.x = 0; node.y = 0; if (!!handler) {
                handler.call(node);
            } })));
        }
    };
    return TopUIEffect;
}(BaseUIEffect_1.default));
exports.default = TopUIEffect;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3VpL2VmZmVjdC9Ub3BVSUVmZmVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxnREFBMkM7QUFFM0M7SUFBeUMsK0JBQVk7SUFBckQ7O0lBc0JBLENBQUM7SUFwQkcseUJBQUcsR0FBSCxVQUFJLElBQVksRUFBQyxJQUFXLEVBQUMsTUFBYyxFQUFDLE9BQWU7UUFFdkQsSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3pCLElBQUcsTUFBTSxFQUNUO1lBQ0ksSUFBRyxDQUFDLENBQUMsT0FBTyxFQUNaO2dCQUNJLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDdEI7U0FDSjthQUVEO1lBQ0ksSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNwQyxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztZQUNqQixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDO1lBQ3ZCLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBQyxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDcEYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBQyxFQUFFLENBQUMsUUFBUSxDQUFDLGNBQU0sSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBQztnQkFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDeEg7SUFFTCxDQUFDO0lBQ0wsa0JBQUM7QUFBRCxDQXRCQSxBQXNCQyxDQXRCd0Msc0JBQVksR0FzQnBEIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEhhbmRsZXIgZnJvbSBcIi4uLy4uL2Jhc2UvSGFuZGxlclwiO1xyXG5pbXBvcnQgQmFzZVVJRWZmZWN0IGZyb20gXCIuLi9CYXNlVUlFZmZlY3RcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvcFVJRWZmZWN0IGV4dGVuZHMgQmFzZVVJRWZmZWN0e1xyXG4gICAgXHJcbiAgICBydW4obm9kZTpjYy5Ob2RlLHRpbWU6bnVtYmVyLGlzT3Blbjpib29sZWFuLGhhbmRsZXI6SGFuZGxlcilcclxuICAgIHtcclxuICAgICAgICB0aW1lID0gdGltZSB8fCB0aGlzLnRpbWU7XHJcbiAgICAgICAgaWYoaXNPcGVuKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoISFoYW5kbGVyKVxyXG4gICAgICAgICAgICB7IFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlci5jYWxsKG5vZGUpOyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgc2l6ZSA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKTtcclxuICAgICAgICAgICAgbm9kZS5vcGFjaXR5ID0gMDtcclxuICAgICAgICAgICAgbm9kZS55ID0gc2l6ZS5oZWlnaHQvMjtcclxuICAgICAgICAgICAgbGV0IGFjdGlvbiA9IGNjLnNwYXduKGNjLmZhZGVJbih0aW1lKSxjYy5tb3ZlVG8odGltZSwwLDApLmVhc2luZyhjYy5lYXNlQmFja091dCgpKSk7XHJcbiAgICAgICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGFjdGlvbixjYy5jYWxsRnVuYygoKT0+eyBub2RlLnggPSAwO25vZGUueSA9IDA7IGlmKCEhaGFuZGxlcil7IGhhbmRsZXIuY2FsbChub2RlKTsgfSB9KSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/ui/effect/ScaleBackUIEffect.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b76cbWgUNlAy5uyyE3oYdy/', 'ScaleBackUIEffect');
// src/framework/ui/effect/ScaleBackUIEffect.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var BaseUIEffect_1 = require("../BaseUIEffect");
var ScaleBackUIEffect = /** @class */ (function (_super) {
    __extends(ScaleBackUIEffect, _super);
    function ScaleBackUIEffect() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ScaleBackUIEffect.prototype.run = function (node, time, isOpen, handler) {
        time = time || this.time;
        node.scale = 1;
        node.runAction(cc.sequence(cc.scaleTo(time, 0, 0).easing(cc.easeBackIn()), cc.callFunc(function () { if (!!handler) {
            handler.call(node);
        } })));
    };
    return ScaleBackUIEffect;
}(BaseUIEffect_1.default));
exports.default = ScaleBackUIEffect;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3VpL2VmZmVjdC9TY2FsZUJhY2tVSUVmZmVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnREFBMkM7QUFHM0M7SUFBK0MscUNBQVk7SUFBM0Q7O0lBT0EsQ0FBQztJQU5HLCtCQUFHLEdBQUgsVUFBSSxJQUFZLEVBQUMsSUFBVyxFQUFDLE1BQWMsRUFBQyxPQUFlO1FBRXZELElBQUksR0FBRyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQztRQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsY0FBTSxJQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUM7WUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEksQ0FBQztJQUNMLHdCQUFDO0FBQUQsQ0FQQSxBQU9DLENBUDhDLHNCQUFZLEdBTzFEIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VVSUVmZmVjdCBmcm9tIFwiLi4vQmFzZVVJRWZmZWN0XCI7XHJcbmltcG9ydCBIYW5kbGVyIGZyb20gXCIuLi8uLi9iYXNlL0hhbmRsZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjYWxlQmFja1VJRWZmZWN0IGV4dGVuZHMgQmFzZVVJRWZmZWN0e1xyXG4gICAgcnVuKG5vZGU6Y2MuTm9kZSx0aW1lOm51bWJlcixpc09wZW46Ym9vbGVhbixoYW5kbGVyOkhhbmRsZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGltZSA9IHRpbWUgfHwgdGhpcy50aW1lO1xyXG4gICAgICAgIG5vZGUuc2NhbGUgPSAxO1xyXG4gICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLnNjYWxlVG8odGltZSwwLDApLmVhc2luZyhjYy5lYXNlQmFja0luKCkpLGNjLmNhbGxGdW5jKCgpPT57IGlmKCEhaGFuZGxlcil7IGhhbmRsZXIuY2FsbChub2RlKTsgfSB9KSkpO1xyXG4gICAgfVxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/tools/SortUtils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2695bm4arVIq6Dj0pAiuMEV', 'SortUtils');
// src/framework/tools/SortUtils.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//排序算法集合
var SortUtils = /** @class */ (function () {
    function SortUtils() {
    }
    /**
     * 冒泡排序算法
     * @param collects
     * @param key 如果是对象则使用key值进行比较
     * @returns
     */
    SortUtils.bubbleSort = function (collects, key) {
        var isNeedKey = !!key;
        if (collects) {
            var len = collects.length;
            for (var i = 0; i < len - 1; i++) {
                var flag = true; //优化 如果一轮检查下来发现没有可交换的 说明已经是有序的，不用再检查了
                var frist = null; //前一个需要比较值
                var next = null; //后一个需要比较的值
                for (var j = 0; j < len - i - 1; j++) {
                    if (isNeedKey) { //是否是对象需要排序
                        frist = collects[j][key];
                        next = collects[j + 1][key];
                    }
                    else {
                        frist = collects[j];
                        next = collects[j + 1];
                    }
                    if (frist < next) {
                        //进行交换
                        var temp = collects[j + 1];
                        collects[j + 1] = collects[j];
                        collects[j] = temp;
                        flag = false;
                    }
                }
                // console.log(i + "执行了多少次");
                if (flag) {
                    break;
                }
            }
        }
        return collects;
    };
    /**
     * 希尔排序
     * @param collects
     * @param key
     * @returns
     */
    SortUtils.shellSort = function (collects, key) {
        var len = collects.length;
        return collects;
    };
    SortUtils.insertArr = function () {
    };
    /**
     * 插入排序算法
     * @param collects 需要排序的集合
     * @param key 如果是对象需要排序，需要提供一个key 来获取number类型的值进行排序
     * @returns 返回一个排序好的数组
     */
    SortUtils.insertSort = function (collects, key) {
        if (!collects || collects.length < 2) {
            return collects;
        }
        var isNeedKey = !!key;
        var preElement = null; //前一个元素
        var nextElement = null; //后一个元素
        for (var index = 1; index < collects.length; index++) {
            preElement = isNeedKey ? collects[index - 1][key] : collects[index - 1];
            nextElement = isNeedKey ? collects[index][key] : collects[index];
            if (preElement > nextElement) {
                //TODO 优化思考
                var i = index;
                //排序之前的元素
                for (i; i > 0; i--) {
                    var cValue = isNeedKey ? collects[i][key] : collects[i];
                    var cPre = isNeedKey ? collects[i - 1][key] : collects[i - 1];
                    if (cValue < cPre) {
                        var temp = collects[i];
                        collects[i] = collects[i - 1];
                        collects[i - 1] = temp;
                    }
                }
            }
        }
        return collects;
    };
    // /**
    //  * 通过二分法查找 因为对于当前元素前边都是已经排序好的，通过二分法减少查看次数
    //  * @param collects 
    //  * @param key 
    //  * @param index   collects 中已经检查到的索引
    //  * @returns 
    //  */
    // private static insertFindBinary<T>(collects:Array<T>,key:string,index:number):number
    // {
    //     let isNeedKey:boolean = !!key;
    //     let midIndex:number = Math.floor( index/2 );
    //     let needValue = isNeedKey ? collects[index][key] : collects[index];//需要比较的当前值
    //     while(true)
    //     {
    //         const mValue =  isNeedKey ? collects[midIndex][key] : collects[midIndex];
    //         if (needValue > mValue) {
    //             midIndex = Math.floor( midIndex / 2 );
    //         } else if (mValue == needValue) {
    //             return midIndex;
    //         } else {
    //             midIndex = Math.floor( (index - midIndex) / 2 );
    //         }
    //         if (midIndex <= 0) {
    //             break;
    //         }
    //     }
    //     return index;
    // }
    /**
     * 快速排序
     * @param collects 需要排序的集合
     * @param key 如果是对象的话，需要按照key进行
     * @isBig 是否是从大到小排序
     * @returns 返回排序好的集合
     */
    SortUtils.quickSort = function (collects, isBig, key) {
        if (isBig === void 0) { isBig = true; }
        SortUtils.quickSortHandle(collects, 0, collects.length - 1, key);
        return collects;
    };
    /**
     * 快速排序的逻辑
     * @param collects 排序的集合
     * @param start 开始位置
     * @param end   结束位置
     * @param key   如果是对象进行排序 需要用到的key obj[key] is number
     * @returns
     */
    SortUtils.quickSortHandle = function (collects, start, end, key, isBig) {
        if (isBig === void 0) { isBig = true; }
        if (start >= end) {
            return;
        }
        var isNeedKey = !!key; //是否需要根据key 进行排序
        var mindex = start; //Math.floor( (end - start)/2 );//取第一个值或者中间的值
        var midValue = isNeedKey ? collects[mindex][key] : collects[mindex];
        var midOrg = collects[mindex]; //中间的原始值
        var i = start;
        var j = end;
        while (i < j) {
            //找到右侧比基准值小的 索引 同时暂停右侧的查询，执行左侧的查询，找到比基准值大把当前j索引的值替换掉，防止数值重复
            var currValue = isNeedKey ? collects[j][key] : collects[j];
            if (isBig) {
                while (i < j && currValue < midValue) {
                    j--;
                    currValue = isNeedKey ? collects[j][key] : collects[j];
                }
            }
            else {
                while (i < j && currValue > midValue) {
                    j--;
                    currValue = isNeedKey ? collects[j][key] : collects[j];
                }
            }
            //把右侧的大的值赋给左侧
            if (i < j) {
                collects[i] = collects[j];
                i++;
            }
            currValue = isNeedKey ? collects[i][key] : collects[i];
            while (i < j && currValue < midValue) {
                i++;
                currValue = isNeedKey ? collects[i][key] : collects[i];
            }
            if (i < j) {
                collects[j] = collects[i];
                j--;
            }
        }
        collects[i] = midOrg;
        SortUtils.quickSortHandle(collects, start, i - 1, key);
        SortUtils.quickSortHandle(collects, i + 1, end, key);
    };
    /**
     * 快速排序
     * @param collects 需要排序的集合
     * @param key 如果是对象的话，需要按照key进行
     * @returns 返回排序好的集合
     */
    SortUtils.quickSortNode = function (collects, key) {
        SortUtils.quickSortHandle(collects, 0, collects.length - 1, key);
        return collects;
    };
    /**
     * 快速排序的逻辑
     * @param collects 排序的集合
     * @param start 开始位置
     * @param end   结束位置
     * @param key   如果是对象进行排序 需要用到的key obj[key] is number
     * @returns
     */
    SortUtils.quickSortNodeHandler = function (collects, start, end, key) {
        if (start >= end) {
            return;
        }
        var isNeedKey = !!key; //是否需要根据key 进行排序
        var mindex = start; //Math.floor( (end - start)/2 );//取第一个值或者中间的值
        var midValue = isNeedKey ? collects[mindex][key] : collects[mindex];
        var midOrg = collects[mindex]; //中间的原始值
        var i = start;
        var j = end;
        while (i < j) {
            //找到右侧比基准值小的 索引 同时暂停右侧的查询，执行左侧的查询，找到比基准值大把当前j索引的值替换掉，防止数值重复
            var currValue = isNeedKey ? collects[j][key] : collects[j];
            while (i < j && currValue > midValue) {
                j--;
                currValue = isNeedKey ? collects[j][key] : collects[j];
            }
            //把右侧的大的值赋给左侧
            if (i < j) {
                collects[i] = collects[j];
                i++;
            }
            currValue = isNeedKey ? collects[i][key] : collects[i];
            while (i < j && currValue < midValue) {
                i++;
                currValue = isNeedKey ? collects[i][key] : collects[i];
            }
            if (i < j) {
                collects[j] = collects[i];
                j--;
            }
        }
        collects[i] = midOrg;
        SortUtils.quickSortHandle(collects, start, i - 1, key);
        SortUtils.quickSortHandle(collects, i + 1, end, key);
    };
    return SortUtils;
}());
exports.default = SortUtils;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3Rvb2xzL1NvcnRVdGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLFFBQVE7QUFDUjtJQUFBO0lBc1FBLENBQUM7SUFwUUc7Ozs7O09BS0c7SUFDSSxvQkFBVSxHQUFqQixVQUFxQixRQUFrQixFQUFFLEdBQVk7UUFDakQsSUFBSSxTQUFTLEdBQVksQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUMvQixJQUFJLFFBQVEsRUFBRTtZQUNWLElBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUM7WUFDMUIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzlCLElBQUksSUFBSSxHQUFZLElBQUksQ0FBQyxDQUFBLHFDQUFxQztnQkFDOUQsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUEsVUFBVTtnQkFDM0IsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUEsV0FBVztnQkFDM0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUNsQyxJQUFJLFNBQVMsRUFBRSxFQUFDLFdBQVc7d0JBQ3ZCLEtBQUssR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQ3pCLElBQUksR0FBRyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3FCQUMvQjt5QkFBTTt3QkFDSCxLQUFLLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUNwQixJQUFJLEdBQUcsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztxQkFDMUI7b0JBRUQsSUFBSSxLQUFLLEdBQUcsSUFBSSxFQUFFO3dCQUNk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QyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUMxRDtZQUVELElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDUCxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMxQixDQUFDLEVBQUUsQ0FBQzthQUNQO1NBRUo7UUFDRCxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLFNBQVMsQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZELFNBQVMsQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFHTCxnQkFBQztBQUFELENBdFFBLEFBc1FDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvL+aOkuW6j+eul+azlembhuWQiFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb3J0VXRpbHMge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICog5YaS5rOh5o6S5bqP566X5rOVXHJcbiAgICAgKiBAcGFyYW0gY29sbGVjdHMgXHJcbiAgICAgKiBAcGFyYW0ga2V5IOWmguaenOaYr+WvueixoeWImeS9v+eUqGtleeWAvOi/m+ihjOavlOi+g1xyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBidWJibGVTb3J0PFQ+KGNvbGxlY3RzOiBBcnJheTxUPiwga2V5Pzogc3RyaW5nKTogQXJyYXk8VD4ge1xyXG4gICAgICAgIGxldCBpc05lZWRLZXk6IGJvb2xlYW4gPSAhIWtleTtcclxuICAgICAgICBpZiAoY29sbGVjdHMpIHtcclxuICAgICAgICAgICAgbGV0IGxlbiA9IGNvbGxlY3RzLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW4gLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBmbGFnOiBib29sZWFuID0gdHJ1ZTsvL+S8mOWMliDlpoLmnpzkuIDova7mo4Dmn6XkuIvmnaXlj5HnjrDmsqHmnInlj6/kuqTmjaLnmoQg6K+05piO5bey57uP5piv5pyJ5bqP55qE77yM5LiN55So5YaN5qOA5p+l5LqGXHJcbiAgICAgICAgICAgICAgICBsZXQgZnJpc3QgPSBudWxsOy8v5YmN5LiA5Liq6ZyA6KaB5q+U6L6D5YC8XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IG51bGw7Ly/lkI7kuIDkuKrpnIDopoHmr5TovoPnmoTlgLxcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGVuIC0gaSAtIDE7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05lZWRLZXkpIHsvL+aYr+WQpuaYr+WvueixoemcgOimgeaOkuW6j1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmlzdCA9IGNvbGxlY3RzW2pdW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSBjb2xsZWN0c1tqICsgMV1ba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmlzdCA9IGNvbGxlY3RzW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gY29sbGVjdHNbaiArIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyaXN0IDwgbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+i/m+ihjOS6pOaNolxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IGNvbGxlY3RzW2ogKyAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdHNbaiArIDFdID0gY29sbGVjdHNbal07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RzW2pdID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGkgKyBcIuaJp+ihjOS6huWkmuWwkeasoVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChmbGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb2xsZWN0cztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW4jOWwlOaOkuW6j1xyXG4gICAgICogQHBhcmFtIGNvbGxlY3RzIFxyXG4gICAgICogQHBhcmFtIGtleSBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2hlbGxTb3J0PFQ+KGNvbGxlY3RzOiBBcnJheTxUPiwga2V5Pzogc3RyaW5nKTogQXJyYXk8VD4ge1xyXG4gICAgICAgIGxldCBsZW4gPSBjb2xsZWN0cy5sZW5ndGg7XHJcblxyXG4gICAgICAgIHJldHVybiBjb2xsZWN0cztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnNlcnRBcnIoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5o+S5YWl5o6S5bqP566X5rOVXHJcbiAgICAgKiBAcGFyYW0gY29sbGVjdHMg6ZyA6KaB5o6S5bqP55qE6ZuG5ZCIXHJcbiAgICAgKiBAcGFyYW0ga2V5IOWmguaenOaYr+WvueixoemcgOimgeaOkuW6j++8jOmcgOimgeaPkOS+m+S4gOS4qmtleSDmnaXojrflj5ZudW1iZXLnsbvlnovnmoTlgLzov5vooYzmjpLluo9cclxuICAgICAqIEByZXR1cm5zIOi/lOWbnuS4gOS4quaOkuW6j+WlveeahOaVsOe7hFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgaW5zZXJ0U29ydDxUPihjb2xsZWN0czogQXJyYXk8VD4sIGtleT86IHN0cmluZyk6IEFycmF5PFQ+IHtcclxuICAgICAgICBpZiAoIWNvbGxlY3RzIHx8IGNvbGxlY3RzLmxlbmd0aCA8IDIpIHtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb2xsZWN0cztcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlzTmVlZEtleTogYm9vbGVhbiA9ICEha2V5O1xyXG4gICAgICAgIGxldCBwcmVFbGVtZW50ID0gbnVsbDsvL+WJjeS4gOS4quWFg+e0oFxyXG4gICAgICAgIGxldCBuZXh0RWxlbWVudCA9IG51bGw7Ly/lkI7kuIDkuKrlhYPntKBcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAxOyBpbmRleCA8IGNvbGxlY3RzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBwcmVFbGVtZW50ID0gaXNOZWVkS2V5ID8gY29sbGVjdHNbaW5kZXggLSAxXVtrZXldIDogY29sbGVjdHNbaW5kZXggLSAxXTtcclxuICAgICAgICAgICAgbmV4dEVsZW1lbnQgPSBpc05lZWRLZXkgPyBjb2xsZWN0c1tpbmRleF1ba2V5XSA6IGNvbGxlY3RzW2luZGV4XTtcclxuICAgICAgICAgICAgaWYgKHByZUVsZW1lbnQgPiBuZXh0RWxlbWVudCkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vVE9ETyDkvJjljJbmgJ3ogINcclxuICAgICAgICAgICAgICAgIGxldCBpID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAvL+aOkuW6j+S5i+WJjeeahOWFg+e0oFxyXG4gICAgICAgICAgICAgICAgZm9yIChpOyBpID4gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY1ZhbHVlID0gaXNOZWVkS2V5ID8gY29sbGVjdHNbaV1ba2V5XSA6IGNvbGxlY3RzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNQcmUgPSBpc05lZWRLZXkgPyBjb2xsZWN0c1tpIC0gMV1ba2V5XSA6IGNvbGxlY3RzW2kgLSAxXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY1ZhbHVlIDwgY1ByZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IGNvbGxlY3RzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0c1tpXSA9IGNvbGxlY3RzW2kgLSAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdHNbaSAtIDFdID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29sbGVjdHM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLyoqXHJcbiAgICAvLyAgKiDpgJrov4fkuozliIbms5Xmn6Xmib4g5Zug5Li65a+55LqO5b2T5YmN5YWD57Sg5YmN6L656YO95piv5bey57uP5o6S5bqP5aW955qE77yM6YCa6L+H5LqM5YiG5rOV5YeP5bCR5p+l55yL5qyh5pWwXHJcbiAgICAvLyAgKiBAcGFyYW0gY29sbGVjdHMgXHJcbiAgICAvLyAgKiBAcGFyYW0ga2V5IFxyXG4gICAgLy8gICogQHBhcmFtIGluZGV4ICAgY29sbGVjdHMg5Lit5bey57uP5qOA5p+l5Yiw55qE57Si5byVXHJcbiAgICAvLyAgKiBAcmV0dXJucyBcclxuICAgIC8vICAqL1xyXG4gICAgLy8gcHJpdmF0ZSBzdGF0aWMgaW5zZXJ0RmluZEJpbmFyeTxUPihjb2xsZWN0czpBcnJheTxUPixrZXk6c3RyaW5nLGluZGV4Om51bWJlcik6bnVtYmVyXHJcbiAgICAvLyB7XHJcbiAgICAvLyAgICAgbGV0IGlzTmVlZEtleTpib29sZWFuID0gISFrZXk7XHJcblxyXG4gICAgLy8gICAgIGxldCBtaWRJbmRleDpudW1iZXIgPSBNYXRoLmZsb29yKCBpbmRleC8yICk7XHJcbiAgICAvLyAgICAgbGV0IG5lZWRWYWx1ZSA9IGlzTmVlZEtleSA/IGNvbGxlY3RzW2luZGV4XVtrZXldIDogY29sbGVjdHNbaW5kZXhdOy8v6ZyA6KaB5q+U6L6D55qE5b2T5YmN5YC8XHJcbiAgICAvLyAgICAgd2hpbGUodHJ1ZSlcclxuICAgIC8vICAgICB7XHJcbiAgICAvLyAgICAgICAgIGNvbnN0IG1WYWx1ZSA9ICBpc05lZWRLZXkgPyBjb2xsZWN0c1ttaWRJbmRleF1ba2V5XSA6IGNvbGxlY3RzW21pZEluZGV4XTtcclxuICAgIC8vICAgICAgICAgaWYgKG5lZWRWYWx1ZSA+IG1WYWx1ZSkge1xyXG4gICAgLy8gICAgICAgICAgICAgbWlkSW5kZXggPSBNYXRoLmZsb29yKCBtaWRJbmRleCAvIDIgKTtcclxuICAgIC8vICAgICAgICAgfSBlbHNlIGlmIChtVmFsdWUgPT0gbmVlZFZhbHVlKSB7XHJcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4gbWlkSW5kZXg7XHJcbiAgICAvLyAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICBtaWRJbmRleCA9IE1hdGguZmxvb3IoIChpbmRleCAtIG1pZEluZGV4KSAvIDIgKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBpZiAobWlkSW5kZXggPD0gMCkge1xyXG4gICAgLy8gICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIHJldHVybiBpbmRleDtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOW/q+mAn+aOkuW6j1xyXG4gICAgICogQHBhcmFtIGNvbGxlY3RzIOmcgOimgeaOkuW6j+eahOmbhuWQiFxyXG4gICAgICogQHBhcmFtIGtleSDlpoLmnpzmmK/lr7nosaHnmoTor53vvIzpnIDopoHmjInnhadrZXnov5vooYxcclxuICAgICAqIEBpc0JpZyDmmK/lkKbmmK/ku47lpKfliLDlsI/mjpLluo9cclxuICAgICAqIEByZXR1cm5zIOi/lOWbnuaOkuW6j+WlveeahOmbhuWQiFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcXVpY2tTb3J0PFQ+KGNvbGxlY3RzOiBBcnJheTxUPiwgaXNCaWcgPSB0cnVlLCBrZXk/OiBzdHJpbmcpOiBBcnJheTxUPiB7XHJcbiAgICAgICAgU29ydFV0aWxzLnF1aWNrU29ydEhhbmRsZShjb2xsZWN0cywgMCwgY29sbGVjdHMubGVuZ3RoIC0gMSwga2V5KTtcclxuICAgICAgICByZXR1cm4gY29sbGVjdHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlv6vpgJ/mjpLluo/nmoTpgLvovpFcclxuICAgICAqIEBwYXJhbSBjb2xsZWN0cyDmjpLluo/nmoTpm4blkIhcclxuICAgICAqIEBwYXJhbSBzdGFydCDlvIDlp4vkvY3nva5cclxuICAgICAqIEBwYXJhbSBlbmQgICDnu5PmnZ/kvY3nva5cclxuICAgICAqIEBwYXJhbSBrZXkgICDlpoLmnpzmmK/lr7nosaHov5vooYzmjpLluo8g6ZyA6KaB55So5Yiw55qEa2V5IG9ialtrZXldIGlzIG51bWJlclxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc3RhdGljIHF1aWNrU29ydEhhbmRsZTxUPihjb2xsZWN0czogQXJyYXk8VD4sIHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyLCBrZXk/OiBzdHJpbmcsIGlzQmlnID0gdHJ1ZSk6IHZvaWQge1xyXG4gICAgICAgIGlmIChzdGFydCA+PSBlbmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGlzTmVlZEtleTogYm9vbGVhbiA9ICEha2V5Oy8v5piv5ZCm6ZyA6KaB5qC55o2ua2V5IOi/m+ihjOaOkuW6j1xyXG4gICAgICAgIGxldCBtaW5kZXg6IG51bWJlciA9IHN0YXJ0Oy8vTWF0aC5mbG9vciggKGVuZCAtIHN0YXJ0KS8yICk7Ly/lj5bnrKzkuIDkuKrlgLzmiJbogIXkuK3pl7TnmoTlgLxcclxuICAgICAgICBsZXQgbWlkVmFsdWUgPSBpc05lZWRLZXkgPyBjb2xsZWN0c1ttaW5kZXhdW2tleV0gOiBjb2xsZWN0c1ttaW5kZXhdO1xyXG4gICAgICAgIGxldCBtaWRPcmcgPSBjb2xsZWN0c1ttaW5kZXhdOy8v5Lit6Ze055qE5Y6f5aeL5YC8XHJcbiAgICAgICAgbGV0IGkgPSBzdGFydDtcclxuICAgICAgICBsZXQgaiA9IGVuZDtcclxuXHJcbiAgICAgICAgd2hpbGUgKGkgPCBqKSB7XHJcbiAgICAgICAgICAgIC8v5om+5Yiw5Y+z5L6n5q+U5Z+65YeG5YC85bCP55qEIOe0ouW8lSDlkIzml7bmmoLlgZzlj7PkvqfnmoTmn6Xor6LvvIzmiafooYzlt6bkvqfnmoTmn6Xor6LvvIzmib7liLDmr5Tln7rlh4blgLzlpKfmiorlvZPliY1q57Si5byV55qE5YC85pu/5o2i5o6J77yM6Ziy5q2i5pWw5YC86YeN5aSNXHJcbiAgICAgICAgICAgIGxldCBjdXJyVmFsdWUgPSBpc05lZWRLZXkgPyBjb2xsZWN0c1tqXVtrZXldIDogY29sbGVjdHNbal07XHJcbiAgICAgICAgICAgIGlmIChpc0JpZykge1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgaiAmJiBjdXJyVmFsdWUgPCBtaWRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGotLTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyVmFsdWUgPSBpc05lZWRLZXkgPyBjb2xsZWN0c1tqXVtrZXldIDogY29sbGVjdHNbal07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBqICYmIGN1cnJWYWx1ZSA+IG1pZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgai0tO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJWYWx1ZSA9IGlzTmVlZEtleSA/IGNvbGxlY3RzW2pdW2tleV0gOiBjb2xsZWN0c1tqXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy/miorlj7PkvqfnmoTlpKfnmoTlgLzotYvnu5nlt6bkvqdcclxuICAgICAgICAgICAgaWYgKGkgPCBqKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xsZWN0c1tpXSA9IGNvbGxlY3RzW2pdO1xyXG4gICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjdXJyVmFsdWUgPSBpc05lZWRLZXkgPyBjb2xsZWN0c1tpXVtrZXldIDogY29sbGVjdHNbaV07XHJcbiAgICAgICAgICAgIHdoaWxlIChpIDwgaiAmJiBjdXJyVmFsdWUgPCBtaWRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgY3VyclZhbHVlID0gaXNOZWVkS2V5ID8gY29sbGVjdHNbaV1ba2V5XSA6IGNvbGxlY3RzW2ldO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaSA8IGopIHtcclxuICAgICAgICAgICAgICAgIGNvbGxlY3RzW2pdID0gY29sbGVjdHNbaV07XHJcbiAgICAgICAgICAgICAgICBqLS07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbGxlY3RzW2ldID0gbWlkT3JnO1xyXG4gICAgICAgIFNvcnRVdGlscy5xdWlja1NvcnRIYW5kbGUoY29sbGVjdHMsIHN0YXJ0LCBpIC0gMSwga2V5KTtcclxuICAgICAgICBTb3J0VXRpbHMucXVpY2tTb3J0SGFuZGxlKGNvbGxlY3RzLCBpICsgMSwgZW5kLCBrZXkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDlv6vpgJ/mjpLluo9cclxuICAgICAqIEBwYXJhbSBjb2xsZWN0cyDpnIDopoHmjpLluo/nmoTpm4blkIhcclxuICAgICAqIEBwYXJhbSBrZXkg5aaC5p6c5piv5a+56LGh55qE6K+d77yM6ZyA6KaB5oyJ54Wna2V56L+b6KGMXHJcbiAgICAgKiBAcmV0dXJucyDov5Tlm57mjpLluo/lpb3nmoTpm4blkIhcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHF1aWNrU29ydE5vZGU8VD4oY29sbGVjdHM6IEFycmF5PFQ+LCBrZXk/OiBzdHJpbmcpOiBBcnJheTxUPiB7XHJcbiAgICAgICAgU29ydFV0aWxzLnF1aWNrU29ydEhhbmRsZShjb2xsZWN0cywgMCwgY29sbGVjdHMubGVuZ3RoIC0gMSwga2V5KTtcclxuICAgICAgICByZXR1cm4gY29sbGVjdHM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOW/q+mAn+aOkuW6j+eahOmAu+i+kVxyXG4gICAgICogQHBhcmFtIGNvbGxlY3RzIOaOkuW6j+eahOmbhuWQiFxyXG4gICAgICogQHBhcmFtIHN0YXJ0IOW8gOWni+S9jee9rlxyXG4gICAgICogQHBhcmFtIGVuZCAgIOe7k+adn+S9jee9rlxyXG4gICAgICogQHBhcmFtIGtleSAgIOWmguaenOaYr+Wvueixoei/m+ihjOaOkuW6jyDpnIDopoHnlKjliLDnmoRrZXkgb2JqW2tleV0gaXMgbnVtYmVyXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcXVpY2tTb3J0Tm9kZUhhbmRsZXI8VD4oY29sbGVjdHM6IEFycmF5PFQ+LCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlciwga2V5Pzogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHN0YXJ0ID49IGVuZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgaXNOZWVkS2V5OiBib29sZWFuID0gISFrZXk7Ly/mmK/lkKbpnIDopoHmoLnmja5rZXkg6L+b6KGM5o6S5bqPXHJcbiAgICAgICAgbGV0IG1pbmRleDogbnVtYmVyID0gc3RhcnQ7Ly9NYXRoLmZsb29yKCAoZW5kIC0gc3RhcnQpLzIgKTsvL+WPluesrOS4gOS4quWAvOaIluiAheS4remXtOeahOWAvFxyXG4gICAgICAgIGxldCBtaWRWYWx1ZSA9IGlzTmVlZEtleSA/IGNvbGxlY3RzW21pbmRleF1ba2V5XSA6IGNvbGxlY3RzW21pbmRleF07XHJcbiAgICAgICAgbGV0IG1pZE9yZyA9IGNvbGxlY3RzW21pbmRleF07Ly/kuK3pl7TnmoTljp/lp4vlgLxcclxuICAgICAgICBsZXQgaSA9IHN0YXJ0O1xyXG4gICAgICAgIGxldCBqID0gZW5kO1xyXG5cclxuICAgICAgICB3aGlsZSAoaSA8IGopIHtcclxuICAgICAgICAgICAgLy/mib7liLDlj7Pkvqfmr5Tln7rlh4blgLzlsI/nmoQg57Si5byVIOWQjOaXtuaaguWBnOWPs+S+p+eahOafpeivou+8jOaJp+ihjOW3puS+p+eahOafpeivou+8jOaJvuWIsOavlOWfuuWHhuWAvOWkp+aKiuW9k+WJjWrntKLlvJXnmoTlgLzmm7/mjaLmjonvvIzpmLLmraLmlbDlgLzph43lpI1cclxuICAgICAgICAgICAgbGV0IGN1cnJWYWx1ZSA9IGlzTmVlZEtleSA/IGNvbGxlY3RzW2pdW2tleV0gOiBjb2xsZWN0c1tqXTtcclxuICAgICAgICAgICAgd2hpbGUgKGkgPCBqICYmIGN1cnJWYWx1ZSA+IG1pZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBqLS07XHJcbiAgICAgICAgICAgICAgICBjdXJyVmFsdWUgPSBpc05lZWRLZXkgPyBjb2xsZWN0c1tqXVtrZXldIDogY29sbGVjdHNbal07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8v5oqK5Y+z5L6n55qE5aSn55qE5YC86LWL57uZ5bem5L6nXHJcbiAgICAgICAgICAgIGlmIChpIDwgaikge1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdHNbaV0gPSBjb2xsZWN0c1tqXTtcclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3VyclZhbHVlID0gaXNOZWVkS2V5ID8gY29sbGVjdHNbaV1ba2V5XSA6IGNvbGxlY3RzW2ldO1xyXG4gICAgICAgICAgICB3aGlsZSAoaSA8IGogJiYgY3VyclZhbHVlIDwgbWlkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIGN1cnJWYWx1ZSA9IGlzTmVlZEtleSA/IGNvbGxlY3RzW2ldW2tleV0gOiBjb2xsZWN0c1tpXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGkgPCBqKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xsZWN0c1tqXSA9IGNvbGxlY3RzW2ldO1xyXG4gICAgICAgICAgICAgICAgai0tO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBjb2xsZWN0c1tpXSA9IG1pZE9yZztcclxuICAgICAgICBTb3J0VXRpbHMucXVpY2tTb3J0SGFuZGxlKGNvbGxlY3RzLCBzdGFydCwgaSAtIDEsIGtleSk7XHJcbiAgICAgICAgU29ydFV0aWxzLnF1aWNrU29ydEhhbmRsZShjb2xsZWN0cywgaSArIDEsIGVuZCwga2V5KTtcclxuICAgIH1cclxuXHJcblxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/ui/effect/FadeBackUIEffect.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '57e67CJg3hIG5hT7vhXRknh', 'FadeBackUIEffect');
// src/framework/ui/effect/FadeBackUIEffect.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var BaseUIEffect_1 = require("../BaseUIEffect");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var FadeBackUIEffect = /** @class */ (function (_super) {
    __extends(FadeBackUIEffect, _super);
    function FadeBackUIEffect() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FadeBackUIEffect.prototype.run = function (node, time, isOpen, handler) {
        time = time || this.time;
        node.runAction(cc.sequence(cc.fadeOut(time), cc.callFunc(function () { if (!!handler) {
            handler.call(node);
        } })));
    };
    FadeBackUIEffect = __decorate([
        ccclass
    ], FadeBackUIEffect);
    return FadeBackUIEffect;
}(BaseUIEffect_1.default));
exports.default = FadeBackUIEffect;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3VpL2VmZmVjdC9GYWRlQmFja1VJRWZmZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGdEQUEyQztBQUVyQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUE4QyxvQ0FBWTtJQUExRDs7SUFPQSxDQUFDO0lBTEcsOEJBQUcsR0FBSCxVQUFJLElBQVksRUFBQyxJQUFXLEVBQUMsTUFBYyxFQUFDLE9BQWU7UUFFdkQsSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUUsY0FBTSxJQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUM7WUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQUUsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUM7SUFDOUcsQ0FBQztJQU5nQixnQkFBZ0I7UUFEcEMsT0FBTztPQUNhLGdCQUFnQixDQU9wQztJQUFELHVCQUFDO0NBUEQsQUFPQyxDQVA2QyxzQkFBWSxHQU96RDtrQkFQb0IsZ0JBQWdCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEhhbmRsZXIgZnJvbSBcIi4uLy4uL2Jhc2UvSGFuZGxlclwiO1xyXG5pbXBvcnQgQmFzZVVJRWZmZWN0IGZyb20gXCIuLi9CYXNlVUlFZmZlY3RcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmFkZUJhY2tVSUVmZmVjdCBleHRlbmRzIEJhc2VVSUVmZmVjdHtcclxuICAgIFxyXG4gICAgcnVuKG5vZGU6Y2MuTm9kZSx0aW1lOm51bWJlcixpc09wZW46Ym9vbGVhbixoYW5kbGVyOkhhbmRsZXIpXHJcbiAgICB7XHJcbiAgICAgICAgdGltZSA9IHRpbWUgfHwgdGhpcy50aW1lO1xyXG4gICAgICAgIG5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmZhZGVPdXQodGltZSksY2MuY2FsbEZ1bmMoICgpPT57IGlmKCEhaGFuZGxlcil7IGhhbmRsZXIuY2FsbChub2RlKTsgfSB9ICkpKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/ui/effect/TopBackUIEffect.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1c251I3Mj5G+qlPeX7akbDR', 'TopBackUIEffect');
// src/framework/ui/effect/TopBackUIEffect.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var BaseUIEffect_1 = require("../BaseUIEffect");
var TopBackUIEffect = /** @class */ (function (_super) {
    __extends(TopBackUIEffect, _super);
    function TopBackUIEffect() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TopBackUIEffect.prototype.run = function (node, time, isOpen, handler) {
        time = time || this.time;
        if (isOpen) {
            if (!!handler) {
                handler.call(node);
            }
        }
        else {
            var size_1 = cc.view.getVisibleSize();
            var action = cc.spawn(cc.fadeIn(time), cc.moveTo(time, 0, size_1.height).easing(cc.easeBackIn()));
            node.runAction(cc.sequence(action, cc.callFunc(function () { node.x = 0; node.y = size_1.height; if (!!handler) {
                handler.call(node);
            } })));
        }
    };
    return TopBackUIEffect;
}(BaseUIEffect_1.default));
exports.default = TopBackUIEffect;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL3VpL2VmZmVjdC9Ub3BCYWNrVUlFZmZlY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsZ0RBQTJDO0FBRTNDO0lBQTZDLG1DQUFZO0lBQXpEOztJQW9CQSxDQUFDO0lBbEJHLDZCQUFHLEdBQUgsVUFBSSxJQUFZLEVBQUMsSUFBVyxFQUFDLE1BQWMsRUFBQyxPQUFlO1FBRXZELElBQUksR0FBRyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQztRQUN6QixJQUFHLE1BQU0sRUFDVDtZQUNJLElBQUcsQ0FBQyxDQUFDLE9BQU8sRUFDWjtnQkFDSSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ3RCO1NBQ0o7YUFFRDtZQUNJLElBQUksTUFBSSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDcEMsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFDLENBQUMsRUFBQyxNQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDN0YsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBQyxFQUFFLENBQUMsUUFBUSxDQUFDLGNBQU0sSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQSxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUM7Z0JBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2xJO0lBRUwsQ0FBQztJQUNMLHNCQUFDO0FBQUQsQ0FwQkEsQUFvQkMsQ0FwQjRDLHNCQUFZLEdBb0J4RCIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBIYW5kbGVyIGZyb20gXCIuLi8uLi9iYXNlL0hhbmRsZXJcIjtcclxuaW1wb3J0IEJhc2VVSUVmZmVjdCBmcm9tIFwiLi4vQmFzZVVJRWZmZWN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb3BCYWNrVUlFZmZlY3QgZXh0ZW5kcyBCYXNlVUlFZmZlY3R7XHJcbiAgICBcclxuICAgIHJ1bihub2RlOmNjLk5vZGUsdGltZTpudW1iZXIsaXNPcGVuOmJvb2xlYW4saGFuZGxlcjpIYW5kbGVyKVxyXG4gICAge1xyXG4gICAgICAgIHRpbWUgPSB0aW1lIHx8IHRoaXMudGltZTtcclxuICAgICAgICBpZihpc09wZW4pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZighIWhhbmRsZXIpXHJcbiAgICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGwobm9kZSk7IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBzaXplID0gY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpO1xyXG4gICAgICAgICAgICBsZXQgYWN0aW9uID0gY2Muc3Bhd24oY2MuZmFkZUluKHRpbWUpLGNjLm1vdmVUbyh0aW1lLDAsc2l6ZS5oZWlnaHQpLmVhc2luZyhjYy5lYXNlQmFja0luKCkpKTtcclxuICAgICAgICAgICAgbm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoYWN0aW9uLGNjLmNhbGxGdW5jKCgpPT57IG5vZGUueCA9IDA7bm9kZS55ID0gc2l6ZS5oZWlnaHQ7IGlmKCEhaGFuZGxlcil7IGhhbmRsZXIuY2FsbChub2RlKTsgfSB9KSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/framework/loader/LoaderItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a782bOpltZFDqYDSXLBnYiA', 'LoaderItem');
// src/framework/loader/LoaderItem.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//需要加载的资源
var LoaderItem = /** @class */ (function () {
    function LoaderItem() {
        this.resources = {};
        this.isRelease = false;
        this.url = null;
        this.maxRetryTimes = 0; //最大重试次数
        this.isActive = true; //默认可以使用
        this.sameArr = null;
    }
    LoaderItem.prototype.load = function (url, type, handler) {
        var _this = this;
        this.url = url;
        cc.loader.loadRes(url, type, function (err, res) {
            if (err) {
                handler && handler.call(null);
                cc.error('资源加载失败--' + url);
                return;
            }
            !!handler && handler.call(res, url);
            if (!!_this.sameArr) {
                for (var i = 0; i < _this.sameArr.length; i++) {
                    _this.sameArr[i] && _this.sameArr[i].call(res, url);
                }
                _this.sameArr.length = 0;
            }
            _this._cacheRes(res);
        });
    };
    LoaderItem.prototype.addSame = function (handler) {
        if (!this.sameArr) {
            this.sameArr = [];
        }
        this.sameArr.push(handler);
    };
    //设置已存在的资源的key
    LoaderItem.prototype.setExsitRes = function (exsits) {
        for (var key in this.resources) {
            exsits[key] = true;
        }
    };
    /**
 * 缓存已使用资源
 * @param resource 缓存单个资源的所有使用资源
 */
    LoaderItem.prototype._cacheRes = function (resource) {
        var loader = cc.loader;
        this.cresource = resource; //存储当前资源，用于后期释放
        for (var _i = 0, _a = loader.getDependsRecursively(resource); _i < _a.length; _i++) {
            var key = _a[_i];
            // cc.log(key,this.resources[key]);
            this.resources[key] = true;
        }
    };
    //释放完成后重置加载器
    LoaderItem.prototype.reset = function () {
        this.isActive = true;
        this.url = null;
        for (var key in this.resources) {
            delete this.resources[key];
        }
        this.cresource = null;
        if (this.sameArr) {
            this.sameArr.length = 0;
        }
    };
    LoaderItem.prototype.release = function (exsits) {
        for (var key in this.resources) {
            if (key in exsits) {
                continue;
            }
            else {
                cc.loader.release(key);
            }
        }
        if (!!this.cresource) {
            cc.loader.release(this.cresource);
        }
        this.reset();
    };
    return LoaderItem;
}());
exports.default = LoaderItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZnJhbWV3b3JrL2xvYWRlci9Mb2FkZXJJdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsU0FBUztBQUNUO0lBQUE7UUFFSSxjQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ2YsY0FBUyxHQUFHLEtBQUssQ0FBQztRQUNsQixRQUFHLEdBQVUsSUFBSSxDQUFDO1FBQ2xCLGtCQUFhLEdBQVUsQ0FBQyxDQUFDLENBQUUsUUFBUTtRQUNuQyxhQUFRLEdBQVcsSUFBSSxDQUFDLENBQUksUUFBUTtRQUNwQyxZQUFPLEdBQWtCLElBQUksQ0FBQztJQTZFbEMsQ0FBQztJQTFFRyx5QkFBSSxHQUFKLFVBQUssR0FBRyxFQUFDLElBQUksRUFBQyxPQUFPO1FBQXJCLGlCQWlCQztRQWhCRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNmLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBQyxJQUFJLEVBQUMsVUFBQyxHQUFHLEVBQUMsR0FBRztZQUMvQixJQUFJLEdBQUcsRUFBRTtnQkFDTCxPQUFPLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDOUIsRUFBRSxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLENBQUM7Z0JBQzNCLE9BQU87YUFDVjtZQUNELENBQUMsQ0FBQyxPQUFPLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUMsR0FBRyxDQUFDLENBQUM7WUFDbkMsSUFBSSxDQUFDLENBQUMsS0FBSSxDQUFDLE9BQU8sRUFBRTtnQkFDaEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUMxQyxLQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBQyxHQUFHLENBQUMsQ0FBQztpQkFDcEQ7Z0JBQ0QsS0FBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO2FBQzNCO1lBQ0QsS0FBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCw0QkFBTyxHQUFQLFVBQVEsT0FBTztRQUNYLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2YsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7U0FDckI7UUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBRUQsY0FBYztJQUNkLGdDQUFXLEdBQVgsVUFBWSxNQUFNO1FBQ2QsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQzVCLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7U0FDdEI7SUFDTCxDQUFDO0lBRUc7OztHQUdEO0lBQ0gsOEJBQVMsR0FBVCxVQUFVLFFBQVE7UUFDZCxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDLENBQUEsZUFBZTtRQUN6QyxLQUFnQixVQUFzQyxFQUF0QyxLQUFBLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsRUFBdEMsY0FBc0MsRUFBdEMsSUFBc0MsRUFBRTtZQUFuRCxJQUFJLEdBQUcsU0FBQTtZQUNSLG1DQUFtQztZQUNuQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQztTQUM5QjtJQUVMLENBQUM7SUFFRCxZQUFZO0lBQ1osMEJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDO1FBQ2hCLEtBQUssSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUM1QixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDOUI7UUFDRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUN0QixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDZCxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7U0FDM0I7SUFDTCxDQUFDO0lBRUQsNEJBQU8sR0FBUCxVQUFRLE1BQU07UUFDVixLQUFLLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDNUIsSUFBSyxHQUFHLElBQUksTUFBTSxFQUFFO2dCQUNoQixTQUFTO2FBQ1o7aUJBQU07Z0JBQ0gsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDMUI7U0FDSjtRQUNELElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDbEIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ3JDO1FBQ0QsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFFTCxpQkFBQztBQUFELENBcEZBLEFBb0ZDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSGFuZGxlciBmcm9tIFwiLi4vYmFzZS9IYW5kbGVyXCI7XHJcblxyXG4vL+mcgOimgeWKoOi9veeahOi1hOa6kFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkZXJJdGVtXHJcbntcclxuICAgIHJlc291cmNlcyA9IHt9O1xyXG4gICAgaXNSZWxlYXNlID0gZmFsc2U7XHJcbiAgICB1cmw6c3RyaW5nID0gbnVsbDtcclxuICAgIG1heFJldHJ5VGltZXM6bnVtYmVyID0gMDsgIC8v5pyA5aSn6YeN6K+V5qyh5pWwXHJcbiAgICBpc0FjdGl2ZTpib29sZWFuID0gdHJ1ZTsgICAgLy/pu5jorqTlj6/ku6Xkvb/nlKhcclxuICAgIHNhbWVBcnI6QXJyYXk8SGFuZGxlcj4gPSBudWxsO1xyXG4gICAgY3Jlc291cmNlOmNjLkFzc2V0O1xyXG5cclxuICAgIGxvYWQodXJsLHR5cGUsaGFuZGxlcil7XHJcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XHJcbiAgICAgICAgY2MubG9hZGVyLmxvYWRSZXModXJsLHR5cGUsKGVycixyZXMpPT57XHJcbiAgICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXIgJiYgaGFuZGxlci5jYWxsKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgY2MuZXJyb3IoJ+i1hOa6kOWKoOi9veWksei0pS0tJyArIHVybCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgISFoYW5kbGVyICYmIGhhbmRsZXIuY2FsbChyZXMsdXJsKTtcclxuICAgICAgICAgICAgaWYgKCEhdGhpcy5zYW1lQXJyKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2FtZUFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2FtZUFycltpXSAmJiB0aGlzLnNhbWVBcnJbaV0uY2FsbChyZXMsdXJsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2FtZUFyci5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlUmVzKHJlcyk7XHJcbiAgICAgICAgfSk7IFxyXG4gICAgfVxyXG5cclxuICAgIGFkZFNhbWUoaGFuZGxlcil7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNhbWVBcnIpIHtcclxuICAgICAgICAgICAgdGhpcy5zYW1lQXJyID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2FtZUFyci5wdXNoKGhhbmRsZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v6K6+572u5bey5a2Y5Zyo55qE6LWE5rqQ55qEa2V5XHJcbiAgICBzZXRFeHNpdFJlcyhleHNpdHMpe1xyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLnJlc291cmNlcykge1xyXG4gICAgICAgICAgICBleHNpdHNba2V5XSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAgICAgLyoqXHJcbiAgICAgKiDnvJPlrZjlt7Lkvb/nlKjotYTmupBcclxuICAgICAqIEBwYXJhbSByZXNvdXJjZSDnvJPlrZjljZXkuKrotYTmupDnmoTmiYDmnInkvb/nlKjotYTmupBcclxuICAgICAqL1xyXG4gICAgX2NhY2hlUmVzKHJlc291cmNlKSB7XHJcbiAgICAgICAgbGV0IGxvYWRlciA9IGNjLmxvYWRlcjtcclxuICAgICAgICB0aGlzLmNyZXNvdXJjZSA9IHJlc291cmNlOy8v5a2Y5YKo5b2T5YmN6LWE5rqQ77yM55So5LqO5ZCO5pyf6YeK5pS+XHJcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIGxvYWRlci5nZXREZXBlbmRzUmVjdXJzaXZlbHkocmVzb3VyY2UpKSB7XHJcbiAgICAgICAgICAgIC8vIGNjLmxvZyhrZXksdGhpcy5yZXNvdXJjZXNba2V5XSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzW2tleV0gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAvL+mHiuaUvuWujOaIkOWQjumHjee9ruWKoOi9veWZqFxyXG4gICAgcmVzZXQoKXtcclxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnVybCA9IG51bGw7XHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMucmVzb3VyY2VzKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlc291cmNlc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNyZXNvdXJjZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMuc2FtZUFycikge1xyXG4gICAgICAgICAgICB0aGlzLnNhbWVBcnIubGVuZ3RoID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVsZWFzZShleHNpdHMpe1xyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLnJlc291cmNlcykge1xyXG4gICAgICAgICAgICBpZiAoIGtleSBpbiBleHNpdHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2MubG9hZGVyLnJlbGVhc2Uoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISF0aGlzLmNyZXNvdXJjZSkge1xyXG4gICAgICAgICAgICBjYy5sb2FkZXIucmVsZWFzZSh0aGlzLmNyZXNvdXJjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/Barrage/BarrageLayer.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c0812Q9NF9HepddxndFa2jO', 'BarrageLayer');
// src/game/Barrage/BarrageLayer.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIMananger_1 = require("../../framework/manager/UIMananger");
var MkUtils_1 = require("../../framework/tools/MkUtils");
var BarragePrefab_1 = require("./BarragePrefab");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BarrageLayer = /** @class */ (function (_super) {
    __extends(BarrageLayer, _super);
    function BarrageLayer() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.barrageNode = null;
        _this._barrageIndex = 0;
        _this._actionNum = 0;
        return _this;
    }
    BarrageLayer.prototype.start = function () {
        //一秒之后
        this.scheduleOnce(this.initBarrage.bind(this), 1);
    };
    BarrageLayer.prototype.initBarrage = function () {
        var _this = this;
        var barrageNode = UIMananger_1.default.barragePool.get();
        if (!barrageNode) {
            barrageNode = cc.instantiate(this.barrageNode);
        }
        barrageNode.getComponent(BarragePrefab_1.default).setData();
        cc.director.getScene().addChild(barrageNode);
        var y1 = this._barrageIndex == 0 ? cc.winSize.height - 500 : cc.winSize.height - 700;
        var p = cc.v2(1330, y1);
        barrageNode.setPosition(p);
        barrageNode.runAction(cc.sequence(cc.moveTo(10, 0, barrageNode.y), cc.moveTo(5, -690, barrageNode.y), cc.callFunc(function () {
            UIMananger_1.default.barragePool.put(barrageNode);
            if (_this._actionNum == 0) {
                _this._actionNum++;
                return;
            }
            if (_this._barrageIndex == 2) {
                var delayTime = MkUtils_1.default.randomNM(3, 8);
                _this.scheduleOnce(function () {
                    _this._barrageIndex = 0;
                    _this._actionNum = 0;
                    _this.initBarrage();
                }, delayTime);
            }
        })));
        if (this._barrageIndex == 0) {
            var time = MkUtils_1.default.randomNM(2, 20);
            this.scheduleOnce(function () {
                _this.initBarrage();
            }, time);
        }
        this._barrageIndex++;
    };
    __decorate([
        property(cc.Prefab)
    ], BarrageLayer.prototype, "barrageNode", void 0);
    BarrageLayer = __decorate([
        ccclass
    ], BarrageLayer);
    return BarrageLayer;
}(cc.Component));
exports.default = BarrageLayer;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9CYXJyYWdlL0JhcnJhZ2VMYXllci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpRUFBNEQ7QUFDNUQseURBQW9EO0FBQ3BELGlEQUE0QztBQUV0QyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUEwQyxnQ0FBWTtJQUF0RDtRQUFBLHFFQTRDQztRQTFDRyxpQkFBVyxHQUFlLElBQUksQ0FBQztRQUUvQixtQkFBYSxHQUFZLENBQUMsQ0FBQztRQUMzQixnQkFBVSxHQUFZLENBQUMsQ0FBQzs7SUF1QzVCLENBQUM7SUF0Q0csNEJBQUssR0FBTDtRQUNJLE1BQU07UUFDTixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFDRCxrQ0FBVyxHQUFYO1FBQUEsaUJBaUNDO1FBaENHLElBQUksV0FBVyxHQUFHLG9CQUFVLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQy9DLElBQUcsQ0FBQyxXQUFXLEVBQUM7WUFDWixXQUFXLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDbEQ7UUFDRCxXQUFXLENBQUMsWUFBWSxDQUFDLHVCQUFhLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNsRCxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUU3QyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsYUFBYSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7UUFDckYsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUMsRUFBRSxDQUFDLENBQUM7UUFDdkIsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQixXQUFXLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQztZQUM5RyxvQkFBVSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDeEMsSUFBSSxLQUFJLENBQUMsVUFBVSxJQUFJLENBQUMsRUFBRTtnQkFDdEIsS0FBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO2dCQUNsQixPQUFPO2FBQ1Y7WUFDRCxJQUFJLEtBQUksQ0FBQyxhQUFhLElBQUksQ0FBQyxFQUFFO2dCQUN6QixJQUFJLFNBQVMsR0FBRyxpQkFBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZDLEtBQUksQ0FBQyxZQUFZLENBQUM7b0JBQ2QsS0FBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUM7b0JBQ3ZCLEtBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO29CQUNwQixLQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBQ3ZCLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQTthQUNoQjtRQUNMLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNKLElBQUksSUFBSSxDQUFDLGFBQWEsSUFBSSxDQUFDLEVBQUU7WUFDekIsSUFBSSxJQUFJLEdBQUcsaUJBQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ25DLElBQUksQ0FBQyxZQUFZLENBQUM7Z0JBQ2QsS0FBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3ZCLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQTtTQUNYO1FBQ0QsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUF6Q0Q7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztxREFDVztJQUZkLFlBQVk7UUFEaEMsT0FBTztPQUNhLFlBQVksQ0E0Q2hDO0lBQUQsbUJBQUM7Q0E1Q0QsQUE0Q0MsQ0E1Q3lDLEVBQUUsQ0FBQyxTQUFTLEdBNENyRDtrQkE1Q29CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlNYW5hbmdlciBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL21hbmFnZXIvVUlNYW5hbmdlclwiO1xyXG5pbXBvcnQgTUtVdGlscyBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL3Rvb2xzL01rVXRpbHNcIjtcclxuaW1wb3J0IEJhcnJhZ2VQcmVmYWIgZnJvbSBcIi4vQmFycmFnZVByZWZhYlwiO1xyXG5cclxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXJyYWdlTGF5ZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcclxuICAgIGJhcnJhZ2VOb2RlIDogY2MuUHJlZmFiID0gbnVsbDtcclxuXHJcbiAgICBfYmFycmFnZUluZGV4IDogbnVtYmVyID0gMDtcclxuICAgIF9hY3Rpb25OdW0gOiBudW1iZXIgPSAwO1xyXG4gICAgc3RhcnQoKXtcclxuICAgICAgICAvL+S4gOenkuS5i+WQjlxyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuaW5pdEJhcnJhZ2UuYmluZCh0aGlzKSwxKTtcclxuICAgIH1cclxuICAgIGluaXRCYXJyYWdlKCl7XHJcbiAgICAgICAgbGV0IGJhcnJhZ2VOb2RlID0gVUlNYW5hbmdlci5iYXJyYWdlUG9vbC5nZXQoKTtcclxuICAgICAgICBpZighYmFycmFnZU5vZGUpe1xyXG4gICAgICAgICAgICBiYXJyYWdlTm9kZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuYmFycmFnZU5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBiYXJyYWdlTm9kZS5nZXRDb21wb25lbnQoQmFycmFnZVByZWZhYikuc2V0RGF0YSgpO1xyXG4gICAgICAgIGNjLmRpcmVjdG9yLmdldFNjZW5lKCkuYWRkQ2hpbGQoYmFycmFnZU5vZGUpO1xyXG5cclxuICAgICAgICBsZXQgeTEgPSB0aGlzLl9iYXJyYWdlSW5kZXggPT0gMCA/IGNjLndpblNpemUuaGVpZ2h0IC0gNTAwIDogY2Mud2luU2l6ZS5oZWlnaHQgLSA3MDA7XHJcbiAgICAgICAgbGV0IHAgPSBjYy52MigxMzMwLHkxKTtcclxuICAgICAgICBiYXJyYWdlTm9kZS5zZXRQb3NpdGlvbihwKTtcclxuICAgICAgICBiYXJyYWdlTm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MubW92ZVRvKDEwLCAwLCBiYXJyYWdlTm9kZS55KSwgY2MubW92ZVRvKDUsIC02OTAsIGJhcnJhZ2VOb2RlLnkpLCBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgIFVJTWFuYW5nZXIuYmFycmFnZVBvb2wucHV0KGJhcnJhZ2VOb2RlKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGlvbk51bSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hY3Rpb25OdW0rKztcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fYmFycmFnZUluZGV4ID09IDIpIHtcclxuICAgICAgICAgICAgICAgIGxldCBkZWxheVRpbWUgPSBNS1V0aWxzLnJhbmRvbU5NKDMsIDgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JhcnJhZ2VJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aW9uTnVtID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRCYXJyYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9LCBkZWxheVRpbWUpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSkpXHJcbiAgICAgICAgaWYgKHRoaXMuX2JhcnJhZ2VJbmRleCA9PSAwKSB7XHJcbiAgICAgICAgICAgIGxldCB0aW1lID0gTUtVdGlscy5yYW5kb21OTSgyLCAyMCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJhcnJhZ2UoKTtcclxuICAgICAgICAgICAgfSwgdGltZSlcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fYmFycmFnZUluZGV4Kys7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/consts/CConst.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9cfbaHbFiBO04inJ7AaMuwi', 'CConst');
// src/game/consts/CConst.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CURRENCY_FLY_COUNT = exports.CURRENCY = exports.propType = exports.fieldType = void 0;
var fieldType;
(function (fieldType) {
    fieldType[fieldType["ONE"] = 11] = "ONE";
    fieldType[fieldType["TWO"] = 12] = "TWO";
    fieldType[fieldType["THREE"] = 13] = "THREE";
    fieldType[fieldType["FOUR"] = 14] = "FOUR";
    fieldType[fieldType["FIVE"] = 15] = "FIVE";
    fieldType[fieldType["SIX"] = 16] = "SIX";
})(fieldType = exports.fieldType || (exports.fieldType = {}));
var propType;
(function (propType) {
    propType[propType["cashier"] = 31] = "cashier";
    propType[propType["pipe"] = 32] = "pipe";
    propType[propType["wall"] = 33] = "wall";
    propType[propType["road"] = 34] = "road";
    propType[propType["scarecrow"] = 35] = "scarecrow";
    propType[propType["warehouse"] = 36] = "warehouse";
    propType[propType["fence"] = 37] = "fence";
})(propType = exports.propType || (exports.propType = {}));
// 货币类型
var CURRENCY;
(function (CURRENCY) {
    CURRENCY[CURRENCY["MONEY"] = 1] = "MONEY";
    CURRENCY[CURRENCY["GOLD"] = 2] = "GOLD";
    CURRENCY[CURRENCY["HAPPY"] = 3] = "HAPPY";
})(CURRENCY = exports.CURRENCY || (exports.CURRENCY = {}));
// 货币飞效果的数量
var CURRENCY_FLY_COUNT;
(function (CURRENCY_FLY_COUNT) {
    CURRENCY_FLY_COUNT[CURRENCY_FLY_COUNT["DEFAULT"] = 10] = "DEFAULT";
    CURRENCY_FLY_COUNT[CURRENCY_FLY_COUNT["DOUBLE"] = 20] = "DOUBLE";
})(CURRENCY_FLY_COUNT = exports.CURRENCY_FLY_COUNT || (exports.CURRENCY_FLY_COUNT = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9jb25zdHMvQ0NvbnN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTRDQSxJQUFZLFNBT1g7QUFQRCxXQUFZLFNBQVM7SUFDakIsd0NBQVEsQ0FBQTtJQUNSLHdDQUFRLENBQUE7SUFDUiw0Q0FBVSxDQUFBO0lBQ1YsMENBQVMsQ0FBQTtJQUNULDBDQUFTLENBQUE7SUFDVCx3Q0FBUSxDQUFBO0FBQ1osQ0FBQyxFQVBXLFNBQVMsR0FBVCxpQkFBUyxLQUFULGlCQUFTLFFBT3BCO0FBQ0QsSUFBWSxRQVFYO0FBUkQsV0FBWSxRQUFRO0lBQ2hCLDhDQUFZLENBQUE7SUFDWix3Q0FBSSxDQUFBO0lBQ0osd0NBQUksQ0FBQTtJQUNKLHdDQUFJLENBQUE7SUFDSixrREFBUyxDQUFBO0lBQ1Qsa0RBQVMsQ0FBQTtJQUNULDBDQUFLLENBQUE7QUFDVCxDQUFDLEVBUlcsUUFBUSxHQUFSLGdCQUFRLEtBQVIsZ0JBQVEsUUFRbkI7QUFzQkQsT0FBTztBQUNQLElBQVksUUFJWDtBQUpELFdBQVksUUFBUTtJQUNoQix5Q0FBUyxDQUFBO0lBQ1QsdUNBQVEsQ0FBQTtJQUNSLHlDQUFTLENBQUE7QUFDYixDQUFDLEVBSlcsUUFBUSxHQUFSLGdCQUFRLEtBQVIsZ0JBQVEsUUFJbkI7QUFDRCxXQUFXO0FBQ1gsSUFBWSxrQkFHWDtBQUhELFdBQVksa0JBQWtCO0lBQzFCLGtFQUFZLENBQUE7SUFDWixnRUFBVyxDQUFBO0FBQ2YsQ0FBQyxFQUhXLGtCQUFrQixHQUFsQiwwQkFBa0IsS0FBbEIsMEJBQWtCLFFBRzdCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy/orqLljZXnu5PmnoRcclxuZXhwb3J0IGludGVyZmFjZSBvcmRlcl9jb25maWcge1xyXG4gICAgaWQ6IG51bWJlcixcclxuICAgIHF1YWxpdHk6IG51bWJlcixcclxuICAgIGNyb3AxOiBudW1iZXIsXHJcbiAgICBudW0xOiBudW1iZXIsXHJcbiAgICBjcm9wMjogbnVtYmVyLFxyXG4gICAgbnVtMjogbnVtYmVyLFxyXG4gICAgY3JvcDM6IG51bWJlcixcclxuICAgIG51bTM6IG51bWJlcixcclxuICAgIGNyb3A0OiBudW1iZXIsXHJcbiAgICBudW00OiBudW1iZXIsXHJcbn1cclxuLy/orqLljZXmnYPph41cclxuZXhwb3J0IGludGVyZmFjZSBvcmRlcl93ZWlnaHRfY29uZmlnIHtcclxuICAgIGxpbWl0OiBudW1iZXIsXHJcbiAgICBsdjE6IG51bWJlcixcclxuICAgIGx2MjogbnVtYmVyLFxyXG4gICAgbHYzOiBudW1iZXIsXHJcbiAgICBsdjQ6IG51bWJlcixcclxuICAgIGx2NTogbnVtYmVyLFxyXG4gICAgbHY2OiBudW1iZXIsXHJcbn1cclxuXHJcblxyXG5cclxuLy/kvZznialcclxuZXhwb3J0IGludGVyZmFjZSBjcm9wX2NvbmZpZyB7XHJcbiAgICBpZDogbnVtYmVyLFxyXG4gICAgbmFtZTogc3RyaW5nLC8v5L2c54mp5ZCN56ewXHJcbiAgICB1bmxvY2s6IG51bWJlciwvL+WIneWni+ino+mUgeeKtuaAgVxyXG4gICAgZGVzYzogc3RyaW5nLFxyXG4gICAgdmFsdWUxOiBudW1iZXIsXHJcbiAgICB2YWx1ZTI6IG51bWJlcixcclxuICAgIHZhbHVlMzogbnVtYmVyLFxyXG4gICAgdmFsdWU0OiBudW1iZXIsXHJcbiAgICB2YWx1ZTU6IG51bWJlcixcclxuICAgIHZhbHVlNjogbnVtYmVyLFxyXG4gICAgdmFsdWU3OiBudW1iZXIsXHJcbiAgICB2YWx1ZTg6IG51bWJlcixcclxuICAgIHZhbHVlOTogbnVtYmVyLFxyXG4gICAgdmFsdWUxMDogbnVtYmVyLFxyXG4gICAgdmFsdWUxMTogbnVtYmVyLFxyXG59XHJcbmV4cG9ydCBlbnVtIGZpZWxkVHlwZSB7XHJcbiAgICBPTkUgPSAxMSxcclxuICAgIFRXTyA9IDEyLFxyXG4gICAgVEhSRUUgPSAxMyxcclxuICAgIEZPVVIgPSAxNCxcclxuICAgIEZJVkUgPSAxNSxcclxuICAgIFNJWCA9IDE2XHJcbn1cclxuZXhwb3J0IGVudW0gcHJvcFR5cGUge1xyXG4gICAgY2FzaGllciA9IDMxLCAgLy8g5pS26ZO25Y+wXHJcbiAgICBwaXBlLCAgICAgICAvLyDmsLTnrqFcclxuICAgIHdhbGwsICAgICAgIC8vIOWbtOWimVxyXG4gICAgcm9hZCwgICAgICAgLy8g6KGX6YGTXHJcbiAgICBzY2FyZWNyb3csICAgLy8g56i76I2J5Lq6XHJcbiAgICB3YXJlaG91c2UsICAvLyDku5PlupNcclxuICAgIGZlbmNlLCAgICAgIC8vIOagheagj1xyXG59XHJcblxyXG4vL+iPnOWcsFxyXG5leHBvcnQgaW50ZXJmYWNlIGxldmVsVXBfY29uZmlnIHtcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICBuYW1lOiBzdHJpbmcsXHJcbiAgICB0eXBlOiBudW1iZXIsXHJcbiAgICB1bmxvY2tfc3RhdGU6IG51bWJlciwvL+m7mOiupOino+mUgeeKtuaAgTHlt7Lop6PplIFcclxuICAgIG1vbmV5OiBudW1iZXIvL+WNh+e6p+a2iOiAl+mSnuelqFxyXG4gICAgdmlkZW9fbnVtOiBudW1iZXIsLy/ljYfnuqfmiYDpnIDop4bpopHmlbDph49cclxuICAgIHJld2FyZDogbnVtYmVyLC8v5aWW5Yqx5bm456aP5oyH5pWwXHJcbiAgICBhZGRfdHlwZTogbnVtYmVyLC8v5Yqg5oiQ57G75Z6LXHJcbiAgICBhZGRfbnVtOiBudW1iZXIsLy/liqDmiJDlj4LmlbBcclxuICAgIGFkZF9kZXNjOiBzdHJpbmcsLy/mlofmnKwoLTEu5peg54m55q6K5aWW5Yqx77yM5LiN5pi+56S6KVxyXG59XHJcbi8v562J57qnXHJcbmV4cG9ydCBpbnRlcmZhY2UgbGV2ZWxfY29uZmlnIHtcclxuICAgIGxldmVsOiBudW1iZXIsXHJcbiAgICBzZHpsOiBudW1iZXIsLy/miYvliqjmi5vmj7145qyh5ZCO5Y+Y5Li66Ieq5YqoXHJcbiAgICBna3M6IG51bWJlciwvL+WbnummiOe6ouWMheaLm+aPvemhvuWuouaVsOmHj1xyXG59XHJcblxyXG4vLyDotKfluIHnsbvlnotcclxuZXhwb3J0IGVudW0gQ1VSUkVOQ1kge1xyXG4gICAgTU9ORVkgPSAxLCAgLy8g57qi5YyFXHJcbiAgICBHT0xEID0gMiwgICAvLyDph5HluIFcclxuICAgIEhBUFBZID0gMywgIC8vIOW5uOemj+aMh+aVsFxyXG59XHJcbi8vIOi0p+W4gemjnuaViOaenOeahOaVsOmHj1xyXG5leHBvcnQgZW51bSBDVVJSRU5DWV9GTFlfQ09VTlQge1xyXG4gICAgREVGQVVMVCA9IDEwLCAgIC8vIOW4uOinhOihqOeOsFxyXG4gICAgRE9VQkxFID0gMjAsICAgIC8vIOinhumikeW5v+WRiuetiemineWklui+vuaIkOaUtuebilxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/src/game/com/RoleController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7d402M3wOBIupSBVFIF2td0', 'RoleController');
// src/game/com/RoleController.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SortUtils_1 = require("../../framework/tools/SortUtils");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var RoleController = /** @class */ (function (_super) {
    __extends(RoleController, _super);
    function RoleController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        // onLoad () {}
        _this.isShort = 0;
        _this.toatl = 0;
        return _this;
    }
    RoleController.prototype.start = function () {
    };
    RoleController.prototype.update = function (dt) { };
    RoleController.prototype.lateUpdate = function (dt) {
        this.isShort++;
        if (this.isShort >= 10) {
            var arr = this.node.children;
            // SortUtils.quickSort(arr, "y");
            SortUtils_1.default.bubbleSort(arr, "y");
            this.isShort = 0;
            var len = arr.length;
            for (var i = 0; i < len; i++) {
                arr[i].zIndex = i;
            }
        }
    };
    RoleController = __decorate([
        ccclass
    ], RoleController);
    return RoleController;
}(cc.Component));
exports.default = RoleController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcmMvZ2FtZS9jb20vUm9sZUNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3RUFBd0U7QUFDeEUsbUJBQW1CO0FBQ25CLGtGQUFrRjtBQUNsRiw4QkFBOEI7QUFDOUIsa0ZBQWtGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbEYsNkRBQXdEO0FBRWxELElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQTRDLGtDQUFZO0lBQXhEO1FBQUEscUVBK0JDO1FBNUJHLGVBQWU7UUFDZixhQUFPLEdBQUcsQ0FBQyxDQUFDO1FBQ1osV0FBSyxHQUFHLENBQUMsQ0FBQzs7SUEwQmQsQ0FBQztJQXpCRyw4QkFBSyxHQUFMO0lBR0EsQ0FBQztJQUVELCtCQUFNLEdBQU4sVUFBTyxFQUFFLElBQUksQ0FBQztJQUVKLG1DQUFVLEdBQXBCLFVBQXFCLEVBQVU7UUFFM0IsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBR2YsSUFBSSxJQUFJLENBQUMsT0FBTyxJQUFJLEVBQUUsRUFBRTtZQUNwQixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUM3QixpQ0FBaUM7WUFDakMsbUJBQVMsQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBRS9CLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO1lBRWpCLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDckIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDMUIsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7YUFDckI7U0FDSjtJQUNMLENBQUM7SUE5QmdCLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0ErQmxDO0lBQUQscUJBQUM7Q0EvQkQsQUErQkMsQ0EvQjJDLEVBQUUsQ0FBQyxTQUFTLEdBK0J2RDtrQkEvQm9CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBUeXBlU2NyaXB0OlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcblxyXG5pbXBvcnQgU29ydFV0aWxzIGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvdG9vbHMvU29ydFV0aWxzXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm9sZUNvbnRyb2xsZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuXHJcbiAgICAvLyBvbkxvYWQgKCkge31cclxuICAgIGlzU2hvcnQgPSAwO1xyXG4gICAgdG9hdGwgPSAwO1xyXG4gICAgc3RhcnQoKSB7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZHQpIHsgfVxyXG5cclxuICAgIHByb3RlY3RlZCBsYXRlVXBkYXRlKGR0OiBudW1iZXIpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgdGhpcy5pc1Nob3J0Kys7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLmlzU2hvcnQgPj0gMTApIHtcclxuICAgICAgICAgICAgbGV0IGFyciA9IHRoaXMubm9kZS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgLy8gU29ydFV0aWxzLnF1aWNrU29ydChhcnIsIFwieVwiKTtcclxuICAgICAgICAgICAgU29ydFV0aWxzLmJ1YmJsZVNvcnQoYXJyLCBcInlcIik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzU2hvcnQgPSAwO1xyXG5cclxuICAgICAgICAgICAgbGV0IGxlbiA9IGFyci5sZW5ndGg7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGFycltpXS56SW5kZXggPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------
